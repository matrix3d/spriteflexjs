var aa=' out of bounds [0, ..., 3]',ba='Box2D.Collision.ClipVertex',ca='Box2D.Collision.Features',da='Box2D.Collision.IBroadPhase',ea='Box2D.Collision.Shapes.b2CircleShape',fa='Box2D.Collision.Shapes.b2MassData',ga='Box2D.Collision.Shapes.b2PolygonShape',ha='Box2D.Collision.Shapes.b2Shape',ia='Box2D.Collision.Shapes.b2ShapeUtil',ja='Box2D.Collision.b2AABB',ka='Box2D.Collision.b2Collision',la='Box2D.Collision.b2ContactID',ma='Box2D.Collision.b2ContactPoint',na='Box2D.Collision.b2Distance',oa='Box2D.Collision.b2DistanceInput',
pa='Box2D.Collision.b2DistanceOutput',qa='Box2D.Collision.b2DistanceProxy',ra='Box2D.Collision.b2DynamicTree',ta='Box2D.Collision.b2DynamicTreeBroadPhase',ua='Box2D.Collision.b2DynamicTreeNode',wa='Box2D.Collision.b2DynamicTreePair',xa='Box2D.Collision.b2Manifold',ya='Box2D.Collision.b2ManifoldPoint',Aa='Box2D.Collision.b2RayCastInput',Ca='Box2D.Collision.b2RayCastOutput',Da='Box2D.Collision.b2SeparationFunction',Ea='Box2D.Collision.b2Simplex',Fa='Box2D.Collision.b2SimplexCache',Ga='Box2D.Collision.b2SimplexVertex',
Ia='Box2D.Collision.b2TOIInput',Ja='Box2D.Collision.b2TimeOfImpact',La='Box2D.Collision.b2WorldManifold',Ma='Box2D.Common.Math.b2Mat22',Na='Box2D.Common.Math.b2Mat33',Oa='Box2D.Common.Math.b2Math',Pa='Box2D.Common.Math.b2Sweep',Qa='Box2D.Common.Math.b2Transform',Ra='Box2D.Common.Math.b2Vec2',Sa='Box2D.Common.Math.b2Vec3',Ta='Box2D.Common.b2Color',Ua='Box2D.Common.b2Settings',Wa='Box2D.Dynamics.Contacts.b2CircleContact',Xa='Box2D.Dynamics.Contacts.b2Contact',Ya='Box2D.Dynamics.Contacts.b2ContactConstraint',
ab='Box2D.Dynamics.Contacts.b2ContactConstraintPoint',bb='Box2D.Dynamics.Contacts.b2ContactEdge',cb='Box2D.Dynamics.Contacts.b2ContactFactory',db='Box2D.Dynamics.Contacts.b2ContactRegister',eb='Box2D.Dynamics.Contacts.b2ContactSolver',fb='Box2D.Dynamics.Contacts.b2EdgeAndCircleContact',gb='Box2D.Dynamics.Contacts.b2PolyAndCircleContact',hb='Box2D.Dynamics.Contacts.b2PolyAndEdgeContact',ib='Box2D.Dynamics.Contacts.b2PolygonContact',jb='Box2D.Dynamics.Contacts.b2PositionSolverManifold',kb='Box2D.Dynamics.Controllers.b2BuoyancyController',
lb='Box2D.Dynamics.Controllers.b2Controller',mb='Box2D.Dynamics.Controllers.b2ControllerEdge',nb='Box2D.Dynamics.Joints.b2DistanceJoint',ob='Box2D.Dynamics.Joints.b2DistanceJointDef',pb='Box2D.Dynamics.Joints.b2FrictionJoint',qb='Box2D.Dynamics.Joints.b2FrictionJointDef',rb='Box2D.Dynamics.Joints.b2GearJoint',sb='Box2D.Dynamics.Joints.b2GearJointDef',tb='Box2D.Dynamics.Joints.b2Jacobian',vb='Box2D.Dynamics.Joints.b2Joint',wb='Box2D.Dynamics.Joints.b2JointDef',xb='Box2D.Dynamics.Joints.b2JointEdge',
yb='Box2D.Dynamics.Joints.b2JointUtil',zb='Box2D.Dynamics.Joints.b2LineJoint',Cb='Box2D.Dynamics.Joints.b2LineJointDef',Db='Box2D.Dynamics.Joints.b2MouseJoint',Eb='Box2D.Dynamics.Joints.b2MouseJointDef',Fb='Box2D.Dynamics.Joints.b2PrismaticJoint',Gb='Box2D.Dynamics.Joints.b2PrismaticJointDef',Hb='Box2D.Dynamics.Joints.b2PulleyJoint',Ib='Box2D.Dynamics.Joints.b2PulleyJointDef',Jb='Box2D.Dynamics.Joints.b2RevoluteJoint',Lb='Box2D.Dynamics.Joints.b2RevoluteJointDef',Mb='Box2D.Dynamics.Joints.b2WeldJoint',
Nb='Box2D.Dynamics.Joints.b2WeldJointDef',Pb='Box2D.Dynamics.b2Body',Qb='Box2D.Dynamics.b2BodyDef',Rb='Box2D.Dynamics.b2ContactFilter',Sb='Box2D.Dynamics.b2ContactImpulse',Tb='Box2D.Dynamics.b2ContactListener',Ub='Box2D.Dynamics.b2ContactManager',Vb='Box2D.Dynamics.b2DebugDraw',Wb='Box2D.Dynamics.b2FilterData',Xb='Box2D.Dynamics.b2Fixture',Yb='Box2D.Dynamics.b2FixtureDef',Zb='Box2D.Dynamics.b2Island',$b='Box2D.Dynamics.b2TimeStep',ac='Box2D.Dynamics.b2World',bc='ContactListener',cc='SpriteFlexjs',
dc='TestBed.TestBreakable',ec='TestBed.TestBreakable.ContactListener',fc='TestBed.TestBridge',gc='TestBed.TestBuoyancy',hc='TestBed.TestCCD',ic='TestBed.TestCompound',jc='TestBed.TestCrankGearsPulley',kc='TestBed.TestOneSidedPlatform',lc='TestBed.TestOneSidedPlatform.ContactListener',mc='TestBed.TestRagdoll',nc='TestBed.TestRaycast',oc='TestBed.TestStack',pc='TestBed.TestTheoJansen',qc='TestBedMain',rc='Type Coercion failed',sc='WorldQueryWrapper',tc='__mouseevent',uc='absolute',vc='axisAngle',wc=
'canvas',xc='canvas_keyevent',yc='canvas_mouseevent',zc='canvas_touchevent',l='class',Ac='click',Bc='context3DCreate',Cc='contextMenu',Dc='destinationAlpha',Ec='destinationColor',Fc='doubleClick',Gc='enterFrame',Hc='eulerAngles',Ic='experimental-webgl',Jc='flash.__native.BaseRenderer',Kc='flash.__native.BitmapTexture',Lc='flash.__native.GLCanvasPattern',Mc='flash.__native.GLCanvasRenderingContext2D',Nc='flash.__native.GLDrawable',Oc='flash.__native.GLGraphicsPath',Pc='flash.__native.GLIndexBufferSet',
Qc='flash.__native.GLPath2D',Rc='flash.__native.GLVertexBufferSet',Sc='flash.__native.IRenderer',Tc='flash.__native.MemArray',Uc='flash.__native.WebGLRenderer',Vc='flash.display.BitmapData',Wc='flash.display.BitmapDataChannel',Xc='flash.display.BlendMode',Yc='flash.display.DisplayObject',Zc='flash.display.DisplayObjectContainer',$c='flash.display.GradientType',ad='flash.display.Graphics',bd='flash.display.GraphicsBitmapFill',cd='flash.display.GraphicsEndFill',dd='flash.display.GraphicsGradientFill',
ed='flash.display.GraphicsPath',fd='flash.display.GraphicsPathCommand',gd='flash.display.GraphicsSolidFill',hd='flash.display.GraphicsStroke',id='flash.display.GraphicsTrianglePath',jd='flash.display.IBitmapDrawable',kd='flash.display.IGraphicsData',ld='flash.display.IGraphicsFill',md='flash.display.IGraphicsPath',nd='flash.display.IGraphicsStroke',od='flash.display.InteractiveObject',pd='flash.display.LoaderInfo',qd='flash.display.Sprite',rd='flash.display.Stage',sd='flash.display.Stage3D',td='flash.display.StageAlign',
ud='flash.display.StageQuality',vd='flash.display.StageScaleMode',wd='flash.display3D.Context3D',xd='flash.display3D.Context3DBlendFactor',yd='flash.display3D.Context3DCompareMode',zd='flash.display3D.Context3DProgramType',Ad='flash.display3D.Context3DTextureFormat',Bd='flash.display3D.Context3DTriangleFace',Cd='flash.display3D.Context3DVertexBufferFormat',Dd='flash.display3D.IndexBuffer3D',Ed='flash.display3D.Program3D',Fd='flash.display3D.VertexBuffer3D',Gd='flash.display3D.textures.CubeTexture',
Hd='flash.display3D.textures.RectangleTexture',Id='flash.display3D.textures.Texture',Jd='flash.display3D.textures.TextureBase',Kd='flash.display3D.textures.VideoTexture',Ld='flash.events.Event',Md='flash.events.EventDispatcher',Nd='flash.events.IEventDispatcher',Od='flash.events.KeyboardEvent',Pd='flash.events.MouseEvent',Qd='flash.events.TouchEvent',Rd='flash.filters.BitmapFilter',Sd='flash.filters.DropShadowFilter',Td='flash.filters.GlowFilter',Ud='flash.geom.ColorTransform',Vd='flash.geom.Matrix',
Wd='flash.geom.Matrix3D',Xd='flash.geom.Orientation3D',Yd='flash.geom.Point',Zd='flash.geom.Rectangle',$d='flash.geom.Transform',ae='flash.geom.Vector3D',be='flash.net.URLVariables',ce='flash.text.TextField',de='flash.text.TextFieldAutoSize',ee='flash.text.TextFieldType',fe='flash.text.TextFormat',ge='flash.text.TextFormatAlign',he='flash.utils.ByteArray',ie='flash.utils.Endian',je='flash.utils.IDataInput',ke='flash.utils.IDataInput2',le='flash.utils.IDataOutput',me='flash.utils.IDataOutput2',ne=
'float2',oe='float4',pe='fullScreen',qe='interface',re='left',se='linear',te='m_angularDamping',ue='m_linearDamping',ve='m_next',we='m_userData',xe='mouseDown',ye='mouseLeave',ze='mouseMove',Ae='mouseOut',Be='mouseOver',Ce='mouseUp',De='none',Ee='oneMinusDestinationAlpha',Fe='oneMinusDestinationColor',Ge='oneMinusSourceAlpha',He='oneMinusSourceColor',Ie='org.apache.flex.utils.Language',Je='removedFromStage',Ke='resize',Le='right',Me='rollOver',Ne='source-over',Oe='sourceAlpha',Pe='sourceColor',Qe=
'touchEnd',Re='touchMove',Se='vertex';function n(){return function(){}}function q(a){return function(b){this[a]=b}}function t(a){return function(){return this[a]}}function w(a){return function(){return a}}var x,Te=this;function Ue(a,b,c){return a.call.apply(a.bind,arguments)}
function Ve(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function We(a,b,c){We=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf('native code')?Ue:Ve;return We.apply(null,arguments)}
function y(a,b){var c=a.split('.'),d=Te;c[0]in d||!d.execScript||d.execScript('var '+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}function Xe(a,b){function c(){}c.prototype=b.prototype;a.o=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.zy=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};function Ye(){}var Ze,$e,af=[],bf=String.fromCharCode(0);function cf(a,b,c){c='undefined'!==typeof c?c:null;b=df(a,b);if(!b&&void 0!==c&&c)throw a=TypeError?new TypeError(rc):Error(rc),a;return b?a:null}y('org.apache.flex.utils.Language.as',cf);y('org.apache.flex.utils.Language._int',function(a){return a>>0});function ef(a){return null==a?null:a.toString()}y('org.apache.flex.utils.Language.string',ef);
function df(a,b){var c;if(null==a||null==b)return!1;if(a instanceof b||b===Object)return!0;if('string'===typeof a)return b===String;if('number'===typeof a)return b===Number;if('boolean'===typeof a)return b===Boolean;if(b===Array)return Array.isArray(a);if(void 0===a.i)return!1;if(a.i.Oa&&ff(a,b))return!0;c=a.constructor;if(c=c.o)for(;c&&c.i;){if(c.i.Oa&&ff(c,b))return!0;c=c.constructor;c=c.o}return!1}y('org.apache.flex.utils.Language.is',df);
function ff(a,b){var c,d;d=a.i.Oa;for(c=d.length-1;-1<c;c--)if(d[c]===b||d[c].prototype.i.Oa&&ff(d[c].prototype,b))return!0;return!1}Ye.prototype.Cm=function(a){return'function'===typeof a&&a.prototype&&a.prototype.constructor===a};Ye.prototype.isClass=Ye.prototype.Cm;Ye.prototype.Xp=function(a){return this.Cm(a)?a:null};Ye.prototype.asClass=Ye.prototype.Xp;y('org.apache.flex.utils.Language.postdecrement',function(a,b){var c=Number(a[b]);a[b]=c-1;return c});
y('org.apache.flex.utils.Language.postincrement',function(a,b){var c=Number(a[b]);a[b]=c+1;return c});y('org.apache.flex.utils.Language.predecrement',function(a,b){var c=a[b]-1;return a[b]=c});y('org.apache.flex.utils.Language.preincrement',function(a,b){var c=Number(a[b]+1);return a[b]=c});y('org.apache.flex.utils.Language.superGetter',function(a,b,c){a=a.o;for(var d=Object.getOwnPropertyDescriptor(a,c);null==d;)a=a.constructor,a=a.o,d=Object.getOwnPropertyDescriptor(a,c);return d.get.call(b)});
y('org.apache.flex.utils.Language.superSetter',function(a,b,c,d){a=a.o;for(var e=Object.getOwnPropertyDescriptor(a,c);null==e;)a=a.constructor,a=a.o,e=Object.getOwnPropertyDescriptor(a,c);e.set.apply(b,[d])});y('org.apache.flex.utils.Language.trace',n());y('org.apache.flex.utils.Language.uint',function(a){return a>>>0});function gf(a,b,c){if(b.hasOwnProperty(c))return b[c];a=We(a,b);Object.defineProperty(b,c,{value:a});return a}y('org.apache.flex.utils.Language.closure',gf);
y('org.apache.flex.utils.Language.sortOn',function(a,b,c){c='undefined'!==typeof c?c:0;df(b,Array)?Ze=cf(b,Array):(af[0]=b,Ze=af);if(df(c,Array)){b=0;for(var d in c)b|=c[d]}else b=cf(c,Number);$e=0<(2&b)?-1:1;b&16?a.sort(hf):b&1?a.sort(jf):a.sort(kf)});function jf(a,b){var c=Ze,d;for(d in c){var e=c[d],e=Number((a[e]||bf).toString().toLowerCase().localeCompare((b[e]||bf).toString().toLowerCase()));if(0!=e)return e*$e}return 0}
function kf(a,b){var c=Ze,d;for(d in c){var e=c[d],e=Number((a[e]||bf).toString().localeCompare((b[e]||bf).toString()));if(0!=e)return e*$e}return 0}function hf(a,b){var c=Ze,d;for(d in c){var e=c[d];if(a[e]>b[e])return $e;if(a[e]<b[e])return-$e}return 0}function lf(a,b){a='undefined'!==typeof a?a:0;b='undefined'!==typeof b?b:null;var c=[],d=null;'int'==b||'uint'==b||'Number'==b?d=0:'String'==b&&(d='');for(var e=0;e<a;e++)c.push(d);return c}y('org.apache.flex.utils.Language.Vector',lf);
Ye.prototype.i={names:[{name:'Language',j:Ie,kind:l}]};y(Ie,Ye);function mf(){}mf.prototype.vd=w(null);mf.prototype.createPath=mf.prototype.vd;mf.prototype.ac=w(null);mf.prototype.getCssColor=mf.prototype.ac;mf.prototype.Sd=n();mf.prototype.renderGraphics=mf.prototype.Sd;mf.prototype.Rb=n();mf.prototype.renderImage=mf.prototype.Rb;mf.prototype.Rj=n();mf.prototype.renderVideo=mf.prototype.Rj;mf.prototype.Qe=n();mf.prototype.renderText=mf.prototype.Qe;mf.prototype.finish=n();mf.prototype.finish=mf.prototype.finish;mf.prototype.start=n();mf.prototype.start=mf.prototype.start;
mf.prototype.i={names:[{name:'IRenderer',j:Sc,kind:l}]};y(Sc,mf);function nf(){}nf.prototype.oa=n();nf.prototype.Xa=n();nf.prototype.i={names:[{name:'IGraphicsData',j:kd,kind:qe}]};y(kd,nf);function of(){}of.prototype.i={names:[{name:'IGraphicsFill',j:ld,kind:qe}]};y(ld,of);function pf(a,b,c,d){this.bitmapData='undefined'!==typeof a?a:null;this.matrix='undefined'!==typeof b?b:null;this.repeat='undefined'!==typeof c?c:!0;this.smooth='undefined'!==typeof d?d:!1}pf.prototype.oa=function(a){null==this.pattern&&this.bitmapData&&(this.pattern=a.createPattern(this.bitmapData.image,this.repeat?'repeat':'no-repeat'));a.fillStyle=this.pattern};pf.prototype.draw=pf.prototype.oa;
pf.prototype.Xa=function(a){null==this.pattern&&this.bitmapData&&(this.pattern=a.createPattern(this.bitmapData.image,this.repeat?'repeat':'no-repeat'));a.fillStyleIsImage=!0;a.fillStyle=this.pattern};pf.prototype.gldraw=pf.prototype.Xa;pf.prototype.i={names:[{name:'GraphicsBitmapFill',j:bd,kind:l}],Oa:[of,nf]};y(bd,pf);function qf(a,b){this.x='undefined'!==typeof a?a:0;this.y='undefined'!==typeof b?b:0}y('flash.geom.Point.interpolate',function(a,b,c){return new qf(b.x+c*(a.x-b.x),b.y+c*(a.y-b.y))});y('flash.geom.Point.distance',function(a,b){return a.Ud(b).length});y('flash.geom.Point.polar',function(a,b){return new qf(a*Math.cos(b),a*Math.sin(b))});qf.prototype.clone=function(){return new qf(this.x,this.y)};qf.prototype.clone=qf.prototype.clone;qf.prototype.offset=function(a,b){this.x+=a;this.y+=b};
qf.prototype.offset=qf.prototype.offset;qf.prototype.Mf=function(a){return a.x===this.x&&a.y===this.y};qf.prototype.equals=qf.prototype.Mf;qf.prototype.Ud=function(a){return new qf(this.x-a.x,this.y-a.y)};qf.prototype.subtract=qf.prototype.Ud;qf.prototype.add=function(a){return new qf(this.x+a.x,this.y+a.y)};qf.prototype.add=qf.prototype.add;qf.prototype.normalize=function(a){var b=this.length;0<b&&(b=a/b,this.x*=b,this.y*=b)};qf.prototype.normalize=qf.prototype.normalize;
qf.prototype.toString=function(){return'(x\x3d'+this.x+', y\x3d'+this.y+')'};qf.prototype.toString=qf.prototype.toString;qf.prototype.Ja=function(a){this.x=a.x;this.y=a.y};qf.prototype.copyFrom=qf.prototype.Ja;qf.prototype.Td=function(a,b){this.x=a;this.y=b};qf.prototype.setTo=qf.prototype.Td;qf.prototype.Cd=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};Object.defineProperties(qf.prototype,{length:{get:qf.prototype.Cd}});qf.prototype.i={names:[{name:'Point',j:Yd,kind:l}]};y(Yd,qf);function z(a,b,c,d,e,f){this.a='undefined'!==typeof a?a:1;this.b='undefined'!==typeof b?b:0;this.c='undefined'!==typeof c?c:0;this.d='undefined'!==typeof d?d:1;this.tx='undefined'!==typeof e?e:0;this.ty='undefined'!==typeof f?f:0}z.prototype.clone=function(){return new z(this.a,this.b,this.c,this.d,this.tx,this.ty)};z.prototype.clone=z.prototype.clone;
z.prototype.concat=function(a){this.t0=this.a;this.a=this.a*a.a+this.b*a.c;this.b=this.t0*a.b+this.b*a.d;this.t0=this.c;this.c=this.c*a.a+this.d*a.c;this.d=this.t0*a.b+this.d*a.d;this.t0=this.tx;this.tx=this.tx*a.a+this.ty*a.c+a.tx;this.ty=this.t0*a.b+this.ty*a.d+a.ty};z.prototype.concat=z.prototype.concat;
z.prototype.Fe=function(){if(0===this.b&&0===this.c)this.a=1/this.a,this.d=1/this.d,this.tx*=-this.a,this.ty*=-this.d;else{var a=this.a*this.d-this.b*this.c;0===a?(this.a=this.d=1,this.tx=this.ty=this.b=this.c=0):(a=1/a,this.t0=this.a,this.nk=this.b,this.pk=this.c,this.jy=this.d,this.a=this.jy*a,this.b=-this.nk*a,this.c=-this.pk*a,this.d=this.t0*a,this.t0=-(this.b*this.tx+this.d*this.ty),this.tx=-(this.a*this.tx+this.c*this.ty),this.ty=this.t0)}};z.prototype.invert=z.prototype.Fe;
z.prototype.Ee=function(){this.a=this.d=1;this.tx=this.ty=this.b=this.c=0};z.prototype.identity=z.prototype.Ee;z.prototype.Wl=function(a,b,c,d,e){c='undefined'!==typeof c?c:0;var f=Math.cos(c);c=Math.sin(c);this.a=f*a;this.b=c*b;this.c=-c*a;this.d=f*b;this.tx='undefined'!==typeof d?d:0;this.ty='undefined'!==typeof e?e:0};z.prototype.createBox=z.prototype.Wl;
z.prototype.kq=function(a,b,c,d,e){this.Wl(a/1638.4,b/1638.4,'undefined'!==typeof c?c:0,('undefined'!==typeof d?d:0)+a/2,('undefined'!==typeof e?e:0)+b/2)};z.prototype.createGradientBox=z.prototype.kq;z.prototype.rotate=function(a){var b=Math.cos(a);a=Math.sin(a);this.t0=this.a;this.nk=this.c;this.pk=this.tx;this.a=b*this.a-a*this.b;this.b=a*this.t0+b*this.b;this.c=b*this.c-a*this.d;this.d=a*this.nk+b*this.d;this.tx=b*this.tx-a*this.ty;this.ty=a*this.pk+b*this.ty};z.prototype.rotate=z.prototype.rotate;
z.prototype.translate=function(a,b){this.tx+=a;this.ty+=b};z.prototype.translate=z.prototype.translate;z.prototype.scale=function(a,b){this.a*=a;this.b*=b;this.c*=a;this.d*=b;this.tx*=a;this.ty*=b};z.prototype.scale=z.prototype.scale;z.prototype.qq=function(a){return new qf(this.a*a.x+this.c*a.y,this.d*a.y+this.b*a.x)};z.prototype.deltaTransformPoint=z.prototype.qq;z.prototype.Kc=function(a){return new qf(this.a*a.x+this.c*a.y+this.tx,this.d*a.y+this.b*a.x+this.ty)};z.prototype.transformPoint=z.prototype.Kc;
z.prototype.toString=function(){return'(a\x3d'+this.a+', b\x3d'+this.b+', c\x3d'+this.c+', d\x3d'+this.d+', tx\x3d'+this.tx+', ty\x3d'+this.ty+')'};z.prototype.toString=z.prototype.toString;z.prototype.Ja=function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.d=a.d;this.tx=a.tx;this.ty=a.ty};z.prototype.copyFrom=z.prototype.Ja;z.prototype.Td=function(a,b,c,d,e,f){this.a=a;this.b=b;this.c=c;this.d=d;this.tx=e;this.ty=f};z.prototype.setTo=z.prototype.Td;
z.prototype.Mi=function(a,b){switch(a){case 0:break;case 1:b.x=this.b;b.y=this.d;b.z=this.ty;break;case 2:case 3:b.x=0;b.y=0;b.z=1;break;default:b.x=this.a,b.y=this.c,b.z=this.tx}};z.prototype.copyRowTo=z.prototype.Mi;z.prototype.Ki=function(a,b){switch(a){case 0:break;case 1:b.x=this.c;b.y=this.d;b.z=0;break;case 2:case 3:b.x=this.tx;b.y=this.ty;b.z=1;break;default:b.x=this.a,b.y=this.b,b.z=0}};z.prototype.copyColumnTo=z.prototype.Ki;
z.prototype.Li=function(a,b){switch(a){case 0:break;case 1:case 2:this.b=b.x;this.d=b.y;this.ty=b.z;break;default:this.a=b.x,this.c=b.y,this.tx=b.z}};z.prototype.copyRowFrom=z.prototype.Li;z.prototype.Ji=function(a,b){switch(a){case 0:break;case 1:case 2:this.b=b.x;this.d=b.y;this.ty=b.z;break;default:this.a=b.x,this.c=b.y,this.tx=b.z}};z.prototype.copyColumnFrom=z.prototype.Ji;z.prototype.i={names:[{name:'Matrix',j:Vd,kind:l}]};y(Vd,z);function rf(){this._worldMatrix=new z}rf.prototype.oa=function(a,b){if(this.fill){if(df(this.fill,pf)){var c=this.fill;if(c.matrix)var d=c.matrix;a.globalAlpha=b.alphaMultiplier}else a.globalAlpha=1;d&&(a.save(),a.transform(d.a,d.b,d.c,d.d,d.tx,d.ty));a.fill();d&&a.restore()}};rf.prototype.draw=rf.prototype.oa;rf.prototype.Xa=function(a){if(this.fill){var b=this.fill.matrix;b?this._worldMatrix.Ja(b):this._worldMatrix.Ee();b=a.matr;a.An(this._worldMatrix);a.fill();a.matr=b}};rf.prototype.gldraw=rf.prototype.Xa;
rf.prototype.i={names:[{name:'GraphicsEndFill',j:cd,kind:l}],Oa:[of,nf]};y(cd,rf);function sf(){}y('flash.display.GraphicsPathCommand.NO_OP',0);y('flash.display.GraphicsPathCommand.MOVE_TO',1);y('flash.display.GraphicsPathCommand.LINE_TO',2);y('flash.display.GraphicsPathCommand.CURVE_TO',3);y('flash.display.GraphicsPathCommand.WIDE_MOVE_TO',4);y('flash.display.GraphicsPathCommand.WIDE_LINE_TO',5);y('flash.display.GraphicsPathCommand.CUBIC_CURVE_TO',6);y('flash.display.GraphicsPathCommand.ARC',7);y('flash.display.GraphicsPathCommand.CLOSE_PATH',8);
y('flash.display.GraphicsPathCommand.DRAW_TRIANGLES',9);sf.prototype.i={names:[{name:'GraphicsPathCommand',j:fd,kind:l}]};y(fd,sf);function tf(){}tf.prototype.i={names:[{name:'IGraphicsPath',j:md,kind:qe}]};y(md,tf);function uf(a,b,c){a='undefined'!==typeof a?a:null;b='undefined'!==typeof b?b:null;c='undefined'!==typeof c?c:'evenOdd';this.commands=lf();this.data=lf();this.tris=[];this.commands=a;this.data=b;null==this.commands&&(this.commands=lf());null==this.data&&(this.data=lf());this.Ml=c}uf.prototype.Wg=!0;uf.prototype.gpuPath2DDirty=uf.prototype.Wg;uf.prototype.clear=function(){this.commands.length=0;this.data.length=0;this.tris.length=0};uf.prototype.clear=uf.prototype.clear;
uf.prototype.moveTo=function(a,b){this.commands.push(1);this.data.push(a,b)};uf.prototype.moveTo=uf.prototype.moveTo;uf.prototype.lineTo=function(a,b){this.commands.push(2);this.data.push(a,b)};uf.prototype.lineTo=uf.prototype.lineTo;uf.prototype.ab=function(a,b,c,d){this.commands.push(3);this.data.push(a,b,c,d)};uf.prototype.curveTo=uf.prototype.ab;uf.prototype.Kb=function(a,b,c,d,e,f){this.commands.push(6);this.data.push(a,b,c,d,e,f)};uf.prototype.cubicCurveTo=uf.prototype.Kb;
uf.prototype.tk=function(a,b){this.commands.push(5);this.data.push(0,0,a,b)};uf.prototype.wideLineTo=uf.prototype.tk;uf.prototype.uk=function(a,b){this.commands.push(4);this.data.push(0,0,a,b)};uf.prototype.wideMoveTo=uf.prototype.uk;uf.prototype.arc=function(a,b,c,d,e){this.commands.push(7);this.data.push(a,b,c,d,e)};uf.prototype.arc=uf.prototype.arc;
uf.prototype.oa=function(a){if(this.commands.length){a.beginPath();for(var b=0,c=0,d=this.commands.length,e=0;e<d;e++)switch(this.commands[e]){case 1:a.moveTo(this.data[b++],this.data[b++]);break;case 2:a.lineTo(this.data[b++],this.data[b++]);break;case 3:a.quadraticCurveTo(this.data[b++],this.data[b++],this.data[b++],this.data[b++]);break;case 6:a.bezierCurveTo(this.data[b++],this.data[b++],this.data[b++],this.data[b++],this.data[b++],this.data[b++]);break;case 4:b+=2;a.moveTo(this.data[b++],this.data[b++]);
break;case 5:b+=2;a.lineTo(this.data[b++],this.data[b++]);break;case 7:a.arc(this.data[b++],this.data[b++],this.data[b++],this.data[b++],this.data[b++]);break;case 9:for(var f=this.tris[c++],g=a,h=f[0],f=f[1],k=f.length,m=0;m<k;){var p=f[m++],r=f[m++],u=f[m++],v=h[2*p],p=h[2*p+1],A=h[2*r],r=h[2*r+1],B=h[2*u],u=h[2*u+1];g.moveTo(v,p);g.lineTo(A,r);g.lineTo(B,u);g.lineTo(v,p)}break;case 8:a.closePath()}}};uf.prototype.draw=uf.prototype.oa;uf.prototype.Xa=function(a,b){a.Lf(this,b)};
uf.prototype.gldraw=uf.prototype.Xa;uf.prototype.closePath=function(){this.commands.push(8)};uf.prototype.closePath=uf.prototype.closePath;uf.prototype.Wc=function(a,b,c){this.tris.push([a,b,c]);this.commands.push(9)};uf.prototype.drawTriangles=uf.prototype.Wc;uf.prototype.su=t('Ml');uf.prototype.Zx=q('Ml');Object.defineProperties(uf.prototype,{winding:{get:uf.prototype.su,set:uf.prototype.Zx}});uf.prototype.i={names:[{name:'GraphicsPath',j:ed,kind:l}],Oa:[tf,nf]};y(ed,uf);function vf(){this.Be=new rf}Xe(vf,mf);vf.prototype.ac=function(a,b,c){return'rgba('+((a>>16&255)*c.redMultiplier+c.redOffset>>0)+','+((a>>8&255)*c.greenMultiplier+c.greenOffset>>0)+','+((a&255)*c.greenMultiplier+c.greenOffset>>0)+','+(b*c.alphaMultiplier+c.alphaOffset)+')'};vf.prototype.getCssColor=vf.prototype.ac;vf.prototype.vd=function(){return new uf};vf.prototype.createPath=vf.prototype.vd;
vf.prototype.Sd=function(a,b,c,d,e){a.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);a.globalCompositeOperation=d;c=b.graphicsData.length;for(d=0;d<c;d++)b.graphicsData[d].oa(a,e);b.lastFill&&(this.Be.fill=b.lastFill,this.Be.oa(a,e));b.lastStroke&&a.stroke();a.fillStyle=null;a.strokeStyle=null};vf.prototype.renderGraphics=vf.prototype.Sd;
vf.prototype.Rb=function(a,b,c,d,e,f,g){f='undefined'!==typeof f?f:0;g='undefined'!==typeof g?g:0;a.globalAlpha=e.alphaMultiplier;a.globalCompositeOperation=d;a.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);a.drawImage(b.image,f,g)};vf.prototype.renderImage=vf.prototype.Rb;vf.prototype.Rj=function(a,b,c,d,e,f,g){a.globalAlpha=g.alphaMultiplier;a.globalCompositeOperation=f;a.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);a.drawImage(b,0,0,d,e)};vf.prototype.renderVideo=vf.prototype.Rj;
vf.prototype.Qe=function(a,b,c,d,e,f,g,h){a.globalAlpha=f.alphaMultiplier;a.globalCompositeOperation=e;a.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty);a.font=c.css;a.fillStyle=c.csscolor;a.textBaseline='top';a.fillText(b,g,h)};vf.prototype.renderText=vf.prototype.Qe;vf.prototype.i={names:[{name:'BaseRenderer',j:Jc,kind:l}]};y(Jc,vf);function wf(){}y('SpriteFlexjs.stageWidth',800);y('SpriteFlexjs.stageHeight',600);y('SpriteFlexjs.autoSize',!1);var xf=0;y('SpriteFlexjs.startTime',xf);var yf=0;y('SpriteFlexjs.drawCounter',yf);var zf=0;y('SpriteFlexjs.batDrawCounter',zf);y('SpriteFlexjs.debug',!1);var Af='direct';y('SpriteFlexjs.wmode',Af);var Bf=new vf;y('SpriteFlexjs.renderer',Bf);var Cf=!0;y('SpriteFlexjs.dirtyGraphics',Cf);
var Df=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)};y('SpriteFlexjs.requestAnimationFrame',Df);wf.prototype.i={names:[{name:cc,j:cc,kind:l}]};y(cc,wf);function Ef(){}y('flash.display.BitmapDataChannel.ALPHA',8);y('flash.display.BitmapDataChannel.BLUE',4);y('flash.display.BitmapDataChannel.GREEN',2);y('flash.display.BitmapDataChannel.RED',1);Ef.prototype.i={names:[{name:'BitmapDataChannel',j:Wc,kind:l}]};y(Wc,Ef);function C(a,b,c,d){this.x='undefined'!==typeof a?a:0;this.y='undefined'!==typeof b?b:0;this.width='undefined'!==typeof c?c:0;this.height='undefined'!==typeof d?d:0}C.prototype.clone=function(){return new C(this.x,this.y,this.width,this.height)};C.prototype.clone=C.prototype.clone;C.prototype.Ed=function(){return 0>=this.width||0>=this.height};C.prototype.isEmpty=C.prototype.Ed;C.prototype.Tj=function(){this.height=this.width=this.y=this.x=0};C.prototype.setEmpty=C.prototype.Tj;
C.prototype.wc=function(a,b){this.x-=a;this.width+=2*a;this.y-=b;this.height+=2*b};C.prototype.inflate=C.prototype.wc;C.prototype.Au=function(a){this.x-=a.x;this.width+=2*a.x;this.y-=a.y;this.height+=2*a.y};C.prototype.inflatePoint=C.prototype.Au;C.prototype.offset=function(a,b){this.x+=a;this.y+=b};C.prototype.offset=C.prototype.offset;C.prototype.av=function(a){this.x+=a.x;this.y+=a.y};C.prototype.offsetPoint=C.prototype.av;
C.prototype.contains=function(a,b){return a>=this.x&&a<this.x+this.width&&b>=this.y&&b<this.y+this.height};C.prototype.contains=C.prototype.contains;C.prototype.Vl=function(a){return a.x>=this.x&&a.x<this.x+this.width&&a.y>=this.y&&a.y<this.y+this.height};C.prototype.containsPoint=C.prototype.Vl;C.prototype.bq=function(a){var b=a.x+a.width,c=a.y+a.height,d=this.x+this.width,e=this.y+this.height;return a.x>=this.x&&a.x<d&&a.y>=this.y&&a.y<e&&b>this.x&&b<=d&&c>this.y&&c<=e};
C.prototype.containsRect=C.prototype.bq;C.prototype.Du=function(a){var b=new C;if(this.Ed()||a.Ed())return b.Tj(),b;b.x=Math.max(this.x,a.x);b.y=Math.max(this.y,a.y);b.width=Math.min(this.x+this.width,a.x+a.width)-b.x;b.height=Math.min(this.y+this.height,a.y+a.height)-b.y;(0>=b.width||0>=b.height)&&b.Tj();return b};C.prototype.intersection=C.prototype.Du;
C.prototype.Eu=function(a){if(this.Ed()||a.Ed())return!1;var b=Math.min(this.y+this.height,a.y+a.height)-Math.max(this.y,a.y);return 0>=Math.min(this.x+this.width,a.x+a.width)-Math.max(this.x,a.x)||0>=b?!1:!0};C.prototype.intersects=C.prototype.Eu;
C.prototype.Ih=function(a){var b;if(this.Ed())return a.clone();if(a.Ed())return this.clone();b=new C;b.x=Math.min(this.x,a.x);b.y=Math.min(this.y,a.y);b.width=Math.max(this.x+this.width,a.x+a.width)-b.x;b.height=Math.max(this.y+this.height,a.y+a.height)-b.y;return b};C.prototype.union=C.prototype.Ih;C.prototype.Mf=function(a){return a.x===this.x&&a.y===this.y&&a.width===this.width&&a.height===this.height};C.prototype.equals=C.prototype.Mf;
C.prototype.toString=function(){return'(x\x3d'+this.x+', y\x3d'+this.y+', w\x3d'+this.width+', h\x3d'+this.height+')'};C.prototype.toString=C.prototype.toString;C.prototype.Ja=function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height};C.prototype.copyFrom=C.prototype.Ja;C.prototype.Td=function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d};C.prototype.setTo=C.prototype.Td;x=C.prototype;x.Rs=t('x');x.Uw=function(a){this.width+=this.x-a;this.x=a};
x.Bt=function(){return this.x+this.width};x.wx=function(a){this.width=a-this.x};x.ju=t('y');x.Rx=function(a){this.height+=this.y-a;this.y=a};x.mr=function(){return this.y+this.height};x.Xv=function(a){this.height=a-this.y};x.ku=function(){return new qf(this.x,this.y)};x.Sx=function(a){this.width+=this.x-a.x;this.height+=this.y-a.y;this.x=a.x;this.y=a.y};x.nr=function(){return new qf(this.right,this.bottom)};x.Yv=function(a){this.width=a.x-this.x;this.height=a.y-this.y};
x.lj=function(){return new qf(this.width,this.height)};x.jk=function(a){this.width=a.x;this.height=a.y};Object.defineProperties(C.prototype,{left:{get:C.prototype.Rs,set:C.prototype.Uw},right:{get:C.prototype.Bt,set:C.prototype.wx},top:{get:C.prototype.ju,set:C.prototype.Rx},bottom:{get:C.prototype.mr,set:C.prototype.Xv},topLeft:{get:C.prototype.ku,set:C.prototype.Sx},bottomRight:{get:C.prototype.nr,set:C.prototype.Yv},size:{get:C.prototype.lj,set:C.prototype.jk}});
C.prototype.i={names:[{name:'Rectangle',j:Zd,kind:l}]};y(Zd,C);function Ff(){}Ff.prototype.i={names:[{name:'IBitmapDrawable',j:jd,kind:qe}]};y(jd,Ff);function D(a,b,c,d){this.wd(a,b,'undefined'!==typeof c?c:!0,'undefined'!==typeof d?d:4294967295)}x=D.prototype;x.Uc=!1;x.we=0;x.Tc=0;x.wd=function(a,b,c,d){d='undefined'!==typeof d?d:4294967295;this.Sp='undefined'!==typeof c?c:!0;this.image=document.createElement(wc);this.image.width=this.we=a;this.image.height=this.Tc=b;this.ctx=this.image.getContext('2d');this.Dd=this.ctx.getImageData(0,0,a,b);this.__data=this.Dd.data;this.fillRect(this.rect,d)};
x.Oi=function(a,b,c){this.ctx.drawImage(a,'undefined'!==typeof b?b:0,'undefined'!==typeof c?c:0);Cf=!0;Gf(this);this.Dd=this.ctx.getImageData(0,0,this.width,this.height);this.__data=this.Dd.data};D.prototype.fromImage=D.prototype.Oi;D.prototype.clone=w(null);D.prototype.clone=D.prototype.clone;D.prototype.Pq=function(a,b){var c=4*(b*this.width+a);return this.__data[c]<<16|this.__data[c+1]<<8|this.__data[c+2]};D.prototype.getPixel=D.prototype.Pq;
D.prototype.fm=function(a,b){var c=4*(b*this.width+a);return this.__data[c+3]<<24|this.__data[c]<<16|this.__data[c+1]<<8|this.__data[c+2]};D.prototype.getPixel32=D.prototype.fm;D.prototype.qn=function(a,b,c){a=4*(b*this.width+a);this.__data[a]=c>>16&255;this.__data[a+1]=c>>8&255;this.__data[a+2]=c&255;this.Uc||(this.ctx.putImageData(this.Dd,0,0),Cf=!0,Gf(this))};D.prototype.setPixel=D.prototype.qn;
D.prototype.nh=function(a,b,c){a=4*(b*this.width+a);this.__data[a]=c>>16&255;this.__data[a+1]=c>>8&255;this.__data[a+2]=c&255;this.__data[a+3]=c>>>24;this.Uc||(this.ctx.putImageData(this.Dd,0,0),Cf=!0,Gf(this))};D.prototype.setPixel32=D.prototype.nh;D.prototype.colorTransform=n();D.prototype.colorTransform=D.prototype.colorTransform;D.prototype.compare=w(null);D.prototype.compare=D.prototype.compare;D.prototype.cq=n();D.prototype.copyChannel=D.prototype.cq;
D.prototype.eq=function(a,b,c){this.lock();for(var d=0;d<b.width;d++)for(var e=0;e<b.height;e++)this.nh(d+c.x,e+c.y,a.fm(d+b.x,e+b.y));this.unlock()};D.prototype.copyPixels=D.prototype.eq;D.prototype.Lb=n();D.prototype.dispose=D.prototype.Lb;D.prototype.oa=function(a){this.dm(a)};D.prototype.draw=D.prototype.oa;D.prototype.dm=function(a){df(a,D)&&this.Oi(a.ctx)};D.prototype.drawWithQuality=D.prototype.dm;
D.prototype.fillRect=function(a,b){this.lock();for(var c=0;c<this.height;++c)for(var d=0;d<this.width;++d)this.nh(d,c,this.transparent?b:4278190080|b);this.unlock()};D.prototype.fillRect=D.prototype.fillRect;D.prototype.yq=n();D.prototype.floodFill=D.prototype.yq;D.prototype.Cq=w(null);D.prototype.getColorBoundsRect=D.prototype.Cq;D.prototype.Qq=w(null);D.prototype.getPixels=D.prototype.Qq;D.prototype.fq=n();D.prototype.copyPixelsToByteArray=D.prototype.fq;D.prototype.Vq=w(null);
D.prototype.getVector=D.prototype.Vq;D.prototype.xu=w(!1);D.prototype.hitTest=D.prototype.xu;D.prototype.Wu=n();D.prototype.merge=D.prototype.Wu;D.prototype.$u=function(){this.lock();for(var a=0;a<this.height;++a)for(var b=0;b<this.width;++b)this.nh(b,a,4278190080|16777215*Math.random());this.unlock()};D.prototype.noise=D.prototype.$u;D.prototype.bv=n();D.prototype.paletteMap=D.prototype.bv;
var Hf=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,
82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180];
D.prototype.cv=function(a,b,c,d,e,f,g,h,k){g='undefined'!==typeof g?g:7;h='undefined'!==typeof h?h:!1;k='undefined'!==typeof k?k:null;e=this.width;f=this.height;if(!this.Uc){var m=this.Uc;this.lock()}this.fillRect(this.rect,4278190080);var p=[];g&1&&p.push([0,d]);g&2&&p.push([1,d+(h?0:5)]);g&4&&p.push([2,d+(h?0:10)]);d=p.length;g=c;h=0;for(var r=1,u=a,v=b;;){h+=r;a>>=0;b>>=0;if(0>=g||1>=a||1>=b)break;r*=.6;g--;a/=2;b/=2}a=u;b=v;r=1;for(g=c;;){a>>=0;b>>=0;if(0>=g||1>=a||1>=b)break;v=u=0;if(k){var A=
k[c-g];A&&(u=A.x/16>>0,v=A.y/16>>0)}for(var A=Math.ceil(e/a),B=Math.ceil(f/b),E=0;E<=B;E++)for(var S=0;S<=A;S++)if(0!=S&&0!=E)for(var Ba=0;Ba<d;Ba++){var za=Number(p[Ba][0]),sa=Number(p[Ba][1]),va=Number(Hf[(S-1+sa+u)%16+(E-1+sa+v)%16*16]),Ha=Number(Hf[(S+sa+u)%16+(E-1+sa+v)%16*16]),$a=Number(Hf[(S-1+sa+u)%16+(E+sa+v)%16*16]),sa=Number(Hf[(S+sa+u)%16+(E+sa+v)%16*16]),Ab=S*a;Ab>e&&(Ab=e);var Bb=E*b;Bb>f&&(Bb=f);for(var Ob=(S-1)*a,Ka=(E-1)*b,Va=Ob;Va<Ab;Va++)for(var Za=(Va-Ob)/a,Za=Za*Za*(3-2*Za),ub=
Ka;ub<Bb;ub++){var Kb=(ub-Ka)/b,Kb=Kb*Kb*(3-2*Kb);this.__data[4*(Va+ub*e)+za]+=((sa*Za+$a*(1-Za))*Kb+(Ha*Za+va*(1-Za))*(1-Kb))*r/h}}g--;a/=2;b/=2;r*=.6}this.Uc=m;this.Uc||(this.ctx.putImageData(this.Dd,0,0),Cf=!0,Gf(this))};D.prototype.perlinNoise=D.prototype.cv;D.prototype.dv=w(0);D.prototype.pixelDissolve=D.prototype.dv;D.prototype.scroll=n();D.prototype.scroll=D.prototype.scroll;D.prototype.vv=n();D.prototype.setPixels=D.prototype.vv;
D.prototype.Hv=function(a,b){this.lock();for(var c=0;c<this.width;c++)for(var d=0;d<this.height;d++)this.qn(c,d,b[c+d*this.width]);this.unlock()};D.prototype.setVector=D.prototype.Hv;D.prototype.threshold=w(0);D.prototype.threshold=D.prototype.threshold;D.prototype.lock=function(){this.Uc=!0};D.prototype.lock=D.prototype.lock;D.prototype.unlock=function(){this.Uc=!1;this.ctx.putImageData(this.Dd,0,0);Cf=!0;Gf(this)};D.prototype.unlock=D.prototype.unlock;
function Gf(a){a.image&&a.image._texture&&(a.image._texture.U=!0)}D.prototype.wu=w(null);D.prototype.histogram=D.prototype.wu;D.prototype.encode=w(null);D.prototype.encode=D.prototype.encode;D.prototype.bc=t('we');D.prototype.vc=t('Tc');D.prototype.mu=t('Sp');D.prototype.hj=function(){return new C(0,0,this.width,this.height)};Object.defineProperties(D.prototype,{width:{get:D.prototype.bc},height:{get:D.prototype.vc},transparent:{get:D.prototype.mu},rect:{get:D.prototype.hj}});
D.prototype.i={names:[{name:'BitmapData',j:Vc,kind:l}],Oa:[Ff]};y(Vc,D);function If(){}y('flash.display.BlendMode.NORMAL',Ne);y('flash.display.BlendMode.LAYER','layer');y('flash.display.BlendMode.MULTIPLY','multiply');y('flash.display.BlendMode.SCREEN','screen');y('flash.display.BlendMode.LIGHTEN','lighten');y('flash.display.BlendMode.DARKEN','darken');y('flash.display.BlendMode.ADD','lighter');y('flash.display.BlendMode.SUBTRACT','subtract');y('flash.display.BlendMode.DIFFERENCE','difference');y('flash.display.BlendMode.INVERT','invert');
y('flash.display.BlendMode.OVERLAY','overlay');y('flash.display.BlendMode.HARDLIGHT','hard-light');y('flash.display.BlendMode.ALPHA','alpha');y('flash.display.BlendMode.ERASE','erase');y('flash.display.BlendMode.SHADER','shader');If.prototype.i={names:[{name:'BlendMode',j:Xc,kind:l}]};y(Xc,If);function Jf(){}x=Jf.prototype;x.addEventListener=n();x.dispatchEvent=n();x.Mb=n();x.removeEventListener=n();x.mg=n();x.i={names:[{name:'IEventDispatcher',j:Nd,kind:qe}]};y(Nd,Jf);function Kf(a){this.Gd={};this.wd('undefined'!==typeof a?a:null)}Kf.prototype.wd=n();Kf.prototype.addEventListener=function(a,b){var c=this.Gd[a]=this.Gd[a]||[],d=c.indexOf(b);-1!=d&&c.splice(d,1);c.push(b)};Kf.prototype.addEventListener=Kf.prototype.addEventListener;Kf.prototype.removeEventListener=function(a,b){var c=this.Gd[a];if(c){var d=c.indexOf(b);-1!=d&&c.splice(d,1);0===c.length&&(this.Gd[a]=null,delete this.Gd[a])}};Kf.prototype.removeEventListener=Kf.prototype.removeEventListener;
Kf.prototype.dispatchEvent=function(a){return a.target?Lf(this,a.clone()):Lf(this,a)};Kf.prototype.dispatchEvent=Kf.prototype.dispatchEvent;Kf.prototype.Mb=function(a){return null!=this.Gd[a]};Kf.prototype.hasEventListener=Kf.prototype.Mb;Kf.prototype.mg=w(!1);Kf.prototype.willTrigger=Kf.prototype.mg;function Lf(a,b){b.target=a;b.currentTarget=a;var c=a.Gd[b.type];if(c)for(var d=c.length,e=0;e<d;e++)(0,c[e])(b);return!1}Kf.prototype.i={names:[{name:'EventDispatcher',j:Md,kind:l}],Oa:[Jf]};y(Md,Kf);function Mf(a){a='undefined'!==typeof a?a:null;null!=a&&this.decode(a)}Mf.prototype.decode=function(a){for(var b,c,d=a.split('\x26'),e=0;e<d.length;e++)b=ef(d[e]),c=b.indexOf('\x3d'),-1==c?Error.Ay(Error,2101):(a=unescape(b.substr(0,c)),b=unescape(b.substr(c+1)),c=this[a],void 0!=c?(df(c,Array)||(this[a]=c=[c]),c.push(b)):this[a]=b)};Mf.prototype.decode=Mf.prototype.decode;Mf.prototype.i={names:[{name:'URLVariables',j:be,kind:l}]};y(be,Mf);function Nf(){Kf.call(this)}Xe(Nf,Kf);y('flash.display.LoaderInfo.getLoaderInfoByDefinition',w(null));x=Nf.prototype;x.Xs=t('url');x.qj=function(){return window.location.href};x.Js=w(!1);x.yr=w(0);x.zr=w(0);x.au=w(0);x.Wq=w(0);x.Zi=w(0);x.qt=function(){var a=null,b;try{b=new Mf(window.location.search.substr(1))}catch(d){}var c={};for(a in b)c[a]=b[a];return c};x.bc=w(0);x.vc=w(0);x.Pr=w('spriteflexjs');x.Mt=w(null);x.tt=w(null);x.nx=n();x.Gr=w(null);x.ew=n();x.Et=w(!1);x.Fr=w(!1);x.st=w(!1);
x.Vs=w(null);x.Or=t('Jp');x.jw=q('Jp');x.wr=w(null);
Object.defineProperties(Nf.prototype,{loaderURL:{get:Nf.prototype.Xs},url:{get:Nf.prototype.qj},isURLInaccessible:{get:Nf.prototype.Js},bytesLoaded:{get:Nf.prototype.yr},bytesTotal:{get:Nf.prototype.zr},swfVersion:{get:Nf.prototype.au},actionScriptVersion:{get:Nf.prototype.Wq},frameRate:{get:Nf.prototype.Zi},parameters:{get:Nf.prototype.qt},width:{get:Nf.prototype.bc},height:{get:Nf.prototype.vc},contentType:{get:Nf.prototype.Pr},sharedEvents:{get:Nf.prototype.Mt},parentSandboxBridge:{get:Nf.prototype.tt,
set:Nf.prototype.nx},childSandboxBridge:{get:Nf.prototype.Gr,set:Nf.prototype.ew},sameDomain:{get:Nf.prototype.Et},childAllowsParent:{get:Nf.prototype.Fr},parentAllowsChild:{get:Nf.prototype.st},loader:{get:Nf.prototype.Vs},content:{get:Nf.prototype.Or,set:Nf.prototype.jw},bytes:{get:Nf.prototype.wr}});Nf.prototype.i={names:[{name:'LoaderInfo',j:pd,kind:l}]};y(pd,Nf);function Of(a,b,c){this.wd(a,'undefined'!==typeof b?b:!1,'undefined'!==typeof c?c:!1)}y('flash.events.Event.ACTIVATE','activate');y('flash.events.Event.ADDED','added');y('flash.events.Event.ADDED_TO_STAGE','addedToStage');y('flash.events.Event.BROWSER_ZOOM_CHANGE','browserZoomChange');y('flash.events.Event.CANCEL','cancel');y('flash.events.Event.CHANGE','change');y('flash.events.Event.CLEAR','clear');y('flash.events.Event.CLOSE','close');y('flash.events.Event.COMPLETE','complete');
y('flash.events.Event.CONNECT','connect');y('flash.events.Event.COPY','copy');y('flash.events.Event.CUT','cut');y('flash.events.Event.DEACTIVATE','deactivate');y('flash.events.Event.ENTER_FRAME',Gc);y('flash.events.Event.FRAME_CONSTRUCTED','frameConstructed');y('flash.events.Event.EXIT_FRAME','exitFrame');y('flash.events.Event.FRAME_LABEL','frameLabel');y('flash.events.Event.ID3','id3');y('flash.events.Event.INIT','init');y('flash.events.Event.MOUSE_LEAVE',ye);y('flash.events.Event.OPEN','open');
y('flash.events.Event.PASTE','paste');y('flash.events.Event.REMOVED','removed');y('flash.events.Event.REMOVED_FROM_STAGE',Je);y('flash.events.Event.RENDER','render');y('flash.events.Event.RESIZE',Ke);y('flash.events.Event.SCROLL','scroll');y('flash.events.Event.TEXT_INTERACTION_MODE_CHANGE','textInteractionModeChange');y('flash.events.Event.SELECT','select');y('flash.events.Event.SELECT_ALL','selectAll');y('flash.events.Event.SOUND_COMPLETE','soundComplete');
y('flash.events.Event.TAB_CHILDREN_CHANGE','tabChildrenChange');y('flash.events.Event.TAB_ENABLED_CHANGE','tabEnabledChange');y('flash.events.Event.TAB_INDEX_CHANGE','tabIndexChange');y('flash.events.Event.UNLOAD','unload');y('flash.events.Event.FULLSCREEN',pe);y('flash.events.Event.CONTEXT3D_CREATE',Bc);y('flash.events.Event.TEXTURE_READY','textureReady');y('flash.events.Event.VIDEO_FRAME','videoFrame');y('flash.events.Event.SUSPEND','suspend');y('flash.events.Event.CHANNEL_MESSAGE','channelMessage');
y('flash.events.Event.CHANNEL_STATE','channelState');y('flash.events.Event.WORKER_STATE','workerState');Of.prototype.Nf=w(null);Of.prototype.formatToString=Of.prototype.Nf;Of.prototype.wd=function(a,b,c){this.uc=a;this.Fp=b;this.Gp=c};Of.prototype.clone=function(){return new Of(this.type,this.bubbles,this.cancelable)};Of.prototype.clone=Of.prototype.clone;Of.prototype.toString=function(){return this.Nf()};Of.prototype.toString=Of.prototype.toString;Of.prototype.stopPropagation=n();
Of.prototype.stopPropagation=Of.prototype.stopPropagation;Of.prototype.stopImmediatePropagation=n();Of.prototype.stopImmediatePropagation=Of.prototype.stopImmediatePropagation;Of.prototype.preventDefault=n();Of.prototype.preventDefault=Of.prototype.preventDefault;Of.prototype.Gu=w(!1);Of.prototype.isDefaultPrevented=Of.prototype.Gu;x=Of.prototype;x.Sf=t('uc');x.sr=t('Fp');x.Ar=t('Gp');x.pj=t('Qp');x.lk=q('Qp');x.Xr=t('Lp');x.mw=q('Lp');x.os=w(0);
Object.defineProperties(Of.prototype,{type:{get:Of.prototype.Sf},bubbles:{get:Of.prototype.sr},cancelable:{get:Of.prototype.Ar},target:{get:Of.prototype.pj,set:Of.prototype.lk},currentTarget:{get:Of.prototype.Xr,set:Of.prototype.mw},eventPhase:{get:Of.prototype.os}});Of.prototype.i={names:[{name:'Event',j:Ld,kind:l}]};y(Ld,Of);function Pf(a,b,c,d,e,f,g,h,k,m,p){d='undefined'!==typeof d?d:void 0;e='undefined'!==typeof e?e:void 0;f='undefined'!==typeof f?f:null;g='undefined'!==typeof g?g:!1;h='undefined'!==typeof h?h:!1;k='undefined'!==typeof k?k:!1;m='undefined'!==typeof m?m:!1;p='undefined'!==typeof p?p:0;Of.call(this,a,'undefined'!==typeof b?b:!0,'undefined'!==typeof c?c:!1);this.Bi=d;this.Ci=e;this.Od=f;this.Cc=g;this.Bc=h;this.Ic=k;this.xj=m;this.ah=p}Xe(Pf,Of);y('flash.events.MouseEvent.CLICK',Ac);
y('flash.events.MouseEvent.DOUBLE_CLICK',Fc);y('flash.events.MouseEvent.MOUSE_DOWN',xe);y('flash.events.MouseEvent.MOUSE_MOVE',ze);y('flash.events.MouseEvent.MOUSE_OUT',Ae);y('flash.events.MouseEvent.MOUSE_OVER',Be);y('flash.events.MouseEvent.MOUSE_UP',Ce);y('flash.events.MouseEvent.RELEASE_OUTSIDE','releaseOutside');y('flash.events.MouseEvent.MOUSE_WHEEL','mouseWheel');y('flash.events.MouseEvent.ROLL_OUT','rollOut');y('flash.events.MouseEvent.ROLL_OVER',Me);
y('flash.events.MouseEvent.MIDDLE_CLICK','middleClick');y('flash.events.MouseEvent.MIDDLE_MOUSE_DOWN','middleMouseDown');y('flash.events.MouseEvent.MIDDLE_MOUSE_UP','middleMouseUp');y('flash.events.MouseEvent.RIGHT_CLICK','rightClick');y('flash.events.MouseEvent.RIGHT_MOUSE_DOWN','rightMouseDown');y('flash.events.MouseEvent.RIGHT_MOUSE_UP','rightMouseUp');y('flash.events.MouseEvent.CONTEXT_MENU',Cc);Pf.prototype.ah=0;Pf.prototype.Bi=0;Pf.prototype.Ci=0;
Pf.prototype.clone=function(){return new Pf(this.type,this.bubbles,this.cancelable,this.localX,this.localY,this.Od,this.Cc,this.Bc,this.Ic,this.xj,this.ah)};Pf.prototype.clone=Pf.prototype.clone;Pf.prototype.toString=function(){return this.Nf()};Pf.prototype.toString=Pf.prototype.toString;Pf.prototype.lg=n();Pf.prototype.updateAfterEvent=Pf.prototype.lg;x=Pf.prototype;x.Qi=t('localX');x.Ri=t('localY');x.cj=t('Bi');x.ek=q('Bi');x.dj=t('Ci');x.fk=q('Ci');x.ij=t('Od');x.hk=q('Od');x.Pf=t('Cc');
x.hg=q('Cc');x.Of=t('Bc');x.gg=q('Bc');x.Rf=t('Ic');x.jg=q('Ic');x.ur=t('xj');x.aw=q('xj');x.Zr=t('ah');x.ow=q('ah');x.mj=function(){return isNaN(this.localX)||isNaN(this.localY)?Number.NaN:this.Qi()};x.nj=function(){return isNaN(this.localX)||isNaN(this.localY)?Number.NaN:this.Ri()};x.aj=t('Aj');x.ck=q('Aj');x.it=w(0);x.ix=n();x.jt=w(0);x.jx=n();
Object.defineProperties(Pf.prototype,{localX:{get:Pf.prototype.cj,set:Pf.prototype.ek},localY:{get:Pf.prototype.dj,set:Pf.prototype.fk},relatedObject:{get:Pf.prototype.ij,set:Pf.prototype.hk},ctrlKey:{get:Pf.prototype.Pf,set:Pf.prototype.hg},altKey:{get:Pf.prototype.Of,set:Pf.prototype.gg},shiftKey:{get:Pf.prototype.Rf,set:Pf.prototype.jg},buttonDown:{get:Pf.prototype.ur,set:Pf.prototype.aw},delta:{get:Pf.prototype.Zr,set:Pf.prototype.ow},stageX:{get:Pf.prototype.mj},stageY:{get:Pf.prototype.nj},
isRelatedObjectInaccessible:{get:Pf.prototype.aj,set:Pf.prototype.ck},movementX:{get:Pf.prototype.it,set:Pf.prototype.ix},movementY:{get:Pf.prototype.jt,set:Pf.prototype.jx}});Pf.prototype.i={names:[{name:'MouseEvent',j:Pd,kind:l}]};y(Pd,Pf);function Qf(){}Qf.prototype.clone=w(null);Qf.prototype.clone=Qf.prototype.clone;Qf.prototype.ot=t('Hg');Qf.prototype.pt=t('Ig');Object.defineProperties(Qf.prototype,{offsetX:{get:Qf.prototype.ot},offsetY:{get:Qf.prototype.pt}});Qf.prototype.i={names:[{name:'BitmapFilter',j:Rd,kind:l}]};y(Rd,Qf);function Rf(a,b,c,d,e,f,g,h,k,m,p){a='undefined'!==typeof a?a:4;b='undefined'!==typeof b?b:45;c='undefined'!==typeof c?c:0;d='undefined'!==typeof d?d:1;e='undefined'!==typeof e?e:4;f='undefined'!==typeof f?f:4;this.xi=a;this.si=b;this.Na=c;this.Rc=d;this.le=e;this.me=f;this.ue='undefined'!==typeof g?g:1;this.$b='undefined'!==typeof h?h:1;this.qe='undefined'!==typeof k?k:!1;this.re='undefined'!==typeof m?m:!1;this.zi='undefined'!==typeof p?p:!1;b*=Math.PI/180;this.Hg=a*Math.cos(b);this.Ig=a*Math.sin(b);
this.Kg='rgba('+(c>>16&255)+','+(c>>8&255)+','+(c&255)+','+d+')';this.rd=Math.max(e,f)}Xe(Rf,Qf);x=Rf.prototype;x.Rc=1;x.si=0;x.le=0;x.me=0;x.Na=0;x.xi=5;x.zi=!1;x.qe=!1;x.re=!1;x.$b=1;x.ue=1;x.clone=w(null);Rf.prototype.clone=Rf.prototype.clone;x=Rf.prototype;x.De=t('Rc');x.gd=q('Rc');x.ar=t('si');x.Mv=q('si');x.Ui=t('le');x.Yj=q('le');x.Vi=t('me');x.Zj=q('me');x.ub=t('Na');x.Sb=q('Na');x.es=t('xi');x.sw=q('xi');x.As=t('zi');x.Fw=q('zi');x.$i=t('qe');x.bk=q('qe');x.bj=t('re');x.dk=q('re');x.Qf=t('$b');
x.ig=q('$b');x.oj=t('ue');x.kk=q('ue');x.jj=t('Kg');x.Ti=t('rd');
Object.defineProperties(Rf.prototype,{alpha:{get:Rf.prototype.De,set:Rf.prototype.gd},angle:{get:Rf.prototype.ar,set:Rf.prototype.Mv},blurX:{get:Rf.prototype.Ui,set:Rf.prototype.Yj},blurY:{get:Rf.prototype.Vi,set:Rf.prototype.Zj},color:{get:Rf.prototype.ub,set:Rf.prototype.Sb},distance:{get:Rf.prototype.es,set:Rf.prototype.sw},hideObject:{get:Rf.prototype.As,set:Rf.prototype.Fw},inner:{get:Rf.prototype.$i,set:Rf.prototype.bk},knockout:{get:Rf.prototype.bj,set:Rf.prototype.dk},quality:{get:Rf.prototype.Qf,
set:Rf.prototype.ig},strength:{get:Rf.prototype.oj,set:Rf.prototype.kk},rgba:{get:Rf.prototype.jj},blur:{get:Rf.prototype.Ti}});Rf.prototype.i={names:[{name:'DropShadowFilter',j:Sd,kind:l}]};y(Sd,Rf);function Sf(a,b,c,d,e,f,g,h){a='undefined'!==typeof a?a:16711680;b='undefined'!==typeof b?b:1;c='undefined'!==typeof c?c:6;d='undefined'!==typeof d?d:6;this.Na=a;this.Rc=b;this.le=c;this.me=d;this.ue='undefined'!==typeof e?e:2;this.$b='undefined'!==typeof f?f:1;this.qe='undefined'!==typeof g?g:!1;this.re='undefined'!==typeof h?h:!1;this.Kg='rgba('+(a>>16&255)+','+(a>>8&255)+','+(a&255)+','+b+')';this.Hg=this.Ig=this.rd=Math.max(c,d)}Xe(Sf,Qf);x=Sf.prototype;x.Na=0;x.$b=0;x.De=t('Rc');x.gd=q('Rc');
x.Ui=t('le');x.Yj=function(a){this.le=a;this.Hg=this.Ig=this.rd=Math.max(this.blurX,this.blurY)};x.Vi=t('me');x.Zj=function(a){this.me=a;this.Hg=this.Ig=this.rd=Math.max(this.blurX,this.blurY)};x.ub=t('Na');x.Sb=function(a){this.Na=a;this.Kg='rgba('+(this.color>>16&255)+','+(this.color>>8&255)+','+(this.color&255)+','+this.alpha+')'};x.$i=t('qe');x.bk=q('qe');x.bj=t('re');x.dk=q('re');x.Qf=t('$b');x.ig=q('$b');x.oj=t('ue');x.kk=q('ue');x.Ti=t('rd');x.jj=t('Kg');
Object.defineProperties(Sf.prototype,{alpha:{get:Sf.prototype.De,set:Sf.prototype.gd},blurX:{get:Sf.prototype.Ui,set:Sf.prototype.Yj},blurY:{get:Sf.prototype.Vi,set:Sf.prototype.Zj},color:{get:Sf.prototype.ub,set:Sf.prototype.Sb},inner:{get:Sf.prototype.$i,set:Sf.prototype.bk},knockout:{get:Sf.prototype.bj,set:Sf.prototype.dk},quality:{get:Sf.prototype.Qf,set:Sf.prototype.ig},strength:{get:Sf.prototype.oj,set:Sf.prototype.kk},blur:{get:Sf.prototype.Ti},rgba:{get:Sf.prototype.jj}});
Sf.prototype.i={names:[{name:'GlowFilter',j:Td,kind:l}]};y(Td,Sf);function Tf(a,b,c,d,e,f,g,h){this.redMultiplier='undefined'!==typeof a?a:1;this.greenMultiplier='undefined'!==typeof b?b:1;this.blueMultiplier='undefined'!==typeof c?c:1;this.alphaMultiplier='undefined'!==typeof d?d:1;this.redOffset='undefined'!==typeof e?e:0;this.greenOffset='undefined'!==typeof f?f:0;this.blueOffset='undefined'!==typeof g?g:0;this.alphaOffset='undefined'!==typeof h?h:0}Tf.prototype.Jc=4294967295;Tf.prototype.tint=Tf.prototype.Jc;
Tf.prototype.concat=function(a){this.alphaOffset+=this.alphaMultiplier*a.alphaOffset;this.alphaMultiplier*=a.alphaMultiplier;this.redOffset+=this.redMultiplier*a.redOffset;this.redMultiplier*=a.redMultiplier;this.greenOffset+=this.greenMultiplier*a.greenOffset;this.greenMultiplier*=a.greenMultiplier;this.blueOffset+=this.blueMultiplier*a.blueOffset;this.blueMultiplier*=a.blueMultiplier};Tf.prototype.concat=Tf.prototype.concat;
Tf.prototype.toString=function(){return'(redMultiplier\x3d'+this.redMultiplier+', greenMultiplier\x3d'+this.greenMultiplier+', blueMultiplier\x3d'+this.blueMultiplier+', alphaMultiplier\x3d'+this.alphaMultiplier+', redOffset\x3d'+this.redOffset+', greenOffset\x3d'+this.greenOffset+', blueOffset\x3d'+this.blueOffset+', alphaOffset\x3d'+this.alphaOffset+')'};Tf.prototype.toString=Tf.prototype.toString;x=Tf.prototype;x.ub=function(){return this.redOffset<<16|this.greenOffset<<8|this.blueOffset};
x.Sb=function(a){this.redMultiplier=this.greenMultiplier=this.blueMultiplier=0;this.redOffset=a>>16&255;this.greenOffset=a>>8&255;this.blueOffset=a&255};x.yt=t('Gf');x.sx=function(a){this.Gf=a;this.Jc=255*this.Gf<<0|255*this.Bf<<8|255*this.zf<<16|255*this.yf<<24};x.ys=t('Bf');x.Dw=function(a){this.Bf=a;this.Jc=255*this.Gf<<0|255*this.Bf<<8|255*this.zf<<16|255*this.yf<<24};x.ir=t('zf');x.Tv=function(a){this.zf=a;this.Jc=255*this.Gf<<0|255*this.Bf<<8|255*this.zf<<16|255*this.yf<<24};x.Zq=t('yf');
x.Kv=function(a){this.yf=a;this.Jc=255*this.Gf<<0|255*this.Bf<<8|255*this.zf<<16|255*this.yf<<24};Object.defineProperties(Tf.prototype,{color:{get:Tf.prototype.ub,set:Tf.prototype.Sb},redMultiplier:{get:Tf.prototype.yt,set:Tf.prototype.sx},greenMultiplier:{get:Tf.prototype.ys,set:Tf.prototype.Dw},blueMultiplier:{get:Tf.prototype.ir,set:Tf.prototype.Tv},alphaMultiplier:{get:Tf.prototype.Zq,set:Tf.prototype.Kv}});Tf.prototype.i={names:[{name:'ColorTransform',j:Ud,kind:l}]};y(Ud,Tf);function Uf(a){this.Gl=new z;this.lb=new Tf;this.Zb=new Tf;this.vi=new z;this.Ai=new z;this.wd(a)}x=Uf.prototype;x.Ii=!0;x.U=!0;x.uj=!0;x.wd=q('Og');x.Sq=w(null);Uf.prototype.getRelativeMatrix3D=Uf.prototype.Sq;Uf.prototype.Za=function(){this.uj=this.U=!0};Uf.prototype.updateTransforms=Uf.prototype.Za;Uf.prototype.qk=function(){this.Ii=!0};Uf.prototype.updateColorTransforms=Uf.prototype.qk;x=Uf.prototype;x.Ys=t('Gl');x.Yw=function(a){this.Gl=a;this.Za()};x.Jr=t('lb');x.gw=function(a){this.lb=a;this.qk()};
x.Lr=function(){this.U&&(this.vi.Ja(this.matrix),this.Og.parent&&this.vi.concat(this.Og.parent.transform.concatenatedMatrix),this.U=!1);return this.vi};
x.Kr=function(){this.Ii&&(this.Zb.alphaOffset=this.lb.alphaOffset,this.Zb.alphaMultiplier=this.lb.alphaMultiplier,this.Zb.redOffset=this.lb.redOffset,this.Zb.redMultiplier=this.lb.redMultiplier,this.Zb.greenOffset=this.lb.greenOffset,this.Zb.greenMultiplier=this.lb.greenMultiplier,this.Zb.blueOffset=this.lb.blueOffset,this.Zb.blueMultiplier=this.lb.blueMultiplier,this.Og.parent&&this.Zb.concat(this.Og.parent.transform.concatenatedColorTransform),this.Ii=!1);return this.Zb};x.vt=w(null);x.Zs=w(null);
x.Zw=n();x.ut=w(null);x.ox=n();x.Hs=function(){this.uj&&(this.Ai.Ja(this.concatenatedMatrix),this.Ai.Fe(),this.uj=!1);return this.Ai};
Object.defineProperties(Uf.prototype,{matrix:{get:Uf.prototype.Ys,set:Uf.prototype.Yw},colorTransform:{get:Uf.prototype.Jr,set:Uf.prototype.gw},concatenatedMatrix:{get:Uf.prototype.Lr},concatenatedColorTransform:{get:Uf.prototype.Kr},pixelBounds:{get:Uf.prototype.vt},matrix3D:{get:Uf.prototype.Zs,set:Uf.prototype.Zw},perspectiveProjection:{get:Uf.prototype.ut,set:Uf.prototype.ox},invMatrix:{get:Uf.prototype.Hs}});Uf.prototype.i={names:[{name:'Transform',j:$d,kind:l}]};y($d,Uf);y('flash.utils.getTimer',function(){return Date.now()-xf});function F(){Kf.call(this);this.pe=[];this.Pp=new Nf;(this.yb=Vf)&&this.tj()}var Vf;Xe(F,Kf);F.prototype.Dl=!1;var Wf=0;F.prototype.Xg=0;F.prototype.innerID=F.prototype.Xg;x=F.prototype;x.ud=0;x.fg=0;x.eg=1;x.Lg=!0;x.Bg=!1;x.ne=0;x.oe=0;
x.tj=function(){this.Dl||(this.Ag=Ne,this.transform=new Uf(this),this.Xg=Wf++,this.Di='instance'+this.Xg,0===this.Xg&&(this.yb=Vf,this.yb.addEventListener(Gc,gf(this.Dp,this,'__enterFrame')),this.yb.addEventListener(Ac,gf(this.ke,this,tc)),this.yb.addEventListener(Cc,gf(this.ke,this,tc)),this.yb.addEventListener(Fc,gf(this.ke,this,tc)),this.yb.addEventListener(xe,gf(this.ke,this,tc)),this.yb.addEventListener(ze,gf(this.ke,this,tc)),this.yb.addEventListener(Ce,gf(this.ke,this,tc))),this.Dl=!0)};
F.prototype.initDisplayObjectStage=F.prototype.tj;F.prototype.Za=function(){this.transform.Za();Cf=!0};F.prototype.updateTransforms=F.prototype.Za;F.prototype.zm=function(a){return this.transform.invMatrix.Kc(a)};F.prototype.globalToLocal=F.prototype.zm;F.prototype.Nu=function(a){return this.transform.concatenatedMatrix.Kc(a)};F.prototype.localToGlobal=F.prototype.Nu;F.prototype.Xc=function(a){return(a=Object(a).graphics)&&a.bound?a.bound.clone():new C};F.prototype.getBounds=F.prototype.Xc;
F.prototype.Yc=function(a){a=(a=Object(a).graphics)&&a.bound?a.bound.clone():new C;var b=Math.PI/180*this.ud,c=Math.round(10*(a.height*Math.sin(b)+a.width*Math.cos(b)))/10,b=Math.round(10*(a.height*Math.cos(b)+a.width*Math.sin(b)))/10,c=c>a.width?c-a.width:0,b=b>a.height?b-a.width:0;a.wc(c/2,b/2);return a};F.prototype.getFullBounds=F.prototype.Yc;F.prototype.Bd=function(a){return(a=Object(a).graphics)&&a.rect?a.rect.clone():new C};F.prototype.getRect=F.prototype.Bd;F.prototype.je=w(null);
F.prototype.__getRect=F.prototype.je;F.prototype.yu=w(!1);F.prototype.hitTestObject=F.prototype.yu;F.prototype.sj=function(a,b){var c=this.je();return c?c.Vl(this.zm(new qf(a,b))):!1};F.prototype.hitTestPoint=F.prototype.sj;F.prototype.vu=w(null);F.prototype.globalToLocal3D=F.prototype.vu;F.prototype.Mu=w(null);F.prototype.local3DToGlobal=F.prototype.Mu;
function Xf(a,b){var c=a.pe,d;for(d in c){var e=c[d];df(e,Rf)?(b.shadowColor=e.rgba,b.shadowBlur=e.blur,b.shadowOffsetX=e.offsetX,b.shadowOffsetY=e.offsetY,b.fill(),b.shadowColor='0',b.shadowOffsetX=0,b.shadowOffsetY=0,b.stroke()):df(e,Sf)&&(b.shadowColor=e.rgba,b.shadowBlur=e.blur,b.fill())}}F.prototype.kb=n();F.prototype.__update=F.prototype.kb;
F.prototype.Dp=function(){if(Cf){Cf=!1;var a=this.stage.ctx;a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,this.stage.stageWidth,this.stage.stageHeight);yf=0;Bf.start(a);this.kb(a);Bf.finish(a)}};
F.prototype.ke=function(a){var b=this.ie(a);if(a.type===ze){for(var c=this.Lu;c&&c!=b;)c.dispatchEvent(new Pf(Ae,!1,!1,a.localX,a.localY,null,a.ctrlKey,a.altKey,a.shiftKey,a.buttonDown)),c.dispatchEvent(new Pf('rollOut',!1,!1,a.localX,a.localY,null,a.ctrlKey,a.altKey,a.shiftKey,a.buttonDown)),c=c.parent;var d=new Pf(Be,!0,!1,a.localX,a.localY,null,a.ctrlKey,a.altKey,a.shiftKey,a.buttonDown),e=new Pf(Me,!0,!1,a.localX,a.localY,null,a.ctrlKey,a.altKey,a.shiftKey,a.buttonDown);b&&b!=c&&(b.dispatchEvent(d),
b.dispatchEvent(e));this.Lu=b}b&&b.dispatchEvent(a)};F.prototype.ie=w(null);F.prototype.dispatchEvent=function(a){var b=F.o.dispatchEvent.apply(this,[a]);a.bubbles&&this.parent&&this.parent.dispatchEvent(a);return b};F.prototype.dispatchEvent=F.prototype.dispatchEvent;x=F.prototype;x.Ut=t('yb');x.Ix=function(a){(this.yb=a)?this.dispatchEvent(new Of('addedToStage')):(Cf=!0,this.dispatchEvent(new Of(Je)))};x.Ws=t('Pp');x.Dt=w(null);x.lm=t('Di');x.th=q('Di');x.rt=t('_parent');x.jm=w(null);x.qh=n();
x.Tg=t('Lg');x.Se=q('Lg');x.Ug=function(){return this.transform.matrix.tx};x.Ue=function(a){this.transform.matrix.tx=a;this.Za()};x.Vg=function(){return this.transform.matrix.ty};x.Ve=function(a){this.transform.matrix.ty=a;this.Za()};x.ym=w(0);x.Hh=n();x.sm=function(){var a=this.transform.matrix;return 0===a.b?a.a:Math.sqrt(a.a*a.a+a.b*a.b)};x.Ah=function(a){var b=this.transform.matrix;0===b.c?b.a=a:(b.a=this.eg*a,b.b=this.fg*a);this.Za()};
x.tm=function(){var a=this.transform.matrix;return 0===a.c?a.d:Math.sqrt(a.c*a.c+a.d*a.d)};x.Bh=function(a){var b=this.transform.matrix;0===b.c?b.d=a:(b.c=-this.fg*a,b.d=this.eg*a);this.Za()};x.um=w(1);x.Ch=n();x.ej=function(){return this.stage?this.transform.invMatrix.Kc(new qf(this.stage.mouseX,this.stage.mouseY)).x:0};x.fj=function(){return this.stage?this.transform.invMatrix.Kc(new qf(this.stage.mouseX,this.stage.mouseY)).y:0};x.nm=t('ud');
x.vh=function(a){this.ud=a;var b=this.transform.matrix;a=a*Math.PI/180;this.fg=Math.sin(a);this.eg=Math.cos(a);a=0===b.b?b.a:Math.sqrt(b.a*b.a+b.b*b.b);var c=0===b.c?b.d:Math.sqrt(b.c*b.c+b.d*b.d);b.a=this.eg*a;b.b=this.fg*a;b.c=-this.fg*c;b.d=this.eg*c;this.Za()};x.om=w(0);x.wh=n();x.pm=w(0);x.xh=n();x.qm=w(0);x.yh=n();x.De=function(){return this.transform.colorTransform.alphaMultiplier};x.gd=function(a){this.transform.colorTransform.alphaMultiplier=a;this.transform.qk()};
x.bc=function(){var a=this.Bd(this),b=Math.PI/180*this.ud;a.width=Math.round(10*(a.height*Math.sin(b)+a.width*Math.cos(b)))/10;return a?a.width:0};x.Te=n();x.vc=function(){var a=this.Bd(this),b=Math.PI/180*this.ud;a.height=Math.round(10*(a.height*Math.cos(b)+a.width*Math.sin(b)))/10;return a?a.height:0};x.Re=n();x.Pg=t('Bg');x.lc=function(a){this.Bg=a;-1!=Af.indexOf('gpu')&&(this.Bg=!1)};x.mm=w(null);x.uh=n();x.vm=w(null);x.Dh=n();x.hm=t('pe');
x.$j=function(a){a=this.pe=a;for(var b in a){var c=a[b];this.ne+=Math.max(c.offsetX,this.ne);this.oe+=Math.max(c.offsetY,this.oe)}};x.gm=t('Ag');x.ph=q('Ag');x.rm=w(null);x.zh=n();x.ft=w(null);x.ex=n();x.ps=t('ne');x.qs=t('oe');
Object.defineProperties(F.prototype,{stage:{get:F.prototype.Ut,set:F.prototype.Ix},loaderInfo:{get:F.prototype.Ws},root:{get:F.prototype.Dt},name:{get:F.prototype.lm,set:F.prototype.th},parent:{get:F.prototype.rt},mask:{get:F.prototype.jm,set:F.prototype.qh},visible:{get:F.prototype.Tg,set:F.prototype.Se},x:{get:F.prototype.Ug,set:F.prototype.Ue},y:{get:F.prototype.Vg,set:F.prototype.Ve},z:{get:F.prototype.ym,set:F.prototype.Hh},scaleX:{get:F.prototype.sm,set:F.prototype.Ah},scaleY:{get:F.prototype.tm,
set:F.prototype.Bh},scaleZ:{get:F.prototype.um,set:F.prototype.Ch},mouseX:{get:F.prototype.ej},mouseY:{get:F.prototype.fj},rotation:{get:F.prototype.nm,set:F.prototype.vh},rotationX:{get:F.prototype.om,set:F.prototype.wh},rotationY:{get:F.prototype.pm,set:F.prototype.xh},rotationZ:{get:F.prototype.qm,set:F.prototype.yh},alpha:{get:F.prototype.De,set:F.prototype.gd},width:{get:F.prototype.bc,set:F.prototype.Te},height:{get:F.prototype.vc,set:F.prototype.Re},cacheAsBitmap:{get:F.prototype.Pg,set:F.prototype.lc},
opaqueBackground:{get:F.prototype.mm,set:F.prototype.uh},scrollRect:{get:F.prototype.vm,set:F.prototype.Dh},filters:{get:F.prototype.hm,set:F.prototype.$j},blendMode:{get:F.prototype.gm,set:F.prototype.ph},scale9Grid:{get:F.prototype.rm,set:F.prototype.zh},metaData:{get:F.prototype.ft,set:F.prototype.ex},filterOffsetX:{get:F.prototype.ps},filterOffsetY:{get:F.prototype.qs}});Object.defineProperties(F,{initStage:{set:function(a){Vf=a}}});F.prototype.i={names:[{name:'DisplayObject',j:Yc,kind:l}],Oa:[Ff]};
y(Yc,F);function Yf(){F.call(this)}Xe(Yf,F);Yf.prototype.Gg=!0;Yf.prototype.Bl=!1;Yf.prototype.qv=w(!1);Yf.prototype.requestSoftKeyboard=Yf.prototype.qv;x=Yf.prototype;x.wm=w(!0);x.Fh=n();x.xm=w(0);x.Gh=n();x.im=w(null);x.ak=n();x.km=t('Gg');x.sh=q('Gg');x.fs=t('Bl');x.tw=q('Bl');x.Rt=w(null);x.Gx=n();x.lt=w(!1);x.lx=n();
Object.defineProperties(Yf.prototype,{tabEnabled:{get:Yf.prototype.wm,set:Yf.prototype.Fh},tabIndex:{get:Yf.prototype.xm,set:Yf.prototype.Gh},focusRect:{get:Yf.prototype.im,set:Yf.prototype.ak},mouseEnabled:{get:Yf.prototype.km,set:Yf.prototype.sh},doubleClickEnabled:{get:Yf.prototype.fs,set:Yf.prototype.tw},softKeyboardInputAreaOfInterest:{get:Yf.prototype.Rt,set:Yf.prototype.Gx},needsSoftKeyboard:{get:Yf.prototype.lt,set:Yf.prototype.lx}});Yf.prototype.i={names:[{name:'InteractiveObject',j:od,kind:l}]};
y(od,Yf);function G(){this.children=[];F.call(this)}Xe(G,Yf);G.prototype.Fg=!0;G.prototype.Vc=function(a){return this.xe(a,this.children.length)};G.prototype.addChild=G.prototype.Vc;G.prototype.xe=function(a,b){var c=this.children.indexOf(a);-1!=c&&this.children.splice(c,1);this.children.splice(b,0,a);a.stage=this.stage;a._parent=this;return a};G.prototype.addChildAt=G.prototype.xe;G.prototype.removeChild=function(a){var b=this.children.indexOf(a);return-1!=b?this.Pe(b):a};G.prototype.removeChild=G.prototype.removeChild;
G.prototype.Pe=function(a){var b=this.children[a];b&&(b._parent=null,b.stage=null);this.children.splice(a,1);return b};G.prototype.removeChildAt=G.prototype.Pe;G.prototype.Pi=function(a){return this.children.indexOf(a)};G.prototype.getChildIndex=G.prototype.Pi;G.prototype.mh=function(a,b){this.removeChild(a);this.xe(a,b)};G.prototype.setChildIndex=G.prototype.mh;G.prototype.em=function(a){return this.children[a]};G.prototype.getChildAt=G.prototype.em;
G.prototype.Bq=function(a){for(var b=this.children.length,c=0;c<b;c++){var d=this.children[c];if(d.name===a)return d}return null};G.prototype.getChildByName=G.prototype.Bq;G.prototype.Nq=w(null);G.prototype.getObjectsUnderPoint=G.prototype.Nq;G.prototype.Wp=w(!1);G.prototype.areInaccessibleObjectsUnderPoint=G.prototype.Wp;G.prototype.contains=function(a){return-1!=this.children.indexOf(a)};G.prototype.contains=G.prototype.contains;
G.prototype.kg=function(a,b){var c=this.children[a];this.children[a]=this.children[b];this.children[b]=c};G.prototype.swapChildrenAt=G.prototype.kg;G.prototype.iy=function(a,b){this.kg(this.Pi(a),this.Pi(b))};G.prototype.swapChildren=G.prototype.iy;G.prototype.mv=function(a,b){a='undefined'!==typeof a?a:0;for(var c=Math.min(this.numChildren-1,a+('undefined'!==typeof b?b:2147483647)-1);c>=a;c--)this.Pe(c)};G.prototype.removeChildren=G.prototype.mv;G.prototype.ey=n();G.prototype.stopAllMovieClips=G.prototype.ey;
G.prototype.kb=function(a){if(this.visible)for(var b=this.children.length,c=0;c<b;c++)this.children[c].kb(a)};G.prototype.__update=G.prototype.kb;G.prototype.Za=function(){G.o.Za.apply(this);for(var a=this.children.length,b=0;b<a;b++)this.children[b].Za()};G.prototype.updateTransforms=G.prototype.Za;G.prototype.ie=function(a){if(this.mouseEnabled&&this.mouseChildren&&this.visible)for(var b=this.children.length-1;0<=b;b--){var c=this.children[b].ie(a);if(c)return c}return null};
G.prototype.Xc=function(a){a=G.o.Xc.apply(this,[a]);for(var b=this.children.length,c=0;c<b;c++){var d=this.children[c],e=d.Xc(d);e.left+=d.x;e.right+=d.x;e.top+=d.y;e.bottom+=d.y;a=a.Ih(e)}return a};G.prototype.getBounds=G.prototype.Xc;G.prototype.Bd=function(a){a=G.o.Bd.apply(this,[a]);for(var b=this.children.length,c=0;c<b;c++){var d=this.children[c],e=d.Bd(d);e.left+=d.x;e.right+=d.x;e.top+=d.y;e.bottom+=d.y;a=a.Ih(e)}return a};G.prototype.getRect=G.prototype.Bd;
G.prototype.Yc=function(a){a=G.o.Xc.apply(this,[a]);for(var b=this.children.length,c=0;c<b;c++){var d=this.children[c],e=d.Yc(d);e.left+=d.x;e.right+=d.x;e.top+=d.y;e.bottom+=d.y;a=a.Ih(e)}return a};G.prototype.getFullBounds=G.prototype.Yc;x=G.prototype;x.Rg=function(){return this.children.length};x.Sg=w(!1);x.Eh=n();x.Qg=t('Fg');x.rh=q('Fg');
Object.defineProperties(G.prototype,{numChildren:{get:G.prototype.Rg},tabChildren:{get:G.prototype.Sg,set:G.prototype.Eh},mouseChildren:{get:G.prototype.Qg,set:G.prototype.rh}});G.prototype.i={names:[{name:'DisplayObjectContainer',j:Zc,kind:l}]};y(Zc,G);function Zf(){}y('flash.display.GradientType.LINEAR',se);y('flash.display.GradientType.RADIAL','radial');Zf.prototype.i={names:[{name:'GradientType',j:$c,kind:l}]};y($c,Zf);function $f(a,b,c,d,e,f,g,h,k){a='undefined'!==typeof a?a:se;d='undefined'!==typeof d?d:null;e='undefined'!==typeof e?e:null;f='undefined'!==typeof f?f:null;this.uc=a;this.colors='undefined'!==typeof b?b:null;this.alphas='undefined'!==typeof c?c:null;this.ratios=d;this.Ia=e?e:new C;this.matrix=f;this.Kl=ef('undefined'!==typeof g?g:'pad');this.El='undefined'!==typeof h?h:'rgb';this.focalPointRatio='undefined'!==typeof k?k:0;this.yl=[];for(b=0;b<d.length;b++)this.yl.push(d[b]/255);f?(this.nb=new qf(-(2*
this.Ia.width),this.Ia.height),this.mb=new qf(2*this.Ia.width,this.Ia.height),'radial'==a&&(this.nb=new qf(0,0),this.mb=new qf(0,0)),this.nb=f.Kc(this.nb),this.mb=f.Kc(this.mb)):(this.nb=new qf(this.Ia.x,this.Ia.y),this.mb=new qf(this.Ia.width,this.Ia.y))}
$f.prototype.oa=function(a,b){if(null==this.td){this.td=this.type===se?a.createLinearGradient(this.nb.x,this.nb.y,this.mb.x,this.mb.y):a.createRadialGradient(this.nb.x,this.nb.y,0,this.mb.x,this.mb.y,this.bounds.width/2);if(!this.lb||this.lb!=b){this.lb=b;this.xl=[];for(var c=0;c<this.colors.length;c++)this.xl.push(Bf.ac(this.colors[c],this.alphas[c],this.lb,null))}for(c=0;c<this.colors.length;c++)this.td.addColorStop(this.yl[c],this.xl[c])}a.fillStyle=this.td};$f.prototype.draw=$f.prototype.oa;
$f.prototype.Xa=function(a){null==this.td&&(this.td=this.type==se?a.createLinearGradient(0,0,1,1):a.createRadialGradient(0,0,1,0,0,1));a.fillStyle=this.td;a.fillStyleIsImage=!1};$f.prototype.gldraw=$f.prototype.Xa;x=$f.prototype;x.Sf=t('uc');x.mk=q('uc');x.Tt=t('Kl');x.Hx=q('Kl');x.Gs=t('El');x.Lw=q('El');x.qr=t('Ia');
x.Zv=function(a){this.Ia=a;this.matrix?(this.nb=new qf(-(2*this.Ia.width),this.Ia.height),this.mb=new qf(2*this.Ia.width,this.Ia.height),'radial'==this.type&&(this.nb=new qf(0,0),this.mb=new qf(0,0)),this.nb=this.matrix.Kc(this.nb),this.mb=this.matrix.Kc(this.mb)):(this.nb=new qf(this.Ia.x,this.Ia.y),this.mb=new qf(this.Ia.width,this.Ia.y))};x.xs=t('td');x.Zt=t('nb');x.ms=t('mb');
Object.defineProperties($f.prototype,{type:{get:$f.prototype.Sf,set:$f.prototype.mk},spreadMethod:{get:$f.prototype.Tt,set:$f.prototype.Hx},interpolationMethod:{get:$f.prototype.Gs,set:$f.prototype.Lw},bounds:{get:$f.prototype.qr,set:$f.prototype.Zv},gradient:{get:$f.prototype.xs},startPoint:{get:$f.prototype.Zt},endPoint:{get:$f.prototype.ms}});$f.prototype.i={names:[{name:'GraphicsGradientFill',j:dd,kind:l}],Oa:[of,nf]};y(dd,$f);function ag(a,b){this._glcolor=[];this.color='undefined'!==typeof a?a:0;this.alpha='undefined'!==typeof b?b:1}ag.prototype.color=0;ag.prototype.color=ag.prototype.color;ag.prototype.alpha=1;ag.prototype.alpha=ag.prototype.alpha;ag.prototype.oa=function(a,b){a.fillStyle=Bf.ac(this.color,this.alpha,b,null)};ag.prototype.draw=ag.prototype.oa;ag.prototype.Xa=function(a,b){a.fillStyle=Bf.ac(this.color,this.alpha,b,this._glcolor);a.fillStyleIsImage=!1};ag.prototype.gldraw=ag.prototype.Xa;
ag.prototype.i={names:[{name:'GraphicsSolidFill',j:gd,kind:l}],Oa:[of,nf]};y(gd,ag);function bg(){}bg.prototype.i={names:[{name:'IGraphicsStroke',j:nd,kind:qe}]};y(nd,bg);function cg(a,b,c,d,e,f,g){a='undefined'!==typeof a?a:NaN;d='undefined'!==typeof d?d:De;this.thickness=a;this.pixelHinting='undefined'!==typeof b?b:!1;this.Cg=d==De?'butt':d;this.Ef='undefined'!==typeof e?e:'round';this.miterLimit='undefined'!==typeof f?f:3;this.If='undefined'!==typeof c?c:'normal';this.fill='undefined'!==typeof g?g:null}
cg.prototype.oa=function(a,b){if(isNaN(this.thickness))a.lineJoin=this.Ef,a.stroke();else if(a.lineWidth=this.thickness,df(this.fill,ag)){var c=this.fill;a.lineCap=this.Cg;a.lineJoin=this.Ef;a.miterLimit=this.miterLimit;a.strokeStyle=Bf.ac(c.color,c.alpha,b,null)}else df(this.fill,$f)&&(c=this.fill,c.oa(a,b),a.lineCap=this.Cg,a.lineJoin=this.Ef,a.miterLimit=this.miterLimit,a.strokeStyle=c.gradient)};cg.prototype.draw=cg.prototype.oa;
cg.prototype.Xa=function(a,b){if(isNaN(this.thickness))a.stroke();else if(a.lineWidth=this.thickness,df(this.fill,ag)){var c=this.fill;Bf.ac(c.color,c.alpha,b,c._glcolor);a.strokeStyle=c._glcolor}};cg.prototype.gldraw=cg.prototype.Xa;x=cg.prototype;x.Cr=t('Cg');x.cw=q('Cg');x.Ls=t('Ef');x.Ow=q('Ef');x.kj=t('If');x.ik=q('If');Object.defineProperties(cg.prototype,{caps:{get:cg.prototype.Cr,set:cg.prototype.cw},joints:{get:cg.prototype.Ls,set:cg.prototype.Ow},scaleMode:{get:cg.prototype.kj,set:cg.prototype.ik}});
cg.prototype.i={names:[{name:'GraphicsStroke',j:hd,kind:l}],Oa:[bg,nf]};y(hd,cg);function dg(a,b,c,d){this.vertices='undefined'!==typeof a?a:null;this.indices='undefined'!==typeof b?b:null;this.uvtData='undefined'!==typeof c?c:null;this.Al='undefined'!==typeof d?d:De}dg.prototype.oa=n();dg.prototype.draw=dg.prototype.oa;dg.prototype.Xa=n();dg.prototype.gldraw=dg.prototype.Xa;dg.prototype.Wr=t('Al');dg.prototype.lw=q('Al');Object.defineProperties(dg.prototype,{culling:{get:dg.prototype.Wr,set:dg.prototype.lw}});
dg.prototype.i={names:[{name:'GraphicsTrianglePath',j:id,kind:l}],Oa:[tf,nf]};y(id,dg);function H(){this.graphicsData=lf();this.gradientFills=new lf;this.$m=[];this._worldMatrix=new z}H.prototype.kh=0;H.prototype.zc=!1;y('flash.display.Graphics.debug',!1);H.prototype.clear=function(){Cf=!0;this.Aa=this.lastStroke=null;this.kh=0;this.graphicsData=lf();this.na=null};H.prototype.clear=H.prototype.clear;H.prototype.ze=function(a,b){b='undefined'!==typeof b?b:1;this.Ce();this.lastFill=new ag(a,b);this.graphicsData.push(this.lastFill)};H.prototype.beginFill=H.prototype.ze;
H.prototype.Pl=function(a,b,c,d,e,f,g,h){e='undefined'!==typeof e?e:null;f='undefined'!==typeof f?f:'pad';g='undefined'!==typeof g?g:'rgb';h='undefined'!==typeof h?h:0;this.Ce();this.lastFill=new $f(a,b,c,d,this.na,e,f,g,h);this.graphicsData.push(this.lastFill)};H.prototype.beginGradientFill=H.prototype.Pl;H.prototype.Ol=function(a,b,c,d){b='undefined'!==typeof b?b:null;c='undefined'!==typeof c?c:!0;d='undefined'!==typeof d?d:!1;this.Ce();this.lastFill=new pf(a,b,c,d);this.graphicsData.push(this.lastFill)};
H.prototype.beginBitmapFill=H.prototype.Ol;H.prototype.Ce=function(){if(this.Aa){if(this.lastFill){var a=new rf;a.fill=this.lastFill;this.graphicsData.push(a);this.lastFill=null}this.lastStroke&&!isNaN(this.lastStroke.thickness)&&(this.lastStroke=new cg(NaN),this.graphicsData.push(this.lastStroke));this.Aa=null}};H.prototype.endStrokAndFill=H.prototype.Ce;
H.prototype.Im=function(a,b,c,d,e,f,g,h){e='undefined'!==typeof e?e:null;f='undefined'!==typeof f?f:'pad';g='undefined'!==typeof g?g:'rgb';h='undefined'!==typeof h?h:0;this.lastStroke&&(this.zd(),this.lastStroke.fill=new $f(a,b,c,d,this.na,e,f,g,h))};H.prototype.lineGradientStyle=H.prototype.Im;
H.prototype.Pa=function(a,b,c,d,e,f,g,h){a='undefined'!==typeof a?a:NaN;b='undefined'!==typeof b?b:0;c='undefined'!==typeof c?c:1;d='undefined'!==typeof d?d:!1;e='undefined'!==typeof e?e:'normal';f='undefined'!==typeof f?f:null;g='undefined'!==typeof g?g:null;h='undefined'!==typeof h?h:3;this.Ce();isNaN(a)||(this.lastStroke=new cg(0===a?1:a,d,e,f?f:'round',g?g:'round',h,new ag(b,c)),this.graphicsData.push(this.lastStroke))};H.prototype.lineStyle=H.prototype.Pa;
H.prototype.cm=function(a,b,c,d){this.zc=!0;this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d);this.Aa.closePath();this.zc=!1;eg(this,a,b);eg(this,a+c,b+d)};H.prototype.drawRect=H.prototype.cm;
H.prototype.uq=function(a,b,c,d,e,f){f='undefined'!==typeof f?f:NaN;this.zc=!0;isNaN(f)&&(f=e);this.moveTo(a+e,b);this.lineTo(a+c-e,b);this.ab(a+c,b,a+c,b+f);this.lineTo(a+c,b+d-f);this.ab(a+c,b+d,a+c-e,b+d);this.lineTo(a+e,b+d);this.ab(a,b+d,a,b+d-f);this.lineTo(a,b+f);this.ab(a,b,a+e,b);this.zc=!1;eg(this,a,b);eg(this,a+c,b+d)};H.prototype.drawRoundRect=H.prototype.uq;
H.prototype.vq=function(a,b,c,d,e,f,g,h){this.zc=!0;this.moveTo(a+e,b);this.lineTo(a+c-f,b);this.ab(a+c,b,a+c,b+f);this.lineTo(a+c,b+d-h);this.ab(a+c,b+d,a+c-h,b+d);this.lineTo(a+g,b+d);this.ab(a,b+d,a,b+d-g);this.lineTo(a,b+e);this.ab(a,b,a+e,b);this.zc=!1;eg(this,a,b);eg(this,a+c,b+d)};H.prototype.drawRoundRectComplex=H.prototype.vq;H.prototype.Ni=function(a,b,c){fg(this);this.Aa.moveTo(a+c,b);this.Aa.arc(a,b,c,0,2*Math.PI);eg(this,a-c,b-c);eg(this,a+c,b+c)};H.prototype.drawCircle=H.prototype.Ni;
H.prototype.sq=function(a,b,c,d){this.zc=!0;var e=c/2*.5522848,f=d/2*.5522848,g=a+c,h=b+d,k=a+c/2,m=b+d/2;this.moveTo(a,m);this.Kb(a,m-f,k-e,b,k,b);this.Kb(k+e,b,g,m-f,g,m);this.Kb(g,m+f,k+e,h,k,h);this.Kb(k-e,h,a,m+f,a,m);this.zc=!1;eg(this,a,b);eg(this,a+c,b+d)};H.prototype.drawEllipse=H.prototype.sq;H.prototype.moveTo=function(a,b){fg(this);this.Aa.moveTo(a,b);eg(this,a,b)};H.prototype.moveTo=H.prototype.moveTo;H.prototype.lineTo=function(a,b){fg(this);this.Aa.lineTo(a,b);eg(this,a,b)};
H.prototype.lineTo=H.prototype.lineTo;H.prototype.ab=function(a,b,c,d){fg(this);this.Aa.ab(a,b,c,d);eg(this,a,b);eg(this,c,d)};H.prototype.curveTo=H.prototype.ab;H.prototype.Kb=function(a,b,c,d,e,f){fg(this);this.Aa.Kb(a,b,c,d,e,f);eg(this,a,b);eg(this,c,d);eg(this,e,f)};H.prototype.cubicCurveTo=H.prototype.Kb;
function eg(a,b,c){a.zc||(null==a.na&&(a.na=new C(Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),a.Ff=new C(Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE)),a.na.left>b&&(a.na.left=b,a.Ff.left=b,a.lastStroke&&(a.na.left-=a.lastStroke.thickness/2)),a.na.right<b&&(a.na.right=b,a.Ff.right=b,a.lastStroke&&(a.na.right+=a.lastStroke.thickness/2)),a.na.top>c&&(a.na.top=c,a.Ff.top=c,a.lastStroke&&(a.na.top-=a.lastStroke.thickness/2)),a.na.bottom<c&&(a.na.bottom=
c,a.Ff.bottom=c,a.lastStroke&&(a.na.bottom+=a.lastStroke.thickness/2)),a.lastFill&&df(a.lastFill,$f)&&(cf(a.lastFill,$f,!0).bounds=a.na),a.lastStroke&&df(a.lastStroke.fill,$f)&&(cf(a.lastStroke.fill,$f,!0).bounds=a.na))}function fg(a){null==a.Aa&&(a.Aa=a.$m[a.kh],null==a.Aa&&(a.Aa=a.$m[a.kh]=Bf.vd()),a.Aa.clear(),a.Aa.Wg=!0,a.kh++,a.graphicsData.push(a.Aa),Cf=!0)}H.prototype.zd=function(){this.Ce()};H.prototype.endFill=H.prototype.zd;H.prototype.Ja=function(a){this.graphicsData=a.graphicsData.slice()};
H.prototype.copyFrom=H.prototype.Ja;H.prototype.Hm=function(a,b,c,d){this.lastStroke&&df(this.lastStroke,cg)&&(this.lastStroke.fill=new pf(a,'undefined'!==typeof b?b:null,'undefined'!==typeof c?c:!0,'undefined'!==typeof d?d:!1))};H.prototype.lineBitmapStyle=H.prototype.Hm;H.prototype.Lf=function(a,b){fg(this);this.Aa.commands.push.apply(null,a);this.Aa.data.push.apply(null,b)};H.prototype.drawPath=H.prototype.Lf;
H.prototype.Wc=function(a,b,c){b='undefined'!==typeof b?b:null;c='undefined'!==typeof c?c:null;fg(this);this.Aa.Wc(a,b,c)};H.prototype.drawTriangles=H.prototype.Wc;
H.prototype.tq=function(a){var b,c;if(null!=a)for(var d=0;d<a.length;d++)if(b=a[d],df(b,tf))b=cf(b,tf,!0),df(b,uf)?(b=cf(b,uf,!0),this.Lf(b.commands,b.data,b.winding)):df(b,dg)&&(b=cf(b,dg,!0),this.Wc(b.vertices,b.indices,b.uvtData,b.culling));else if(df(b,of))b=cf(b,of,!0),null==b?this.zd():df(b,rf)?this.zd():df(b,ag)?(b=cf(b,ag,!0),this.ze(b.color,b.alpha)):df(b,$f)?(b=cf(b,$f,!0),this.Pl(b.type,b.colors,b.alphas,b.ratios,b.matrix,b.spreadMethod,b.interpolationMethod,b.focalPointRatio)):df(b,pf)&&
(b=cf(b,pf,!0),this.Ol(b.bitmapData,b.matrix,b.repeat,b.smooth));else if(df(b,bg)){c=cf(b,bg,!0);var e=b=null;null!=c&&df(c,cg)&&(b=c);b&&b.fill&&df(b.fill,of)&&(e=b.fill);null==b||null==e?this.Pa():df(e,ag)?(c=cf(e,ag,!0),this.Pa(b.thickness,c.color,c.alpha,b.pixelHinting,b.scaleMode,b.caps,b.joints,b.miterLimit)):df(e,$f)?(c=cf(e,$f,!0),this.Pa(b.thickness,0,1,b.pixelHinting,b.scaleMode,b.caps,b.joints,b.miterLimit),this.Im(c.type,c.colors,c.alphas,c.ratios,c.matrix,c.spreadMethod,c.interpolationMethod,
c.focalPointRatio)):df(e,pf)&&(c=cf(e,pf,!0),this.Pa(b.thickness,0,1,b.pixelHinting,b.scaleMode,b.caps,b.joints,b.miterLimit),this.Hm(c.bitmapData,c.matrix,c.repeat,c.smooth))}};H.prototype.drawGraphicsData=H.prototype.tq;H.prototype.kv=function(){return this.graphicsData.slice()};H.prototype.readGraphicsData=H.prototype.kv;H.prototype.oa=function(a,b,c,d,e,f){e='undefined'!==typeof e?e:!1;if(this.graphicsData.length||e)e?Bf.Rb(a,'undefined'!==typeof f?f:null,b,c,d):Bf.Sd(a,this,b,c,d),yf++};
H.prototype.draw=H.prototype.oa;H.prototype.hj=t('Ff');H.prototype.pr=t('na');Object.defineProperties(H.prototype,{rect:{get:H.prototype.hj},bound:{get:H.prototype.pr}});H.prototype.i={names:[{name:'Graphics',j:ad,kind:l}]};y(ad,H);function gg(){}gg.prototype.width=0;gg.prototype.width=gg.prototype.width;gg.prototype.height=0;gg.prototype.height=gg.prototype.height;gg.prototype.U=!0;gg.prototype.dirty=gg.prototype.U;gg.prototype.i={names:[{name:'BitmapTexture',j:Kc,kind:l}]};y(Kc,gg);function hg(a,b){this.repetition=b;this.image=a}hg.prototype.i={names:[{name:'GLCanvasPattern',j:Lc,kind:l}]};y(Lc,hg);function ig(a,b){this.usage=b;this.data=a}ig.prototype.U=!0;ig.prototype.dirty=ig.prototype.U;
ig.prototype.Ad=function(a){null==this.buff&&(this.buff=a.Xl(this.data.length),this.buff.gl.bindBuffer(this.buff.gl.ELEMENT_ARRAY_BUFFER,this.buff.buff),this.buff.gl.bufferData(this.buff.gl.ELEMENT_ARRAY_BUFFER,this.data,this.usage),this.U=!1);this.U&&(this.buff.gl.bindBuffer(this.buff.gl.ELEMENT_ARRAY_BUFFER,this.buff.buff),this.buff.gl.bufferSubData(this.buff.gl.ELEMENT_ARRAY_BUFFER,0,this.data),this.U=!1);return this.buff};ig.prototype.getBuff=ig.prototype.Ad;
ig.prototype.i={names:[{name:'GLIndexBufferSet',j:Pc,kind:l}]};y(Pc,ig);function jg(a,b,c){this.usage=c;this.xd=b;this.data=a}jg.prototype.xd=0;jg.prototype.data32PerVertex=jg.prototype.xd;jg.prototype.U=!0;jg.prototype.dirty=jg.prototype.U;
jg.prototype.Ad=function(a){null==this.buff&&(this.buff=a.Yl(0,this.xd),this.buff.gl.bindBuffer(this.buff.gl.ARRAY_BUFFER,this.buff.buff),this.buff.gl.bufferData(this.buff.gl.ARRAY_BUFFER,this.data,this.usage),this.U=!1,this.buff.U=!0);this.U&&(this.buff.gl.bindBuffer(this.buff.gl.ARRAY_BUFFER,this.buff.buff),this.buff.gl.bufferSubData(this.buff.gl.ARRAY_BUFFER,0,this.data),this.U=!1,this.buff.U=!0);return this.buff};jg.prototype.getBuff=jg.prototype.Ad;
jg.prototype.i={names:[{name:'GLVertexBufferSet',j:Rc,kind:l}]};y(Rc,jg);function kg(a,b,c,d){this.usage=d;this.pos=new jg(a,2,d);this.uv=new jg(b,2,d);this.index=new ig(c,d)}kg.prototype.Lj=-1;kg.prototype.numTriangles=kg.prototype.Lj;kg.prototype.ub=function(){if(null==this.Na||this.Na.data.length!=this.pos.data.length/2)this.Na=new jg(new Uint32Array(this.pos.data.length/2),4,this.usage);return this.Na};kg.prototype.Sb=q('Na');Object.defineProperties(kg.prototype,{color:{get:kg.prototype.ub,set:kg.prototype.Sb}});kg.prototype.i={names:[{name:'GLDrawable',j:Nc,kind:l}]};
y(Nc,kg);function lg(a){this.matr=new z;this.ctx=a}
lg.prototype.gs=function(){if(this.path.Wg){this.path.Wg=!1;for(var a=this.path.polys,b=0,c=0,d=this.path.polys.length,e=0;e<d;e++){var f=this.path.polys.array[e].length,b=b+f;6<=f&&(c+=3*(f/2-2))}for(var g=this.path.tris.length,h=!1,e=0;e<g;e++)f=this.path.tris[e],b+=f[0].length,c+=f[1].length,f[2]&&(h=!0);if(null==this.pos||this.pos.length!=b)this.pos=new Float32Array(b);if(null==this.index||this.index.length!=c)this.index=new Uint16Array(c);!h||null!=this.uv&&this.uv.length==b||(this.uv=new Float32Array(b));
for(var k=c=b=0,e=0;e<d;e++){for(var m=a.array[e],f=m.length,p=f/2,f=0;f<p;f++){var r=m.array[2*f],u=m.array[2*f+1];this.pos[c++]=r;this.pos[c++]=u;2<=f&&(this.index[k++]=b,this.index[k++]=b+f-1,this.index[k++]=b+f)}b+=f}for(e=0;e<g;e++){f=this.path.tris[e];a=f[0];d=f[1];m=f[2];p=a.length;for(f=0;f<p;f++)this.pos[c]=a[f],m&&(this.uv[c]=m[f]),c++;p=d.length;for(f=0;f<p;f++)this.index[k++]=b+d[f];b+=a.length/2}null==this._drawable?this._drawable=new kg(this.pos,this.pos,this.index,this.ctx.gl.STATIC_DRAW):
(this._drawable.pos.data=this.pos,this._drawable.uv.data=h?this.uv:this.pos,this._drawable.index.data=this.index,this._drawable.pos.U=!0,this._drawable.uv.U=!0,this._drawable.index.U=!0)}return this._drawable};Object.defineProperties(lg.prototype,{drawable:{get:lg.prototype.gs}});lg.prototype.i={names:[{name:'GLPath2D',j:Qc,kind:l}]};y(Qc,lg);function mg(){}y('flash.display3D.Context3DBlendFactor.ONE','one');y('flash.display3D.Context3DBlendFactor.ZERO','zero');y('flash.display3D.Context3DBlendFactor.SOURCE_ALPHA',Oe);y('flash.display3D.Context3DBlendFactor.SOURCE_COLOR',Pe);y('flash.display3D.Context3DBlendFactor.ONE_MINUS_SOURCE_ALPHA',Ge);y('flash.display3D.Context3DBlendFactor.ONE_MINUS_SOURCE_COLOR',He);y('flash.display3D.Context3DBlendFactor.DESTINATION_ALPHA',Dc);y('flash.display3D.Context3DBlendFactor.DESTINATION_COLOR',Ec);
y('flash.display3D.Context3DBlendFactor.ONE_MINUS_DESTINATION_ALPHA',Ee);y('flash.display3D.Context3DBlendFactor.ONE_MINUS_DESTINATION_COLOR',Fe);function ng(a,b){switch(b){case 'one':return a.ONE;case 'zero':return a.ZERO;case Oe:return a.SRC_ALPHA;case Pe:return a.SRC_COLOR;case Ge:return a.ONE_MINUS_SRC_ALPHA;case He:return a.ONE_MINUS_SRC_COLOR;case Dc:return a.DST_ALPHA;case Ec:return a.DST_COLOR;case Ee:return a.ONE_MINUS_DST_ALPHA;case Fe:return a.ONE_MINUS_DST_COLOR}return 0}
y('flash.display3D.Context3DBlendFactor.getGLVal',ng);mg.prototype.i={names:[{name:'Context3DBlendFactor',j:xd,kind:l}]};y(xd,mg);function og(){}y('flash.display3D.Context3DCompareMode.ALWAYS','always');y('flash.display3D.Context3DCompareMode.NEVER','never');y('flash.display3D.Context3DCompareMode.LESS','less');y('flash.display3D.Context3DCompareMode.LESS_EQUAL','lessEqual');y('flash.display3D.Context3DCompareMode.EQUAL','equal');y('flash.display3D.Context3DCompareMode.GREATER_EQUAL','greaterEqual');y('flash.display3D.Context3DCompareMode.GREATER','greater');y('flash.display3D.Context3DCompareMode.NOT_EQUAL','notEqual');
function pg(a,b){switch(b){case 'always':return a.ALWAYS;case 'never':return a.NEAREST;case 'less':return a.LESS;case 'lessEqual':return a.LESS|a.EQUAL;case 'equal':return a.EQUAL;case 'greaterEqual':return a.GREATER|a.EQUAL;case 'greater':return a.GREATER;case 'notEqual':return a.NOTEQUAL}return 0}y('flash.display3D.Context3DCompareMode.getGLVal',pg);og.prototype.i={names:[{name:'Context3DCompareMode',j:yd,kind:l}]};y(yd,og);function qg(){}y('flash.display3D.Context3DProgramType.VERTEX',Se);y('flash.display3D.Context3DProgramType.FRAGMENT','fragment');qg.prototype.i={names:[{name:'Context3DProgramType',j:zd,kind:l}]};y(zd,qg);function rg(){}y('flash.display3D.Context3DTriangleFace.NONE',De);y('flash.display3D.Context3DTriangleFace.BACK','back');y('flash.display3D.Context3DTriangleFace.FRONT','front');y('flash.display3D.Context3DTriangleFace.FRONT_AND_BACK','frontAndBack');function sg(a,b){switch(b){case De:return a.NONE;case 'back':return a.FRONT;case 'front':return a.BACK;case 'frontAndBack':return a.FRONT_AND_BACK}return 0}y('flash.display3D.Context3DTriangleFace.getGLVal',sg);
rg.prototype.i={names:[{name:'Context3DTriangleFace',j:Bd,kind:l}]};y(Bd,rg);function tg(){}y('flash.display3D.Context3DVertexBufferFormat.FLOAT_1','float1');y('flash.display3D.Context3DVertexBufferFormat.FLOAT_2',ne);y('flash.display3D.Context3DVertexBufferFormat.FLOAT_3','float3');y('flash.display3D.Context3DVertexBufferFormat.FLOAT_4',oe);y('flash.display3D.Context3DVertexBufferFormat.BYTES_4','bytes4');tg.prototype.i={names:[{name:'Context3DVertexBufferFormat',j:Cd,kind:l}]};y(Cd,tg);function ug(){}ug.prototype.count=0;ug.prototype.count=ug.prototype.count;ug.prototype.sk=function(a){this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.buff);this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,new Uint16Array(a),this.gl.STATIC_DRAW)};ug.prototype.uploadFromVector=ug.prototype.sk;ug.prototype.Lc=n();ug.prototype.uploadFromByteArray=ug.prototype.Lc;ug.prototype.Lb=function(){this.gl.deleteBuffer(this.buff);this.buff=null};ug.prototype.dispose=ug.prototype.Lb;
ug.prototype.i={names:[{name:'IndexBuffer3D',j:Dd,kind:l}]};y(Dd,ug);function vg(){this.Bn={};this.Nl={}}
vg.prototype.upload=function(a,b){this.fshader=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.vshader=this.gl.createShader(this.gl.VERTEX_SHADER);a.position=b.position=0;this.gl.shaderSource(this.vshader,a.Oe(a.length));this.gl.compileShader(this.vshader);if(!this.gl.getShaderParameter(this.vshader,this.gl.COMPILE_STATUS))throw this.vshader+'\n'+a+'\n'+this.gl.getShaderInfoLog(this.vshader);this.gl.shaderSource(this.fshader,b.Oe(b.length));this.gl.compileShader(this.fshader);if(!this.gl.getShaderParameter(this.fshader,
this.gl.COMPILE_STATUS))throw b+'\n'+this.gl.getShaderInfoLog(this.fshader);this.gl.attachShader(this.program,this.vshader);this.gl.attachShader(this.program,this.fshader);this.gl.linkProgram(this.program);if(!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))throw this.gl.getProgramInfoLog(this.program);};vg.prototype.upload=vg.prototype.upload;vg.prototype.Lb=function(){this.gl.deleteShader(this.fshader);this.gl.deleteShader(this.vshader);this.gl.deleteProgram(this.program)};
vg.prototype.dispose=vg.prototype.Lb;vg.prototype.getUniformLocation=function(a){var b=this.Bn[a];null==b&&(b=this.Bn[a]=this.gl.getUniformLocation(this.program,a));return b};vg.prototype.getUniformLocation=vg.prototype.getUniformLocation;vg.prototype.getAttribLocation=function(a){var b=this.Nl[a];null==b&&(b=this.Nl[a]=this.gl.getAttribLocation(this.program,a));a=Number(b);this.gl.enableVertexAttribArray(a);return a};vg.prototype.getAttribLocation=vg.prototype.getAttribLocation;
vg.prototype.i={names:[{name:'Program3D',j:Ed,kind:l}]};y(Ed,vg);function wg(){}wg.prototype.xd=0;wg.prototype.data32PerVertex=wg.prototype.xd;wg.prototype.U=!0;wg.prototype.dirty=wg.prototype.U;wg.prototype.sk=function(a){this.U=!0;this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buff);this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(a),this.gl.STATIC_DRAW)};wg.prototype.uploadFromVector=wg.prototype.sk;wg.prototype.Lc=n();wg.prototype.uploadFromByteArray=wg.prototype.Lc;wg.prototype.Lb=function(){this.gl.deleteBuffer(this.buff);this.buff=null};
wg.prototype.dispose=wg.prototype.Lb;wg.prototype.i={names:[{name:'VertexBuffer3D',j:Fd,kind:l}]};y(Fd,wg);function xg(){Kf.call(this)}Xe(xg,Kf);xg.prototype.Lb=n();xg.prototype.dispose=xg.prototype.Lb;xg.prototype.i={names:[{name:'TextureBase',j:Jd,kind:l}]};y(Jd,xg);function yg(){Kf.call(this)}Xe(yg,xg);yg.prototype.We=n();yg.prototype.uploadFromBitmapData=yg.prototype.We;yg.prototype.Lc=n();yg.prototype.uploadFromByteArray=yg.prototype.Lc;yg.prototype.rk=n();yg.prototype.uploadCompressedTextureFromByteArray=yg.prototype.rk;yg.prototype.i={names:[{name:'CubeTexture',j:Gd,kind:l}]};y(Gd,yg);function zg(){Kf.call(this)}Xe(zg,xg);zg.prototype.We=n();zg.prototype.uploadFromBitmapData=zg.prototype.We;zg.prototype.Lc=n();zg.prototype.uploadFromByteArray=zg.prototype.Lc;zg.prototype.i={names:[{name:'RectangleTexture',j:Hd,kind:l}]};y(Hd,zg);function Ag(){Kf.call(this)}Xe(Ag,xg);Ag.prototype.repeat=!0;Ag.prototype.repeat=Ag.prototype.repeat;Ag.prototype.We=function(a,b){this.Cn(a.image,'undefined'!==typeof b?b:0)};Ag.prototype.uploadFromBitmapData=Ag.prototype.We;
Ag.prototype.Cn=function(a,b){b='undefined'!==typeof b?b:0;this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture);this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,a);this.repeat?(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.REPEAT)):(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,
this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE));0<b?(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_NEAREST),this.gl.generateMipmap(this.gl.TEXTURE_2D)):(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST));this.gl.bindTexture(this.gl.TEXTURE_2D,null)};
Ag.prototype.uploadFromImg=Ag.prototype.Cn;Ag.prototype.Lc=n();Ag.prototype.uploadFromByteArray=Ag.prototype.Lc;Ag.prototype.rk=n();Ag.prototype.uploadCompressedTextureFromByteArray=Ag.prototype.rk;Ag.prototype.i={names:[{name:'Texture',j:Id,kind:l}]};y(Id,Ag);function Bg(){Kf.call(this)}Xe(Bg,xg);Bg.prototype.$p=n();Bg.prototype.attachCamera=Bg.prototype.$p;Bg.prototype.ru=w(0);Bg.prototype.qu=w(0);Object.defineProperties(Bg.prototype,{videoWidth:{get:Bg.prototype.ru},videoHeight:{get:Bg.prototype.qu}});Bg.prototype.i={names:[{name:'VideoTexture',j:Kd,kind:l}]};y(Kd,Bg);function I(){this.$l={};this.am={};Kf.call(this)}Xe(I,Kf);I.prototype.Lb=n();I.prototype.dispose=I.prototype.Lb;I.prototype.Ul=function(a,b,c,d){d='undefined'!==typeof d?d:!0;this.canvas.width=a;this.canvas.height=b;this.canvas.style.width=a+'px';this.canvas.style.height=b+'px';this.gl.viewport(0,0,a,b);d?(this.gl.enable(this.gl.DEPTH_TEST),this.gl.enable(this.gl.STENCIL_TEST)):(this.gl.disable(this.gl.DEPTH_TEST),this.gl.disable(this.gl.STENCIL_TEST))};I.prototype.configureBackBuffer=I.prototype.Ul;
I.prototype.clear=function(a,b,c,d,e,f){e='undefined'!==typeof e?e:1;f='undefined'!==typeof f?f:0;Cf=!0;this.gl.clearColor('undefined'!==typeof a?a:0,'undefined'!==typeof b?b:0,'undefined'!==typeof c?c:0,'undefined'!==typeof d?d:1);this.gl.clearDepth(e);this.gl.clearStencil(f);this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)};I.prototype.clear=I.prototype.clear;
I.prototype.Wc=function(a,b,c){b='undefined'!==typeof b?b:0;c='undefined'!==typeof c?c:-1;this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,a.buff);this.gl.drawElements(this.gl.TRIANGLES,0>c?a.count:3*c,this.gl.UNSIGNED_SHORT,2*b)};I.prototype.drawTriangles=I.prototype.Wc;I.prototype.iv=function(){Cf=!0};I.prototype.present=I.prototype.iv;I.prototype.Uj=function(a){this.Ng!=a&&(this.Ng=a,this.gl.useProgram(a.program))};I.prototype.setProgram=I.prototype.Uj;
I.prototype.yv=function(a,b,c){this.sn(Se===a?'vc'+b:'fc'+b,c)};I.prototype.setProgramConstantsFromVector=I.prototype.yv;I.prototype.Vj=function(a,b,c,d){this.rn(Se===a?'vc'+b:'fc'+b,c,'undefined'!==typeof d?d:!1)};I.prototype.setProgramConstantsFromMatrix=I.prototype.Vj;I.prototype.wv=n();I.prototype.setProgramConstantsFromByteArray=I.prototype.wv;I.prototype.sn=function(a,b){this.gl.uniform4fv(this.getUniformLocation(a),b)};I.prototype.setProgramConstantsFromVectorGL=I.prototype.sn;
I.prototype.rn=function(a,b,c){(c='undefined'!==typeof c?c:!1)&&b.Vd();this.gl.uniformMatrix4fv(this.getUniformLocation(a),!1,b.rawData);c&&b.Vd()};I.prototype.setProgramConstantsFromMatrixGL=I.prototype.rn;I.prototype.xv=n();I.prototype.setProgramConstantsFromByteArrayGL=I.prototype.xv;I.prototype.getUniformLocation=function(a){return this.Ng.getUniformLocation(a)};I.prototype.oh=function(a,b,c,d){this.vn('va'+a,b,'undefined'!==typeof c?c:0,'undefined'!==typeof d?d:oe)};
I.prototype.setVertexBufferAt=I.prototype.oh;I.prototype.vn=function(a,b,c,d){c='undefined'!==typeof c?c:0;d='undefined'!==typeof d?d:oe;if(b.U||this.am[a]!=b){b.U=!1;this.am[a]=b;a=this.Ng.getAttribLocation(a);this.gl.bindBuffer(this.gl.ARRAY_BUFFER,b.buff);var e=this.gl.FLOAT,f=0,g=4,h=!1;switch(d){case 'float1':f=1;break;case ne:f=2;break;case 'float3':f=3;break;case oe:f=4;break;case 'bytes4':f=4,e=this.gl.UNSIGNED_BYTE,h=!0,g=1}this.gl.vertexAttribPointer(a,f,e,h,b.xd*g,c*g)}};
I.prototype.setVertexBufferAtGL=I.prototype.vn;I.prototype.Sj=function(a,b){this.gl.enable(this.gl.BLEND);this.gl.blendEquation(this.gl.FUNC_ADD);this.gl.blendFunc(ng(this.gl,a),ng(this.gl,b))};I.prototype.setBlendFactors=I.prototype.Sj;I.prototype.sv=function(a,b,c,d){this.gl.colorMask(a,b,c,d)};I.prototype.setColorMask=I.prototype.sv;I.prototype.tv=function(a,b){this.gl.depthFunc(pg(this.gl,b));this.gl.depthMask(a)};I.prototype.setDepthTest=I.prototype.tv;
I.prototype.tn=function(a,b){null==b?this.Wj('fs'+a,a,null):df(b,Ag)&&this.Wj('fs'+a,a,b)};I.prototype.setTextureAt=I.prototype.tn;I.prototype.Av=function(a){if(!df(a,Ag)&&!df(a,yg)&&!df(a,zg)&&null!=a)throw'texture argument not derived from TextureBase (can be Texture, CubeTexture, or if supported, RectangleTexture)';};I.prototype.setRenderToTexture=I.prototype.Av;I.prototype.zv=n();I.prototype.setRenderToBackBuffer=I.prototype.zv;
I.prototype.pn=function(a){a===De?this.gl.disable(this.gl.CULL_FACE):(this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(sg(this.gl,a)))};I.prototype.setCulling=I.prototype.pn;I.prototype.Ev=n();I.prototype.setStencilActions=I.prototype.Ev;I.prototype.Fv=n();I.prototype.setStencilReferenceValue=I.prototype.Fv;I.prototype.Cv=function(a){null==a?this.gl.disable(this.gl.SCISSOR_TEST):(this.gl.enable(this.gl.SCISSOR_TEST),this.gl.scissor(a.x,a.y,a.width,a.height))};I.prototype.setScissorRectangle=I.prototype.Cv;
I.prototype.Yl=function(a,b){var c=new wg;c.buff=this.gl.createBuffer();c.xd=b;c.gl=this.gl;return c};I.prototype.createVertexBuffer=I.prototype.Yl;I.prototype.Xl=function(a){var b=new ug;b.buff=this.gl.createBuffer();b.gl=this.gl;b.count=a;return b};I.prototype.createIndexBuffer=I.prototype.Xl;I.prototype.createTexture=function(){var a=new Ag;a.gl=this.gl;a.texture=this.gl.createTexture();return a};I.prototype.createTexture=I.prototype.createTexture;I.prototype.jq=w(null);
I.prototype.createCubeTexture=I.prototype.jq;I.prototype.lq=w(null);I.prototype.createRectangleTexture=I.prototype.lq;I.prototype.createProgram=function(){var a=new vg;a.gl=this.gl;a.program=this.gl.createProgram();return a};I.prototype.createProgram=I.prototype.createProgram;I.prototype.wq=n();I.prototype.drawToBitmapData=I.prototype.wq;I.prototype.Bv=n();I.prototype.setSamplerStateAt=I.prototype.Bv;
I.prototype.Wj=function(a,b,c){this.$l[a]!=c&&(this.$l[a]=c)&&(this.gl.activeTexture(this.gl['TEXTURE'+b]),this.gl.bindTexture(this.gl.TEXTURE_2D,c.texture),this.gl.uniform1i(this.Ng.getUniformLocation(a),b))};I.prototype.setTextureAtGL=I.prototype.Wj;I.prototype.mq=w(null);I.prototype.createVideoTexture=I.prototype.mq;x=I.prototype;x.hs=w(null);x.ls=w(!1);x.vw=n();x.xt=w(null);x.er=w(0);x.dr=w(0);x.at=w(0);x.ax=n();x.$s=w(0);x.$w=n();
Object.defineProperties(I.prototype,{driverInfo:{get:I.prototype.hs},enableErrorChecking:{get:I.prototype.ls,set:I.prototype.vw},profile:{get:I.prototype.xt},backBufferWidth:{get:I.prototype.er},backBufferHeight:{get:I.prototype.dr},maxBackBufferWidth:{get:I.prototype.at,set:I.prototype.ax},maxBackBufferHeight:{get:I.prototype.$s,set:I.prototype.$w}});Object.defineProperties(I,{supportsVideoTexture:{get:w(!1)}});I.prototype.i={names:[{name:'Context3D',j:wd,kind:l}]};y(wd,I);function Cg(){}y('flash.display3D.Context3DTextureFormat.BGRA','bgra');y('flash.display3D.Context3DTextureFormat.RGBA_HALF_FLOAT','rgbaHalfFloat');y('flash.display3D.Context3DTextureFormat.COMPRESSED','compressed');y('flash.display3D.Context3DTextureFormat.COMPRESSED_ALPHA','compressedAlpha');y('flash.display3D.Context3DTextureFormat.BGR_PACKED','bgrPacked565');y('flash.display3D.Context3DTextureFormat.BGRA_PACKED','bgraPacked4444');Cg.prototype.i={names:[{name:'Context3DTextureFormat',j:Ad,kind:l}]};
y(Ad,Cg);function Dg(){}y('flash.geom.Orientation3D.EULER_ANGLES',Hc);y('flash.geom.Orientation3D.AXIS_ANGLE',vc);y('flash.geom.Orientation3D.QUATERNION','quaternion');Dg.prototype.i={names:[{name:'Orientation3D',j:Xd,kind:l}]};y(Xd,Dg);function J(a,b,c,d){this.x='undefined'!==typeof a?a:0;this.y='undefined'!==typeof b?b:0;this.z='undefined'!==typeof c?c:0;this.w='undefined'!==typeof d?d:0}y('flash.geom.Vector3D.angleBetween',function(a,b){var c=a.x*b.x+a.y*b.y+a.z*b.z,c=c/(a.length*b.length);return Math.acos(c)});y('flash.geom.Vector3D.distance',function(a,b){return a.Ud(b).length});J.prototype.clone=function(){return new J(this.x,this.y,this.z,this.w)};J.prototype.clone=J.prototype.clone;
J.prototype.bm=function(a){return this.x*a.x+this.y*a.y+this.z*a.z};J.prototype.dotProduct=J.prototype.bm;J.prototype.Zl=function(a){return new J(this.y*a.z-this.z*a.y,this.z*a.x-this.x*a.z,this.x*a.y-this.y*a.x,1)};J.prototype.crossProduct=J.prototype.Zl;J.prototype.normalize=function(){var a=this.length,b=0!=a?1/a:0;this.x*=b;this.y*=b;this.z*=b;return a};J.prototype.normalize=J.prototype.normalize;J.prototype.on=function(a){this.x*=a;this.y*=a;this.z*=a};J.prototype.scaleBy=J.prototype.on;
J.prototype.zu=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};J.prototype.incrementBy=J.prototype.zu;J.prototype.oq=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};J.prototype.decrementBy=J.prototype.oq;J.prototype.add=function(a){return new J(this.x+a.x,this.y+a.y,this.z+a.z)};J.prototype.add=J.prototype.add;J.prototype.Ud=function(a){return new J(this.x-a.x,this.y-a.y,this.z-a.z)};J.prototype.subtract=J.prototype.Ud;J.prototype.Yu=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z};
J.prototype.negate=J.prototype.Yu;J.prototype.Mf=function(a,b){return this.x===a.x&&this.y===a.y&&this.z===a.z&&('undefined'!==typeof b&&b?this.w===a.w:!0)};J.prototype.equals=J.prototype.Mf;J.prototype.Xu=function(a,b,c){var d=this.x-a.x;if(d=(0>d?0-d:d)<b)if(d=this.y-a.y,d=(0>d?0-d:d)<b)d=this.z-a.z,(d=(0>d?0-d:d)<b)&&'undefined'!==typeof c&&c&&(d=this.w=a.w,d=(0>d?0-d:d)<b);return d};J.prototype.nearEquals=J.prototype.Xu;J.prototype.jv=function(){var a=1/this.w;this.x*=a;this.y*=a;this.z*=a};
J.prototype.project=J.prototype.jv;J.prototype.toString=function(){return'Vector3D('+this.x+', '+this.y+', '+this.z+')'};J.prototype.toString=J.prototype.toString;J.prototype.Ja=function(a){this.x=a.x;this.y=a.y;this.z=a.z};J.prototype.copyFrom=J.prototype.Ja;J.prototype.Td=function(a,b,c){this.x=a;this.y=b;this.z=c};J.prototype.setTo=J.prototype.Td;J.prototype.Cd=function(){var a=this.x*this.x+this.y*this.y+this.z*this.z;return 0>=a?0:Math.sqrt(a)};
J.prototype.Ts=function(){return this.x*this.x+this.y*this.y+this.z*this.z};Object.defineProperties(J.prototype,{length:{get:J.prototype.Cd},lengthSquared:{get:J.prototype.Ts}});J.prototype.i={names:[{name:'Vector3D',j:ae,kind:l}]};y(ae,J);function K(a){a='undefined'!==typeof a?a:null;this.rawData=null!=a&&16===a.length?a:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1].slice()}
K.prototype.append=function(a){var b=this.rawData[0],c=this.rawData[4],d=this.rawData[8],e=this.rawData[12],f=this.rawData[1],g=this.rawData[5],h=this.rawData[9],k=this.rawData[13],m=this.rawData[2],p=this.rawData[6],r=this.rawData[10],u=this.rawData[14],v=this.rawData[3],A=this.rawData[7],B=this.rawData[11],E=this.rawData[15],S=a.rawData[0],Ba=a.rawData[4],za=a.rawData[8],sa=a.rawData[12],va=a.rawData[1],Ha=a.rawData[5],$a=a.rawData[9],Ab=a.rawData[13],Bb=a.rawData[2],Ob=a.rawData[6],Ka=a.rawData[10],
Va=a.rawData[14],Za=a.rawData[3],ub=a.rawData[7],Kb=a.rawData[11];a=a.rawData[15];this.rawData[0]=b*S+f*Ba+m*za+v*sa;this.rawData[1]=b*va+f*Ha+m*$a+v*Ab;this.rawData[2]=b*Bb+f*Ob+m*Ka+v*Va;this.rawData[3]=b*Za+f*ub+m*Kb+v*a;this.rawData[4]=c*S+g*Ba+p*za+A*sa;this.rawData[5]=c*va+g*Ha+p*$a+A*Ab;this.rawData[6]=c*Bb+g*Ob+p*Ka+A*Va;this.rawData[7]=c*Za+g*ub+p*Kb+A*a;this.rawData[8]=d*S+h*Ba+r*za+B*sa;this.rawData[9]=d*va+h*Ha+r*$a+B*Ab;this.rawData[10]=d*Bb+h*Ob+r*Ka+B*Va;this.rawData[11]=d*Za+h*ub+
r*Kb+B*a;this.rawData[12]=e*S+k*Ba+u*za+E*sa;this.rawData[13]=e*va+k*Ha+u*$a+E*Ab;this.rawData[14]=e*Bb+k*Ob+u*Ka+E*Va;this.rawData[15]=e*Za+k*ub+u*Kb+E*a};K.prototype.append=K.prototype.append;K.prototype.Tp=function(a,b,c){c='undefined'!==typeof c?c:null;a=Eg(b.x,b.y,b.z,a);null!=c&&a.Fi(c.x,c.y,c.z);this.append(a)};K.prototype.appendRotation=K.prototype.Tp;
K.prototype.Up=function(a,b,c){this.rawData[0]*=a;this.rawData[1]*=a;this.rawData[2]*=a;this.rawData[3]*=a;this.rawData[4]*=b;this.rawData[5]*=b;this.rawData[6]*=b;this.rawData[7]*=b;this.rawData[8]*=c;this.rawData[9]*=c;this.rawData[10]*=c;this.rawData[11]*=c};K.prototype.appendScale=K.prototype.Up;K.prototype.Fi=function(a,b,c){this.rawData[12]+=a;this.rawData[13]+=b;this.rawData[14]+=c};K.prototype.appendTranslation=K.prototype.Fi;K.prototype.clone=function(){return new K(this.rawData.concat())};
K.prototype.clone=K.prototype.clone;K.prototype.Ji=function(a,b){switch(a){case 0:this.rawData[0]=b.x;this.rawData[1]=b.y;this.rawData[2]=b.z;this.rawData[3]=b.w;break;case 1:this.rawData[4]=b.x;this.rawData[5]=b.y;this.rawData[6]=b.z;this.rawData[7]=b.w;break;case 2:this.rawData[8]=b.x;this.rawData[9]=b.y;this.rawData[10]=b.z;this.rawData[11]=b.w;break;case 3:this.rawData[12]=b.x;this.rawData[13]=b.y;this.rawData[14]=b.z;this.rawData[15]=b.w;break;default:throw Error('Error, Column '+a+aa);}};
K.prototype.copyColumnFrom=K.prototype.Ji;K.prototype.Ki=function(a,b){var c=4*a;b.x=this.rawData[c];b.y=this.rawData[1+c];b.z=this.rawData[2+c];b.w=this.rawData[3+c]};K.prototype.copyColumnTo=K.prototype.Ki;K.prototype.Ja=function(a){this.rawData=a.rawData.concat()};K.prototype.copyFrom=K.prototype.Ja;K.prototype.gq=function(a,b,c){b='undefined'!==typeof b?b:0;(c='undefined'!==typeof c?c:!1)&&this.Vd();for(var d=a.length-b,e=0;e<d>>0;){var f=e++;this.rawData[f]=a[f+b]}c&&this.Vd()};
K.prototype.copyRawDataFrom=K.prototype.gq;K.prototype.hq=function(a,b,c){b='undefined'!==typeof b?b:0;(c='undefined'!==typeof c?c:!1)&&this.Vd();for(var d=this.rawData.length,e=0;e<d;){var f=e++;a[f+b]=this.rawData[f]}c&&this.Vd()};K.prototype.copyRawDataTo=K.prototype.hq;
K.prototype.Li=function(a,b){switch(a){case 0:this.rawData[0]=b.x;this.rawData[4]=b.y;this.rawData[8]=b.z;this.rawData[12]=b.w;break;case 1:this.rawData[1]=b.x;this.rawData[5]=b.y;this.rawData[9]=b.z;this.rawData[13]=b.w;break;case 2:this.rawData[2]=b.x;this.rawData[6]=b.y;this.rawData[10]=b.z;this.rawData[14]=b.w;break;case 3:this.rawData[3]=b.x;this.rawData[7]=b.y;this.rawData[11]=b.z;this.rawData[15]=b.w;break;default:throw Error('Error, Row '+a+aa);}};K.prototype.copyRowFrom=K.prototype.Li;
K.prototype.Mi=function(a,b){b.x=this.rawData[a];b.y=this.rawData[4+a];b.z=this.rawData[8+a];b.w=this.rawData[12+a]};K.prototype.copyRowTo=K.prototype.Mi;K.prototype.iq=function(a){a.rawData=this.rawData.concat()};K.prototype.copyToMatrix3D=K.prototype.iq;
K.prototype.nq=function(a){a='undefined'!==typeof a?a:null;null==a&&(a=Hc);var b=lf(),c=this.clone().rawData.concat(),d=new J(c[12],c[13],c[14]),e=new J;e.x=Math.sqrt(c[0]*c[0]+c[1]*c[1]+c[2]*c[2]);e.y=Math.sqrt(c[4]*c[4]+c[5]*c[5]+c[6]*c[6]);e.z=Math.sqrt(c[8]*c[8]+c[9]*c[9]+c[10]*c[10]);0>c[0]*(c[5]*c[10]-c[6]*c[9])-c[1]*(c[4]*c[10]-c[6]*c[8])+c[2]*(c[4]*c[9]-c[5]*c[8])&&(e.z=-e.z);c[0]/=e.x;c[1]/=e.x;c[2]/=e.x;c[4]/=e.y;c[5]/=e.y;c[6]/=e.y;c[8]/=e.z;c[9]/=e.z;c[10]/=e.z;var f=new J;switch(a){case vc:f.w=
Math.acos((c[0]+c[5]+c[10]-1)/2);a=Math.sqrt((c[6]-c[9])*(c[6]-c[9])+(c[8]-c[2])*(c[8]-c[2])+(c[1]-c[4])*(c[1]-c[4]));0!=a?(f.x=(c[6]-c[9])/a,f.y=(c[8]-c[2])/a,f.z=(c[1]-c[4])/a):f.x=f.y=f.z=0;break;case 'quaternion':a=c[0]+c[5]+c[10];0<a?(f.w=Math.sqrt(1+a)/2,f.x=(c[6]-c[9])/(4*f.w),f.y=(c[8]-c[2])/(4*f.w),f.z=(c[1]-c[4])/(4*f.w)):c[0]>c[5]&&c[0]>c[10]?(f.x=Math.sqrt(1+c[0]-c[5]-c[10])/2,f.w=(c[6]-c[9])/(4*f.x),f.y=(c[1]+c[4])/(4*f.x),f.z=(c[8]+c[2])/(4*f.x)):c[5]>c[10]?(f.y=Math.sqrt(1+c[5]-c[0]-
c[10])/2,f.x=(c[1]+c[4])/(4*f.y),f.w=(c[8]-c[2])/(4*f.y),f.z=(c[6]+c[9])/(4*f.y)):(f.z=Math.sqrt(1+c[10]-c[0]-c[5])/2,f.x=(c[8]+c[2])/(4*f.z),f.y=(c[6]+c[9])/(4*f.z),f.w=(c[1]-c[4])/(4*f.z));break;case Hc:f.y=Math.asin(-c[2]),1!=c[2]&&-1!=c[2]?(f.x=Math.atan2(c[6],c[10]),f.z=Math.atan2(c[1],c[0])):(f.z=0,f.x=Math.atan2(c[4],c[5]))}b.push(d);b.push(f);b.push(e);return b};K.prototype.decompose=K.prototype.nq;
K.prototype.rq=function(a){var b=a.x,c=a.y;a=a.z;return new J(b*this.rawData[0]+c*this.rawData[4]+a*this.rawData[8]+this.rawData[3],b*this.rawData[1]+c*this.rawData[5]+a*this.rawData[9]+this.rawData[7],b*this.rawData[2]+c*this.rawData[6]+a*this.rawData[10]+this.rawData[11],0)};K.prototype.deltaTransformVector=K.prototype.rq;
K.prototype.Ee=function(){this.rawData[0]=1;this.rawData[1]=0;this.rawData[2]=0;this.rawData[3]=0;this.rawData[4]=0;this.rawData[5]=1;this.rawData[6]=0;this.rawData[7]=0;this.rawData[8]=0;this.rawData[9]=0;this.rawData[10]=1;this.rawData[11]=0;this.rawData[12]=0;this.rawData[13]=0;this.rawData[14]=0;this.rawData[15]=1};K.prototype.identity=K.prototype.Ee;K.prototype.Cu=function(a,b){for(var c=0;16>c;){var d=c++;this.rawData[d]+=(a.rawData[d]-this.rawData[d])*b}};K.prototype.interpolateTo=K.prototype.Cu;
K.prototype.Fe=function(){var a=this.determinant,b=1E-11<Math.abs(a);if(b){var a=1/a,c=this.rawData[0],d=this.rawData[4],e=this.rawData[8],f=this.rawData[12],g=this.rawData[1],h=this.rawData[5],k=this.rawData[9],m=this.rawData[13],p=this.rawData[2],r=this.rawData[6],u=this.rawData[10],v=this.rawData[14],A=this.rawData[3],B=this.rawData[7],E=this.rawData[11],S=this.rawData[15];this.rawData[0]=a*(h*(u*S-v*E)-k*(r*S-v*B)+m*(r*E-u*B));this.rawData[1]=-a*(g*(u*S-v*E)-k*(p*S-v*A)+m*(p*E-u*A));this.rawData[2]=
a*(g*(r*S-v*B)-h*(p*S-v*A)+m*(p*B-r*A));this.rawData[3]=-a*(g*(r*E-u*B)-h*(p*E-u*A)+k*(p*B-r*A));this.rawData[4]=-a*(d*(u*S-v*E)-e*(r*S-v*B)+f*(r*E-u*B));this.rawData[5]=a*(c*(u*S-v*E)-e*(p*S-v*A)+f*(p*E-u*A));this.rawData[6]=-a*(c*(r*S-v*B)-d*(p*S-v*A)+f*(p*B-r*A));this.rawData[7]=a*(c*(r*E-u*B)-d*(p*E-u*A)+e*(p*B-r*A));this.rawData[8]=a*(d*(k*S-m*E)-e*(h*S-m*B)+f*(h*E-k*B));this.rawData[9]=-a*(c*(k*S-m*E)-e*(g*S-m*A)+f*(g*E-k*A));this.rawData[10]=a*(c*(h*S-m*B)-d*(g*S-m*A)+f*(g*B-h*A));this.rawData[11]=
-a*(c*(h*E-k*B)-d*(g*E-k*A)+e*(g*B-h*A));this.rawData[12]=-a*(d*(k*v-m*u)-e*(h*v-m*r)+f*(h*u-k*r));this.rawData[13]=a*(c*(k*v-m*u)-e*(g*v-m*p)+f*(g*u-k*p));this.rawData[14]=-a*(c*(h*v-m*r)-d*(g*v-m*p)+f*(g*r-h*p));this.rawData[15]=a*(c*(h*u-k*r)-d*(g*u-k*p)+e*(g*r-h*p))}return b};K.prototype.invert=K.prototype.Fe;
K.prototype.ev=function(a,b,c){b='undefined'!==typeof b?b:null;c='undefined'!==typeof c?c:null;null==b&&(b=new J(0,0,-1));null==c&&(c=new J(0,-1,0));b=b.Ud(a);c=c.clone();var d;b.normalize();c.normalize();d=b.clone();d.on(c.bm(b));c=c.Ud(d);0<c.length?c.normalize():c=0!=b.x?new J(-b.y,b.x,0):new J(1,0,0);d=c.Zl(b);d.normalize();this.rawData[0]=d.x;this.rawData[4]=d.y;this.rawData[8]=d.z;this.rawData[12]=0;this.rawData[1]=c.x;this.rawData[5]=c.y;this.rawData[9]=c.z;this.rawData[13]=0;this.rawData[2]=
b.x;this.rawData[6]=b.y;this.rawData[10]=b.z;this.rawData[14]=0;this.rawData[3]=a.x;this.rawData[7]=a.y;this.rawData[11]=a.z;this.rawData[15]=1};K.prototype.pointAt=K.prototype.ev;
K.prototype.Nj=function(a){var b=a.rawData[0],c=a.rawData[4],d=a.rawData[8],e=a.rawData[12],f=a.rawData[1],g=a.rawData[5],h=a.rawData[9],k=a.rawData[13],m=a.rawData[2],p=a.rawData[6],r=a.rawData[10],u=a.rawData[14],v=a.rawData[3],A=a.rawData[7],B=a.rawData[11];a=a.rawData[15];var E=this.rawData[0],S=this.rawData[4],Ba=this.rawData[8],za=this.rawData[12],sa=this.rawData[1],va=this.rawData[5],Ha=this.rawData[9],$a=this.rawData[13],Ab=this.rawData[2],Bb=this.rawData[6],Ob=this.rawData[10],Ka=this.rawData[14],
Va=this.rawData[3],Za=this.rawData[7],ub=this.rawData[11],Kb=this.rawData[15];this.rawData[0]=b*E+f*S+m*Ba+v*za;this.rawData[1]=b*sa+f*va+m*Ha+v*$a;this.rawData[2]=b*Ab+f*Bb+m*Ob+v*Ka;this.rawData[3]=b*Va+f*Za+m*ub+v*Kb;this.rawData[4]=c*E+g*S+p*Ba+A*za;this.rawData[5]=c*sa+g*va+p*Ha+A*$a;this.rawData[6]=c*Ab+g*Bb+p*Ob+A*Ka;this.rawData[7]=c*Va+g*Za+p*ub+A*Kb;this.rawData[8]=d*E+h*S+r*Ba+B*za;this.rawData[9]=d*sa+h*va+r*Ha+B*$a;this.rawData[10]=d*Ab+h*Bb+r*Ob+B*Ka;this.rawData[11]=d*Va+h*Za+r*ub+
B*Kb;this.rawData[12]=e*E+k*S+u*Ba+a*za;this.rawData[13]=e*sa+k*va+u*Ha+a*$a;this.rawData[14]=e*Ab+k*Bb+u*Ob+a*Ka;this.rawData[15]=e*Va+k*Za+u*ub+a*Kb};K.prototype.prepend=K.prototype.Nj;K.prototype.fv=function(a,b,c){c='undefined'!==typeof c?c:null;a=Eg(b.x,b.y,b.z,a);null!=c&&a.Fi(c.x,c.y,c.z);this.Nj(a)};K.prototype.prependRotation=K.prototype.fv;
K.prototype.gv=function(a,b,c){this.rawData[0]*=a;this.rawData[1]*=b;this.rawData[2]*=c;this.rawData[4]*=a;this.rawData[5]*=b;this.rawData[6]*=c;this.rawData[8]*=a;this.rawData[9]*=b;this.rawData[10]*=c;this.rawData[12]*=a;this.rawData[13]*=b;this.rawData[14]*=c};K.prototype.prependScale=K.prototype.gv;K.prototype.hv=function(a,b,c){var d=Fg;d.Ee();d.position=new J(a,b,c);this.Nj(d)};K.prototype.prependTranslation=K.prototype.hv;
K.prototype.lv=function(a,b){b='undefined'!==typeof b?b:null;if(3>a.length||0==a[2].x||0==a[2].y||0==a[2].z)return!1;null==b&&(b=Hc);this.Ee();var c=[];c[0]=c[1]=c[2]=a[2].x;c[4]=c[5]=c[6]=a[2].y;c[8]=c[9]=c[10]=a[2].z;switch(b){case Hc:var d=Math.cos(a[1].x),e=Math.cos(a[1].y),f=Math.cos(a[1].z),g=Math.sin(a[1].x),h=Math.sin(a[1].y),k=Math.sin(a[1].z);this.rawData[0]=e*f*c[0];this.rawData[1]=e*k*c[1];this.rawData[2]=-h*c[2];this.rawData[3]=0;this.rawData[4]=(g*h*f-d*k)*c[4];this.rawData[5]=(g*h*
k+d*f)*c[5];this.rawData[6]=g*e*c[6];this.rawData[7]=0;this.rawData[8]=(d*h*f+g*k)*c[8];this.rawData[9]=(d*h*k-g*f)*c[9];this.rawData[10]=d*e*c[10];this.rawData[11]=0;this.rawData[12]=a[0].x;this.rawData[13]=a[0].y;this.rawData[14]=a[0].z;this.rawData[15]=1;break;default:d=a[1].x,e=a[1].y,f=a[1].z,g=a[1].w,b==vc&&(d*=Math.sin(g/2),e*=Math.sin(g/2),f*=Math.sin(g/2),g=Math.cos(g/2)),this.rawData[0]=(1-2*e*e-2*f*f)*c[0],this.rawData[1]=(2*d*e+2*g*f)*c[1],this.rawData[2]=(2*d*f-2*g*e)*c[2],this.rawData[3]=
0,this.rawData[4]=(2*d*e-2*g*f)*c[4],this.rawData[5]=(1-2*d*d-2*f*f)*c[5],this.rawData[6]=(2*e*f+2*g*d)*c[6],this.rawData[7]=0,this.rawData[8]=(2*d*f+2*g*e)*c[8],this.rawData[9]=(2*e*f-2*g*d)*c[9],this.rawData[10]=(1-2*d*d-2*e*e)*c[10],this.rawData[11]=0,this.rawData[12]=a[0].x,this.rawData[13]=a[0].y,this.rawData[14]=a[0].z,this.rawData[15]=1}0===a[2].x&&(this.rawData[0]=1E-15);0===a[2].y&&(this.rawData[5]=1E-15);0===a[2].z&&(this.rawData[10]=1E-15);return!(0===a[2].x||0===a[2].y||0===a[2].y)};
K.prototype.recompose=K.prototype.lv;K.prototype.ky=function(a){var b=a.x,c=a.y;a=a.z;return new J(b*this.rawData[0]+c*this.rawData[4]+a*this.rawData[8]+this.rawData[12],b*this.rawData[1]+c*this.rawData[5]+a*this.rawData[9]+this.rawData[13],b*this.rawData[2]+c*this.rawData[6]+a*this.rawData[10]+this.rawData[14],b*this.rawData[3]+c*this.rawData[7]+a*this.rawData[11]+this.rawData[15])};K.prototype.transformVector=K.prototype.ky;
K.prototype.ly=function(a,b){for(var c=0;c+3<=a.length;){var d=a[c],e=a[c+1],f=a[c+2];b[c]=d*this.rawData[0]+e*this.rawData[4]+f*this.rawData[8]+this.rawData[12];b[c+1]=d*this.rawData[1]+e*this.rawData[5]+f*this.rawData[9]+this.rawData[13];b[c+2]=d*this.rawData[2]+e*this.rawData[6]+f*this.rawData[10]+this.rawData[14];c+=3}};K.prototype.transformVectors=K.prototype.ly;
K.prototype.Vd=function(){var a=this.rawData.concat();this.rawData[1]=a[4];this.rawData[2]=a[8];this.rawData[3]=a[12];this.rawData[4]=a[1];this.rawData[6]=a[9];this.rawData[7]=a[13];this.rawData[8]=a[2];this.rawData[9]=a[6];this.rawData[11]=a[14];this.rawData[12]=a[3];this.rawData[13]=a[7];this.rawData[14]=a[11]};K.prototype.transpose=K.prototype.Vd;y('flash.geom.Matrix3D.interpolate',function(a,b,c){for(var d=new K,e=0;16>e;){var f=e++;d.rawData[f]=a.rawData[f]+(b.rawData[f]-a.rawData[f])*c}return d});
function Eg(a,b,c,d){var e=new K;d=Math.PI/180*-d;var f=Math.cos(d);d=Math.sin(d);var g=1-f;e.rawData[0]=f+a*a*g;e.rawData[5]=f+b*b*g;e.rawData[10]=f+c*c*g;var f=a*b*g,h=c*d;e.rawData[4]=f+h;e.rawData[1]=f-h;f=a*c*g;h=b*d;e.rawData[8]=f-h;e.rawData[2]=f+h;f=b*c*g;h=a*d;e.rawData[9]=f+h;e.rawData[6]=f-h;return e}
K.prototype.$r=function(){return(this.rawData[0]*this.rawData[5]-this.rawData[4]*this.rawData[1])*(this.rawData[10]*this.rawData[15]-this.rawData[14]*this.rawData[11])-(this.rawData[0]*this.rawData[9]-this.rawData[8]*this.rawData[1])*(this.rawData[6]*this.rawData[15]-this.rawData[14]*this.rawData[7])+(this.rawData[0]*this.rawData[13]-this.rawData[12]*this.rawData[1])*(this.rawData[6]*this.rawData[11]-this.rawData[10]*this.rawData[7])+(this.rawData[4]*this.rawData[9]-this.rawData[8]*this.rawData[5])*
(this.rawData[2]*this.rawData[15]-this.rawData[14]*this.rawData[3])-(this.rawData[4]*this.rawData[13]-this.rawData[12]*this.rawData[5])*(this.rawData[2]*this.rawData[11]-this.rawData[10]*this.rawData[3])+(this.rawData[8]*this.rawData[13]-this.rawData[12]*this.rawData[9])*(this.rawData[2]*this.rawData[7]-this.rawData[6]*this.rawData[3])};K.prototype.gj=function(){return new J(this.rawData[12],this.rawData[13],this.rawData[14])};
K.prototype.gk=function(a){this.rawData[12]=a.x;this.rawData[13]=a.y;this.rawData[14]=a.z};Object.defineProperties(K.prototype,{determinant:{get:K.prototype.$r},position:{get:K.prototype.gj,set:K.prototype.gk}});var Fg=new K;K.prototype.i={names:[{name:'Matrix3D',j:Wd,kind:l}]};y(Wd,K);function Gg(){}y('flash.utils.Endian.BIG_ENDIAN','bigEndian');y('flash.utils.Endian.LITTLE_ENDIAN','littleEndian');Gg.prototype.i={names:[{name:'Endian',j:ie,kind:l}]};y(ie,Gg);function Hg(){}x=Hg.prototype;x.bn=n();x.Oj=n();x.cn=n();x.dn=n();x.en=n();x.fn=n();x.Pj=n();x.gn=n();x.hn=n();x.kn=n();x.ln=n();x.Qj=n();x.jn=n();x.Oe=n();x.i={names:[{name:'IDataInput',j:je,kind:qe}]};y(je,Hg);function Ig(){}Ig.prototype.i={names:[{name:'IDataInput2',j:ke,kind:qe}],Oa:[Hg]};y(ke,Ig);function Jg(){}x=Jg.prototype;x.En=n();x.Lh=n();x.vk=n();x.Fn=n();x.Gn=n();x.Hn=n();x.wk=n();x.In=n();x.xk=n();x.Kn=n();x.Jn=n();x.Wd=n();x.i={names:[{name:'IDataOutput',j:le,kind:qe}]};y(le,Jg);function Kg(){}Kg.prototype.i={names:[{name:'IDataOutput2',j:me,kind:qe}],Oa:[Jg]};y(me,Kg);function L(){this.Cl='bigEndian';this.dataView=new DataView(new ArrayBuffer(0))}L.prototype.Ab=!1;L.prototype.A=0;L.prototype.Fl=0;L.prototype.cn=function(a,b,c){a.position='undefined'!==typeof b?b:0;a.vk(this,this.position,'undefined'!==typeof c?c:0)};L.prototype.readBytes=L.prototype.cn;L.prototype.vk=function(a,b,c){b='undefined'!==typeof b?b:0;c='undefined'!==typeof c?c:0;0===c&&(c=a.length-b);Lg(this,c);a.position=b;for(b=0;b<c;b++)this.Lh(a.Oj())};L.prototype.writeBytes=L.prototype.vk;
L.prototype.En=function(a){Lg(this,1);this.dataView.setInt8(this.A,a?1:0);this.A++};L.prototype.writeBoolean=L.prototype.En;L.prototype.Lh=function(a){Lg(this,1);this.dataView.setInt8(this.A,a);this.A++};L.prototype.writeByte=L.prototype.Lh;L.prototype.xk=function(a){Lg(this,2);this.dataView.setInt16(this.A,a,this.Ab);this.A+=2};L.prototype.writeShort=L.prototype.xk;L.prototype.Hn=function(a){Lg(this,4);this.dataView.setInt32(this.A,a,this.Ab);this.A+=4};L.prototype.writeInt=L.prototype.Hn;
L.prototype.Kn=function(a){Lg(this,4);this.dataView.setUint32(this.A,a,this.Ab);this.A+=4};L.prototype.writeUnsignedInt=L.prototype.Kn;L.prototype.Gn=function(a){Lg(this,4);this.dataView.setFloat32(this.A,a,this.Ab);this.A+=4};L.prototype.writeFloat=L.prototype.Gn;L.prototype.Fn=function(a){Lg(this,8);this.dataView.setFloat64(this.A,a,this.Ab);this.A+=8};L.prototype.writeDouble=L.prototype.Fn;
L.prototype.wk=function(a,b){function c(a){return a.charCodeAt(0)}try{var d=(new TextEncoder(b)).encode(a)}catch(f){d=new Uint8Array(a.split('').map(c))}for(var e=0;e<d.length;e++)this.Lh(d[e])};L.prototype.writeMultiByte=L.prototype.wk;L.prototype.Jn=function(a){var b=this.A+=2;this.Wd(a);a=this.A;this.A=b-2;this.xk(b-a);this.A=a};L.prototype.writeUTF=L.prototype.Jn;L.prototype.Wd=function(a){this.wk(a,'utf-8')};L.prototype.writeUTFBytes=L.prototype.Wd;
L.prototype.bn=function(){var a=0!=this.dataView.getInt8(this.A);this.A++;return a};L.prototype.readBoolean=L.prototype.bn;L.prototype.Oj=function(){var a=this.dataView.getInt8(this.A);this.A++;return a};L.prototype.readByte=L.prototype.Oj;L.prototype.kn=function(){var a=this.dataView.getUint8(this.A);this.A++;return a};L.prototype.readUnsignedByte=L.prototype.kn;L.prototype.hn=function(){var a=this.dataView.getInt16(this.A,this.Ab);this.A+=2;return a};L.prototype.readShort=L.prototype.hn;
L.prototype.Qj=function(){var a=this.dataView.getUint16(this.A,this.Ab);this.A+=2;return a};L.prototype.readUnsignedShort=L.prototype.Qj;L.prototype.fn=function(){var a=this.dataView.getInt32(this.A,this.Ab);this.A+=4;return a};L.prototype.readInt=L.prototype.fn;L.prototype.ln=function(){var a=this.dataView.getUint32(this.A,this.Ab);this.A+=4;return a};L.prototype.readUnsignedInt=L.prototype.ln;L.prototype.en=function(){var a=this.dataView.getFloat32(this.A,this.Ab);this.A+=4;return a};
L.prototype.readFloat=L.prototype.en;L.prototype.dn=function(){var a=this.dataView.getFloat64(this.A,this.Ab);this.A+=8;return a};L.prototype.readDouble=L.prototype.dn;L.prototype.Pj=function(a,b){try{var c=new Uint8Array(a);c.set(new Uint8Array(Mg(this.dataView.buffer,this.A,this.A+a)));var d=(new TextDecoder(b)).decode(c)}catch(e){for(d='',c=0;c<a;c++)d+=String.fromCharCode(this.dataView.getUint8(this.A+c))}this.A+=a;return d};L.prototype.readMultiByte=L.prototype.Pj;L.prototype.jn=function(){return this.Oe(this.Qj())};
L.prototype.readUTF=L.prototype.jn;L.prototype.Oe=function(a){return this.Pj(a,'utf-8')};L.prototype.readUTFBytes=L.prototype.Oe;function Lg(a,b){a.A+b>a.length&&(a.length=a.A+b)}L.prototype.In=n();L.prototype.writeObject=L.prototype.In;L.prototype.gn=w(null);L.prototype.readObject=L.prototype.gn;L.prototype.pq=n();L.prototype.deflate=L.prototype.pq;L.prototype.aq=n();L.prototype.compress=L.prototype.aq;L.prototype.wc=n();L.prototype.inflate=L.prototype.wc;L.prototype.my=n();
L.prototype.uncompress=L.prototype.my;L.prototype.toString=function(){this.position=0;return this.Oe(this.length)};L.prototype.toString=L.prototype.toString;L.prototype.clear=function(){this.length=this.position=0};L.prototype.clear=L.prototype.clear;L.prototype.Yp=w(0);L.prototype.atomicCompareAndSwapIntAt=L.prototype.Yp;L.prototype.Zp=w(0);L.prototype.atomicCompareAndSwapLength=L.prototype.Zp;
function Mg(a,b,c){try{var d=a.slice(b,c)}catch(f){0===c&&(c=a.byteLength);var d=new ArrayBuffer(c-b),e=new Uint8Array(d);a=new Uint8Array(a,b,c-b);e.set(a)}return d}x=L.prototype;x.Cd=t('Fl');x.Ww=function(a){this.Fl=a;var b=new Uint8Array(a);b.set(new Uint8Array(this.dataView.buffer.byteLength>a?Mg(this.dataView.buffer,0,a):this.dataView.buffer));this.dataView=new DataView(b.buffer)};x.xr=function(){return this.length-this.position};x.gj=t('A');x.gk=q('A');x.nt=w(0);x.mx=n();x.ns=t('Cl');
x.ww=function(a){this.Cl=a;this.Ab='littleEndian'===a};x.Lt=w(!1);x.Bx=n();Object.defineProperties(L.prototype,{length:{get:L.prototype.Cd,set:L.prototype.Ww},bytesAvailable:{get:L.prototype.xr},position:{get:L.prototype.gj,set:L.prototype.gk},objectEncoding:{get:L.prototype.nt,set:L.prototype.mx},endian:{get:L.prototype.ns,set:L.prototype.ww},shareable:{get:L.prototype.Lt,set:L.prototype.Bx}});Object.defineProperties(L,{defaultObjectEncoding:{get:w(0),set:n()}});
L.prototype.i={names:[{name:'ByteArray',j:he,kind:l}],Oa:[Ig,Kg]};y(he,L);function M(a,b){this.yn={};this.sa=new K;this.ka=new K;this.matr=new z;this.ca=new z;this.Gi=[];this.an={};this.Dn={};this.Sl={};this.Bm={};this.isBatch='undefined'!==typeof b?b:!1;this.stage=a;this.canvas=a.canvas;this.ctx=new I;this.ctx.canvas=this.canvas;this.ctx.gl=this.canvas.getContext('webgl',{alpha:!1,antialias:!1})||this.canvas.getContext(Ic,{alpha:!1,antialias:!1});this.jc=new kg(null,null,null,this.ctx.gl.DYNAMIC_DRAW);this.wn();this.ctx.Sj(Oe,Ge);this.ctx.pn(De);var c=new Float32Array([0,
0,1,0,0,1,1,1]);this.bitmapDrawable=new kg(c,c,new Uint16Array([0,2,1,2,1,3]),this.ctx.gl.STATIC_DRAW);var d='attribute vec2 va0;attribute vec4 va1;attribute vec2 va2;varying vec4 vColor;varying vec2 vUV;uniform mat4 vc0;uniform mat4 vc4;void main(void) {vColor\x3dva1;vUV\x3d(vc4*vec4(va2,0.0,1.0)).xy;gl_Position \x3dvc0*vec4(va0, 0.0,1.0);}',c='precision lowp float;varying vec4 vColor;varying vec2 vUV;uniform sampler2D fs0;void main(void) {gl_FragColor \x3d texture2D(fs0,vUV)*vColor;}';this.Ql=this.ctx.createProgram();
var e=new L;e.Wd(d);d=new L;d.Wd(c);this.Ql.upload(e,d);d='attribute vec2 va0;attribute vec4 va1;varying vec4 vColor;uniform mat4 vc0;void main(void) {vColor\x3dva1;gl_Position \x3dvc0*vec4(va0, 0.0,1.0);}';c='precision lowp float;varying vec4 vColor;void main(void) {gl_FragColor \x3d vColor;}';this.Tl=this.ctx.createProgram();e=new L;e.Wd(d);d=new L;d.Wd(c);this.Tl.upload(e,d);a.addEventListener(Ke,gf(this.wn,this,'stage_resize'))}M.prototype.globalAlpha=1;M.prototype.globalAlpha=M.prototype.globalAlpha;
x=M.prototype;x.ye=0;x.dg=0;x.cg=0;x.Jh=!0;x.wn=function(){this.ctx.Ul(this.stage.stageWidth,this.stage.stageHeight,0,!1)};x.arc=function(a,b,c,d,e){this.currentPath.path.arc(a,b,c,d,e);return null};M.prototype.arc=M.prototype.arc;M.prototype.arcTo=w(null);M.prototype.arcTo=M.prototype.arcTo;M.prototype.beginPath=function(){this.currentPath=new lg(this.ctx);this.currentPath.path=Bf.vd();this.currentPath.matr=this.matr;return null};M.prototype.beginPath=M.prototype.beginPath;
M.prototype.bezierCurveTo=function(a,b,c,d,e,f){this.currentPath.path.Kb(a,b,c,d,e,f);return null};M.prototype.bezierCurveTo=M.prototype.bezierCurveTo;M.prototype.clearRect=function(){this.ctx.clear(255,255,255);zf=this.ye=0;return null};M.prototype.clearRect=M.prototype.clearRect;M.prototype.clip=w(null);M.prototype.clip=M.prototype.clip;M.prototype.closePath=w(null);M.prototype.closePath=M.prototype.closePath;M.prototype.createImageData=w(null);M.prototype.createImageData=M.prototype.createImageData;
M.prototype.createLinearGradient=w(null);M.prototype.createLinearGradient=M.prototype.createLinearGradient;M.prototype.createPattern=function(a,b){return new hg(a,b)};M.prototype.createPattern=M.prototype.createPattern;M.prototype.createRadialGradient=w(null);M.prototype.createRadialGradient=M.prototype.createRadialGradient;M.prototype.drawImage=function(a){this.yd(a,this.bitmapDrawable,this.matr,null,!0,this.colorTransform.Jc,!0,!0);return null};M.prototype.drawImage=M.prototype.drawImage;
M.prototype.Lf=function(a){this.currentPath=a.glpath2d;null==a.glpath2d&&(this.currentPath=a.glpath2d=new lg(this.ctx));this.currentPath.path=a;this.currentPath.matr=this.matr;return null};M.prototype.drawPath=M.prototype.Lf;
M.prototype.yd=function(a,b,c,d,e,f,g,h){if(this.isBatch){if(h||this.yc)if(null==a||this.Zg!=a){if(0<this.dg){var k=Ng(this.dg),m=Ng(this.cg),p=this.an[k],r=this.Dn[k],u=this.Sl[k],v=this.Bm[m];null==p&&(p=this.an[k]=new jg(new Float32Array(2*k),2,this.ctx.gl.DYNAMIC_DRAW));null==r&&this.yc&&(r=this.Dn[k]=new jg(new Float32Array(2*k),2,this.ctx.gl.DYNAMIC_DRAW));null==u&&this.Jh&&(u=this.Sl[k]=new jg(new Uint32Array(k),4,this.ctx.gl.DYNAMIC_DRAW));null==v&&(v=this.Bm[m]=new ig(new Uint16Array(3*m),
this.ctx.gl.DYNAMIC_DRAW));k=p.data;if(this.yc)var A=r.data;if(this.Jh)var B=u.data;m=v.data;this.jc.index=v;this.jc.pos=p;this.jc.uv=r;this.jc.color=u;this.jc.Lj=this.cg;r=p=0;if(this.yc)var E=this.Zg.width,S=this.Zg.height;u=this.ye;for(v=0;v<u;v++){var Ba=this.Gi[v],za=Ba[1],sa=Ba[2],va=Ba[4],Ha=Ba[6],$a=Ba[5];if(this.yc){var Ab=Ba[3];Ab&&(this.ca.Ja(sa),this.ca.Fe(),this.ca.concat(Ab),this.ca.b*=-1,this.ca.c*=-1,this.ca.tx*=-1,this.ca.ty*=-1)}var Bb=za.pos.data;if(this.yc)var Ob=za.uv.data;for(var Ba=
Bb.length/2,Ka=0;Ka<Ba;Ka++){var Va=Bb[2*Ka],Za=Bb[2*Ka+1];va&&(Va*=E,Za*=S);var ub=sa.a*Va+sa.c*Za+sa.tx,Va=sa.d*Za+sa.b*Va+sa.ty;k[2*(p+Ka)]=ub;k[2*(p+Ka)+1]=Va;this.yc&&(Va=Ob[2*Ka],Za=Ob[2*Ka+1],Ha&&(Va*=E,Za*=S),Ab?(ub=this.ca.a*Va+this.ca.c*Za+this.ca.tx,Va=this.ca.d*Za+this.ca.b*Va+this.ca.ty,A[2*(p+Ka)]=ub,A[2*(p+Ka)+1]=Va):(A[2*(p+Ka)]=Va,A[2*(p+Ka)+1]=Za));this.Jh&&(B[p+Ka]=$a)}za=za.index.data;sa=za.length;for(Ka=0;Ka<sa;Ka++)m[r+Ka]=za[Ka]+p;p+=Ba;r+=sa}this.jc.index.U=!0;this.jc.pos.U=
!0;this.yc&&(this.jc.uv.U=!0);this.Jh&&(this.jc.color.U=!0);this.Rb(this.Zg,this.jc,null,null,!1,!1,this.yc);this.ye=0}this.cg=this.dg=0;this.Zg=a;this.yc=h}b&&(this.dg+=b.pos.data.length/2,this.cg+=b.index.data.length/3);A=this.Gi[this.ye];null==A&&(A=this.Gi[this.ye]=[]);this.ye++;A[0]=a;A[1]=b;A[2]=c;A[3]=d;A[4]=e;A[5]=f;A[6]=g;A[7]=h}else if(a){A=b.color;A.U=!0;A=A.data;B=A.length;for(E=0;E<B;E++)A[E]=f;this.Rb(a,b,c,d,e,g,h)}};M.prototype.drawImageInternal=M.prototype.yd;
M.prototype.Rb=function(a,b,c,d,e,f,g){zf++;if(g){var h;h=a.Rp;if(null==h){var k=Ng(a.width),m=Ng(a.height);h=new gg;h.img=a;var p=new D(k,m,!0,0);h.bmd=p;h.width=k;h.height=m;a.Rp=h}h.U&&(h.texture=this.ctx.createTexture(k,m,'bgra',!1),h.bmd.Oi(a),h.texture.We(h.bmd,1),h.U=!1);this.ctx.Uj(this.Ql);this.ctx.tn(0,h.texture);this.ctx.oh(2,b.uv.Ad(this.ctx),0,ne)}else this.ctx.Uj(this.Tl);this.ctx.oh(0,b.pos.Ad(this.ctx),0,ne);this.ctx.oh(1,b.color.Ad(this.ctx),0,'bytes4');c?(this.sa.rawData[0]=2*c.a/
this.stage.stageWidth,this.sa.rawData[1]=2*-c.b/this.stage.stageHeight,this.sa.rawData[4]=2*c.c/this.stage.stageWidth,this.sa.rawData[5]=2*-c.d/this.stage.stageHeight,this.sa.rawData[12]=2*c.tx/this.stage.stageWidth-1,this.sa.rawData[13]=1-2*c.ty/this.stage.stageHeight):(this.sa.rawData[0]=2/this.stage.stageWidth,this.sa.rawData[1]=0,this.sa.rawData[4]=0,this.sa.rawData[5]=-2/this.stage.stageHeight,this.sa.rawData[12]=-1,this.sa.rawData[13]=1);e&&(this.sa.rawData[0]*=a.width,this.sa.rawData[1]*=a.width,
this.sa.rawData[4]*=a.height,this.sa.rawData[5]*=a.height);this.ctx.Vj(Se,0,this.sa);g&&(d?(c?(this.ca.Ja(c),this.ca.Fe(),this.ca.concat(d)):this.ca.Ja(d),this.ka.rawData[0]=this.ca.a/h.width,this.ka.rawData[1]=-this.ca.b/h.width,this.ka.rawData[4]=-this.ca.c/h.height,this.ka.rawData[5]=this.ca.d/h.height,this.ka.rawData[12]=-this.ca.tx/h.width,this.ka.rawData[13]=-this.ca.ty/h.height,f&&(this.ka.rawData[0]*=a.width,this.ka.rawData[1]*=a.width,this.ka.rawData[4]*=a.height,this.ka.rawData[5]*=a.height)):
(this.ka.rawData[0]=1/h.width,this.ka.rawData[1]=0,this.ka.rawData[4]=0,this.ka.rawData[5]=1/h.height,this.ka.rawData[12]=0,this.ka.rawData[13]=0,f&&(this.ka.rawData[0]*=a.width,this.ka.rawData[5]*=a.height)),this.ctx.Vj(Se,4,this.ka));switch(this.globalCompositeOperation){case 'multiply':a='zero';c=Pe;break;case 'lighter':a=Oe;c='one';break;case 'alpha':a='zero';c=Oe;break;default:a=Oe,c=Ge}this.ctx.Sj(a,c);this.ctx.Wc(b.index.Ad(this.ctx),0,b.Lj)};
M.prototype.fill=function(){this.fillStyleIsImage?this.yd(this.fillStyle.image,this.currentPath.drawable,this.currentPath.matr,this.matr,!1,this.colorTransform.Jc,0<this.currentPath.path.tris.length,!0):this.currentPath&&this.yd(this.fillStyle,this.currentPath.drawable,this.currentPath.matr,null,!1,this.fillStyle,!1,!1);return null};M.prototype.fill=M.prototype.fill;M.prototype.fillRect=w(null);M.prototype.fillRect=M.prototype.fillRect;
M.prototype.fillText=function(a,b,c){var d=this.yn[a];if(null==d){var d=this.yn[a]=document.createElement(wc),e=d.getContext('2d');e.font=this.font;var f=e.measureText(a);d.width=f.width;d.height=this.font.substr(0,this.font.indexOf('px'))>>0;e.font=this.font;e.textBaseline='top';e.fillStyle=this.fillStyle;e.fillText(a,0,0)}this.ca.Ja(this.matr);this.ca.translate(b,c);this.yd(d,this.bitmapDrawable,this.ca.clone(),null,!0,this.colorTransform.Jc,!0,!0);return null};M.prototype.fillText=M.prototype.fillText;
M.prototype.getImageData=w(null);M.prototype.getImageData=M.prototype.getImageData;M.prototype.isPointInPath=w(!1);M.prototype.isPointInPath=M.prototype.isPointInPath;M.prototype.lineTo=function(a,b){this.currentPath.path.lineTo(a,b);return null};M.prototype.lineTo=M.prototype.lineTo;M.prototype.measureText=w(null);M.prototype.measureText=M.prototype.measureText;M.prototype.moveTo=function(a,b){this.currentPath.path.moveTo(a,b);return null};M.prototype.moveTo=M.prototype.moveTo;
M.prototype.putImageData=w(null);M.prototype.putImageData=M.prototype.putImageData;M.prototype.quadraticCurveTo=function(a,b,c,d){this.currentPath.path.ab(a,b,c,d);return null};M.prototype.quadraticCurveTo=M.prototype.quadraticCurveTo;M.prototype.rect=function(a,b,c,d){this.currentPath.path.moveTo(a,b);this.currentPath.path.lineTo(a+c,b);this.currentPath.path.lineTo(a+c,b+d);this.currentPath.path.lineTo(a,b+d);this.currentPath.path.closePath();return null};M.prototype.rect=M.prototype.rect;
M.prototype.setTransform=w(null);M.prototype.setTransform=M.prototype.setTransform;M.prototype.un=function(a){this.matr=a;return null};M.prototype.setTransform2=M.prototype.un;M.prototype.stroke=w(null);M.prototype.stroke=M.prototype.stroke;M.prototype.strokeRect=w(null);M.prototype.strokeRect=M.prototype.strokeRect;M.prototype.strokeText=w(null);M.prototype.strokeText=M.prototype.strokeText;
M.prototype.An=function(a){var b=this.matr.a/a.a,c=0,d=0,e=this.matr.d/a.d,f=this.matr.tx/a.a+a.tx/a.a,g=this.matr.ty/a.d+a.ty/a.d;if(0!=this.matr.b||0!=this.matr.c||0!=a.b||0!=a.c)b+=this.matr.b*a.c,e+=this.matr.c*a.b,c+=this.matr.a*a.b+this.matr.b*a.d,d+=this.matr.c*a.a+this.matr.d*a.c,f+=this.matr.ty*a.c,g+=this.matr.tx*a.b;a.a=b;a.b=c;a.c=d;a.d=e;a.tx=f;a.ty=g;this.matr=a;return null};M.prototype.transform2=M.prototype.An;function Ng(a){for(var b=1;b<a;)b*=2;return b}
M.prototype.i={names:[{name:'GLCanvasRenderingContext2D',j:Mc,kind:l}]};y(Mc,M);function Og(){this.array=[]}Og.prototype.length=0;Og.prototype.length=Og.prototype.length;Og.prototype.push=function(a){this.array[this.length++]=a};Og.prototype.push=Og.prototype.push;Og.prototype.i={names:[{name:'MemArray',j:Tc,kind:l}]};y(Tc,Og);function Pg(){uf.call(this);this.polys=new Og}Xe(Pg,uf);Pg.prototype.clear=function(){for(var a=this.polys.array.length,b=0;b<a;b++)this.polys.array[b].length=0;this.polys.length=0;this.tris.length=0};Pg.prototype.clear=Pg.prototype.clear;Pg.prototype.moveTo=function(a,b){Qg(this);this.Ea.push(a);this.Ea.push(b)};Pg.prototype.moveTo=Pg.prototype.moveTo;Pg.prototype.lineTo=function(a,b){null==this.Ea&&Qg(this);this.Ea.push(a);this.Ea.push(b)};Pg.prototype.lineTo=Pg.prototype.lineTo;
Pg.prototype.ab=function(a,b,c,d){null==this.Ea&&Qg(this);this.Ea.push(a);this.Ea.push(b);this.Ea.push(c);this.Ea.push(d)};Pg.prototype.curveTo=Pg.prototype.ab;Pg.prototype.Kb=function(a,b,c,d,e,f){null==this.Ea&&Qg(this);this.Ea.push(a);this.Ea.push(b);this.Ea.push(c);this.Ea.push(d);this.Ea.push(e);this.Ea.push(f)};Pg.prototype.cubicCurveTo=Pg.prototype.Kb;Pg.prototype.tk=function(a,b){this.lineTo(a,b)};Pg.prototype.wideLineTo=Pg.prototype.tk;Pg.prototype.uk=function(a,b){this.moveTo(a,b)};
Pg.prototype.wideMoveTo=Pg.prototype.uk;Pg.prototype.arc=function(a,b,c,d,e){var f=1/c*180/Math.PI>>0;1>f&&(f=1);90<f&&(f=90);var f=f*Math.PI/180,g=0,h=Math.sin(f),k=Math.cos(f);for(this.moveTo(c+a,g+b);d<e;d+=f){var m=c;c=c*k-g*h;g=m*h+g*k;this.lineTo(c+a,g+b)}};Pg.prototype.arc=Pg.prototype.arc;Pg.prototype.rect=function(a,b,c,d){this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d)};
function Qg(a){a.Ea=a.polys.array[a.polys.length];null==a.Ea&&(a.Ea=a.polys.array[a.polys.length]=new Og);a.polys.length++}Pg.prototype.i={names:[{name:'GLGraphicsPath',j:Oc,kind:l}]};y(Oc,Pg);function Rg(){this.Be=new rf}Xe(Rg,vf);Rg.prototype.vd=function(){return new Pg};Rg.prototype.createPath=Rg.prototype.vd;Rg.prototype.ac=function(a,b,c){return((a>>16&255)*c.redMultiplier+c.redOffset<<0|(a>>8&255)*c.greenMultiplier+c.greenOffset<<8|(a&255)*c.greenMultiplier+c.greenOffset<<16|255*(b*c.alphaMultiplier+c.alphaOffset)<<24)>>>0};Rg.prototype.getCssColor=Rg.prototype.ac;
Rg.prototype.Rb=function(a,b,c,d,e){a.isBatch||(a.globalCompositeOperation=d);a.yd(b.image,a.bitmapDrawable,c,null,!0,e.Jc,!0,!0);a.isBatch&&(a.globalCompositeOperation=d)};Rg.prototype.renderImage=Rg.prototype.Rb;
Rg.prototype.Sd=function(a,b,c,d,e){a.matr=c;a.isBatch||(a.globalCompositeOperation=d);a.colorTransform=e;c=b.graphicsData.length;for(var f=0;f<c;f++)b.graphicsData[f].Xa(a,e);b.lastFill&&(this.Be.fill=b.lastFill,this.Be._worldMatrix=b._worldMatrix,this.Be.Xa(a,e));b.lastStroke&&a.stroke();a.fillStyle=null;a.strokeStyle=null;a.isBatch&&(a.globalCompositeOperation=d)};Rg.prototype.renderGraphics=Rg.prototype.Sd;
Rg.prototype.Qe=function(a,b,c,d,e,f,g,h){a.colorTransform=f;a.isBatch||(a.globalCompositeOperation=e);a.un(d);a.font=c.css;a.fillStyle=c.csscolor;a.textBaseline='top';a.fillText(b,g,h);a.isBatch&&(a.globalCompositeOperation=e)};Rg.prototype.renderText=Rg.prototype.Qe;Rg.prototype.finish=function(a){a.yd(null,null,null,null,!0,null,!0,!0)};Rg.prototype.finish=Rg.prototype.finish;Rg.prototype.i={names:[{name:'WebGLRenderer',j:Uc,kind:l}]};y(Uc,Rg);function Sg(){this.id=Tg++;Kf.call(this)}Xe(Sg,Kf);var Tg=0;Sg.prototype.id=0;Sg.prototype.nn=function(){this.wi=new I;var a=document.getElementById('spriteflexjsstage3d'+this.id);null==a&&(a=document.createElement(wc),a.style.position=uc,a.style.left='0px',a.style.top='0px',a.style.zIndex=this.id-20,this.__stage.__rootHtmlElement.appendChild(a));this.wi.canvas=a;this.wi.gl=a.getContext('webgl',{alpha:!1,antialias:!1})||a.getContext(Ic,{alpha:!1,antialias:!1});this.dispatchEvent(new Of(Bc))};
Sg.prototype.requestContext3D=Sg.prototype.nn;Sg.prototype.pv=function(){this.nn()};Sg.prototype.requestContext3DMatchingProfiles=Sg.prototype.pv;x=Sg.prototype;x.Rr=t('wi');x.Ug=w(0);x.Ue=n();x.Vg=w(0);x.Ve=n();x.Tg=w(!1);x.Se=n();Object.defineProperties(Sg.prototype,{context3D:{get:Sg.prototype.Rr},x:{get:Sg.prototype.Ug,set:Sg.prototype.Ue},y:{get:Sg.prototype.Vg,set:Sg.prototype.Ve},visible:{get:Sg.prototype.Tg,set:Sg.prototype.Se}});Sg.prototype.i={names:[{name:'Stage3D',j:sd,kind:l}]};
y(sd,Sg);function Ug(){}y('flash.display.StageAlign.TOP','T');y('flash.display.StageAlign.LEFT','L');y('flash.display.StageAlign.BOTTOM','B');y('flash.display.StageAlign.RIGHT','R');y('flash.display.StageAlign.TOP_LEFT','TL');y('flash.display.StageAlign.TOP_RIGHT','TR');y('flash.display.StageAlign.BOTTOM_LEFT','BL');y('flash.display.StageAlign.BOTTOM_RIGHT','BR');Ug.prototype.i={names:[{name:'StageAlign',j:td,kind:l}]};y(td,Ug);function Vg(){}y('flash.display.StageQuality.LOW','low');y('flash.display.StageQuality.MEDIUM','medium');y('flash.display.StageQuality.HIGH','high');y('flash.display.StageQuality.BEST','best');y('flash.display.StageQuality.HIGH_8X8','8x8');y('flash.display.StageQuality.HIGH_8X8_LINEAR','8x8linear');y('flash.display.StageQuality.HIGH_16X16','16x16');y('flash.display.StageQuality.HIGH_16X16_LINEAR','16x16linear');Vg.prototype.i={names:[{name:'StageQuality',j:ud,kind:l}]};y(ud,Vg);function Wg(){}y('flash.display.StageScaleMode.EXACT_FIT','exactFit');y('flash.display.StageScaleMode.NO_BORDER','noBorder');y('flash.display.StageScaleMode.NO_SCALE','noScale');y('flash.display.StageScaleMode.SHOW_ALL','showAll');Wg.prototype.i={names:[{name:'StageScaleMode',j:vd,kind:l}]};y(vd,Wg);function Xg(a,b,c,d,e,f,g,h,k){d='undefined'!==typeof d?d:0;e='undefined'!==typeof e?e:0;f='undefined'!==typeof f?f:0;g='undefined'!==typeof g?g:!1;h='undefined'!==typeof h?h:!1;k='undefined'!==typeof k?k:!1;Of.call(this,a,'undefined'!==typeof b?b:!0,'undefined'!==typeof c?c:!1);this.charCode=d;this.keyCode=e;this.keyLocation=f;this.ctrlKey=g;this.altKey=h;this.shiftKey=k}Xe(Xg,Of);y('flash.events.KeyboardEvent.KEY_DOWN','keyDown');y('flash.events.KeyboardEvent.KEY_UP','keyUp');Xg.prototype.Pm=0;
Xg.prototype.Om=0;Xg.prototype.clone=function(){return new Xg(this.type,this.bubbles,this.cancelable,this.charCode,this.keyCode,this.keyLocation,this.ctrlKey,this.altKey,this.shiftKey)};Xg.prototype.clone=Xg.prototype.clone;Xg.prototype.toString=function(){return this.Nf()};Xg.prototype.toString=Xg.prototype.toString;Xg.prototype.lg=n();Xg.prototype.updateAfterEvent=Xg.prototype.lg;x=Xg.prototype;x.Er=w(0);x.dw=n();x.Os=t('Om');x.Rw=q('Om');x.Ps=t('Pm');x.Sw=q('Pm');x.Pf=t('Cc');x.hg=q('Cc');
x.Of=t('Bc');x.gg=q('Bc');x.Rf=t('Ic');x.jg=q('Ic');Object.defineProperties(Xg.prototype,{charCode:{get:Xg.prototype.Er,set:Xg.prototype.dw},keyCode:{get:Xg.prototype.Os,set:Xg.prototype.Rw},keyLocation:{get:Xg.prototype.Ps,set:Xg.prototype.Sw},ctrlKey:{get:Xg.prototype.Pf,set:Xg.prototype.hg},altKey:{get:Xg.prototype.Of,set:Xg.prototype.gg},shiftKey:{get:Xg.prototype.Rf,set:Xg.prototype.jg}});Xg.prototype.i={names:[{name:'KeyboardEvent',j:Od,kind:l}]};y(Od,Xg);function Yg(a,b,c,d,e,f,g,h,k,m,p,r,u,v){d='undefined'!==typeof d?d:0;e='undefined'!==typeof e?e:!1;f='undefined'!==typeof f?f:NaN;g='undefined'!==typeof g?g:NaN;h='undefined'!==typeof h?h:NaN;k='undefined'!==typeof k?k:NaN;m='undefined'!==typeof m?m:NaN;p='undefined'!==typeof p?p:null;r='undefined'!==typeof r?r:!1;u='undefined'!==typeof u?u:!1;v='undefined'!==typeof v?v:!1;Of.call(this,a,'undefined'!==typeof b?b:!0,'undefined'!==typeof c?c:!1);this.ih=d;this.zj=e;this.localX=f;this.localY=g;this.Hj=
h;this.Ij=k;this.Fj=m;this.Od=p;this.Cc=r;this.Bc=u;this.Ic=v}Xe(Yg,Of);y('flash.events.TouchEvent.TOUCH_BEGIN','touchBegin');y('flash.events.TouchEvent.TOUCH_END',Qe);y('flash.events.TouchEvent.TOUCH_MOVE',Re);y('flash.events.TouchEvent.TOUCH_OVER','touchOver');y('flash.events.TouchEvent.TOUCH_OUT','touchOut');y('flash.events.TouchEvent.TOUCH_ROLL_OVER','touchRollOver');y('flash.events.TouchEvent.TOUCH_ROLL_OUT','touchRollOut');y('flash.events.TouchEvent.TOUCH_TAP','touchTap');
y('flash.events.TouchEvent.PROXIMITY_BEGIN','proximityBegin');y('flash.events.TouchEvent.PROXIMITY_END','proximityEnd');y('flash.events.TouchEvent.PROXIMITY_MOVE','proximityMove');y('flash.events.TouchEvent.PROXIMITY_OUT','proximityOut');y('flash.events.TouchEvent.PROXIMITY_OVER','proximityOver');y('flash.events.TouchEvent.PROXIMITY_ROLL_OUT','proximityRollOut');y('flash.events.TouchEvent.PROXIMITY_ROLL_OVER','proximityRollOver');Yg.prototype.ih=0;
Yg.prototype.clone=function(){return new Yg(this.type,this.bubbles,this.cancelable,this.ih,this.zj,this.localX,this.localY,this.Hj,this.Ij,this.Fj,this.Od,this.Cc,this.Bc,this.Ic)};Yg.prototype.clone=Yg.prototype.clone;Yg.prototype.toString=function(){return this.Nf()};Yg.prototype.toString=Yg.prototype.toString;Yg.prototype.lg=n();Yg.prototype.updateAfterEvent=Yg.prototype.lg;x=Yg.prototype;x.Qi=w(0);x.Ri=w(0);x.cj=w(0);x.ek=n();x.dj=w(0);x.fk=n();x.lu=t('ih');x.Tx=q('ih');x.Is=t('zj');x.Mw=q('zj');
x.Pt=t('Hj');x.Ex=q('Hj');x.Qt=t('Ij');x.Fx=q('Ij');x.wt=t('Fj');x.px=q('Fj');x.ij=t('Od');x.hk=q('Od');x.Pf=t('Cc');x.hg=q('Cc');x.Of=t('Bc');x.gg=q('Bc');x.Rf=t('Ic');x.jg=q('Ic');x.mj=function(){return isNaN(this.localX)||isNaN(this.localY)?Number.NaN:this.Qi()};x.nj=function(){return isNaN(this.localX)||isNaN(this.localY)?Number.NaN:this.Ri()};x.aj=t('Aj');x.ck=q('Aj');
Object.defineProperties(Yg.prototype,{localX:{get:Yg.prototype.cj,set:Yg.prototype.ek},localY:{get:Yg.prototype.dj,set:Yg.prototype.fk},touchPointID:{get:Yg.prototype.lu,set:Yg.prototype.Tx},isPrimaryTouchPoint:{get:Yg.prototype.Is,set:Yg.prototype.Mw},sizeX:{get:Yg.prototype.Pt,set:Yg.prototype.Ex},sizeY:{get:Yg.prototype.Qt,set:Yg.prototype.Fx},pressure:{get:Yg.prototype.wt,set:Yg.prototype.px},relatedObject:{get:Yg.prototype.ij,set:Yg.prototype.hk},ctrlKey:{get:Yg.prototype.Pf,set:Yg.prototype.hg},
altKey:{get:Yg.prototype.Of,set:Yg.prototype.gg},shiftKey:{get:Yg.prototype.Rf,set:Yg.prototype.jg},stageX:{get:Yg.prototype.mj},stageY:{get:Yg.prototype.nj},isRelatedObjectInaccessible:{get:Yg.prototype.aj,set:Yg.prototype.ck}});Yg.prototype.i={names:[{name:'TouchEvent',j:Qd,kind:l}]};y(Qd,Yg);function N(){this.ul='TL';this.Ag=Ne;this.pe=[];this.$b='best';this.If='showAll';G.call(this);if(Zg&&!$g)throw Error("Stage is a singular instance and can't be instantiated twice. Access using instance.");this.__rootHtmlElement=document.createElement('div');document.body.appendChild(this.__rootHtmlElement);this.__htmlWrapper=document.createElement('div');this.__htmlWrapper.style.position=uc;this.__htmlWrapper.style.left='0px';this.__htmlWrapper.style.top='0px';this.__htmlWrapper.style.zIndex=0;document.body.appendChild(this.__htmlWrapper);
0===xf&&(xf=Date.now());this.yi=60;this.Jf=[new Sg,new Sg,new Sg,new Sg].slice();this.Jf[0].__stage=this;this.Jf[1].__stage=this;this.Jf[2].__stage=this;this.Jf[3].__stage=this;this.Kh();window.addEventListener(Ke,gf(this.Kh,this,'window_resize'),!1);window.addEventListener('orientationchange',gf(this.Kh,this,'window_resize'),!1);setTimeout(gf(this.kb,this,'__update'));Zg=this}var Zg;Xe(N,G);var $g=!1;x=N.prototype;x.ed=!1;x.Rc=1;x.Bg=!1;x.Na=16777215;x.yi=0;x.Fg=!0;x.Gg=!0;x.Hl=!1;x.sc=0;x.tc=0;
x.ud=0;x.Il=!0;x.Ll=!0;x.se=0;x.te=0;x.Lg=!0;x.Ob=!1;x.Kh=function(){Cf=!0;this.te=800;this.se=600;this.canvas.width=this.te;this.canvas.height=this.se;this.canvas.style.width=this.te+'px';this.canvas.style.height=this.se+'px';this.dispatchEvent(new Of(Ke))};
x.kb=function(){800==this.te&&600==this.se||this.Kh();Df.call(window,gf(this.kb,this,'__update'));this.dd&&(this.dispatchEvent(new Pf(ze,!0,!1,this.sc,this.tc,null,this.dd.ctrlKey,this.dd.altKey,this.dd.shiftKey,null!=this.dd.buttons?0<this.dd.buttons:this.Ob)),this.dd=null);this.ed&&(this.dispatchEvent(new Yg(Re,!0,!1,0,!0,this.sc,this.tc,null,this.ed.ctrlKey,this.ed.altKey,this.ed.shiftKey,null!=this.ed.buttons?0<this.ed.buttons:this.Ob)),this.ed=null);this.dispatchEvent(new Of(Gc))};
x.Vc=function(a){return N.o.Vc.apply(this,[a])};N.prototype.addChild=N.prototype.Vc;N.prototype.xe=function(a,b){return N.o.xe.apply(this,[a,b])};N.prototype.addChildAt=N.prototype.xe;N.prototype.addEventListener=function(a,b,c,d,e){N.o.addEventListener.apply(this,[a,b,'undefined'!==typeof c?c:!1,'undefined'!==typeof d?d:0,'undefined'!==typeof e?e:!1])};N.prototype.addEventListener=N.prototype.addEventListener;N.prototype.dispatchEvent=function(a){return N.o.dispatchEvent.apply(this,[a])};
N.prototype.dispatchEvent=N.prototype.dispatchEvent;N.prototype.Mb=function(a){return N.o.Mb.apply(this,[a])};N.prototype.hasEventListener=N.prototype.Mb;N.prototype.Fu=n();N.prototype.invalidate=N.prototype.Fu;N.prototype.Hu=w(null);N.prototype.isFocusInaccessible=N.prototype.Hu;N.prototype.Pe=function(a){return N.o.Pe.apply(this,[a])};N.prototype.removeChildAt=N.prototype.Pe;N.prototype.mh=function(a,b){N.o.mh.apply(this,[a,b])};N.prototype.setChildIndex=N.prototype.mh;
N.prototype.kg=function(a,b){N.o.kg.apply(this,[a,b])};N.prototype.swapChildrenAt=N.prototype.kg;N.prototype.mg=function(a){return N.o.mg.apply(this,[a])};N.prototype.willTrigger=N.prototype.mg;x=N.prototype;
x.Mg=function(a){var b,c;switch(ef(a.type)){case 'touchcancel':b=Qe;c=Ce;this.Ob=!1;break;case 'touchend':b=Qe;c=Ce;this.Ob=!1;break;case 'touchmove':b=Re;c=ze;break;case 'touchstart':b='touchBegin',c=xe,this.Ob=!0,a.preventDefault()}b&&(a.targetTouches.length&&(this.sc=a.targetTouches[0].pageX-this.canvas.offsetLeft,this.tc=a.targetTouches[0].pageY-this.canvas.offsetTop),this.Mb(b)&&(b!=Re?this.dispatchEvent(new Yg(b,!0,!1,0,!0,this.sc,this.tc,null,a.ctrlKey,a.altKey,a.shiftKey,null!=a.buttons?0<
a.buttons:this.Ob)):this.ed=!0),this.Mb(c)&&(c!=ze?this.dispatchEvent(new Pf(c,!0,!1,this.sc,this.tc,null,a.ctrlKey,a.altKey,a.shiftKey,null!=a.buttons?0<a.buttons:this.Ob)):this.dd=a),b===Qe&&this.Mb(Ac)&&this.dispatchEvent(new Pf(Ac,!0,!1,this.sc,this.tc,null,a.ctrlKey,a.altKey,a.shiftKey,null!=a.buttons?0<a.buttons:this.Ob)))};
x.Rl=function(a){var b;switch(ef(a.type)){case 'keydown':b='keyDown';break;case 'keyup':b='keyUp'}this.Mb(b)&&this.dispatchEvent(new Xg(b,!0,!1,a.charCode,a.keyCode,a.location,a.ctrlKey,a.altKey,a.shiftKey))};
x.Jb=function(a){var b;switch(ef(a.type)){case Ac:b=Ac;break;case 'contextmenu':b=Cc;break;case 'dblclick':b=Fc;break;case 'mousedown':b=xe;this.Ob=!0;break;case 'mouseenter':b=Me;break;case 'mouseleave':b=Ae;break;case 'mousemove':b=ze;break;case 'mouseover':b=Be;break;case 'mouseout':b=Ae;break;case 'mouseup':b=Ce;this.Ob=!1;break;case 'mousewheel':b='mouseWheel'}b&&(this.sc=a.pageX-this.canvas.offsetLeft,this.tc=a.pageY-this.canvas.offsetTop,this.Mb(b)&&(b!=ze?this.dispatchEvent(new Pf(b,!0,!1,
this.sc,this.tc,null,a.ctrlKey,a.altKey,a.shiftKey,null!=a.buttons?0<a.buttons:this.Ob,a.wheelDelta)):this.dd=a))};x.Iv=n();x.Jv=n();x.Si=t('ul');x.Xj=q('ul');x.Xq=w(!0);x.Yq=w(!0);x.gd=function(a){this.Rc=a;N.o.gd.apply(this,[a])};x.ph=function(a){this.Ag=a;N.o.ph.apply(this,[a])};x.rr=w(1);x.lc=function(a){N.o.lc.apply(this,[a])};x.ub=t('Na');x.Sb=q('Na');x.Hr=t('Hp');x.fw=q('Hp');x.Ir=t('vy');x.Nr=t('Ip');x.iw=q('Ip');x.Qr=w(1);x.kw=n();x.cs=t('wy');
x.ds=function(){return document.fullscreen||document.webkitIsFullScreen||document.mozFullScreen?pe:'normal'};x.rw=function(a){-1!=a.indexOf(pe)?(this.da.requestFullscreen||this.da.webkitRequestFullScreen||this.da.mozRequestFullScreen||this.da.msRequestFullscreen).call(this.da):(document.exitFullscreen||document.webkitExitFullScreen||document.mozCancelFullScreen||document.msExitFullscreen).call(document)};x.$j=q('pe');x.ss=t('Mp');x.yw=q('Mp');x.ak=n();x.Zi=t('yi');x.Aw=q('yi');x.us=w(0);x.vs=t('Op');
x.Bw=q('Op');x.ws=w(0);x.vc=t('Tc');x.Re=function(a){this.Tc=a;N.o.Re.apply(this,[this.Tc])};x.qh=function(a){N.o.qh.apply(this,[a])};x.Qg=function(){return N.o.Qg.apply(this)};x.rh=function(a){this.Fg=a;N.o.rh.apply(this,[a])};x.sh=function(a){this.Gg=a;N.o.sh.apply(this,[a])};x.gt=t('Hl');x.gx=q('Hl');x.ej=t('sc');x.fj=t('tc');x.th=function(a){this.Di=a;N.o.th.apply(this,[a])};x.Rg=function(){return N.o.Rg.apply(this)};x.uh=function(a){N.o.uh.apply(this,[a])};x.Qf=t('$b');x.ig=q('$b');
x.vh=function(a){this.ud=a;N.o.vh.apply(this,[a])};x.wh=function(a){N.o.wh.apply(this,[a])};x.xh=function(a){N.o.xh.apply(this,[a])};x.yh=function(a){N.o.yh.apply(this,[a])};x.zh=function(a){N.o.zh.apply(this,[a])};x.kj=t('If');x.ik=q('If');x.Ah=function(a){N.o.Ah.apply(this,[a])};x.Bh=function(a){N.o.Bh.apply(this,[a])};x.Ch=function(a){N.o.Ch.apply(this,[a])};x.Dh=function(a){N.o.Dh.apply(this,[a])};x.Ot=t('Il');x.Dx=q('Il');x.St=t('xy');x.Vt=t('Jf');x.Wt=t('Ll');x.Jx=q('Ll');x.Xt=t('se');
x.Kx=q('se');x.Yt=t('te');x.Lx=q('te');x.Sg=function(){return N.o.Sg.apply(this)};x.Eh=function(a){N.o.Eh.apply(this,[a])};x.Fh=function(a){N.o.Fh.apply(this,[a])};x.Gh=function(a){N.o.Gh.apply(this,[a])};x.gu=t('yy');x.Ux=n();x.Se=function(a){this.Lg=a;N.o.Se.apply(this,[a])};x.bc=function(){return N.o.bc.apply(this)};x.Te=function(a){this.we=a;N.o.Te.apply(this,[a])};x.tu=w(!0);x.Ue=function(a){N.o.Ue.apply(this,[a])};x.Ve=function(a){N.o.Ve.apply(this,[a])};x.Hh=function(a){N.o.Hh.apply(this,[a])};
x.Br=function(){this.da||(this.da=document.getElementById('spriteflexjsstage'),null==this.da&&(this.da=document.createElement(wc),this.da.style.position=uc,this.da.style.left='0px',this.da.style.top='0px',this.da.style.zIndex=-10,this.__rootHtmlElement.appendChild(this.da)),this.da.addEventListener(Ac,gf(this.Jb,this,yc),!1),this.da.addEventListener('contextmenu',gf(this.Jb,this,yc),!1),this.da.addEventListener('dblclick',gf(this.Jb,this,yc),!1),this.da.addEventListener('mousedown',gf(this.Jb,this,
yc),!1),this.da.addEventListener('mouseenter',gf(this.Jb,this,yc),!1),this.da.addEventListener('mouseleave',gf(this.Jb,this,yc),!1),this.da.addEventListener('mousemove',gf(this.Jb,this,yc),!1),this.da.addEventListener('mouseover',gf(this.Jb,this,yc),!1),this.da.addEventListener('mouseout',gf(this.Jb,this,yc),!1),this.da.addEventListener('mouseup',gf(this.Jb,this,yc),!1),this.da.addEventListener('mousewheel',gf(this.Jb,this,yc),!1),this.da.addEventListener('touchcancel',gf(this.Mg,this,zc),!1),this.da.addEventListener('touchend',
gf(this.Mg,this,zc),!1),this.da.addEventListener('touchmove',gf(this.Mg,this,zc),!1),this.da.addEventListener('touchstart',gf(this.Mg,this,zc),!1),document.addEventListener('keydown',gf(this.Rl,this,xc),!1),document.addEventListener('keyup',gf(this.Rl,this,xc),!1));return this.da};x.Ur=function(){this.Dg||('gpu'===Af?(this.Dg=new M(this),Bf=new Rg):'gpu batch'===Af?(this.Dg=new M(this,!0),Bf=new Rg):this.Dg=this.canvas.getContext('2d'));return this.Dg};
x.Vr=function(){this.zl||(this.zl=document.createElement(wc).getContext('2d'));return this.zl};
Object.defineProperties(N.prototype,{accessibilityImplementation:{set:N.prototype.Iv},accessibilityProperties:{set:N.prototype.Jv},align:{get:N.prototype.Si,set:N.prototype.Xj},allowsFullScreen:{get:N.prototype.Xq},allowsFullScreenInteractive:{get:N.prototype.Yq},alpha:{get:F.prototype.De,set:N.prototype.gd},blendMode:{get:F.prototype.gm,set:N.prototype.ph},browserZoomFactor:{get:N.prototype.rr},cacheAsBitmap:{get:F.prototype.Pg,set:N.prototype.lc},color:{get:N.prototype.ub,set:N.prototype.Sb},colorCorrection:{get:N.prototype.Hr,
set:N.prototype.fw},colorCorrectionSupport:{get:N.prototype.Ir},constructor:{get:N.prototype.Nr,set:N.prototype.iw},contentsScaleFactor:{get:N.prototype.Qr},contextMenu:{set:N.prototype.kw},displayContextInfo:{get:N.prototype.cs},displayState:{get:N.prototype.ds,set:N.prototype.rw},filters:{get:F.prototype.hm,set:N.prototype.$j},focus:{get:N.prototype.ss,set:N.prototype.yw},focusRect:{get:Yf.prototype.im,set:N.prototype.ak},frameRate:{get:N.prototype.Zi,set:N.prototype.Aw},fullScreenHeight:{get:N.prototype.us},
fullScreenSourceRect:{get:N.prototype.vs,set:N.prototype.Bw},fullScreenWidth:{get:N.prototype.ws},height:{get:N.prototype.vc,set:N.prototype.Re},mask:{get:F.prototype.jm,set:N.prototype.qh},mouseChildren:{get:N.prototype.Qg,set:N.prototype.rh},mouseEnabled:{get:Yf.prototype.km,set:N.prototype.sh},mouseLock:{get:N.prototype.gt,set:N.prototype.gx},mouseX:{get:N.prototype.ej},mouseY:{get:N.prototype.fj},name:{get:F.prototype.lm,set:N.prototype.th},numChildren:{get:N.prototype.Rg},opaqueBackground:{get:F.prototype.mm,
set:N.prototype.uh},quality:{get:N.prototype.Qf,set:N.prototype.ig},rotation:{get:F.prototype.nm,set:N.prototype.vh},rotationX:{get:F.prototype.om,set:N.prototype.wh},rotationY:{get:F.prototype.pm,set:N.prototype.xh},rotationZ:{get:F.prototype.qm,set:N.prototype.yh},scale9Grid:{get:F.prototype.rm,set:N.prototype.zh},scaleMode:{get:N.prototype.kj,set:N.prototype.ik},scaleX:{get:F.prototype.sm,set:N.prototype.Ah},scaleY:{get:F.prototype.tm,set:N.prototype.Bh},scaleZ:{get:F.prototype.um,set:N.prototype.Ch},
scrollRect:{get:F.prototype.vm,set:N.prototype.Dh},showDefaultContextMenu:{get:N.prototype.Ot,set:N.prototype.Dx},softKeyboardRect:{get:N.prototype.St},stage3Ds:{get:N.prototype.Vt},stageFocusRect:{get:N.prototype.Wt,set:N.prototype.Jx},stageHeight:{get:N.prototype.Xt,set:N.prototype.Kx},stageWidth:{get:N.prototype.Yt,set:N.prototype.Lx},tabChildren:{get:N.prototype.Sg,set:N.prototype.Eh},tabEnabled:{get:Yf.prototype.wm,set:N.prototype.Fh},tabIndex:{get:Yf.prototype.xm,set:N.prototype.Gh},textSnapshot:{get:N.prototype.gu},
transform:{set:N.prototype.Ux},visible:{get:F.prototype.Tg,set:N.prototype.Se},width:{get:N.prototype.bc,set:N.prototype.Te},wmodeGPU:{get:N.prototype.tu},x:{get:F.prototype.Ug,set:N.prototype.Ue},y:{get:F.prototype.Vg,set:N.prototype.Ve},z:{get:F.prototype.ym,set:N.prototype.Hh},canvas:{get:N.prototype.Br},ctx:{get:N.prototype.Ur},ctx2d:{get:N.prototype.Vr}});Object.defineProperties(N,{instance:{get:function(){Zg||($g=!0,Zg=new N,$g=!1);return Zg}}});N.prototype.i={names:[{name:'Stage',j:rd,kind:l}]};
y(rd,N);function ah(){this.graphics=new H;this.Sc=new D(1,1);G.call(this);F.initStage=N.instance;this.tj()}Xe(ah,G);ah.prototype.sb=0;ah.prototype.tb=0;ah.prototype.ay=n();ah.prototype.startDrag=ah.prototype.ay;ah.prototype.gy=n();ah.prototype.stopDrag=ah.prototype.gy;ah.prototype.by=n();ah.prototype.startTouchDrag=ah.prototype.by;ah.prototype.hy=n();ah.prototype.stopTouchDrag=ah.prototype.hy;ah.prototype.je=function(){return this.graphics.bound};ah.prototype.__getRect=ah.prototype.je;
ah.prototype.kb=function(a){this.visible&&(this.graphics.graphicsData.length||this.numChildren)&&(this.cacheAsBitmap&&!this.parent.cacheAsBitmap?Bf.Rb(a,this.Sc,this.transform.concatenatedMatrix,this.blendMode,this.transform.concatenatedColorTransform,-this.x-this.sb,-this.y-this.tb):(this.graphics.oa(a,this.transform.concatenatedMatrix,this.blendMode,this.transform.concatenatedColorTransform,this.cacheAsBitmap,this.Sc),Xf(this,a)));this.Mb(Gc)&&this.dispatchEvent(new Of(Gc));this.cacheAsBitmap||
ah.o.kb.apply(this,[a])};ah.prototype.__update=ah.prototype.kb;x=ah.prototype;x.ie=function(a){if(this.mouseEnabled&&this.visible){if(a=ah.o.ie.apply(this,[a]))return a;if(this.sj(this.stage.mouseX,this.stage.mouseY))return this}return null};x.vr=w(!1);x.bw=n();x.js=w(null);x.Bs=w(null);x.Gw=n();x.ou=w(!1);x.Xx=n();
x.lc=function(a){ah.o.lc.apply(this,[a]);if(this.cacheAsBitmap){a=this.graphics&&this.graphics.bound;var b=this.Yc(this);a||(b.width+=b.x,b.height+=b.y,b.x=0,b.y=0);b.wc(2*this.filterOffsetX,2*this.filterOffsetY);this.Ib=document.createElement(wc);this.Ib.width=b.width;this.Ib.height=b.height;this.sd=this.Ib.getContext('2d');this.sb=a?b.width-b.right-this.x:-this.x;this.tb=a?b.height-b.bottom-this.y:-this.y;this.parent&&(this.sb-=this.parent.x,this.tb-=this.parent.y);a=this.transform.concatenatedMatrix.clone();
a.translate(this.sb,this.tb);this.graphics.oa(this.sd,a,this.blendMode,this.transform.concatenatedColorTransform);Xf(this,this.sd);for(a=0;a<this.numChildren;a++)b=this.em(a),b.cacheAsBitmap=!0,this.sd.drawImage(Object(b).cacheImage.image,-(Object(b).cacheOffsetX+this.x),-(Object(b).cacheOffsetY+this.y));this.Sc.image=this.Ib;this.Za()}else this.sd=this.Ib=null};x.Wi=t('Sc');x.Xi=t('sb');x.Yi=t('tb');
Object.defineProperties(ah.prototype,{buttonMode:{get:ah.prototype.vr,set:ah.prototype.bw},dropTarget:{get:ah.prototype.js},hitArea:{get:ah.prototype.Bs,set:ah.prototype.Gw},useHandCursor:{get:ah.prototype.ou,set:ah.prototype.Xx},cacheAsBitmap:{get:F.prototype.Pg,set:ah.prototype.lc},cacheImage:{get:ah.prototype.Wi},cacheOffsetX:{get:ah.prototype.Xi},cacheOffsetY:{get:ah.prototype.Yi}});ah.prototype.i={names:[{name:'Sprite',j:qd,kind:l}]};y(qd,ah);function O(a){this.mouse=new ah;this.m_stageMc=a;this.ascii=Array(222);this.ascii[65]='A';this.ascii[66]='B';this.ascii[67]='C';this.ascii[68]='D';this.ascii[69]='E';this.ascii[70]='F';this.ascii[71]='G';this.ascii[72]='H';this.ascii[73]='I';this.ascii[74]='J';this.ascii[75]='K';this.ascii[76]='L';this.ascii[77]='M';this.ascii[78]='N';this.ascii[79]='O';this.ascii[80]='P';this.ascii[81]='Q';this.ascii[82]='R';this.ascii[83]='S';this.ascii[84]='T';this.ascii[85]='U';this.ascii[86]='V';this.ascii[87]=
'W';this.ascii[88]='X';this.ascii[89]='Y';this.ascii[90]='Z';this.ascii[48]='0';this.ascii[49]='1';this.ascii[50]='2';this.ascii[51]='3';this.ascii[52]='4';this.ascii[53]='5';this.ascii[54]='6';this.ascii[55]='7';this.ascii[56]='8';this.ascii[57]='9';this.ascii[32]='Spacebar';this.ascii[17]='Ctrl';this.ascii[16]='Shift';this.ascii[192]='~';this.ascii[38]='up';this.ascii[40]='down';this.ascii[37]=re;this.ascii[39]=Le;this.ascii[96]='Numpad 0';this.ascii[97]='Numpad 1';this.ascii[98]='Numpad 2';this.ascii[99]=
'Numpad 3';this.ascii[100]='Numpad 4';this.ascii[101]='Numpad 5';this.ascii[102]='Numpad 6';this.ascii[103]='Numpad 7';this.ascii[104]='Numpad 8';this.ascii[105]='Numpad 9';this.ascii[111]='Numpad /';this.ascii[106]='Numpad *';this.ascii[109]='Numpad -';this.ascii[107]='Numpad +';this.ascii[110]='Numpad .';this.ascii[45]='Insert';this.ascii[46]='Delete';this.ascii[33]='Page Up';this.ascii[34]='Page Down';this.ascii[35]='End';this.ascii[36]='Home';this.ascii[112]='F1';this.ascii[113]='F2';this.ascii[114]=
'F3';this.ascii[115]='F4';this.ascii[116]='F5';this.ascii[117]='F6';this.ascii[118]='F7';this.ascii[119]='F8';this.ascii[188]=',';this.ascii[190]='.';this.ascii[186]=';';this.ascii[222]="'";this.ascii[219]='[';this.ascii[221]=']';this.ascii[189]='-';this.ascii[187]='+';this.ascii[220]='\\';this.ascii[191]='/';this.ascii[9]='TAB';this.ascii[8]='Backspace';this.dc=Array(222);this.Yg=[];for(var b=0;222>b;b++)this.dc[b]=0,void 0!=this.ascii[b]&&this.Yg.push(b);this.bufferSize=5;this.Fd=Array(this.bufferSize);
for(b=0;b<this.bufferSize;b++)this.Fd[b]=[0,0];a.stage.addEventListener('keyDown',gf(this.Em,this,'keyPress'),!1,0,!0);a.stage.addEventListener('keyUp',gf(this.Fm,this,'keyRelease'),!1,0,!0);a.stage.addEventListener(xe,gf(this.Ym,this,'mousePress'),!1,0,!0);a.stage.addEventListener(Ac,gf(this.Zm,this,'mouseRelease'),!1,0,!0);a.stage.addEventListener(ze,gf(this.Vm,this,ze),!1,0,!0);a.stage.addEventListener(ye,gf(this.Um,this,ye),!1,0,!0);this.mouse.graphics.Pa(.1,0,100);this.mouse.graphics.moveTo(0,
0);this.mouse.graphics.lineTo(0,.1)}O.prototype.update=function(){for(var a=0;a<this.Yg.length;a++)0!=this.dc[this.Yg[a]]&&this.dc[this.Yg[a]]++;for(a=0;a<this.bufferSize;a++)this.Fd[a][1]++;this.Wm=this.jh=this.bg=!1};O.prototype.update=O.prototype.update;O.prototype.Ym=function(){this.Qb=this.jh=!0;this.ag=this.$f=0};O.prototype.mousePress=O.prototype.Ym;O.prototype.Zm=function(){this.Qb=!1;this.bg=!0};O.prototype.mouseRelease=O.prototype.Zm;O.prototype.Um=function(){this.bg=this.Qb;this.Qb=!1};
O.prototype.mouseLeave=O.prototype.Um;O.prototype.Vm=function(a){this.Qb!=a.buttonDown&&(this.Qb=a.buttonDown,this.bg=!a.buttonDown,this.jh=a.buttonDown,this.ag=this.$f=0);this.mouseX=a.stageX-this.m_stageMc.x;this.mouseY=a.stageY-this.m_stageMc.y;this.Jj=this.mouseX-this.mouse.x;this.Kj=this.mouseY-this.mouse.y;this.Qb&&(this.$f+=this.Jj,this.ag+=this.Kj);this.mouse.x=this.mouseX;this.mouse.y=this.mouseY};O.prototype.mouseMove=O.prototype.Vm;O.prototype.Fq=function(a){return Math.max(0,this.dc[a])};
O.prototype.getKeyHold=O.prototype.Fq;O.prototype.Iu=function(a){return 0<this.dc[a]};O.prototype.isKeyDown=O.prototype.Iu;O.prototype.xc=function(a){this.zn=0;return 1==this.dc[a]};O.prototype.isKeyPressed=O.prototype.xc;O.prototype.Ku=function(a){return-1==this.dc[a]};O.prototype.isKeyReleased=O.prototype.Ku;O.prototype.Ju=function(a,b,c){return this.Fd[b][0]==a&&this.Fd[b][1]<=c};O.prototype.isKeyInBuffer=O.prototype.Ju;
O.prototype.Em=function(a){this.dc[a.keyCode]=Math.max(this.dc[a.keyCode],1);this.Gm=a.keyCode};O.prototype.keyPress=O.prototype.Em;O.prototype.Fm=function(a){this.dc[a.keyCode]=-1;for(var b=this.bufferSize-1;0<b;b--)this.Fd[b]=this.Fd[b-1];this.Fd[0]=[a.keyCode,0]};O.prototype.keyRelease=O.prototype.Fm;O.prototype.Gq=function(a){return this.ascii[a]};O.prototype.getKeyString=O.prototype.Gq;O.prototype.bufferSize=0;O.prototype.Gm=0;O.prototype.lastKey=O.prototype.Gm;O.prototype.zn=0;
O.prototype.timeSinceLastKey=O.prototype.zn;O.prototype.Qb=!1;O.prototype.mouseDown=O.prototype.Qb;O.prototype.bg=!1;O.prototype.mouseReleased=O.prototype.bg;O.prototype.jh=!1;O.prototype.mousePressed=O.prototype.jh;O.prototype.Wm=!1;O.prototype.mouseOver=O.prototype.Wm;O.prototype.mouseX=0;O.prototype.mouseX=O.prototype.mouseX;O.prototype.mouseY=0;O.prototype.mouseY=O.prototype.mouseY;O.prototype.Jj=0;O.prototype.mouseOffsetX=O.prototype.Jj;O.prototype.Kj=0;O.prototype.mouseOffsetY=O.prototype.Kj;
O.prototype.$f=0;O.prototype.mouseDragX=O.prototype.$f;O.prototype.ag=0;O.prototype.mouseDragY=O.prototype.ag;O.prototype.i={names:[{name:'Input',j:'General.Input',kind:l}]};y('General.Input',O);function P(a,b){this.x='undefined'!==typeof a?a:0;this.y='undefined'!==typeof b?b:0}P.prototype.D=function(){this.y=this.x=0};P.prototype.SetZero=P.prototype.D;P.prototype.Set=function(a,b){this.x='undefined'!==typeof a?a:0;this.y='undefined'!==typeof b?b:0};P.prototype.Set=P.prototype.Set;P.prototype.m=function(a){this.x=a.x;this.y=a.y};P.prototype.SetV=P.prototype.m;P.prototype.Vb=function(){return new P(-this.x,-this.y)};P.prototype.GetNegative=P.prototype.Vb;
P.prototype.sg=function(){this.x=-this.x;this.y=-this.y};P.prototype.NegativeSelf=P.prototype.sg;function bh(a,b){return new P(a,b)}y('Box2D.Common.Math.b2Vec2.Make',bh);P.prototype.O=function(){return new P(this.x,this.y)};P.prototype.Copy=P.prototype.O;P.prototype.vb=function(a){this.x+=a.x;this.y+=a.y};P.prototype.Add=P.prototype.vb;P.prototype.yg=function(a){this.x-=a.x;this.y-=a.y};P.prototype.Subtract=P.prototype.yg;P.prototype.Ga=function(a){this.x*=a;this.y*=a};P.prototype.Multiply=P.prototype.Ga;
P.prototype.Xo=function(a){var b=this.x;this.x=a.col1.x*b+a.col2.x*this.y;this.y=a.col1.y*b+a.col2.y*this.y};P.prototype.MulM=P.prototype.Xo;P.prototype.Yo=function(a){var b=ch(this,a.col1);this.y=ch(this,a.col2);this.x=b};P.prototype.MulTM=P.prototype.Yo;P.prototype.Qn=function(a){var b=this.x;this.x=a*this.y;this.y=-a*b};P.prototype.CrossVF=P.prototype.Qn;P.prototype.Pn=function(a){var b=this.x;this.x=-a*this.y;this.y=a*b};P.prototype.CrossFV=P.prototype.Pn;
P.prototype.Wo=function(a){this.x=this.x<a.x?this.x:a.x;this.y=this.y<a.y?this.y:a.y};P.prototype.MinV=P.prototype.Wo;P.prototype.Uo=function(a){this.x=this.x>a.x?this.x:a.x;this.y=this.y>a.y?this.y:a.y};P.prototype.MaxV=P.prototype.Uo;P.prototype.Xe=function(){0>this.x&&(this.x=-this.x);0>this.y&&(this.y=-this.y)};P.prototype.Abs=P.prototype.Xe;P.prototype.Wb=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};P.prototype.Length=P.prototype.Wb;
P.prototype.nd=function(){return this.x*this.x+this.y*this.y};P.prototype.LengthSquared=P.prototype.nd;P.prototype.Ma=function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);if(a<Number.MIN_VALUE)return 0;var b=1/a;this.x*=b;this.y*=b;return a};P.prototype.Normalize=P.prototype.Ma;P.prototype.sf=function(){return isFinite(this.x)&&isFinite(this.y)};P.prototype.IsValid=P.prototype.sf;function ch(a,b){return a.x*b.x+a.y*b.y}y('Box2D.Common.Math.b2Vec2.Dot',ch);
y('Box2D.Common.Math.b2Vec2.MathIsValid',function(a){return isFinite(a)});P.prototype.i={names:[{name:'b2Vec2',j:Ra,kind:l}]};y(Ra,P);function dh(){this.center=new P(0,0)}dh.prototype.Pb=0;dh.prototype.mass=dh.prototype.Pb;dh.prototype.Mc=0;dh.prototype.I=dh.prototype.Mc;dh.prototype.i={names:[{name:'b2MassData',j:fa,kind:l}]};y(fa,dh);function eh(){}y('Box2D.Common.b2Settings.VERSION','2.1alpha');y('Box2D.Common.b2Settings.USHRT_MAX',65535);var fh=Math.PI;y('Box2D.Common.b2Settings.b2_pi',fh);y('Box2D.Common.b2Settings.b2_maxManifoldPoints',2);y('Box2D.Common.b2Settings.b2_aabbExtension',.1);y('Box2D.Common.b2Settings.b2_aabbMultiplier',2);y('Box2D.Common.b2Settings.b2_linearSlop',.005);y('Box2D.Common.b2Settings.b2_maxTOIContactsPerIsland',32);y('Box2D.Common.b2Settings.b2_maxTOIJointsPerIsland',32);
y('Box2D.Common.b2Settings.b2_velocityThreshold',1);y('Box2D.Common.b2Settings.b2_maxLinearCorrection',.2);y('Box2D.Common.b2Settings.b2_maxTranslation',2);y('Box2D.Common.b2Settings.b2_contactBaumgarte',.2);function gh(a,b){return Math.sqrt(a*b)}y('Box2D.Common.b2Settings.b2MixFriction',gh);function hh(a,b){return a>b?a:b}y('Box2D.Common.b2Settings.b2MixRestitution',hh);y('Box2D.Common.b2Settings.b2_timeToSleep',.5);y('Box2D.Common.b2Settings.b2_linearSleepTolerance',.01);
function ih(a){if(!a)throw'Assertion Failed';}y('Box2D.Common.b2Settings.b2Assert',ih);var jh=2/180*fh,kh=8/180*fh,lh=.5*fh,mh=lh*lh,nh=2/180*fh;eh.prototype.i={names:[{name:'b2Settings',j:Ua,kind:l}]};y(Ua,eh);function oh(){this.C=-1;this.m_radius=.005}oh.prototype.O=w(null);oh.prototype.Copy=oh.prototype.O;oh.prototype.Set=function(a){this.m_radius=a.m_radius};oh.prototype.Set=oh.prototype.Set;oh.prototype.M=t('C');oh.prototype.GetType=oh.prototype.M;oh.prototype.Yb=w(!1);oh.prototype.TestPoint=oh.prototype.Yb;oh.prototype.ma=w(!1);oh.prototype.RayCast=oh.prototype.ma;oh.prototype.mc=n();oh.prototype.ComputeAABB=oh.prototype.mc;oh.prototype.jd=n();oh.prototype.ComputeMass=oh.prototype.jd;
oh.prototype.ae=w(0);oh.prototype.ComputeSubmergedArea=oh.prototype.ae;oh.prototype.C=0;oh.prototype.m_type=oh.prototype.C;y('Box2D.Collision.Shapes.b2Shape.e_unknownShape',-1);y('Box2D.Collision.Shapes.b2Shape.e_circleShape',0);y('Box2D.Collision.Shapes.b2Shape.e_polygonShape',1);y('Box2D.Collision.Shapes.b2Shape.e_edgeShape',2);y('Box2D.Collision.Shapes.b2Shape.e_shapeTypeCount',3);y('Box2D.Collision.Shapes.b2Shape.e_hitCollide',1);y('Box2D.Collision.Shapes.b2Shape.e_missCollide',0);
y('Box2D.Collision.Shapes.b2Shape.e_startsInsideCollide',-1);oh.prototype.i={names:[{name:'b2Shape',j:ha,kind:l}]};y(ha,oh);function ph(){this.col1=new P;this.col2=new P;this.col1.x=this.col2.y=1}function qh(a){var b=new ph;b.Set(a);return b}y('Box2D.Common.Math.b2Mat22.FromAngle',qh);function rh(a,b){var c=new ph;c.nl(a,b);return c}y('Box2D.Common.Math.b2Mat22.FromVV',rh);ph.prototype.Set=function(a){var b=Math.cos(a);a=Math.sin(a);this.col1.x=b;this.col2.x=-a;this.col1.y=a;this.col2.y=b};ph.prototype.Set=ph.prototype.Set;ph.prototype.nl=function(a,b){this.col1.m(a);this.col2.m(b)};ph.prototype.SetVV=ph.prototype.nl;
ph.prototype.O=function(){var a=new ph;a.qc(this);return a};ph.prototype.Copy=ph.prototype.O;ph.prototype.qc=function(a){this.col1.m(a.col1);this.col2.m(a.col2)};ph.prototype.SetM=ph.prototype.qc;ph.prototype.Yd=function(a){this.col1.x+=a.col1.x;this.col1.y+=a.col1.y;this.col2.x+=a.col2.x;this.col2.y+=a.col2.y};ph.prototype.AddM=ph.prototype.Yd;ph.prototype.od=function(){this.col1.x=1;this.col2.x=0;this.col1.y=0;this.col2.y=1};ph.prototype.SetIdentity=ph.prototype.od;
ph.prototype.D=function(){this.col1.x=0;this.col2.x=0;this.col1.y=0;this.col2.y=0};ph.prototype.SetZero=ph.prototype.D;ph.prototype.jb=function(){return Math.atan2(this.col1.y,this.col1.x)};ph.prototype.GetAngle=ph.prototype.jb;ph.prototype.pg=function(a){var b=this.col1.x,c=this.col2.x,d=this.col1.y,e=this.col2.y,f=b*e-c*d;0!=f&&(f=1/f);a.col1.x=f*e;a.col2.x=-f*c;a.col1.y=-f*d;a.col2.y=f*b;return a};ph.prototype.GetInverse=ph.prototype.pg;
ph.prototype.Xb=function(a,b,c){var d=this.col1.x,e=this.col2.x,f=this.col1.y,g=this.col2.y,h=d*g-e*f;0!=h&&(h=1/h);a.x=h*(g*b-e*c);a.y=h*(d*c-f*b);return a};ph.prototype.Solve=ph.prototype.Xb;ph.prototype.Xe=function(){this.col1.Xe();this.col2.Xe()};ph.prototype.Abs=ph.prototype.Xe;ph.prototype.i={names:[{name:'b2Mat22',j:Ma,kind:l}]};y(Ma,ph);function sh(a,b){a='undefined'!==typeof a?a:null;b='undefined'!==typeof b?b:null;this.position=new P;this.R=new ph;a&&(this.position.m(a),this.R.qc(b))}sh.prototype.u=function(a,b){this.position.m(a);this.R.qc(b)};sh.prototype.Initialize=sh.prototype.u;sh.prototype.od=function(){this.position.D();this.R.od()};sh.prototype.SetIdentity=sh.prototype.od;sh.prototype.Set=function(a){this.position.m(a.position);this.R.qc(a.R)};sh.prototype.Set=sh.prototype.Set;
sh.prototype.jb=function(){return Math.atan2(this.R.col1.y,this.R.col1.x)};sh.prototype.GetAngle=sh.prototype.jb;sh.prototype.i={names:[{name:'b2Transform',j:Qa,kind:l}]};y(Qa,sh);function th(){}y('Box2D.Common.Math.b2Math.IsValid',function(a){return isFinite(a)});function uh(a,b){return a.x*b.x+a.y*b.y}y('Box2D.Common.Math.b2Math.Dot',uh);function vh(a,b){return a.x*b.y-a.y*b.x}y('Box2D.Common.Math.b2Math.CrossVV',vh);function wh(a,b){return new P(b*a.y,-b*a.x)}y('Box2D.Common.Math.b2Math.CrossVF',wh);function xh(a,b){return new P(-a*b.y,a*b.x)}y('Box2D.Common.Math.b2Math.CrossFV',xh);function yh(a,b){return new P(a.col1.x*b.x+a.col2.x*b.y,a.col1.y*b.x+a.col2.y*b.y)}
y('Box2D.Common.Math.b2Math.MulMV',yh);function zh(a,b){return new P(uh(b,a.col1),uh(b,a.col2))}y('Box2D.Common.Math.b2Math.MulTMV',zh);function Ah(a,b){var c=yh(a.R,b);c.x+=a.position.x;c.y+=a.position.y;return c}y('Box2D.Common.Math.b2Math.MulX',Ah);function Bh(a,b){var c=Ch(b,a.position),d=c.x*a.R.col1.x+c.y*a.R.col1.y;c.y=c.x*a.R.col2.x+c.y*a.R.col2.y;c.x=d;return c}y('Box2D.Common.Math.b2Math.MulXT',Bh);function Dh(a,b){return new P(a.x+b.x,a.y+b.y)}y('Box2D.Common.Math.b2Math.AddVV',Dh);
function Ch(a,b){return new P(a.x-b.x,a.y-b.y)}y('Box2D.Common.Math.b2Math.SubtractVV',Ch);y('Box2D.Common.Math.b2Math.Distance',function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)});y('Box2D.Common.Math.b2Math.DistanceSquared',function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d});y('Box2D.Common.Math.b2Math.MulFV',function(a,b){return new P(a*b.x,a*b.y)});y('Box2D.Common.Math.b2Math.AddMM',function(a,b){return rh(Dh(a.col1,b.col1),Dh(a.col2,b.col2))});
y('Box2D.Common.Math.b2Math.MulMM',function(a,b){return rh(yh(a,b.col1),yh(a,b.col2))});y('Box2D.Common.Math.b2Math.MulTMM',function(a,b){return rh(new P(uh(a.col1,b.col1),uh(a.col2,b.col1)),new P(uh(a.col1,b.col2),uh(a.col2,b.col2)))});function Eh(a){return 0<a?a:-a}y('Box2D.Common.Math.b2Math.Abs',Eh);function Fh(a){return new P(Eh(a.x),Eh(a.y))}y('Box2D.Common.Math.b2Math.AbsV',Fh);y('Box2D.Common.Math.b2Math.AbsM',function(a){return rh(Fh(a.col1),Fh(a.col2))});
function Gh(a,b){return a<b?a:b}y('Box2D.Common.Math.b2Math.Min',Gh);function Hh(a,b){return new P(Gh(a.x,b.x),Gh(a.y,b.y))}y('Box2D.Common.Math.b2Math.MinV',Hh);function Ih(a,b){return a>b?a:b}y('Box2D.Common.Math.b2Math.Max',Ih);function Jh(a,b){return new P(Ih(a.x,b.x),Ih(a.y,b.y))}y('Box2D.Common.Math.b2Math.MaxV',Jh);function Kh(a,b,c){return a<b?b:a>c?c:a}y('Box2D.Common.Math.b2Math.Clamp',Kh);y('Box2D.Common.Math.b2Math.ClampV',function(a,b,c){return Jh(b,Hh(a,c))});
y('Box2D.Common.Math.b2Math.Swap',function(a,b){var c=a[0];a[0]=b[0];b[0]=c});y('Box2D.Common.Math.b2Math.Random',function(){return 2*Math.random()-1});function Lh(a,b){return(b-a)*Math.random()+a}y('Box2D.Common.Math.b2Math.RandomRange',Lh);y('Box2D.Common.Math.b2Math.NextPowerOfTwo',function(a){a|=a>>1&2147483647;a|=a>>2&1073741823;a|=a>>4&268435455;a|=a>>8&16777215;return(a|a>>16&65535)+1});y('Box2D.Common.Math.b2Math.IsPowerOfTwo',function(a){return 0<a&&0==(a&a-1)});var Mh=new P(0,0);
y('Box2D.Common.Math.b2Math.b2Vec2_zero',Mh);var Nh=rh(new P(1,0),new P(0,1));y('Box2D.Common.Math.b2Math.b2Mat22_identity',Nh);new sh(Mh,Nh);th.prototype.i={names:[{name:'b2Math',j:Oa,kind:l}]};y(Oa,th);function Q(){oh.call(this);this.C=1;this.m_centroid=new P;this.m_vertices=[];this.m_normals=[]}Xe(Q,oh);Q.prototype.O=function(){var a=new Q;a.Set(this);return a};Q.prototype.Copy=Q.prototype.O;Q.prototype.Set=function(a){Q.o.Set.apply(this,[a]);if(df(a,Q)){this.m_centroid.m(a.m_centroid);this.T=a.T;Oh(this,this.T);for(var b=0;b<this.T;b++)this.m_vertices[b].m(a.m_vertices[b]),this.m_normals[b].m(a.m_normals[b])}};Q.prototype.Set=Q.prototype.Set;
Q.prototype.rb=function(a,b){b='undefined'!==typeof b?b:0;var c=[],d;for(d in a)c.push(a[d]);this.gi(c,b)};Q.prototype.SetAsArray=Q.prototype.rb;y('Box2D.Collision.Shapes.b2PolygonShape.AsArray',function(a,b){var c=new Q;c.rb(a,b);return c});
Q.prototype.gi=function(a,b){b='undefined'!==typeof b?b:0;0==b&&(b=a.length);ih(2<=b);this.T=b;Oh(this,b);var c;for(c=0;c<this.T;c++)this.m_vertices[c].m(a[c]);for(c=0;c<this.T;++c){var d=Ch(this.m_vertices[c+1<this.T?c+1:0],this.m_vertices[c]);ih(d.nd()>Number.MIN_VALUE);this.m_normals[c].m(wh(d,1));this.m_normals[c].Ma()}this.m_centroid=Ph(this.m_vertices,this.T)};Q.prototype.SetAsVector=Q.prototype.gi;y('Box2D.Collision.Shapes.b2PolygonShape.AsVector',function(a,b){var c=new Q;c.gi(a,b);return c});
Q.prototype.N=function(a,b){this.T=4;Oh(this,4);this.m_vertices[0].Set(-a,-b);this.m_vertices[1].Set(a,-b);this.m_vertices[2].Set(a,b);this.m_vertices[3].Set(-a,b);this.m_normals[0].Set(0,-1);this.m_normals[1].Set(1,0);this.m_normals[2].Set(0,1);this.m_normals[3].Set(-1,0);this.m_centroid.D()};Q.prototype.SetAsBox=Q.prototype.N;function Qh(a,b){var c=new Q;c.N(a,b);return c}y('Box2D.Collision.Shapes.b2PolygonShape.AsBox',Qh);new ph;
Q.prototype.pc=function(a,b,c,d){c='undefined'!==typeof c?c:null;d='undefined'!==typeof d?d:0;this.T=4;Oh(this,4);this.m_vertices[0].Set(-a,-b);this.m_vertices[1].Set(a,-b);this.m_vertices[2].Set(a,b);this.m_vertices[3].Set(-a,b);this.m_normals[0].Set(0,-1);this.m_normals[1].Set(1,0);this.m_normals[2].Set(0,1);this.m_normals[3].Set(-1,0);this.m_centroid=c;a=new sh;a.position=c;a.R.Set(d);for(c=0;c<this.T;++c)this.m_vertices[c]=Ah(a,this.m_vertices[c]),this.m_normals[c]=yh(a.R,this.m_normals[c])};
Q.prototype.SetAsOrientedBox=Q.prototype.pc;y('Box2D.Collision.Shapes.b2PolygonShape.AsOrientedBox',function(a,b,c,d){var e=new Q;e.pc(a,b,'undefined'!==typeof c?c:null,'undefined'!==typeof d?d:0);return e});Q.prototype.cl=function(a,b){this.T=2;Oh(this,2);this.m_vertices[0].m(a);this.m_vertices[1].m(b);this.m_centroid.x=.5*(a.x+b.x);this.m_centroid.y=.5*(a.y+b.y);this.m_normals[0]=wh(Ch(b,a),1);this.m_normals[0].Ma();this.m_normals[1].x=-this.m_normals[0].x;this.m_normals[1].y=-this.m_normals[0].y};
Q.prototype.SetAsEdge=Q.prototype.cl;y('Box2D.Collision.Shapes.b2PolygonShape.AsEdge',function(a,b){var c=new Q;c.cl(a,b);return c});Q.prototype.Yb=function(a,b){var c;c=a.R;for(var d=b.x-a.position.x,e=b.y-a.position.y,f=d*c.col1.x+e*c.col1.y,g=d*c.col2.x+e*c.col2.y,h=0;h<this.T;++h)if(c=this.m_vertices[h],d=f-c.x,e=g-c.y,c=this.m_normals[h],0<c.x*d+c.y*e)return!1;return!0};Q.prototype.TestPoint=Q.prototype.Yb;
Q.prototype.ma=function(a,b,c){var d=0,e=b.maxFraction,f,g,h,k;f=b.p1.x-c.position.x;g=b.p1.y-c.position.y;h=c.R;var m=f*h.col1.x+g*h.col1.y,p=f*h.col2.x+g*h.col2.y;f=b.p2.x-c.position.x;g=b.p2.y-c.position.y;h=c.R;b=f*h.col1.x+g*h.col1.y-m;h=f*h.col2.x+g*h.col2.y-p;for(var r=-1,u=0;u<this.T;++u){k=this.m_vertices[u];f=k.x-m;g=k.y-p;k=this.m_normals[u];f=k.x*f+k.y*g;g=k.x*b+k.y*h;if(0==g){if(0>f)return!1}else 0>g&&f<d*g?(d=f/g,r=u):0<g&&f<e*g&&(e=f/g);if(e<d-Number.MIN_VALUE)return!1}return 0<=r?
(a.fraction=d,h=c.R,k=this.m_normals[r],a.normal.x=h.col1.x*k.x+h.col2.x*k.y,a.normal.y=h.col1.y*k.x+h.col2.y*k.y,!0):!1};Q.prototype.RayCast=Q.prototype.ma;
Q.prototype.mc=function(a,b){for(var c=b.R,d=this.m_vertices[0],e=b.position.x+(c.col1.x*d.x+c.col2.x*d.y),f=b.position.y+(c.col1.y*d.x+c.col2.y*d.y),g=e,h=f,k=1;k<this.T;++k)var d=this.m_vertices[k],m=b.position.x+(c.col1.x*d.x+c.col2.x*d.y),d=b.position.y+(c.col1.y*d.x+c.col2.y*d.y),e=e<m?e:m,f=f<d?f:d,g=g>m?g:m,h=h>d?h:d;a.lowerBound.x=e-this.m_radius;a.lowerBound.y=f-this.m_radius;a.upperBound.x=g+this.m_radius;a.upperBound.y=h+this.m_radius};Q.prototype.ComputeAABB=Q.prototype.mc;
Q.prototype.jd=function(a,b){if(2==this.T)a.center.x=.5*(this.m_vertices[0].x+this.m_vertices[1].x),a.center.y=.5*(this.m_vertices[0].y+this.m_vertices[1].y),a.Pb=0,a.Mc=0;else{for(var c=0,d=0,e=0,f=0,g=1/3,h=0;h<this.T;++h)var k=this.m_vertices[h],m=h+1<this.T?this.m_vertices[h+1>>0]:this.m_vertices[0],p=k.x-0,r=k.y-0,u=m.x-0,v=m.y-0,A=p*v-r*u,B=.5*A,e=e+B,c=c+B*g*(0+k.x+m.x),d=d+B*g*(0+k.y+m.y),k=p,f=f+A*(g*(.25*(k*k+u*k+u*u)+(0*k+0*u))+0+(g*(.25*(r*r+v*r+v*v)+(0*r+0*v))+0));a.Pb=b*e;a.center.Set(1/
e*c,1/e*d);a.Mc=b*f}};Q.prototype.ComputeMass=Q.prototype.jd;
Q.prototype.ae=function(a,b,c,d){var e=zh(c.R,a),f=b-uh(a,c.position),g=[],h=0,k=-1;b=-1;var m=!1;for(a=0;a<this.T;++a){g[a]=uh(e,this.m_vertices[a])-f;var p=g[a]<-Number.MIN_VALUE;0<a&&(p?m||(k=a-1,h++):m&&(b=a-1,h++));m=p}switch(h){case 0:return m?(a=new dh,this.jd(a,1),d.m(Ah(c,a.center)),a.Pb):0;case 1:-1==k?k=this.T-1:b=this.T-1}a=(k+1)%this.T;e=(b+1)%this.T;f=(0-g[k])/(g[a]-g[k]);g=(0-g[b])/(g[e]-g[b]);k=new P(this.m_vertices[k].x*(1-f)+this.m_vertices[a].x*f,this.m_vertices[k].y*(1-f)+this.m_vertices[a].y*
f);b=new P(this.m_vertices[b].x*(1-g)+this.m_vertices[e].x*g,this.m_vertices[b].y*(1-g)+this.m_vertices[e].y*g);g=0;f=new P;for(h=this.m_vertices[a];a!=e;)a=(a+1)%this.T,m=a==e?b:this.m_vertices[a],p=.5*((h.x-k.x)*(m.y-k.y)-(h.y-k.y)*(m.x-k.x)),g+=p,f.x+=p*(k.x+h.x+m.x)/3,f.y+=p*(k.y+h.y+m.y)/3,h=m;f.Ga(1/g);d.m(Ah(c,f));return g};Q.prototype.ComputeSubmergedArea=Q.prototype.ae;Q.prototype.rg=t('T');Q.prototype.GetVertexCount=Q.prototype.rg;Q.prototype.Oo=t('m_vertices');Q.prototype.GetVertices=Q.prototype.Oo;
Q.prototype.Ho=t('m_normals');Q.prototype.GetNormals=Q.prototype.Ho;Q.prototype.kf=function(a){for(var b=0,c=this.m_vertices[0].x*a.x+this.m_vertices[0].y*a.y,d=1;d<this.T;++d){var e=this.m_vertices[d].x*a.x+this.m_vertices[d].y*a.y;e>c&&(b=d,c=e)}return b};Q.prototype.GetSupport=Q.prototype.kf;Q.prototype.ld=function(a){for(var b=0,c=this.m_vertices[0].x*a.x+this.m_vertices[0].y*a.y,d=1;d<this.T;++d){var e=this.m_vertices[d].x*a.x+this.m_vertices[d].y*a.y;e>c&&(b=d,c=e)}return this.m_vertices[b]};
Q.prototype.GetSupportVertex=Q.prototype.ld;Q.prototype.he=w(!1);function Oh(a,b){for(var c=a.m_vertices.length;c<b;c++)a.m_vertices[c]=new P,a.m_normals[c]=new P}Q.prototype.T=0;Q.prototype.m_vertexCount=Q.prototype.T;function Ph(a,b){for(var c=new P,d=0,e=1/3,f=0;f<b;++f){var g=a[f],h=f+1<b?a[f+1>>0]:a[0],k=.5*((g.x-0)*(h.y-0)-(g.y-0)*(h.x-0)),d=d+k;c.x+=k*e*(0+g.x+h.x);c.y+=k*e*(0+g.y+h.y)}c.x*=1/d;c.y*=1/d;return c}y('Box2D.Collision.Shapes.b2PolygonShape.ComputeCentroid',Ph);
y('Box2D.Collision.Shapes.b2PolygonShape.ComputeOBB',function(a,b,c){var d,e=Array(c+1);for(d=0;d<c;++d)e[d]=b[d];e[c]=e[0];b=Number.MAX_VALUE;for(d=1;d<=c;++d){for(var f=e[d-1>>0],g=e[d].x-f.x,h=e[d].y-f.y,k=Math.sqrt(g*g+h*h),g=g/k,h=h/k,m=-h,p=g,r=k=Number.MAX_VALUE,u=-Number.MAX_VALUE,v=-Number.MAX_VALUE,A=0;A<c;++A){var B=e[A].x-f.x,E=e[A].y-f.y,S=g*B+h*E,B=m*B+p*E;S<k&&(k=S);B<r&&(r=B);S>u&&(u=S);B>v&&(v=B)}A=(u-k)*(v-r);A<.95*b&&(b=A,a.R.col1.x=g,a.R.col1.y=h,a.R.col2.x=m,a.R.col2.y=p,g=.5*
(k+u),h=.5*(r+v),m=a.R,a.center.x=f.x+(m.col1.x*g+m.col2.x*h),a.center.y=f.y+(m.col1.y*g+m.col2.y*h),a.xq.x=.5*(u-k),a.xq.y=.5*(v-r))}});Q.prototype.i={names:[{name:'b2PolygonShape',j:ga,kind:l}]};y(ga,Q);function Rh(){this.localCenter=new P;this.c0=new P;this.c=new P}Rh.prototype.Set=function(a){this.localCenter.m(a.localCenter);this.c0.m(a.c0);this.c.m(a.c);this.a0=a.a0;this.a=a.a;this.t0=a.t0};Rh.prototype.Set=Rh.prototype.Set;Rh.prototype.O=function(){var a=new Rh;a.localCenter.m(this.localCenter);a.c0.m(this.c0);a.c.m(this.c);a.a0=this.a0;a.a=this.a;a.t0=this.t0;return a};Rh.prototype.Copy=Rh.prototype.O;
Rh.prototype.qa=function(a,b){a.position.x=(1-b)*this.c0.x+b*this.c.x;a.position.y=(1-b)*this.c0.y+b*this.c.y;a.R.Set((1-b)*this.a0+b*this.a);var c=a.R;a.position.x-=c.col1.x*this.localCenter.x+c.col2.x*this.localCenter.y;a.position.y-=c.col1.y*this.localCenter.x+c.col2.y*this.localCenter.y};Rh.prototype.GetTransform=Rh.prototype.qa;
Rh.prototype.Tb=function(a){if(this.t0<a&&1-this.t0>Number.MIN_VALUE){var b=(a-this.t0)/(1-this.t0);this.c0.x=(1-b)*this.c0.x+b*this.c.x;this.c0.y=(1-b)*this.c0.y+b*this.c.y;this.a0=(1-b)*this.a0+b*this.a;this.t0=a}};Rh.prototype.Advance=Rh.prototype.Tb;Rh.prototype.i={names:[{name:'b2Sweep',j:Pa,kind:l}]};y(Pa,Rh);function Sh(){this.position=new P;this.linearVelocity=new P;this.userData=null;this.position.Set(0,0);this.angle=0;this.linearVelocity.Set(0,0);this.angularDamping=this.linearDamping=this.angularVelocity=0;this.awake=this.allowSleep=!0;this.bullet=this.fixedRotation=!1;this.type=Th;this.active=!0;this.inertiaScale=1}Sh.prototype.type=0;Sh.prototype.type=Sh.prototype.type;Sh.prototype.i={names:[{name:'b2BodyDef',j:Qb,kind:l}]};y(Qb,Sh);function Uh(){this.lowerBound=new P;this.upperBound=new P}Uh.prototype.sf=function(){var a=this.upperBound.y-this.lowerBound.y;return a=(a=0<=this.upperBound.x-this.lowerBound.x&&0<=a)&&this.lowerBound.sf()&&this.upperBound.sf()};Uh.prototype.IsValid=Uh.prototype.sf;Uh.prototype.df=function(){return new P((this.lowerBound.x+this.upperBound.x)/2,(this.lowerBound.y+this.upperBound.y)/2)};Uh.prototype.GetCenter=Uh.prototype.df;
Uh.prototype.Qk=function(){return new P((this.upperBound.x-this.lowerBound.x)/2,(this.upperBound.y-this.lowerBound.y)/2)};Uh.prototype.GetExtents=Uh.prototype.Qk;Uh.prototype.ng=function(a){var b;return b=(b=(b=(b=this.lowerBound.x<=a.lowerBound.x)&&this.lowerBound.y<=a.lowerBound.y)&&a.upperBound.x<=this.upperBound.x)&&a.upperBound.y<=this.upperBound.y};Uh.prototype.Contains=Uh.prototype.ng;
Uh.prototype.ma=function(a,b){var c=-Number.MAX_VALUE,d=Number.MAX_VALUE,e=b.p1.x,f=b.p1.y,g=b.p2.x-b.p1.x,h=b.p2.y-b.p1.y,k=Math.abs(h),m=a.normal,p;if(Math.abs(g)<Number.MIN_VALUE){if(e<this.lowerBound.x||this.upperBound.x<e)return!1}else if(p=1/g,g=(this.lowerBound.x-e)*p,e=(this.upperBound.x-e)*p,p=-1,g>e&&(p=g,g=e,e=p,p=1),g>c&&(m.x=p,m.y=0,c=g),d=Math.min(d,e),c>d)return!1;if(k<Number.MIN_VALUE){if(f<this.lowerBound.y||this.upperBound.y<f)return!1}else if(p=1/h,g=(this.lowerBound.y-f)*p,e=(this.upperBound.y-
f)*p,p=-1,g>e&&(p=g,g=e,e=p,p=1),g>c&&(m.y=p,m.x=0,c=g),d=Math.min(d,e),c>d)return!1;a.fraction=c;return!0};Uh.prototype.RayCast=Uh.prototype.ma;Uh.prototype.rc=function(a){var b=a.lowerBound.y-this.upperBound.y,c=this.lowerBound.y-a.upperBound.y;return 0<a.lowerBound.x-this.upperBound.x||0<b||0<this.lowerBound.x-a.upperBound.x||0<c?!1:!0};Uh.prototype.TestOverlap=Uh.prototype.rc;function Vh(a,b){var c=new Uh;c.Ye(a,b);return c}y('Box2D.Collision.b2AABB.Combine2',Vh);
Uh.prototype.Ye=function(a,b){this.lowerBound.x=Math.min(a.lowerBound.x,b.lowerBound.x);this.lowerBound.y=Math.min(a.lowerBound.y,b.lowerBound.y);this.upperBound.x=Math.max(a.upperBound.x,b.upperBound.x);this.upperBound.y=Math.max(a.upperBound.y,b.upperBound.y)};Uh.prototype.Combine=Uh.prototype.Ye;Uh.prototype.i={names:[{name:'b2AABB',j:ja,kind:l}]};y(ja,Uh);function Wh(){}Wh.prototype.O=function(){var a=new Wh;a.Ae=this.Ae;a.Ne=this.Ne;a.zb=this.zb;return a};Wh.prototype.Copy=Wh.prototype.O;Wh.prototype.Ae=1;Wh.prototype.categoryBits=Wh.prototype.Ae;Wh.prototype.Ne=65535;Wh.prototype.maskBits=Wh.prototype.Ne;Wh.prototype.zb=0;Wh.prototype.groupIndex=Wh.prototype.zb;Wh.prototype.i={names:[{name:'b2FilterData',j:Wb,kind:l}]};y(Wb,Wh);function R(){this.m_filter=new Wh;this.m_aabb=new Uh;this.m_shape=this.m_next=this.m_body=this.m_userData=null;this.m_restitution=this.m_friction=this.m_density=0}R.prototype.M=function(){return this.m_shape.M()};R.prototype.GetType=R.prototype.M;R.prototype.Lo=t('m_shape');R.prototype.GetShape=R.prototype.Lo;
R.prototype.xg=function(a){if(this.m_isSensor!=a&&(this.m_isSensor=a,null!=this.m_body))for(a=this.m_body.m_contactList;a;){var b=a.contact,c=b.m_fixtureA,d=b.m_fixtureB;c!=this&&d!=this||b.xg(c.Fb()||d.Fb());a=a.next}};R.prototype.SetSensor=R.prototype.xg;R.prototype.Fb=t('m_isSensor');R.prototype.IsSensor=R.prototype.Fb;R.prototype.np=function(a){this.m_filter=a.O();if(!this.m_body)for(a=this.m_body.m_contactList;a;){var b=a.contact,c=b.m_fixtureB;b.m_fixtureA!=this&&c!=this||b.cf();a=a.next}};
R.prototype.SetFilterData=R.prototype.np;R.prototype.Vh=function(){return this.m_filter.O()};R.prototype.GetFilterData=R.prototype.Vh;R.prototype.Zn=t('m_body');R.prototype.GetBody=R.prototype.Zn;R.prototype.nc=t(ve);R.prototype.GetNext=R.prototype.nc;R.prototype.Fa=t(we);R.prototype.GetUserData=R.prototype.Fa;R.prototype.wf=q(we);R.prototype.SetUserData=R.prototype.wf;R.prototype.Yb=function(a){return this.m_shape.Yb(this.m_body.qa(),a)};R.prototype.TestPoint=R.prototype.Yb;
R.prototype.ma=function(a,b){return this.m_shape.ma(a,b,this.m_body.qa())};R.prototype.RayCast=R.prototype.ma;R.prototype.qg=function(a){a='undefined'!==typeof a?a:null;null==a&&(a=new dh);this.m_shape.jd(a,this.m_density);return a};R.prototype.GetMassData=R.prototype.qg;R.prototype.lp=q('m_density');R.prototype.SetDensity=R.prototype.lp;R.prototype.ho=t('m_density');R.prototype.GetDensity=R.prototype.ho;R.prototype.oo=t('m_friction');R.prototype.GetFriction=R.prototype.oo;R.prototype.pp=q('m_friction');
R.prototype.SetFriction=R.prototype.pp;R.prototype.Ko=t('m_restitution');R.prototype.GetRestitution=R.prototype.Ko;R.prototype.xp=q('m_restitution');R.prototype.SetRestitution=R.prototype.xp;R.prototype.Vn=t('m_aabb');R.prototype.GetAABB=R.prototype.Vn;R.prototype.Ze=function(a,b,c){this.m_userData=c.userData;this.m_friction=c.friction;this.m_restitution=c.restitution;this.m_body=a;this.m_next=null;this.m_filter=c.filter.O();this.m_isSensor=c.isSensor;this.m_shape=c.shape.O();this.m_density=c.density};
R.prototype.Create=R.prototype.Ze;R.prototype.ib=function(){this.m_shape=null};R.prototype.Destroy=R.prototype.ib;R.prototype.Db=function(a,b){this.m_shape.mc(this.m_aabb,b);this.m_proxy=a.Db(this.m_aabb,this)};R.prototype.CreateProxy=R.prototype.Db;R.prototype.Eb=function(a){null!=this.m_proxy&&(a.Eb(this.m_proxy),this.m_proxy=null)};R.prototype.DestroyProxy=R.prototype.Eb;
R.prototype.oi=function(a,b,c){if(this.m_proxy){var d=new Uh,e=new Uh;this.m_shape.mc(d,b);this.m_shape.mc(e,c);this.m_aabb.Ye(d,e);a.de(this.m_proxy,this.m_aabb,Ch(c.position,b.position))}};R.prototype.Synchronize=R.prototype.oi;R.prototype.i={names:[{name:'b2Fixture',j:Xb,kind:l}]};y(Xb,R);function Xh(){this.filter=new Wh;this.userData=this.shape=null;this.friction=.2;this.density=this.restitution=0;this.filter.Ae=1;this.filter.Ne=65535;this.filter.zb=0;this.isSensor=!1}Xh.prototype.i={names:[{name:'b2FixtureDef',j:Yb,kind:l}]};y(Yb,Xh);function Yh(){}Yh.prototype.Set=function(a){this.wA.m(a.wA);this.wB.m(a.wB);this.w.m(a.w);this.a=a.a;this.indexA=a.indexA;this.indexB=a.indexB};Yh.prototype.Set=Yh.prototype.Set;Yh.prototype.indexA=0;Yh.prototype.indexA=Yh.prototype.indexA;Yh.prototype.indexB=0;Yh.prototype.indexB=Yh.prototype.indexB;Yh.prototype.i={names:[{name:'b2SimplexVertex',j:Ga,kind:l}]};y(Ga,Yh);function Zh(){this.m_v1=new Yh;this.m_v2=new Yh;this.m_v3=new Yh;this.m_vertices=Array(3);this.m_vertices[0]=this.m_v1;this.m_vertices[1]=this.m_v2;this.m_vertices[2]=this.m_v3}
Zh.prototype.bl=function(a,b,c,d,e){ih(0<=a.count&&3>=a.count);var f,g;this.P=a.count;for(var h=this.m_vertices,k=0;k<this.P;k++){var m=h[k];m.indexA=Number(a.indexA[k]);m.indexB=Number(a.indexB[k]);f=b.za(m.indexA);g=d.za(m.indexB);m.wA=Ah(c,f);m.wB=Ah(e,g);m.w=Ch(m.wB,m.wA);m.a=0}1<this.P&&(a=a.metric,f=this.$h(),f<.5*a||2*a<f||f<Number.MIN_VALUE)&&(this.P=0);0==this.P&&(m=h[0],m.indexA=0,m.indexB=0,f=b.za(0),g=d.za(0),m.wA=Ah(c,f),m.wB=Ah(e,g),m.w=Ch(m.wB,m.wA),this.P=1)};
Zh.prototype.ReadCache=Zh.prototype.bl;Zh.prototype.tl=function(a){a.metric=this.$h();a.count=this.P>>>0;for(var b=this.m_vertices,c=0;c<this.P;c++)a.indexA[c]=b[c].indexA>>>0,a.indexB[c]=b[c].indexB>>>0};Zh.prototype.WriteCache=Zh.prototype.tl;Zh.prototype.Uk=function(){switch(this.P){case 1:return this.m_v1.w.Vb();case 2:var a=Ch(this.m_v2.w,this.m_v1.w);return 0<vh(a,this.m_v1.w.Vb())?xh(1,a):wh(a,1);default:return ih(!1),new P}};Zh.prototype.GetSearchDirection=Zh.prototype.Uk;
Zh.prototype.Sh=function(){switch(this.P){case 0:return ih(!1),new P;case 1:return this.m_v1.w;case 2:return new P(this.m_v1.a*this.m_v1.w.x+this.m_v2.a*this.m_v2.w.x,this.m_v1.a*this.m_v1.w.y+this.m_v2.a*this.m_v2.w.y);default:return ih(!1),new P}};Zh.prototype.GetClosestPoint=Zh.prototype.Sh;
Zh.prototype.Vk=function(a,b){switch(this.P){case 0:ih(!1);break;case 1:a.m(this.m_v1.wA);b.m(this.m_v1.wB);break;case 2:a.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x;a.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y;b.x=this.m_v1.a*this.m_v1.wB.x+this.m_v2.a*this.m_v2.wB.x;b.y=this.m_v1.a*this.m_v1.wB.y+this.m_v2.a*this.m_v2.wB.y;break;case 3:b.x=a.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x+this.m_v3.a*this.m_v3.wA.x;b.y=a.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*
this.m_v2.wA.y+this.m_v3.a*this.m_v3.wA.y;break;default:ih(!1)}};Zh.prototype.GetWitnessPoints=Zh.prototype.Vk;Zh.prototype.$h=function(){switch(this.P){case 0:return ih(!1),0;case 1:return 0;case 2:return Ch(this.m_v1.w,this.m_v2.w).Wb();case 3:return vh(Ch(this.m_v2.w,this.m_v1.w),Ch(this.m_v3.w,this.m_v1.w));default:return ih(!1),0}};Zh.prototype.GetMetric=Zh.prototype.$h;
Zh.prototype.pl=function(){var a=this.m_v1.w,b=this.m_v2.w,c=Ch(b,a),a=-(a.x*c.x+a.y*c.y);0>=a?this.P=this.m_v1.a=1:(b=b.x*c.x+b.y*c.y,0>=b?(this.P=this.m_v2.a=1,this.m_v1.Set(this.m_v2)):(c=1/(b+a),this.m_v1.a=b*c,this.m_v2.a=a*c,this.P=2))};Zh.prototype.Solve2=Zh.prototype.pl;
Zh.prototype.ql=function(){var a=this.m_v1.w,b=this.m_v2.w,c=this.m_v3.w,d=Ch(b,a),e=uh(b,d),f=-uh(a,d),g=Ch(c,a),h=uh(c,g),k=-uh(a,g),m=Ch(c,b),p=uh(c,m),m=-uh(b,m),g=vh(d,g),d=g*vh(b,c),c=g*vh(c,a),a=g*vh(a,b);0>=f&&0>=k?this.P=this.m_v1.a=1:0<e&&0<f&&0>=a?(h=1/(e+f),this.m_v1.a=e*h,this.m_v2.a=f*h,this.P=2):0<h&&0<k&&0>=c?(e=1/(h+k),this.m_v1.a=h*e,this.m_v3.a=k*e,this.P=2,this.m_v2.Set(this.m_v3)):0>=e&&0>=m?(this.P=this.m_v2.a=1,this.m_v1.Set(this.m_v2)):0>=h&&0>=p?(this.P=this.m_v3.a=1,this.m_v1.Set(this.m_v3)):
0<p&&0<m&&0>=d?(e=1/(p+m),this.m_v2.a=p*e,this.m_v3.a=m*e,this.P=2,this.m_v1.Set(this.m_v3)):(e=1/(d+c+a),this.m_v1.a=d*e,this.m_v2.a=c*e,this.m_v3.a=a*e,this.P=3)};Zh.prototype.Solve3=Zh.prototype.ql;Zh.prototype.P=0;Zh.prototype.m_count=Zh.prototype.P;Zh.prototype.i={names:[{name:'b2Simplex',j:Ea,kind:l}]};y(Ea,Zh);function $h(){}var ai=0,bi=0,ci=new Zh,di=Array(3),ei=Array(3);
function fi(a,b,c){++ai;var d=c.proxyA,e=c.proxyB,f=c.transformA,g=c.transformB;ci.bl(b,d,f,e,g);var h=ci.m_vertices,k;ci.Sh().nd();for(var m,p,r=0;20>r;){k=ci.P;for(m=0;m<k;m++)di[m]=h[m].indexA,ei[m]=h[m].indexB;switch(ci.P){case 1:break;case 2:ci.pl();break;case 3:ci.ql();break;default:ih(!1)}if(3==ci.P)break;p=ci.Sh();p.nd();m=ci.Uk();if(m.nd()<Number.MIN_VALUE*Number.MIN_VALUE)break;p=h[ci.P];p.indexA=d.kf(zh(f.R,m.Vb()));p.wA=Ah(f,d.za(p.indexA));p.indexB=e.kf(zh(g.R,m));p.wB=Ah(g,e.za(p.indexB));
p.w=Ch(p.wB,p.wA);++r;++bi;var u=!1;for(m=0;m<k;m++)if(p.indexA==di[m]&&p.indexB==ei[m]){u=!0;break}if(u)break;++ci.P}ci.Vk(a.pointA,a.pointB);a.distance=Ch(a.pointA,a.pointB).Wb();a.Dm=r;ci.tl(b);c.useRadii&&(b=d.m_radius,e=e.m_radius,a.distance>b+e&&a.distance>Number.MIN_VALUE?(a.distance-=b+e,c=Ch(a.pointB,a.pointA),c.Ma(),a.pointA.x+=b*c.x,a.pointA.y+=b*c.y,a.pointB.x-=e*c.x,a.pointB.y-=e*c.y):(p=new P,p.x=.5*(a.pointA.x+a.pointB.x),p.y=.5*(a.pointA.y+a.pointB.y),a.pointA.x=a.pointB.x=p.x,a.pointA.y=
a.pointB.y=p.y,a.distance=0))}y('Box2D.Collision.b2Distance.Distance',fi);$h.prototype.i={names:[{name:'b2Distance',j:na,kind:l}]};y(na,$h);function gi(){}gi.prototype.i={names:[{name:'b2DistanceInput',j:oa,kind:l}]};y(oa,gi);function hi(){this.pointA=new P;this.pointB=new P}hi.prototype.Dm=0;hi.prototype.iterations=hi.prototype.Dm;hi.prototype.i={names:[{name:'b2DistanceOutput',j:pa,kind:l}]};y(pa,hi);function ii(){}ii.prototype.Set=function(a){switch(a.M()){case 0:this.m_vertices=[1,!0];this.m_vertices[0]=a.m_p;this.P=1;this.m_radius=a.m_radius;break;case 1:this.m_vertices=a.m_vertices;this.P=a.T;this.m_radius=a.m_radius;break;default:ih(!1)}};ii.prototype.Set=ii.prototype.Set;ii.prototype.kf=function(a){for(var b=0,c=this.m_vertices[0].x*a.x+this.m_vertices[0].y*a.y,d=1;d<this.P;++d){var e=this.m_vertices[d].x*a.x+this.m_vertices[d].y*a.y;e>c&&(b=d,c=e)}return b};ii.prototype.GetSupport=ii.prototype.kf;
ii.prototype.ld=function(a){for(var b=0,c=this.m_vertices[0].x*a.x+this.m_vertices[0].y*a.y,d=1;d<this.P;++d){var e=this.m_vertices[d].x*a.x+this.m_vertices[d].y*a.y;e>c&&(b=d,c=e)}return this.m_vertices[b]};ii.prototype.GetSupportVertex=ii.prototype.ld;ii.prototype.rg=t('P');ii.prototype.GetVertexCount=ii.prototype.rg;ii.prototype.za=function(a){ih(0<=a&&a<this.P);return this.m_vertices[a]};ii.prototype.GetVertex=ii.prototype.za;ii.prototype.P=0;ii.prototype.m_count=ii.prototype.P;
ii.prototype.i={names:[{name:'b2DistanceProxy',j:qa,kind:l}]};y(qa,ii);function ji(){this.indexA=Array(3);this.indexB=Array(3)}ji.prototype.count=0;ji.prototype.count=ji.prototype.count;ji.prototype.i={names:[{name:'b2SimplexCache',j:Fa,kind:l}]};y(Fa,ji);function ki(){}function li(a,b,c,d){var e=new gi;e.proxyA=new ii;e.proxyA.Set(a);e.proxyB=new ii;e.proxyB.Set(c);e.transformA=b;e.transformB=d;e.useRadii=!0;a=new ji;a.count=0;b=new hi;fi(b,a,e);return b.distance<10*Number.MIN_VALUE}y('Box2D.Collision.Shapes.b2ShapeUtil.TestOverlap',li);ki.prototype.i={names:[{name:'b2ShapeUtil',j:ia,kind:l}]};y(ia,ki);function mi(a,b,c){a='undefined'!==typeof a?a:null;b='undefined'!==typeof b?b:null;c='undefined'!==typeof c?c:1;this.p1=new P;this.p2=new P;a&&this.p1.m(a);b&&this.p2.m(b);this.maxFraction=c}mi.prototype.i={names:[{name:'b2RayCastInput',j:Aa,kind:l}]};y(Aa,mi);function ni(){this.normal=new P}ni.prototype.i={names:[{name:'b2RayCastOutput',j:Ca,kind:l}]};y(Ca,ni);function oi(a,b,c){this.Jg=255*Kh(a,0,1)>>>0;this.Eg=255*Kh(b,0,1)>>>0;this.zg=255*Kh(c,0,1)>>>0}oi.prototype.Set=function(a,b,c){this.Jg=255*Kh(a,0,1)>>>0;this.Eg=255*Kh(b,0,1)>>>0;this.zg=255*Kh(c,0,1)>>>0};oi.prototype.Set=oi.prototype.Set;x=oi.prototype;x.Jg=0;x.Eg=0;x.zg=0;x.qx=function(a){this.Jg=255*Kh(a,0,1)>>>0};x.Cw=function(a){this.Eg=255*Kh(a,0,1)>>>0};x.Pv=function(a){this.zg=255*Kh(a,0,1)>>>0};x.ub=function(){return this.Jg<<16|this.Eg<<8|this.zg};
Object.defineProperties(oi.prototype,{r:{set:oi.prototype.qx},g:{set:oi.prototype.Cw},b:{set:oi.prototype.Pv},color:{get:oi.prototype.ub}});oi.prototype.i={names:[{name:'b2Color',j:Ta,kind:l}]};y(Ta,oi);function pi(){}pi.prototype.Hf=0;pi.prototype._referenceEdge=pi.prototype.Hf;pi.prototype.Cf=0;pi.prototype._incidentEdge=pi.prototype.Cf;pi.prototype.Df=0;pi.prototype._incidentVertex=pi.prototype.Df;pi.prototype.Af=0;pi.prototype._flip=pi.prototype.Af;x=pi.prototype;x.zt=t('Hf');x.ux=function(a){this.Hf=a;this._m_id.Wa=this._m_id.Wa&4294967040|this.Hf&255};x.Ds=t('Cf');x.Iw=function(a){this.Cf=a;this._m_id.Wa=this._m_id.Wa&4294902015|this.Cf<<8&65280};x.Es=t('Df');
x.Jw=function(a){this.Df=a;this._m_id.Wa=this._m_id.Wa&4278255615|this.Df<<16&16711680};x.rs=t('Af');x.xw=function(a){this.Af=a;this._m_id.Wa=this._m_id.Wa&16777215|this.Af<<24&4278190080};Object.defineProperties(pi.prototype,{referenceEdge:{get:pi.prototype.zt,set:pi.prototype.ux},incidentEdge:{get:pi.prototype.Ds,set:pi.prototype.Iw},incidentVertex:{get:pi.prototype.Es,set:pi.prototype.Jw},flip:{get:pi.prototype.rs,set:pi.prototype.xw}});pi.prototype.i={names:[{name:'Features',j:ca,kind:l}]};
y(ca,pi);function qi(){this.features=new pi;this.features._m_id=this}qi.prototype.Set=function(a){this.key=a.Wa};qi.prototype.Set=qi.prototype.Set;qi.prototype.O=function(){var a=new qi;a.key=this.key;return a};qi.prototype.Copy=qi.prototype.O;qi.prototype.Wa=0;qi.prototype._key=qi.prototype.Wa;qi.prototype.Ns=t('Wa');
qi.prototype.Qw=function(a){this.Wa=a;this.features.Hf=this.Wa&255;this.features.Cf=(this.Wa&65280)>>8&255;this.features.Df=(this.Wa&16711680)>>16&255;this.features.Af=(this.Wa&4278190080)>>24&255};Object.defineProperties(qi.prototype,{key:{get:qi.prototype.Ns,set:qi.prototype.Qw}});qi.prototype.i={names:[{name:'b2ContactID',j:la,kind:l}]};y(la,qi);function ri(){this.m_localPoint=new P;this.m_id=new qi;this.Va()}ri.prototype.Va=function(){this.m_localPoint.D();this.m_tangentImpulse=this.m_normalImpulse=0;this.m_id.key=0};ri.prototype.Reset=ri.prototype.Va;ri.prototype.Set=function(a){this.m_localPoint.m(a.m_localPoint);this.m_normalImpulse=a.m_normalImpulse;this.m_tangentImpulse=a.m_tangentImpulse;this.m_id.Set(a.m_id)};ri.prototype.Set=ri.prototype.Set;ri.prototype.i={names:[{name:'b2ManifoldPoint',j:ya,kind:l}]};y(ya,ri);function si(){this.m_points=Array(2);for(var a=0;2>a;a++)this.m_points[a]=new ri;this.m_localPlaneNormal=new P;this.m_localPoint=new P}si.prototype.Va=function(){for(var a=0;2>a;a++)this.m_points[a].Va();this.m_localPlaneNormal.D();this.m_localPoint.D();this.ha=this.C=0};si.prototype.Reset=si.prototype.Va;si.prototype.Set=function(a){this.ha=a.ha;for(var b=0;2>b;b++)this.m_points[b].Set(a.m_points[b]);this.m_localPlaneNormal.m(a.m_localPlaneNormal);this.m_localPoint.m(a.m_localPoint);this.C=a.C};
si.prototype.Set=si.prototype.Set;si.prototype.O=function(){var a=new si;a.Set(this);return a};si.prototype.Copy=si.prototype.O;si.prototype.C=0;si.prototype.m_type=si.prototype.C;si.prototype.ha=0;si.prototype.m_pointCount=si.prototype.ha;y('Box2D.Collision.b2Manifold.e_circles',1);y('Box2D.Collision.b2Manifold.e_faceA',2);y('Box2D.Collision.b2Manifold.e_faceB',4);si.prototype.i={names:[{name:'b2Manifold',j:xa,kind:l}]};y(xa,si);function ti(){this.proxyA=new ii;this.proxyB=new ii;this.sweepA=new Rh;this.sweepB=new Rh}ti.prototype.i={names:[{name:'b2TOIInput',j:Ia,kind:l}]};y(Ia,ti);function ui(){this.m_localPoint=new P;this.m_axis=new P}y('Box2D.Collision.b2SeparationFunction.e_points',1);y('Box2D.Collision.b2SeparationFunction.e_faceA',2);y('Box2D.Collision.b2SeparationFunction.e_faceB',4);
ui.prototype.u=function(a,b,c,d,e){this.m_proxyA=b;this.m_proxyB=d;b=a.count;ih(0<b&&3>b);var f,g,h,k,m;if(1==b)this.C=1,f=this.m_proxyA.za(a.indexA[0]),g=this.m_proxyB.za(a.indexB[0]),k=f,h=c.R,f=c.position.x+(h.col1.x*k.x+h.col2.x*k.y),c=c.position.y+(h.col1.y*k.x+h.col2.y*k.y),k=g,h=e.R,g=e.position.x+(h.col1.x*k.x+h.col2.x*k.y),e=e.position.y+(h.col1.y*k.x+h.col2.y*k.y),this.m_axis.x=g-f,this.m_axis.y=e-c,this.m_axis.Ma();else{if(a.indexB[0]==a.indexB[1])this.C=2,b=this.m_proxyA.za(a.indexA[0]),
d=this.m_proxyA.za(a.indexA[1]),g=this.m_proxyB.za(a.indexB[0]),this.m_localPoint.x=.5*(b.x+d.x),this.m_localPoint.y=.5*(b.y+d.y),this.m_axis=wh(Ch(d,b),1),this.m_axis.Ma(),k=this.m_axis,h=c.R,b=h.col1.x*k.x+h.col2.x*k.y,d=h.col1.y*k.x+h.col2.y*k.y,k=this.m_localPoint,h=c.R,f=c.position.x+(h.col1.x*k.x+h.col2.x*k.y),c=c.position.y+(h.col1.y*k.x+h.col2.y*k.y),k=g,h=e.R,g=e.position.x+(h.col1.x*k.x+h.col2.x*k.y),e=e.position.y+(h.col1.y*k.x+h.col2.y*k.y),m=(g-f)*b+(e-c)*d;else if(a.indexA[0]==a.indexA[0])this.C=
4,h=this.m_proxyB.za(a.indexB[0]),k=this.m_proxyB.za(a.indexB[1]),f=this.m_proxyA.za(a.indexA[0]),this.m_localPoint.x=.5*(h.x+k.x),this.m_localPoint.y=.5*(h.y+k.y),this.m_axis=wh(Ch(k,h),1),this.m_axis.Ma(),k=this.m_axis,h=e.R,b=h.col1.x*k.x+h.col2.x*k.y,d=h.col1.y*k.x+h.col2.y*k.y,k=this.m_localPoint,h=e.R,g=e.position.x+(h.col1.x*k.x+h.col2.x*k.y),e=e.position.y+(h.col1.y*k.x+h.col2.y*k.y),k=f,h=c.R,f=c.position.x+(h.col1.x*k.x+h.col2.x*k.y),c=c.position.y+(h.col1.y*k.x+h.col2.y*k.y),m=(f-g)*b+
(c-e)*d;else{b=this.m_proxyA.za(a.indexA[0]);d=this.m_proxyA.za(a.indexA[1]);h=this.m_proxyB.za(a.indexB[0]);k=this.m_proxyB.za(a.indexB[1]);Ah(c,f);m=yh(c.R,Ch(d,b));Ah(e,g);var p=yh(e.R,Ch(k,h));g=m.x*m.x+m.y*m.y;f=p.x*p.x+p.y*p.y;var r=Ch(p,m);a=m.x*r.x+m.y*r.y;var r=p.x*r.x+p.y*r.y,p=m.x*p.x+m.y*p.y,u=g*f-p*p;m=0;0!=u&&(m=Kh((p*r-a*f)/u,0,1));0>(p*m+r)/f&&(m=Kh((p-a)/g,0,1));f=new P;f.x=b.x+m*(d.x-b.x);f.y=b.y+m*(d.y-b.y);g=new P;g.x=h.x+m*(k.x-h.x);g.y=h.y+m*(k.y-h.y);0==m||1==m?(this.C=4,this.m_axis=
wh(Ch(k,h),1),this.m_axis.Ma(),this.m_localPoint=g):(this.C=2,this.m_axis=wh(Ch(d,b),1),this.m_localPoint=f)}0>m&&this.m_axis.sg()}};ui.prototype.Initialize=ui.prototype.u;
ui.prototype.La=function(a,b){var c,d,e;switch(this.C){case 1:return c=zh(a.R,this.m_axis),d=zh(b.R,this.m_axis.Vb()),c=this.m_proxyA.ld(c),d=this.m_proxyB.ld(d),c=Ah(a,c),d=Ah(b,d),e=(d.x-c.x)*this.m_axis.x+(d.y-c.y)*this.m_axis.y;case 2:return e=yh(a.R,this.m_axis),c=Ah(a,this.m_localPoint),d=zh(b.R,e.Vb()),d=this.m_proxyB.ld(d),d=Ah(b,d),e=(d.x-c.x)*e.x+(d.y-c.y)*e.y;case 4:return e=yh(b.R,this.m_axis),d=Ah(b,this.m_localPoint),c=zh(a.R,e.Vb()),c=this.m_proxyA.ld(c),c=Ah(a,c),e=(c.x-d.x)*e.x+(c.y-
d.y)*e.y;default:return ih(!1),0}};ui.prototype.Evaluate=ui.prototype.La;ui.prototype.C=0;ui.prototype.m_type=ui.prototype.C;ui.prototype.i={names:[{name:'b2SeparationFunction',j:Da,kind:l}]};y(Da,ui);function vi(){}var wi=0,xi=0,yi=0,zi=new ji,Ai=new gi,Bi=new sh,Ci=new sh,Di=new ui,Ei=new hi;
function Fi(a){++wi;var b=a.proxyA,c=a.proxyB,d=a.sweepA,e=a.sweepB;ih(d.t0==e.t0);ih(1-d.t0>Number.MIN_VALUE);var f=b.m_radius+c.m_radius;a=a.tolerance;var g=0,h=0,k=0;zi.count=0;for(Ai.useRadii=!1;;){d.qa(Bi,g);e.qa(Ci,g);Ai.proxyA=b;Ai.proxyB=c;Ai.transformA=Bi;Ai.transformB=Ci;fi(Ei,zi,Ai);if(0>=Ei.distance){g=1;break}Di.u(zi,b,Bi,c,Ci);var m=Di.La(Bi,Ci);if(0>=m){g=1;break}0==h&&(k=m>f?Ih(f-a,.75*f):Ih(m-a,.02*f));if(m-k<.5*a){if(0==h){g=1;break}break}var p=g,r=g,u=1;d.qa(Bi,u);e.qa(Ci,u);var v=
Di.La(Bi,Ci);if(v>=k){g=1;break}for(var A=0;;){var B;B=A&1?r+(k-m)*(u-r)/(v-m):.5*(r+u);d.qa(Bi,B);e.qa(Ci,B);var E=Di.La(Bi,Ci);if(Eh(E-k)<.025*a){p=B;break}E>k?(r=B,m=E):(u=B,v=E);++A;++yi;if(50==A)break}if(p<(1+100*Number.MIN_VALUE)*g)break;g=p;h++;++xi;if(1E3==h)break}return g}y('Box2D.Collision.b2TimeOfImpact.TimeOfImpact',Fi);vi.prototype.i={names:[{name:'b2TimeOfImpact',j:Ja,kind:l}]};y(Ja,vi);function Gi(){}Gi.prototype.i={names:[{name:'b2ContactEdge',j:bb,kind:l}]};y(bb,Gi);function Hi(){this.m_nodeA=new Gi;this.m_nodeB=new Gi;this.m_manifold=new si;this.m_oldManifold=new si}Hi.prototype.Co=t('m_manifold');Hi.prototype.GetManifold=Hi.prototype.Co;Hi.prototype.Qo=function(a){var b=this.m_fixtureB.m_body,c=this.m_fixtureA.m_shape,d=this.m_fixtureB.m_shape;a.u(this.m_manifold,this.m_fixtureA.m_body.qa(),c.m_radius,b.qa(),d.m_radius)};Hi.prototype.GetWorldManifold=Hi.prototype.Qo;Hi.prototype.rf=function(){return(this.l&Ii)==Ii};Hi.prototype.IsTouching=Hi.prototype.rf;
Hi.prototype.Xk=function(){return(this.l&Ji)==Ji};Hi.prototype.IsContinuous=Hi.prototype.Xk;Hi.prototype.xg=function(a){this.l=a?this.l|Ki:this.l&~Ki};Hi.prototype.SetSensor=Hi.prototype.xg;Hi.prototype.Fb=function(){return(this.l&Ki)==Ki};Hi.prototype.IsSensor=Hi.prototype.Fb;Hi.prototype.fl=function(a){this.l=a?this.l|Li:this.l&~Li};Hi.prototype.SetEnabled=Hi.prototype.fl;Hi.prototype.pf=function(){return(this.l&Li)==Li};Hi.prototype.IsEnabled=Hi.prototype.pf;Hi.prototype.nc=t(ve);
Hi.prototype.GetNext=Hi.prototype.nc;Hi.prototype.ko=t('m_fixtureA');Hi.prototype.GetFixtureA=Hi.prototype.ko;Hi.prototype.lo=t('m_fixtureB');Hi.prototype.GetFixtureB=Hi.prototype.lo;Hi.prototype.cf=function(){this.l|=Mi};Hi.prototype.FlagForFiltering=Hi.prototype.cf;var Ki=1;y('Box2D.Dynamics.Contacts.b2Contact.e_sensorFlag',Ki);var Ji=2;y('Box2D.Dynamics.Contacts.b2Contact.e_continuousFlag',Ji);y('Box2D.Dynamics.Contacts.b2Contact.e_islandFlag',4);
y('Box2D.Dynamics.Contacts.b2Contact.e_toiFlag',8);var Ii=16;y('Box2D.Dynamics.Contacts.b2Contact.e_touchingFlag',Ii);var Li=32;y('Box2D.Dynamics.Contacts.b2Contact.e_enabledFlag',Li);var Mi=64;y('Box2D.Dynamics.Contacts.b2Contact.e_filterFlag',Mi);
Hi.prototype.Va=function(a,b){a='undefined'!==typeof a?a:null;b='undefined'!==typeof b?b:null;this.l=Li;if(a&&b){if(a.Fb()||b.Fb())this.l|=Ki;var c=a.m_body,d=b.m_body;if(c.M()!=Ni||c.nf()||d.M()!=Ni||d.nf())this.l|=Ji;this.m_fixtureA=a;this.m_fixtureB=b;this.m_manifold.ha=0;this.m_next=this.m_prev=null;this.m_nodeA.contact=null;this.m_nodeA.prev=null;this.m_nodeA.next=null;this.m_nodeA.other=null;this.m_nodeB.contact=null;this.m_nodeB.prev=null;this.m_nodeB.next=null;this.m_nodeB.other=null}else this.m_fixtureB=
this.m_fixtureA=null};Hi.prototype.Reset=Hi.prototype.Va;
Hi.prototype.Ha=function(a){var b=this.m_oldManifold;this.m_oldManifold=this.m_manifold;this.m_manifold=b;this.l|=Li;var c=!1,d=(this.l&Ii)==Ii,e=this.m_fixtureA.m_body,b=this.m_fixtureB.m_body,f=this.m_fixtureA.m_aabb.rc(this.m_fixtureB.m_aabb);if(this.l&Ki)f&&(c=this.m_fixtureA.m_shape,d=this.m_fixtureB.m_shape,e=e.qa(),b=b.qa(),c=li(c,e,d,b)),this.m_manifold.ha=0;else{e.M()!=Ni||e.nf()||b.M()!=Ni||b.nf()?this.l|=Ji:this.l&=~Ji;if(f)for(this.La(),c=0<this.m_manifold.ha,f=0;f<this.m_manifold.ha;++f){var g=
this.m_manifold.m_points[f];g.m_normalImpulse=0;g.m_tangentImpulse=0;for(var h=g.m_id,k=0;k<this.m_oldManifold.ha;++k){var m=this.m_oldManifold.m_points[k];if(m.m_id.key==h.key){g.m_normalImpulse=m.m_normalImpulse;g.m_tangentImpulse=m.m_tangentImpulse;break}}}else this.m_manifold.ha=0;c!=d&&(e.H(!0),b.H(!0))}this.l=c?this.l|Ii:this.l&~Ii;0==(this.l&Ki)&&a.ug(this,this.m_oldManifold)};Hi.prototype.Update=Hi.prototype.Ha;Hi.prototype.La=n();Hi.prototype.Evaluate=Hi.prototype.La;var Oi=new ti;
Hi.prototype.Gk=function(a,b){Oi.proxyA.Set(this.m_fixtureA.m_shape);Oi.proxyB.Set(this.m_fixtureB.m_shape);Oi.sweepA=a;Oi.sweepB=b;Oi.tolerance=.005;return Fi(Oi)};Hi.prototype.ComputeTOI=Hi.prototype.Gk;Hi.prototype.l=0;Hi.prototype.m_flags=Hi.prototype.l;Hi.prototype.i={names:[{name:'b2Contact',j:Xa,kind:l}]};y(Xa,Hi);function Pi(){this.m_normal=new P;this.m_points=Array(2);for(var a=0;2>a;a++)this.m_points[a]=new P}
Pi.prototype.u=function(a,b,c,d,e){if(0!=a.ha){var f,g,h,k,m,p,r,u;switch(a.C){case 1:h=b.R;g=a.m_localPoint;f=b.position.x+h.col1.x*g.x+h.col2.x*g.y;b=b.position.y+h.col1.y*g.x+h.col2.y*g.y;h=d.R;g=a.m_points[0].m_localPoint;a=d.position.x+h.col1.x*g.x+h.col2.x*g.y;d=d.position.y+h.col1.y*g.x+h.col2.y*g.y;g=a-f;h=d-b;k=g*g+h*h;k>Number.MIN_VALUE*Number.MIN_VALUE?(k=Math.sqrt(k),this.m_normal.x=g/k,this.m_normal.y=h/k):(this.m_normal.x=1,this.m_normal.y=0);g=b+c*this.m_normal.y;d-=e*this.m_normal.y;
this.m_points[0].x=.5*(f+c*this.m_normal.x+(a-e*this.m_normal.x));this.m_points[0].y=.5*(g+d);break;case 2:h=b.R;g=a.m_localPlaneNormal;k=h.col1.x*g.x+h.col2.x*g.y;m=h.col1.y*g.x+h.col2.y*g.y;h=b.R;g=a.m_localPoint;p=b.position.x+h.col1.x*g.x+h.col2.x*g.y;r=b.position.y+h.col1.y*g.x+h.col2.y*g.y;this.m_normal.x=k;this.m_normal.y=m;for(f=0;f<a.ha;f++)h=d.R,g=a.m_points[f].m_localPoint,u=d.position.x+h.col1.x*g.x+h.col2.x*g.y,g=d.position.y+h.col1.y*g.x+h.col2.y*g.y,this.m_points[f].x=u+.5*(c-(u-p)*
k-(g-r)*m-e)*k,this.m_points[f].y=g+.5*(c-(u-p)*k-(g-r)*m-e)*m;break;case 4:for(h=d.R,g=a.m_localPlaneNormal,k=h.col1.x*g.x+h.col2.x*g.y,m=h.col1.y*g.x+h.col2.y*g.y,h=d.R,g=a.m_localPoint,p=d.position.x+h.col1.x*g.x+h.col2.x*g.y,r=d.position.y+h.col1.y*g.x+h.col2.y*g.y,this.m_normal.x=-k,this.m_normal.y=-m,f=0;f<a.ha;f++)h=b.R,g=a.m_points[f].m_localPoint,u=b.position.x+h.col1.x*g.x+h.col2.x*g.y,g=b.position.y+h.col1.y*g.x+h.col2.y*g.y,this.m_points[f].x=u+.5*(e-(u-p)*k-(g-r)*m-c)*k,this.m_points[f].y=
g+.5*(e-(u-p)*k-(g-r)*m-c)*m}}};Pi.prototype.Initialize=Pi.prototype.u;Pi.prototype.i={names:[{name:'b2WorldManifold',j:La,kind:l}]};y(La,Pi);function Qi(){this.localPoint=new P;this.rA=new P;this.rB=new P}Qi.prototype.i={names:[{name:'b2ContactConstraintPoint',j:ab,kind:l}]};y(ab,Qi);function Ri(){this.localPlaneNormal=new P;this.localPoint=new P;this.normal=new P;this.normalMass=new ph;this.K=new ph;this.points=Array(2);for(var a=0;2>a;a++)this.points[a]=new Qi}Ri.prototype.type=0;Ri.prototype.type=Ri.prototype.type;Ri.prototype.hb=0;Ri.prototype.pointCount=Ri.prototype.hb;Ri.prototype.i={names:[{name:'b2ContactConstraint',j:Ya,kind:l}]};y(Ya,Ri);function Si(){this.m_normal=new P;this.m_separations=Array(2);this.m_points=Array(2);for(var a=0;2>a;a++)this.m_points[a]=new P}
Si.prototype.u=function(a){ih(0<a.hb);var b,c,d,e,f,g;switch(a.type){case 1:e=a.bodyA.m_xf.R;d=a.localPoint;b=a.bodyA.m_xf.position.x+(e.col1.x*d.x+e.col2.x*d.y);c=a.bodyA.m_xf.position.y+(e.col1.y*d.x+e.col2.y*d.y);e=a.bodyB.m_xf.R;d=a.points[0].localPoint;f=a.bodyB.m_xf.position.x+(e.col1.x*d.x+e.col2.x*d.y);e=a.bodyB.m_xf.position.y+(e.col1.y*d.x+e.col2.y*d.y);d=f-b;g=e-c;var h=d*d+g*g;h>Number.MIN_VALUE*Number.MIN_VALUE?(h=Math.sqrt(h),this.m_normal.x=d/h,this.m_normal.y=g/h):(this.m_normal.x=
1,this.m_normal.y=0);this.m_points[0].x=.5*(b+f);this.m_points[0].y=.5*(c+e);this.m_separations[0]=d*this.m_normal.x+g*this.m_normal.y-a.radius;break;case 2:e=a.bodyA.m_xf.R;d=a.localPlaneNormal;this.m_normal.x=e.col1.x*d.x+e.col2.x*d.y;this.m_normal.y=e.col1.y*d.x+e.col2.y*d.y;e=a.bodyA.m_xf.R;d=a.localPoint;f=a.bodyA.m_xf.position.x+(e.col1.x*d.x+e.col2.x*d.y);g=a.bodyA.m_xf.position.y+(e.col1.y*d.x+e.col2.y*d.y);e=a.bodyB.m_xf.R;for(b=0;b<a.hb;++b)d=a.points[b].localPoint,c=a.bodyB.m_xf.position.x+
(e.col1.x*d.x+e.col2.x*d.y),d=a.bodyB.m_xf.position.y+(e.col1.y*d.x+e.col2.y*d.y),this.m_separations[b]=(c-f)*this.m_normal.x+(d-g)*this.m_normal.y-a.radius,this.m_points[b].x=c,this.m_points[b].y=d;break;case 4:e=a.bodyB.m_xf.R;d=a.localPlaneNormal;this.m_normal.x=e.col1.x*d.x+e.col2.x*d.y;this.m_normal.y=e.col1.y*d.x+e.col2.y*d.y;e=a.bodyB.m_xf.R;d=a.localPoint;f=a.bodyB.m_xf.position.x+(e.col1.x*d.x+e.col2.x*d.y);g=a.bodyB.m_xf.position.y+(e.col1.y*d.x+e.col2.y*d.y);e=a.bodyA.m_xf.R;for(b=0;b<
a.hb;++b)d=a.points[b].localPoint,c=a.bodyA.m_xf.position.x+(e.col1.x*d.x+e.col2.x*d.y),d=a.bodyA.m_xf.position.y+(e.col1.y*d.x+e.col2.y*d.y),this.m_separations[b]=(c-f)*this.m_normal.x+(d-g)*this.m_normal.y-a.radius,this.m_points[b].Set(c,d);this.m_normal.x*=-1;this.m_normal.y*=-1}};Si.prototype.Initialize=Si.prototype.u;Si.prototype.i={names:[{name:'b2PositionSolverManifold',j:jb,kind:l}]};y(jb,Si);function Ti(){}Ti.prototype.Set=function(a){this.dt=a.dt;this.inv_dt=a.inv_dt;this.fd=a.fd;this.hd=a.hd;this.warmStarting=a.warmStarting};Ti.prototype.Set=Ti.prototype.Set;Ti.prototype.hd=0;Ti.prototype.velocityIterations=Ti.prototype.hd;Ti.prototype.fd=0;Ti.prototype.positionIterations=Ti.prototype.fd;Ti.prototype.i={names:[{name:'b2TimeStep',j:$b,kind:l}]};y($b,Ti);function Ui(){this.Uu=new Ti;this.m_constraints=[]}var Vi=new Pi;
Ui.prototype.u=function(a,b,c,d){var e;this.Uu.Set(a);this.m_allocator=d;for(this.He=c;this.m_constraints.length<this.He;)this.m_constraints[this.m_constraints.length]=new Ri;for(a=0;a<c;++a){e=b[a];d=e.m_fixtureA;var f=e.m_fixtureB,g=d.m_shape.m_radius,h=f.m_shape.m_radius,k=d.m_body,m=f.m_body,p=e.m_manifold,r=gh(d.m_friction,f.m_friction),u=hh(d.m_restitution,f.m_restitution),v=k.m_linearVelocity.x,A=k.m_linearVelocity.y,B=m.m_linearVelocity.x,E=m.m_linearVelocity.y,S=k.m_angularVelocity,Ba=m.m_angularVelocity;
ih(0<p.ha);Vi.u(p,k.m_xf,g,m.m_xf,h);f=Vi.m_normal.x;e=Vi.m_normal.y;d=this.m_constraints[a];d.bodyA=k;d.bodyB=m;d.manifold=p;d.normal.x=f;d.normal.y=e;d.hb=p.ha;d.friction=r;d.restitution=u;d.localPlaneNormal.x=p.m_localPlaneNormal.x;d.localPlaneNormal.y=p.m_localPlaneNormal.y;d.localPoint.x=p.m_localPoint.x;d.localPoint.y=p.m_localPoint.y;d.radius=g+h;d.type=p.C;for(g=0;g<d.hb;++g){r=p.m_points[g];h=d.points[g];h.normalImpulse=r.m_normalImpulse;h.tangentImpulse=r.m_tangentImpulse;h.localPoint.m(r.m_localPoint);
var r=h.rA.x=Vi.m_points[g].x-k.m_sweep.c.x,u=h.rA.y=Vi.m_points[g].y-k.m_sweep.c.y,za=h.rB.x=Vi.m_points[g].x-m.m_sweep.c.x,sa=h.rB.y=Vi.m_points[g].y-m.m_sweep.c.y,va=r*e-u*f,Ha=za*e-sa*f,va=va*va,Ha=Ha*Ha;h.normalMass=1/(k.m_invMass+m.m_invMass+k.m_invI*va+m.m_invI*Ha);var $a=k.m_mass*k.m_invMass+m.m_mass*m.m_invMass,$a=$a+(k.m_mass*k.m_invI*va+m.m_mass*m.m_invI*Ha);h.equalizedMass=1/$a;Ha=e;$a=-f;va=r*$a-u*Ha;Ha=za*$a-sa*Ha;va*=va;Ha*=Ha;h.tangentMass=1/(k.m_invMass+m.m_invMass+k.m_invI*va+m.m_invI*
Ha);h.velocityBias=0;r=d.normal.x*(B+-Ba*sa-v- -S*u)+d.normal.y*(E+Ba*za-A-S*r);-1>r&&(h.velocityBias+=-d.restitution*r)}2==d.hb&&(E=d.points[0],B=d.points[1],p=k.m_invMass,k=k.m_invI,v=m.m_invMass,m=m.m_invI,A=E.rA.x*e-E.rA.y*f,E=E.rB.x*e-E.rB.y*f,S=B.rA.x*e-B.rA.y*f,B=B.rB.x*e-B.rB.y*f,f=p+v+k*A*A+m*E*E,e=p+v+k*S*S+m*B*B,m=p+v+k*A*S+m*E*B,f*f<100*(f*e-m*m)?(d.K.col1.Set(f,m),d.K.col2.Set(m,e),d.K.pg(d.normalMass)):d.hb=1)}};Ui.prototype.Initialize=Ui.prototype.u;
Ui.prototype.la=function(a){for(var b=0;b<this.He;++b){var c=this.m_constraints[b],d=c.bodyA,e=c.bodyB,f=d.m_invMass,g=d.m_invI,h=e.m_invMass,k=e.m_invI,m=c.normal.x,p=c.normal.y,r=p,u=-m,v,A;if(a.warmStarting)for(A=c.hb,v=0;v<A;++v){var B=c.points[v];B.normalImpulse*=a.dtRatio;B.tangentImpulse*=a.dtRatio;var E=B.normalImpulse*m+B.tangentImpulse*r,S=B.normalImpulse*p+B.tangentImpulse*u;d.m_angularVelocity-=g*(B.rA.x*S-B.rA.y*E);d.m_linearVelocity.x-=f*E;d.m_linearVelocity.y-=f*S;e.m_angularVelocity+=
k*(B.rB.x*S-B.rB.y*E);e.m_linearVelocity.x+=h*E;e.m_linearVelocity.y+=h*S}else for(A=c.hb,v=0;v<A;++v)d=c.points[v],d.normalImpulse=0,d.tangentImpulse=0}};Ui.prototype.InitVelocityConstraints=Ui.prototype.la;
Ui.prototype.ja=function(){for(var a,b,c,d,e,f,g,h,k,m,p=0;p<this.He;++p){e=this.m_constraints[p];var r=e.bodyA,u=e.bodyB,v=r.m_angularVelocity,A=u.m_angularVelocity,B=r.m_linearVelocity,E=u.m_linearVelocity,S=r.m_invMass,Ba=r.m_invI,za=u.m_invMass,sa=u.m_invI;h=e.normal.x;var va=k=e.normal.y;m=-h;g=e.friction;for(a=0;a<e.hb;a++)b=e.points[a],c=E.x-A*b.rB.y-B.x+v*b.rA.y,d=E.y+A*b.rB.x-B.y-v*b.rA.x,c=c*va+d*m,c=b.tangentMass*-c,d=g*b.normalImpulse,d=Kh(b.tangentImpulse+c,-d,d),c=d-b.tangentImpulse,
f=c*va,c*=m,B.x-=S*f,B.y-=S*c,v-=Ba*(b.rA.x*c-b.rA.y*f),E.x+=za*f,E.y+=za*c,A+=sa*(b.rB.x*c-b.rB.y*f),b.tangentImpulse=d;if(1==e.hb)b=e.points[0],c=E.x+-A*b.rB.y-B.x- -v*b.rA.y,d=E.y+A*b.rB.x-B.y-v*b.rA.x,e=c*h+d*k,c=-b.normalMass*(e-b.velocityBias),d=b.normalImpulse+c,d=0<d?d:0,c=d-b.normalImpulse,f=c*h,c*=k,B.x-=S*f,B.y-=S*c,v-=Ba*(b.rA.x*c-b.rA.y*f),E.x+=za*f,E.y+=za*c,A+=sa*(b.rB.x*c-b.rB.y*f),b.normalImpulse=d;else{b=e.points[0];a=e.points[1];c=b.normalImpulse;g=a.normalImpulse;var Ha=(E.x-A*
b.rB.y-B.x+v*b.rA.y)*h+(E.y+A*b.rB.x-B.y-v*b.rA.x)*k,$a=(E.x-A*a.rB.y-B.x+v*a.rA.y)*h+(E.y+A*a.rB.x-B.y-v*a.rA.x)*k;d=Ha-b.velocityBias;f=$a-a.velocityBias;m=e.K;d-=m.col1.x*c+m.col2.x*g;for(f-=m.col1.y*c+m.col2.y*g;;){m=e.normalMass;va=-(m.col1.x*d+m.col2.x*f);m=-(m.col1.y*d+m.col2.y*f);if(0<=va&&0<=m){c=va-c;g=m-g;e=c*h;c*=k;h*=g;k*=g;B.x-=S*(e+h);B.y-=S*(c+k);v-=Ba*(b.rA.x*c-b.rA.y*e+a.rA.x*k-a.rA.y*h);E.x+=za*(e+h);E.y+=za*(c+k);A+=sa*(b.rB.x*c-b.rB.y*e+a.rB.x*k-a.rB.y*h);b.normalImpulse=va;a.normalImpulse=
m;break}va=-b.normalMass*d;m=0;$a=e.K.col1.y*va+f;if(0<=va&&0<=$a){c=va-c;g=m-g;e=c*h;c*=k;h*=g;k*=g;B.x-=S*(e+h);B.y-=S*(c+k);v-=Ba*(b.rA.x*c-b.rA.y*e+a.rA.x*k-a.rA.y*h);E.x+=za*(e+h);E.y+=za*(c+k);A+=sa*(b.rB.x*c-b.rB.y*e+a.rB.x*k-a.rB.y*h);b.normalImpulse=va;a.normalImpulse=m;break}va=0;m=-a.normalMass*f;Ha=e.K.col2.x*m+d;if(0<=m&&0<=Ha){c=va-c;g=m-g;e=c*h;c*=k;h*=g;k*=g;B.x-=S*(e+h);B.y-=S*(c+k);v-=Ba*(b.rA.x*c-b.rA.y*e+a.rA.x*k-a.rA.y*h);E.x+=za*(e+h);E.y+=za*(c+k);A+=sa*(b.rB.x*c-b.rB.y*e+a.rB.x*
k-a.rB.y*h);b.normalImpulse=va;a.normalImpulse=m;break}m=va=0;Ha=d;$a=f;if(0<=Ha&&0<=$a){c=va-c;g=m-g;e=c*h;c*=k;h*=g;k*=g;B.x-=S*(e+h);B.y-=S*(c+k);v-=Ba*(b.rA.x*c-b.rA.y*e+a.rA.x*k-a.rA.y*h);E.x+=za*(e+h);E.y+=za*(c+k);A+=sa*(b.rB.x*c-b.rB.y*e+a.rB.x*k-a.rB.y*h);b.normalImpulse=va;a.normalImpulse=m;break}break}}r.m_angularVelocity=v;u.m_angularVelocity=A}};Ui.prototype.SolveVelocityConstraints=Ui.prototype.ja;
Ui.prototype.af=function(){for(var a=0;a<this.He;++a)for(var b=this.m_constraints[a],c=b.manifold,d=0;d<b.hb;++d){var e=c.m_points[d],f=b.points[d];e.m_normalImpulse=f.normalImpulse;e.m_tangentImpulse=f.tangentImpulse}};Ui.prototype.FinalizeVelocityConstraints=Ui.prototype.af;var Wi=new Si;
Ui.prototype.ia=function(a){for(var b=0,c=0;c<this.He;c++){var d=this.m_constraints[c],e=d.bodyA,f=d.bodyB,g=e.m_mass*e.m_invMass,h=e.m_mass*e.m_invI,k=f.m_mass*f.m_invMass,m=f.m_mass*f.m_invI;Wi.u(d);for(var p=Wi.m_normal,r=0;r<d.hb;r++){var u=d.points[r],v=Wi.m_points[r],A=Number(Wi.m_separations[r]),B=v.x-e.m_sweep.c.x,E=v.y-e.m_sweep.c.y,S=v.x-f.m_sweep.c.x,v=v.y-f.m_sweep.c.y,b=b<A?b:A,A=-u.equalizedMass*Kh(a*(A+.005),-.2,0),u=A*p.x,A=A*p.y;e.m_sweep.c.x-=g*u;e.m_sweep.c.y-=g*A;e.m_sweep.a-=
h*(B*A-E*u);e.ga();f.m_sweep.c.x+=k*u;f.m_sweep.c.y+=k*A;f.m_sweep.a+=m*(S*A-v*u);f.ga()}}return-.0075<b};Ui.prototype.SolvePositionConstraints=Ui.prototype.ia;Ui.prototype.He=0;Ui.prototype.i={names:[{name:'b2ContactSolver',j:eb,kind:l}]};y(eb,Ui);function Xi(){}Xi.prototype.i={names:[{name:'b2JointEdge',j:xb,kind:l}]};y(xb,Xi);function T(a){this.m_edgeA=new Xi;this.m_edgeB=new Xi;this.m_localCenterA=new P;this.m_localCenterB=new P;ih(a.bodyA!=a.bodyB);this.C=a.type;this.m_next=this.m_prev=null;this.m_bodyA=a.bodyA;this.m_bodyB=a.bodyB;this.m_collideConnected=a.collideConnected;this.m_islandFlag=!1;this.m_userData=a.userData}T.prototype.M=t('C');T.prototype.GetType=T.prototype.M;T.prototype.ta=w(null);T.prototype.GetAnchorA=T.prototype.ta;T.prototype.ua=w(null);T.prototype.GetAnchorB=T.prototype.ua;T.prototype.xa=w(null);
T.prototype.GetReactionForce=T.prototype.xa;T.prototype.ya=w(0);T.prototype.GetReactionTorque=T.prototype.ya;T.prototype.$n=t('m_bodyA');T.prototype.GetBodyA=T.prototype.$n;T.prototype.ao=t('m_bodyB');T.prototype.GetBodyB=T.prototype.ao;T.prototype.nc=t(ve);T.prototype.GetNext=T.prototype.nc;T.prototype.Fa=t(we);T.prototype.GetUserData=T.prototype.Fa;T.prototype.wf=q(we);T.prototype.SetUserData=T.prototype.wf;T.prototype.xb=function(){return this.m_bodyA.xb()&&this.m_bodyB.xb()};
T.prototype.IsActive=T.prototype.xb;y('Box2D.Dynamics.Joints.b2Joint.Destroy',n());T.prototype.la=n();T.prototype.InitVelocityConstraints=T.prototype.la;T.prototype.ja=n();T.prototype.SolveVelocityConstraints=T.prototype.ja;T.prototype.af=n();T.prototype.FinalizeVelocityConstraints=T.prototype.af;T.prototype.ia=w(!1);T.prototype.SolvePositionConstraints=T.prototype.ia;T.prototype.C=0;T.prototype.m_type=T.prototype.C;y('Box2D.Dynamics.Joints.b2Joint.e_unknownJoint',0);
y('Box2D.Dynamics.Joints.b2Joint.e_revoluteJoint',1);y('Box2D.Dynamics.Joints.b2Joint.e_prismaticJoint',2);y('Box2D.Dynamics.Joints.b2Joint.e_distanceJoint',3);y('Box2D.Dynamics.Joints.b2Joint.e_pulleyJoint',4);y('Box2D.Dynamics.Joints.b2Joint.e_mouseJoint',5);y('Box2D.Dynamics.Joints.b2Joint.e_gearJoint',6);y('Box2D.Dynamics.Joints.b2Joint.e_lineJoint',7);y('Box2D.Dynamics.Joints.b2Joint.e_weldJoint',8);y('Box2D.Dynamics.Joints.b2Joint.e_frictionJoint',9);
y('Box2D.Dynamics.Joints.b2Joint.e_inactiveLimit',0);y('Box2D.Dynamics.Joints.b2Joint.e_atLowerLimit',1);y('Box2D.Dynamics.Joints.b2Joint.e_atUpperLimit',2);y('Box2D.Dynamics.Joints.b2Joint.e_equalLimits',3);T.prototype.i={names:[{name:'b2Joint',j:vb,kind:l}]};y(vb,T);function Yi(a){this.m_localAnchor1=new P;this.m_localAnchor2=new P;this.pa=new P;T.call(this,a);this.m_localAnchor1.m(a.localAnchorA);this.m_localAnchor2.m(a.localAnchorB);this.eh=a.length;this.Fc=a.frequencyHz;this.Kd=a.dampingRatio;this.Jm=this.Ra=this.h=0}Xe(Yi,T);Yi.prototype.ta=function(){return this.m_bodyA.fa(this.m_localAnchor1)};Yi.prototype.GetAnchorA=Yi.prototype.ta;Yi.prototype.ua=function(){return this.m_bodyB.fa(this.m_localAnchor2)};Yi.prototype.GetAnchorB=Yi.prototype.ua;
Yi.prototype.xa=function(a){return new P(a*this.h*this.pa.x,a*this.h*this.pa.y)};Yi.prototype.GetReactionForce=Yi.prototype.xa;Yi.prototype.ya=w(0);Yi.prototype.GetReactionTorque=Yi.prototype.ya;Yi.prototype.to=t('eh');Yi.prototype.GetLength=Yi.prototype.to;Yi.prototype.qp=q('eh');Yi.prototype.SetLength=Yi.prototype.qp;Yi.prototype.Wh=t('Fc');Yi.prototype.GetFrequency=Yi.prototype.Wh;Yi.prototype.ji=q('Fc');Yi.prototype.SetFrequency=Yi.prototype.ji;Yi.prototype.Uh=t('Kd');
Yi.prototype.GetDampingRatio=Yi.prototype.Uh;Yi.prototype.ii=q('Kd');Yi.prototype.SetDampingRatio=Yi.prototype.ii;
Yi.prototype.la=function(a){var b,c,d=this.m_bodyA,e=this.m_bodyB;b=d.m_xf.R;var f=this.m_localAnchor1.x-d.m_sweep.localCenter.x,g=this.m_localAnchor1.y-d.m_sweep.localCenter.y;c=b.col1.x*f+b.col2.x*g;g=b.col1.y*f+b.col2.y*g;f=c;b=e.m_xf.R;var h=this.m_localAnchor2.x-e.m_sweep.localCenter.x,k=this.m_localAnchor2.y-e.m_sweep.localCenter.y;c=b.col1.x*h+b.col2.x*k;k=b.col1.y*h+b.col2.y*k;h=c;this.pa.x=e.m_sweep.c.x+h-d.m_sweep.c.x-f;this.pa.y=e.m_sweep.c.y+k-d.m_sweep.c.y-g;c=Math.sqrt(this.pa.x*this.pa.x+
this.pa.y*this.pa.y);.005<c?this.pa.Ga(1/c):this.pa.D();b=f*this.pa.y-g*this.pa.x;var m=h*this.pa.y-k*this.pa.x;b=d.m_invMass+d.m_invI*b*b+e.m_invMass+e.m_invI*m*m;this.m_mass=0!=b?1/b:0;if(0<this.Fc){c-=this.eh;var m=2*Math.PI*this.Fc,p=this.m_mass*m*m;this.Ra=a.dt*(2*this.m_mass*this.Kd*m+a.dt*p);this.Ra=0!=this.Ra?1/this.Ra:0;this.Jm=c*a.dt*p*this.Ra;this.m_mass=b+this.Ra;this.m_mass=0!=this.m_mass?1/this.m_mass:0}a.warmStarting?(this.h*=a.dtRatio,a=this.h*this.pa.x,b=this.h*this.pa.y,d.m_linearVelocity.x-=
d.m_invMass*a,d.m_linearVelocity.y-=d.m_invMass*b,d.m_angularVelocity-=d.m_invI*(f*b-g*a),e.m_linearVelocity.x+=e.m_invMass*a,e.m_linearVelocity.y+=e.m_invMass*b,e.m_angularVelocity+=e.m_invI*(h*b-k*a)):this.h=0};Yi.prototype.InitVelocityConstraints=Yi.prototype.la;
Yi.prototype.ja=function(){var a,b=this.m_bodyA,c=this.m_bodyB;a=b.m_xf.R;var d=this.m_localAnchor1.x-b.m_sweep.localCenter.x,e=this.m_localAnchor1.y-b.m_sweep.localCenter.y,f=a.col1.x*d+a.col2.x*e,e=a.col1.y*d+a.col2.y*e,d=f;a=c.m_xf.R;var g=this.m_localAnchor2.x-c.m_sweep.localCenter.x,h=this.m_localAnchor2.y-c.m_sweep.localCenter.y,f=a.col1.x*g+a.col2.x*h,h=a.col1.y*g+a.col2.y*h,g=f,f=-this.m_mass*(this.pa.x*(c.m_linearVelocity.x+-c.m_angularVelocity*h-(b.m_linearVelocity.x+-b.m_angularVelocity*
e))+this.pa.y*(c.m_linearVelocity.y+c.m_angularVelocity*g-(b.m_linearVelocity.y+b.m_angularVelocity*d))+this.Jm+this.Ra*this.h);this.h+=f;a=f*this.pa.x;f*=this.pa.y;b.m_linearVelocity.x-=b.m_invMass*a;b.m_linearVelocity.y-=b.m_invMass*f;b.m_angularVelocity-=b.m_invI*(d*f-e*a);c.m_linearVelocity.x+=c.m_invMass*a;c.m_linearVelocity.y+=c.m_invMass*f;c.m_angularVelocity+=c.m_invI*(g*f-h*a)};Yi.prototype.SolveVelocityConstraints=Yi.prototype.ja;
Yi.prototype.ia=function(){var a;if(0<this.Fc)return!0;var b=this.m_bodyA,c=this.m_bodyB;a=b.m_xf.R;var d=this.m_localAnchor1.x-b.m_sweep.localCenter.x,e=this.m_localAnchor1.y-b.m_sweep.localCenter.y,f=a.col1.x*d+a.col2.x*e,e=a.col1.y*d+a.col2.y*e,d=f;a=c.m_xf.R;var g=this.m_localAnchor2.x-c.m_sweep.localCenter.x,h=this.m_localAnchor2.y-c.m_sweep.localCenter.y,f=a.col1.x*g+a.col2.x*h,h=a.col1.y*g+a.col2.y*h,g=f,k=c.m_sweep.c.x+g-b.m_sweep.c.x-d,m=c.m_sweep.c.y+h-b.m_sweep.c.y-e,p=Math.sqrt(k*k+m*
m);a=p-this.eh;a=Kh(a,-.2,.2);f=-this.m_mass*a;this.pa.Set(k/p,m/p);k=f*this.pa.x;f*=this.pa.y;b.m_sweep.c.x-=b.m_invMass*k;b.m_sweep.c.y-=b.m_invMass*f;b.m_sweep.a-=b.m_invI*(d*f-e*k);c.m_sweep.c.x+=c.m_invMass*k;c.m_sweep.c.y+=c.m_invMass*f;c.m_sweep.a+=c.m_invI*(g*f-h*k);b.ga();c.ga();return.005>Eh(a)};Yi.prototype.SolvePositionConstraints=Yi.prototype.ia;Yi.prototype.i={names:[{name:'b2DistanceJoint',j:nb,kind:l}]};y(nb,Yi);function Zi(a){this.cb=new P;this.eb=new P;this.m_linearMass=new ph;this.bb=new P;T.call(this,a);this.cb.m(a.localAnchorA);this.eb.m(a.localAnchorB);this.m_linearMass.D();this.m_angularMass=0;this.bb.D();this.ec=0;this.Md=a.maxForce;this.Dj=a.maxTorque}Xe(Zi,T);Zi.prototype.ta=function(){return this.m_bodyA.fa(this.cb)};Zi.prototype.GetAnchorA=Zi.prototype.ta;Zi.prototype.ua=function(){return this.m_bodyB.fa(this.eb)};Zi.prototype.GetAnchorB=Zi.prototype.ua;
Zi.prototype.xa=function(a){return new P(a*this.bb.x,a*this.bb.y)};Zi.prototype.GetReactionForce=Zi.prototype.xa;Zi.prototype.ya=function(a){return a*this.ec};Zi.prototype.GetReactionTorque=Zi.prototype.ya;Zi.prototype.li=q('Md');Zi.prototype.SetMaxForce=Zi.prototype.li;Zi.prototype.Zh=t('Md');Zi.prototype.GetMaxForce=Zi.prototype.Zh;Zi.prototype.up=q('Dj');Zi.prototype.SetMaxTorque=Zi.prototype.up;Zi.prototype.Fo=t('Dj');Zi.prototype.GetMaxTorque=Zi.prototype.Fo;
Zi.prototype.la=function(a){var b,c,d=this.m_bodyA,e=this.m_bodyB;b=d.m_xf.R;var f=this.cb.x-d.m_sweep.localCenter.x,g=this.cb.y-d.m_sweep.localCenter.y;c=b.col1.x*f+b.col2.x*g;g=b.col1.y*f+b.col2.y*g;f=c;b=e.m_xf.R;var h=this.eb.x-e.m_sweep.localCenter.x,k=this.eb.y-e.m_sweep.localCenter.y;c=b.col1.x*h+b.col2.x*k;k=b.col1.y*h+b.col2.y*k;h=c;b=d.m_invMass;c=e.m_invMass;var m=d.m_invI,p=e.m_invI,r=new ph;r.col1.x=b+c;r.col2.x=0;r.col1.y=0;r.col2.y=b+c;r.col1.x+=m*g*g;r.col2.x+=-m*f*g;r.col1.y+=-m*
f*g;r.col2.y+=m*f*f;r.col1.x+=p*k*k;r.col2.x+=-p*h*k;r.col1.y+=-p*h*k;r.col2.y+=p*h*h;r.pg(this.m_linearMass);this.m_angularMass=m+p;0<this.m_angularMass&&(this.m_angularMass=1/this.m_angularMass);a.warmStarting?(this.bb.x*=a.dtRatio,this.bb.y*=a.dtRatio,this.ec*=a.dtRatio,a=this.bb,d.m_linearVelocity.x-=b*a.x,d.m_linearVelocity.y-=b*a.y,d.m_angularVelocity-=m*(f*a.y-g*a.x+this.ec),e.m_linearVelocity.x+=c*a.x,e.m_linearVelocity.y+=c*a.y,e.m_angularVelocity+=p*(h*a.y-k*a.x+this.ec)):(this.bb.D(),this.ec=
0)};Zi.prototype.InitVelocityConstraints=Zi.prototype.la;
Zi.prototype.ja=function(a){var b,c,d=this.m_bodyA,e=this.m_bodyB,f=d.m_linearVelocity,g=d.m_angularVelocity,h=e.m_linearVelocity,k=e.m_angularVelocity,m=d.m_invMass,p=e.m_invMass,r=d.m_invI,u=e.m_invI;b=d.m_xf.R;var v=this.cb.x-d.m_sweep.localCenter.x,A=this.cb.y-d.m_sweep.localCenter.y;c=b.col1.x*v+b.col2.x*A;A=b.col1.y*v+b.col2.y*A;v=c;b=e.m_xf.R;var B=this.eb.x-e.m_sweep.localCenter.x,E=this.eb.y-e.m_sweep.localCenter.y;c=b.col1.x*B+b.col2.x*E;E=b.col1.y*B+b.col2.y*E;B=c;c=-this.m_angularMass*
(k-g);var S=this.ec;b=a.dt*this.Dj;this.ec=Kh(this.ec+c,-b,b);c=this.ec-S;g-=r*c;k+=u*c;b=yh(this.m_linearMass,new P(-(h.x-k*E-f.x+g*A),-(h.y+k*B-f.y-g*v)));c=this.bb.O();this.bb.vb(b);b=a.dt*this.Md;this.bb.nd()>b*b&&(this.bb.Ma(),this.bb.Ga(b));b=Ch(this.bb,c);f.x-=m*b.x;f.y-=m*b.y;g-=r*(v*b.y-A*b.x);h.x+=p*b.x;h.y+=p*b.y;k+=u*(B*b.y-E*b.x);d.m_angularVelocity=g;e.m_angularVelocity=k};Zi.prototype.SolveVelocityConstraints=Zi.prototype.ja;Zi.prototype.ia=w(!0);
Zi.prototype.SolvePositionConstraints=Zi.prototype.ia;Zi.prototype.i={names:[{name:'b2FrictionJoint',j:pb,kind:l}]};y(pb,Zi);function $i(){this.linearA=new P;this.linearB=new P}$i.prototype.D=function(){this.linearA.D();this.angularA=0;this.linearB.D();this.angularB=0};$i.prototype.SetZero=$i.prototype.D;$i.prototype.Set=function(a,b,c,d){this.linearA.m(a);this.angularA=b;this.linearB.m(c);this.angularB=d};$i.prototype.Set=$i.prototype.Set;$i.prototype.Fk=function(a,b,c,d){return this.linearA.x*a.x+this.linearA.y*a.y+this.angularA*b+(this.linearB.x*c.x+this.linearB.y*c.y)+this.angularB*d};$i.prototype.Compute=$i.prototype.Fk;
$i.prototype.i={names:[{name:'b2Jacobian',j:tb,kind:l}]};y(tb,$i);function aj(a){this.Bb=new P;this.Cb=new P;this.m_localAnchor1=new P;this.m_localAnchor2=new P;this.aa=new $i;T.call(this,a);var b=a.joint1.C,c=a.joint2.C;this.Le=this.Qd=this.Ke=this.Pd=null;this.Pu=a.joint1.m_bodyA;this.m_bodyA=a.joint1.m_bodyB;1==b?(this.Pd=a.joint1,this.Bb.m(this.Pd.m_localAnchor1),this.m_localAnchor1.m(this.Pd.m_localAnchor2),b=this.Pd.ef()):(this.Ke=a.joint1,this.Bb.m(this.Ke.m_localAnchor1),this.m_localAnchor1.m(this.Ke.m_localAnchor2),b=this.Ke.kd());this.Qu=a.joint2.m_bodyA;
this.m_bodyB=a.joint2.m_bodyB;1==c?(this.Qd=a.joint2,this.Cb.m(this.Qd.m_localAnchor1),this.m_localAnchor2.m(this.Qd.m_localAnchor2),c=this.Qd.ef()):(this.Le=a.joint2,this.Cb.m(this.Le.m_localAnchor1),this.m_localAnchor2.m(this.Le.m_localAnchor2),c=this.Le.kd());this.ea=a.ratio;this.Ge=b+this.ea*c;this.h=0}Xe(aj,T);aj.prototype.ta=function(){return this.m_bodyA.fa(this.m_localAnchor1)};aj.prototype.GetAnchorA=aj.prototype.ta;aj.prototype.ua=function(){return this.m_bodyB.fa(this.m_localAnchor2)};
aj.prototype.GetAnchorB=aj.prototype.ua;aj.prototype.xa=function(a){return new P(a*this.h*this.aa.linearB.x,a*this.h*this.aa.linearB.y)};aj.prototype.GetReactionForce=aj.prototype.xa;aj.prototype.ya=function(a){var b=this.m_bodyB.m_xf.R,c=this.m_localAnchor1.x-this.m_bodyB.m_sweep.localCenter.x,d=this.m_localAnchor1.y-this.m_bodyB.m_sweep.localCenter.y,e=b.col1.x*c+b.col2.x*d,d=b.col1.y*c+b.col2.y*d;return a*(this.h*this.aa.angularB-e*this.h*this.aa.linearB.y+d*this.h*this.aa.linearB.x)};
aj.prototype.GetReactionTorque=aj.prototype.ya;aj.prototype.bi=t('ea');aj.prototype.GetRatio=aj.prototype.bi;aj.prototype.wp=q('ea');aj.prototype.SetRatio=aj.prototype.wp;
aj.prototype.la=function(a){var b=this.Pu,c=this.Qu,d=this.m_bodyA,e=this.m_bodyB,f,g,h,k,m,p=0;this.aa.D();this.Pd?(this.aa.angularA=-1,p+=d.m_invI):(k=b.m_xf.R,f=this.Ke.m_localXAxis1,b=k.col1.x*f.x+k.col2.x*f.y,f=k.col1.y*f.x+k.col2.y*f.y,k=d.m_xf.R,g=this.m_localAnchor1.x-d.m_sweep.localCenter.x,h=this.m_localAnchor1.y-d.m_sweep.localCenter.y,m=k.col1.x*g+k.col2.x*h,h=k.col1.y*g+k.col2.y*h,k=m*f-h*b,this.aa.linearA.Set(-b,-f),this.aa.angularA=-k,p+=d.m_invMass+d.m_invI*k*k);this.Qd?(this.aa.angularB=
-this.ea,p+=this.ea*this.ea*e.m_invI):(k=c.m_xf.R,f=this.Le.m_localXAxis1,b=k.col1.x*f.x+k.col2.x*f.y,f=k.col1.y*f.x+k.col2.y*f.y,k=e.m_xf.R,g=this.m_localAnchor2.x-e.m_sweep.localCenter.x,h=this.m_localAnchor2.y-e.m_sweep.localCenter.y,m=k.col1.x*g+k.col2.x*h,h=k.col1.y*g+k.col2.y*h,k=m*f-h*b,this.aa.linearB.Set(-this.ea*b,-this.ea*f),this.aa.angularB=-this.ea*k,p+=this.ea*this.ea*(e.m_invMass+e.m_invI*k*k));this.m_mass=0<p?1/p:0;a.warmStarting?(d.m_linearVelocity.x+=d.m_invMass*this.h*this.aa.linearA.x,
d.m_linearVelocity.y+=d.m_invMass*this.h*this.aa.linearA.y,d.m_angularVelocity+=d.m_invI*this.h*this.aa.angularA,e.m_linearVelocity.x+=e.m_invMass*this.h*this.aa.linearB.x,e.m_linearVelocity.y+=e.m_invMass*this.h*this.aa.linearB.y,e.m_angularVelocity+=e.m_invI*this.h*this.aa.angularB):this.h=0};aj.prototype.InitVelocityConstraints=aj.prototype.la;
aj.prototype.ja=function(){var a=this.m_bodyA,b=this.m_bodyB,c=this.aa.Fk(a.m_linearVelocity,a.m_angularVelocity,b.m_linearVelocity,b.m_angularVelocity),c=-this.m_mass*c;this.h+=c;a.m_linearVelocity.x+=a.m_invMass*c*this.aa.linearA.x;a.m_linearVelocity.y+=a.m_invMass*c*this.aa.linearA.y;a.m_angularVelocity+=a.m_invI*c*this.aa.angularA;b.m_linearVelocity.x+=b.m_invMass*c*this.aa.linearB.x;b.m_linearVelocity.y+=b.m_invMass*c*this.aa.linearB.y;b.m_angularVelocity+=b.m_invI*c*this.aa.angularB};
aj.prototype.SolveVelocityConstraints=aj.prototype.ja;
aj.prototype.ia=function(){var a=this.m_bodyA,b=this.m_bodyB,c,d;c=this.Pd?this.Pd.ef():this.Ke.kd();d=this.Qd?this.Qd.ef():this.Le.kd();c=-this.m_mass*(this.Ge-(c+this.ea*d));a.m_sweep.c.x+=a.m_invMass*c*this.aa.linearA.x;a.m_sweep.c.y+=a.m_invMass*c*this.aa.linearA.y;a.m_sweep.a+=a.m_invI*c*this.aa.angularA;b.m_sweep.c.x+=b.m_invMass*c*this.aa.linearB.x;b.m_sweep.c.y+=b.m_invMass*c*this.aa.linearB.y;b.m_sweep.a+=b.m_invI*c*this.aa.angularB;a.ga();b.ga();return!0};
aj.prototype.SolvePositionConstraints=aj.prototype.ia;aj.prototype.i={names:[{name:'b2GearJoint',j:rb,kind:l}]};y(rb,aj);function U(a){this.m_localAnchor1=new P;this.m_localAnchor2=new P;this.m_localXAxis1=new P;this.Hc=new P;this.m_axis=new P;this.G=new P;this.F=new ph;this.h=new P;T.call(this,a);this.m_localAnchor1.m(a.localAnchorA);this.m_localAnchor2.m(a.localAnchorB);this.m_localXAxis1.m(a.localAxisA);this.Hc.x=-this.m_localXAxis1.y;this.Hc.y=this.m_localXAxis1.x;this.h.D();this.L=this.Ya=0;this.Sa=a.lowerTranslation;this.Ta=a.upperTranslation;this.Je=a.maxMotorForce;this.fb=a.motorSpeed;this.Qa=a.enableLimit;
this.ob=a.enableMotor;this.J=0;this.m_axis.D();this.G.D()}Xe(U,T);U.prototype.ta=function(){return this.m_bodyA.fa(this.m_localAnchor1)};U.prototype.GetAnchorA=U.prototype.ta;U.prototype.ua=function(){return this.m_bodyB.fa(this.m_localAnchor2)};U.prototype.GetAnchorB=U.prototype.ua;U.prototype.xa=function(a){return new P(a*(this.h.x*this.G.x+(this.L+this.h.y)*this.m_axis.x),a*(this.h.x*this.G.y+(this.L+this.h.y)*this.m_axis.y))};U.prototype.GetReactionForce=U.prototype.xa;
U.prototype.ya=function(a){return a*this.h.y};U.prototype.GetReactionTorque=U.prototype.ya;U.prototype.kd=function(){var a=this.m_bodyA,b=this.m_bodyB,c=a.fa(this.m_localAnchor1),d=b.fa(this.m_localAnchor2),b=d.x-c.x,c=d.y-c.y,a=a.mf(this.m_localXAxis1);return a.x*b+a.y*c};U.prototype.GetJointTranslation=U.prototype.kd;
U.prototype.ff=function(){var a=this.m_bodyA,b=this.m_bodyB,c;c=a.m_xf.R;var d=this.m_localAnchor1.x-a.m_sweep.localCenter.x,e=this.m_localAnchor1.y-a.m_sweep.localCenter.y,f=c.col1.x*d+c.col2.x*e,e=c.col1.y*d+c.col2.y*e,d=f;c=b.m_xf.R;var g=this.m_localAnchor2.x-b.m_sweep.localCenter.x,h=this.m_localAnchor2.y-b.m_sweep.localCenter.y,f=c.col1.x*g+c.col2.x*h,h=c.col1.y*g+c.col2.y*h,g=f;c=b.m_sweep.c.x+g-(a.m_sweep.c.x+d);var f=b.m_sweep.c.y+h-(a.m_sweep.c.y+e),k=a.mf(this.m_localXAxis1),m=a.m_linearVelocity,
p=b.m_linearVelocity,a=a.m_angularVelocity,b=b.m_angularVelocity;return c*-a*k.y+f*a*k.x+(k.x*(p.x+-b*h-m.x- -a*e)+k.y*(p.y+b*g-m.y-a*d))};U.prototype.GetJointSpeed=U.prototype.ff;U.prototype.qf=t('Qa');U.prototype.IsLimitEnabled=U.prototype.qf;U.prototype.$e=function(a){this.m_bodyA.H(!0);this.m_bodyB.H(!0);this.Qa=a};U.prototype.EnableLimit=U.prototype.$e;U.prototype.gf=t('Sa');U.prototype.GetLowerLimit=U.prototype.gf;U.prototype.lf=t('Ta');U.prototype.GetUpperLimit=U.prototype.lf;
U.prototype.vf=function(a,b){this.m_bodyA.H(!0);this.m_bodyB.H(!0);this.Sa=a;this.Ta=b};U.prototype.SetLimits=U.prototype.vf;U.prototype.ce=t('ob');U.prototype.IsMotorEnabled=U.prototype.ce;U.prototype.be=function(a){this.m_bodyA.H(!0);this.m_bodyB.H(!0);this.ob=a};U.prototype.EnableMotor=U.prototype.be;U.prototype.Pc=function(a){this.m_bodyA.H(!0);this.m_bodyB.H(!0);this.fb=a};U.prototype.SetMotorSpeed=U.prototype.Pc;U.prototype.hf=t('fb');U.prototype.GetMotorSpeed=U.prototype.hf;
U.prototype.mi=function(a){this.m_bodyA.H(!0);this.m_bodyB.H(!0);this.Je=a};U.prototype.SetMaxMotorForce=U.prototype.mi;U.prototype.Eo=t('Je');U.prototype.GetMaxMotorForce=U.prototype.Eo;U.prototype.ai=t('L');U.prototype.GetMotorForce=U.prototype.ai;
U.prototype.la=function(a){var b=this.m_bodyA,c=this.m_bodyB,d,e;this.m_localCenterA.m(b.m_sweep.localCenter);this.m_localCenterB.m(c.m_sweep.localCenter);var f=b.qa();c.qa();d=b.m_xf.R;var g=this.m_localAnchor1.x-this.m_localCenterA.x,h=this.m_localAnchor1.y-this.m_localCenterA.y;e=d.col1.x*g+d.col2.x*h;h=d.col1.y*g+d.col2.y*h;g=e;d=c.m_xf.R;var k=this.m_localAnchor2.x-this.m_localCenterB.x,m=this.m_localAnchor2.y-this.m_localCenterB.y;e=d.col1.x*k+d.col2.x*m;m=d.col1.y*k+d.col2.y*m;k=e;d=c.m_sweep.c.x+
k-b.m_sweep.c.x-g;e=c.m_sweep.c.y+m-b.m_sweep.c.y-h;this.m_invMassA=b.m_invMass;this.m_invMassB=c.m_invMass;this.m_invIA=b.m_invI;this.m_invIB=c.m_invI;this.m_axis.m(yh(f.R,this.m_localXAxis1));this.W=(d+g)*this.m_axis.y-(e+h)*this.m_axis.x;this.X=k*this.m_axis.y-m*this.m_axis.x;this.Ya=this.m_invMassA+this.m_invMassB+this.m_invIA*this.W*this.W+this.m_invIB*this.X*this.X;this.Ya=this.Ya>Number.MIN_VALUE?1/this.Ya:0;this.G.m(yh(f.R,this.Hc));this.Z=(d+g)*this.G.y-(e+h)*this.G.x;this.$=k*this.G.y-m*
this.G.x;f=this.m_invMassA;g=this.m_invMassB;h=this.m_invIA;k=this.m_invIB;this.F.col1.x=f+g+h*this.Z*this.Z+k*this.$*this.$;this.F.col1.y=h*this.Z*this.W+k*this.$*this.X;this.F.col2.x=this.F.col1.y;this.F.col2.y=f+g+h*this.W*this.W+k*this.X*this.X;this.Qa?(d=this.m_axis.x*d+this.m_axis.y*e,.01>Eh(this.Ta-this.Sa)?this.J=3:d<=this.Sa?1!=this.J&&(this.J=1,this.h.y=0):d>=this.Ta?2!=this.J&&(this.J=2,this.h.y=0):(this.J=0,this.h.y=0)):this.J=0;0==this.ob&&(this.L=0);a.warmStarting?(this.h.x*=a.dtRatio,
this.h.y*=a.dtRatio,this.L*=a.dtRatio,a=this.h.x*this.G.x+(this.L+this.h.y)*this.m_axis.x,d=this.h.x*this.G.y+(this.L+this.h.y)*this.m_axis.y,e=this.h.x*this.Z+(this.L+this.h.y)*this.W,f=this.h.x*this.$+(this.L+this.h.y)*this.X,b.m_linearVelocity.x-=this.m_invMassA*a,b.m_linearVelocity.y-=this.m_invMassA*d,b.m_angularVelocity-=this.m_invIA*e,c.m_linearVelocity.x+=this.m_invMassB*a,c.m_linearVelocity.y+=this.m_invMassB*d,c.m_angularVelocity+=this.m_invIB*f):(this.h.D(),this.L=0)};
U.prototype.InitVelocityConstraints=U.prototype.la;
U.prototype.ja=function(a){var b=this.m_bodyA,c=this.m_bodyB,d=b.m_linearVelocity,e=b.m_angularVelocity,f=c.m_linearVelocity,g=c.m_angularVelocity,h,k,m;this.ob&&3!=this.J&&(m=this.Ya*(this.fb-(this.m_axis.x*(f.x-d.x)+this.m_axis.y*(f.y-d.y)+this.X*g-this.W*e)),h=this.L,a=a.dt*this.Je,this.L=Kh(this.L+m,-a,a),m=this.L-h,h=m*this.m_axis.x,a=m*this.m_axis.y,k=m*this.W,m*=this.X,d.x-=this.m_invMassA*h,d.y-=this.m_invMassA*a,e-=this.m_invIA*k,f.x+=this.m_invMassB*h,f.y+=this.m_invMassB*a,g+=this.m_invIB*
m);a=this.G.x*(f.x-d.x)+this.G.y*(f.y-d.y)+this.$*g-this.Z*e;this.Qa&&0!=this.J?(k=this.m_axis.x*(f.x-d.x)+this.m_axis.y*(f.y-d.y)+this.X*g-this.W*e,h=this.h.O(),m=this.F.Xb(new P,-a,-k),this.h.vb(m),1==this.J?this.h.y=Ih(this.h.y,0):2==this.J&&(this.h.y=Gh(this.h.y,0)),a=-a-(this.h.y-h.y)*this.F.col2.x,this.h.x=0!=this.F.col1.x?a/this.F.col1.x+h.x:h.x,m.x=this.h.x-h.x,m.y=this.h.y-h.y,h=m.x*this.G.x+m.y*this.m_axis.x,a=m.x*this.G.y+m.y*this.m_axis.y,k=m.x*this.Z+m.y*this.W,m=m.x*this.$+m.y*this.X):
(m=0!=this.F.col1.x?-a/this.F.col1.x:0,this.h.x+=m,h=m*this.G.x,a=m*this.G.y,k=m*this.Z,m*=this.$);d.x-=this.m_invMassA*h;d.y-=this.m_invMassA*a;e-=this.m_invIA*k;f.x+=this.m_invMassB*h;f.y+=this.m_invMassB*a;g+=this.m_invIB*m;b.m_linearVelocity.m(d);b.m_angularVelocity=e;c.m_linearVelocity.m(f);c.m_angularVelocity=g};U.prototype.SolveVelocityConstraints=U.prototype.ja;
U.prototype.ia=function(){var a=this.m_bodyA,b=this.m_bodyB,c=a.m_sweep.c,d=a.m_sweep.a,e=b.m_sweep.c,f=b.m_sweep.a,g,h,k,m,p,r,u=0;k=!1;var v=0,A=qh(d);p=qh(f);g=A;var B=this.m_localAnchor1.x-this.m_localCenterA.x;m=this.m_localAnchor1.y-this.m_localCenterA.y;h=g.col1.x*B+g.col2.x*m;m=g.col1.y*B+g.col2.y*m;B=h;g=p;p=this.m_localAnchor2.x-this.m_localCenterB.x;r=this.m_localAnchor2.y-this.m_localCenterB.y;h=g.col1.x*p+g.col2.x*r;r=g.col1.y*p+g.col2.y*r;p=h;g=e.x+p-c.x-B;h=e.y+r-c.y-m;if(this.Qa){this.m_axis=
yh(A,this.m_localXAxis1);this.W=(g+B)*this.m_axis.y-(h+m)*this.m_axis.x;this.X=p*this.m_axis.y-r*this.m_axis.x;var E=this.m_axis.x*g+this.m_axis.y*h;.01>Eh(this.Ta-this.Sa)?(v=Kh(E,-.2,.2),u=Eh(E),k=!0):E<=this.Sa?(v=Kh(E-this.Sa+.005,-.2,0),u=this.Sa-E,k=!0):E>=this.Ta&&(v=Kh(E-this.Ta+.005,0,.2),u=E-this.Ta,k=!0)}this.G=yh(A,this.Hc);this.Z=(g+B)*this.G.y-(h+m)*this.G.x;this.$=p*this.G.y-r*this.G.x;A=new P;B=this.G.x*g+this.G.y*h;u=Ih(u,Eh(B));k?(k=this.m_invMassA,m=this.m_invMassB,p=this.m_invIA,
r=this.m_invIB,this.F.col1.x=k+m+p*this.Z*this.Z+r*this.$*this.$,this.F.col1.y=p*this.Z*this.W+r*this.$*this.X,this.F.col2.x=this.F.col1.y,this.F.col2.y=k+m+p*this.W*this.W+r*this.X*this.X,this.F.Xb(A,-B,-v)):(k=this.m_invMassA,m=this.m_invMassB,p=this.m_invIA,r=this.m_invIB,v=k+m+p*this.Z*this.Z+r*this.$*this.$,A.x=0!=v?-B/v:0,A.y=0);v=A.x*this.G.x+A.y*this.m_axis.x;k=A.x*this.G.y+A.y*this.m_axis.y;B=A.x*this.Z+A.y*this.W;A=A.x*this.$+A.y*this.X;c.x-=this.m_invMassA*v;c.y-=this.m_invMassA*k;d-=this.m_invIA*
B;e.x+=this.m_invMassB*v;e.y+=this.m_invMassB*k;f+=this.m_invIB*A;a.m_sweep.a=d;b.m_sweep.a=f;a.ga();b.ga();return.005>=u&&0<=jh};U.prototype.SolvePositionConstraints=U.prototype.ia;U.prototype.J=0;U.prototype.i={names:[{name:'b2LineJoint',j:zb,kind:l}]};y(zb,U);function bj(a){this.K=new ph;this.Gb=new ph;this.Hb=new ph;this.Ld=new P;this.bd=new P;this.h=new P;this.m_mass=new ph;this.$g=new P;T.call(this,a);this.bd.m(a.target);var b=this.bd.x-this.m_bodyB.m_xf.position.x,c=this.bd.y-this.m_bodyB.m_xf.position.y,d=this.m_bodyB.m_xf.R;this.Ld.x=b*d.col1.x+c*d.col1.y;this.Ld.y=b*d.col2.x+c*d.col2.y;this.Md=a.maxForce;this.h.D();this.Fc=a.frequencyHz;this.Kd=a.dampingRatio;this.Ra=this.wj=0}Xe(bj,T);bj.prototype.ta=t('bd');bj.prototype.GetAnchorA=bj.prototype.ta;
bj.prototype.ua=function(){return this.m_bodyB.fa(this.Ld)};bj.prototype.GetAnchorB=bj.prototype.ua;bj.prototype.xa=function(a){return new P(a*this.h.x,a*this.h.y)};bj.prototype.GetReactionForce=bj.prototype.xa;bj.prototype.ya=w(0);bj.prototype.GetReactionTorque=bj.prototype.ya;bj.prototype.No=t('bd');bj.prototype.GetTarget=bj.prototype.No;bj.prototype.ml=function(a){0==this.m_bodyB.Ua()&&this.m_bodyB.H(!0);this.bd=a};bj.prototype.SetTarget=bj.prototype.ml;bj.prototype.Zh=t('Md');
bj.prototype.GetMaxForce=bj.prototype.Zh;bj.prototype.li=q('Md');bj.prototype.SetMaxForce=bj.prototype.li;bj.prototype.Wh=t('Fc');bj.prototype.GetFrequency=bj.prototype.Wh;bj.prototype.ji=q('Fc');bj.prototype.SetFrequency=bj.prototype.ji;bj.prototype.Uh=t('Kd');bj.prototype.GetDampingRatio=bj.prototype.Uh;bj.prototype.ii=q('Kd');bj.prototype.SetDampingRatio=bj.prototype.ii;
bj.prototype.la=function(a){var b=this.m_bodyB,c=b.m_mass,d=2*Math.PI*this.Fc,e=c*d*d;this.Ra=a.dt*(2*c*this.Kd*d+a.dt*e);this.Ra=0!=this.Ra?1/this.Ra:0;this.wj=a.dt*e*this.Ra;var e=b.m_xf.R,c=this.Ld.x-b.m_sweep.localCenter.x,d=this.Ld.y-b.m_sweep.localCenter.y,f=e.col1.x*c+e.col2.x*d,d=e.col1.y*c+e.col2.y*d,c=f,e=b.m_invMass,f=b.m_invI;this.Gb.col1.x=e;this.Gb.col2.x=0;this.Gb.col1.y=0;this.Gb.col2.y=e;this.Hb.col1.x=f*d*d;this.Hb.col2.x=-f*c*d;this.Hb.col1.y=-f*c*d;this.Hb.col2.y=f*c*c;this.K.qc(this.Gb);
this.K.Yd(this.Hb);this.K.col1.x+=this.Ra;this.K.col2.y+=this.Ra;this.K.pg(this.m_mass);this.$g.x=b.m_sweep.c.x+c-this.bd.x;this.$g.y=b.m_sweep.c.y+d-this.bd.y;b.m_angularVelocity*=.98;this.h.x*=a.dtRatio;this.h.y*=a.dtRatio;b.m_linearVelocity.x+=e*this.h.x;b.m_linearVelocity.y+=e*this.h.y;b.m_angularVelocity+=f*(c*this.h.y-d*this.h.x)};bj.prototype.InitVelocityConstraints=bj.prototype.la;
bj.prototype.ja=function(a){var b=this.m_bodyB,c,d,e;c=b.m_xf.R;var f=this.Ld.x-b.m_sweep.localCenter.x,g=this.Ld.y-b.m_sweep.localCenter.y;d=c.col1.x*f+c.col2.x*g;g=c.col1.y*f+c.col2.y*g;f=d;d=b.m_linearVelocity.x+-b.m_angularVelocity*g;var h=b.m_linearVelocity.y+b.m_angularVelocity*f;c=this.m_mass;d=d+this.wj*this.$g.x+this.Ra*this.h.x;e=h+this.wj*this.$g.y+this.Ra*this.h.y;h=-(c.col1.x*d+c.col2.x*e);e=-(c.col1.y*d+c.col2.y*e);c=this.h.x;d=this.h.y;this.h.x+=h;this.h.y+=e;a=a.dt*this.Md;this.h.nd()>
a*a&&this.h.Ga(a/this.h.Wb());h=this.h.x-c;e=this.h.y-d;b.m_linearVelocity.x+=b.m_invMass*h;b.m_linearVelocity.y+=b.m_invMass*e;b.m_angularVelocity+=b.m_invI*(f*e-g*h)};bj.prototype.SolveVelocityConstraints=bj.prototype.ja;bj.prototype.ia=w(!0);bj.prototype.SolvePositionConstraints=bj.prototype.ia;bj.prototype.i={names:[{name:'b2MouseJoint',j:Db,kind:l}]};y(Db,bj);function cj(a,b,c){this.x='undefined'!==typeof a?a:0;this.y='undefined'!==typeof b?b:0;this.z='undefined'!==typeof c?c:0}cj.prototype.D=function(){this.x=this.y=this.z=0};cj.prototype.SetZero=cj.prototype.D;cj.prototype.Set=function(a,b,c){this.x=a;this.y=b;this.z=c};cj.prototype.Set=cj.prototype.Set;cj.prototype.m=function(a){this.x=a.x;this.y=a.y;this.z=a.z};cj.prototype.SetV=cj.prototype.m;cj.prototype.Vb=function(){return new cj(-this.x,-this.y,-this.z)};cj.prototype.GetNegative=cj.prototype.Vb;
cj.prototype.sg=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z};cj.prototype.NegativeSelf=cj.prototype.sg;cj.prototype.O=function(){return new cj(this.x,this.y,this.z)};cj.prototype.Copy=cj.prototype.O;cj.prototype.vb=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};cj.prototype.Add=cj.prototype.vb;cj.prototype.yg=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};cj.prototype.Subtract=cj.prototype.yg;cj.prototype.Ga=function(a){this.x*=a;this.y*=a;this.z*=a};cj.prototype.Multiply=cj.prototype.Ga;
cj.prototype.i={names:[{name:'b2Vec3',j:Sa,kind:l}]};y(Sa,cj);function dj(a,b,c){a='undefined'!==typeof a?a:null;b='undefined'!==typeof b?b:null;c='undefined'!==typeof c?c:null;this.col1=new cj;this.col2=new cj;this.col3=new cj;a||b||c?(this.col1.m(a),this.col2.m(b),this.col3.m(c)):(this.col1.D(),this.col2.D(),this.col3.D())}dj.prototype.Bp=function(a,b,c){this.col1.m(a);this.col2.m(b);this.col3.m(c)};dj.prototype.SetVVV=dj.prototype.Bp;dj.prototype.O=function(){return new dj(this.col1,this.col2,this.col3)};dj.prototype.Copy=dj.prototype.O;
dj.prototype.qc=function(a){this.col1.m(a.col1);this.col2.m(a.col2);this.col3.m(a.col3)};dj.prototype.SetM=dj.prototype.qc;dj.prototype.Yd=function(a){this.col1.x+=a.col1.x;this.col1.y+=a.col1.y;this.col1.z+=a.col1.z;this.col2.x+=a.col2.x;this.col2.y+=a.col2.y;this.col2.z+=a.col2.z;this.col3.x+=a.col3.x;this.col3.y+=a.col3.y;this.col3.z+=a.col3.z};dj.prototype.AddM=dj.prototype.Yd;
dj.prototype.od=function(){this.col1.x=1;this.col2.x=0;this.col3.x=0;this.col1.y=0;this.col2.y=1;this.col3.y=0;this.col1.z=0;this.col2.z=0;this.col3.z=1};dj.prototype.SetIdentity=dj.prototype.od;dj.prototype.D=function(){this.col1.x=0;this.col2.x=0;this.col3.x=0;this.col1.y=0;this.col2.y=0;this.col3.y=0;this.col1.z=0;this.col2.z=0;this.col3.z=0};dj.prototype.SetZero=dj.prototype.D;
dj.prototype.pd=function(a,b,c){var d=this.col1.x,e=this.col2.x,f=this.col1.y,g=this.col2.y,h=d*g-e*f;0!=h&&(h=1/h);a.x=h*(g*b-e*c);a.y=h*(d*c-f*b);return a};dj.prototype.Solve22=dj.prototype.pd;
dj.prototype.fe=function(a,b,c,d){var e=this.col1.x,f=this.col1.y,g=this.col1.z,h=this.col2.x,k=this.col2.y,m=this.col2.z,p=this.col3.x,r=this.col3.y,u=this.col3.z,v=e*(k*u-m*r)+f*(m*p-h*u)+g*(h*r-k*p);0!=v&&(v=1/v);a.x=v*(b*(k*u-m*r)+c*(m*p-h*u)+d*(h*r-k*p));a.y=v*(e*(c*u-d*r)+f*(d*p-b*u)+g*(b*r-c*p));a.z=v*(e*(k*d-m*c)+f*(m*b-h*d)+g*(h*c-k*b));return a};dj.prototype.Solve33=dj.prototype.fe;dj.prototype.i={names:[{name:'b2Mat33',j:Na,kind:l}]};y(Na,dj);function V(a){this.m_localAnchor1=new P;this.m_localAnchor2=new P;this.m_localXAxis1=new P;this.Hc=new P;this.m_axis=new P;this.G=new P;this.F=new dj;this.h=new cj;T.call(this,a);this.m_localAnchor1.m(a.localAnchorA);this.m_localAnchor2.m(a.localAnchorB);this.m_localXAxis1.m(a.localAxisA);this.Hc.x=-this.m_localXAxis1.y;this.Hc.y=this.m_localXAxis1.x;this.Tu=a.referenceAngle;this.h.D();this.L=this.Ya=0;this.Sa=a.lowerTranslation;this.Ta=a.upperTranslation;this.Je=a.maxMotorForce;this.fb=a.motorSpeed;
this.Qa=a.enableLimit;this.ob=a.enableMotor;this.J=0;this.m_axis.D();this.G.D()}Xe(V,T);V.prototype.ta=function(){return this.m_bodyA.fa(this.m_localAnchor1)};V.prototype.GetAnchorA=V.prototype.ta;V.prototype.ua=function(){return this.m_bodyB.fa(this.m_localAnchor2)};V.prototype.GetAnchorB=V.prototype.ua;V.prototype.xa=function(a){return new P(a*(this.h.x*this.G.x+(this.L+this.h.z)*this.m_axis.x),a*(this.h.x*this.G.y+(this.L+this.h.z)*this.m_axis.y))};V.prototype.GetReactionForce=V.prototype.xa;
V.prototype.ya=function(a){return a*this.h.y};V.prototype.GetReactionTorque=V.prototype.ya;V.prototype.kd=function(){var a=this.m_bodyA,b=this.m_bodyB,c=a.fa(this.m_localAnchor1),d=b.fa(this.m_localAnchor2),b=d.x-c.x,c=d.y-c.y,a=a.mf(this.m_localXAxis1);return a.x*b+a.y*c};V.prototype.GetJointTranslation=V.prototype.kd;
V.prototype.ff=function(){var a=this.m_bodyA,b=this.m_bodyB,c;c=a.m_xf.R;var d=this.m_localAnchor1.x-a.m_sweep.localCenter.x,e=this.m_localAnchor1.y-a.m_sweep.localCenter.y,f=c.col1.x*d+c.col2.x*e,e=c.col1.y*d+c.col2.y*e,d=f;c=b.m_xf.R;var g=this.m_localAnchor2.x-b.m_sweep.localCenter.x,h=this.m_localAnchor2.y-b.m_sweep.localCenter.y,f=c.col1.x*g+c.col2.x*h,h=c.col1.y*g+c.col2.y*h,g=f;c=b.m_sweep.c.x+g-(a.m_sweep.c.x+d);var f=b.m_sweep.c.y+h-(a.m_sweep.c.y+e),k=a.mf(this.m_localXAxis1),m=a.m_linearVelocity,
p=b.m_linearVelocity,a=a.m_angularVelocity,b=b.m_angularVelocity;return c*-a*k.y+f*a*k.x+(k.x*(p.x+-b*h-m.x- -a*e)+k.y*(p.y+b*g-m.y-a*d))};V.prototype.GetJointSpeed=V.prototype.ff;V.prototype.qf=t('Qa');V.prototype.IsLimitEnabled=V.prototype.qf;V.prototype.$e=function(a){this.m_bodyA.H(!0);this.m_bodyB.H(!0);this.Qa=a};V.prototype.EnableLimit=V.prototype.$e;V.prototype.gf=t('Sa');V.prototype.GetLowerLimit=V.prototype.gf;V.prototype.lf=t('Ta');V.prototype.GetUpperLimit=V.prototype.lf;
V.prototype.vf=function(a,b){this.m_bodyA.H(!0);this.m_bodyB.H(!0);this.Sa=a;this.Ta=b};V.prototype.SetLimits=V.prototype.vf;V.prototype.ce=t('ob');V.prototype.IsMotorEnabled=V.prototype.ce;V.prototype.be=function(a){this.m_bodyA.H(!0);this.m_bodyB.H(!0);this.ob=a};V.prototype.EnableMotor=V.prototype.be;V.prototype.Pc=function(a){this.m_bodyA.H(!0);this.m_bodyB.H(!0);this.fb=a};V.prototype.SetMotorSpeed=V.prototype.Pc;V.prototype.hf=t('fb');V.prototype.GetMotorSpeed=V.prototype.hf;
V.prototype.mi=function(a){this.m_bodyA.H(!0);this.m_bodyB.H(!0);this.Je=a};V.prototype.SetMaxMotorForce=V.prototype.mi;V.prototype.ai=t('L');V.prototype.GetMotorForce=V.prototype.ai;
V.prototype.la=function(a){var b=this.m_bodyA,c=this.m_bodyB,d,e;this.m_localCenterA.m(b.m_sweep.localCenter);this.m_localCenterB.m(c.m_sweep.localCenter);var f=b.qa();c.qa();d=b.m_xf.R;var g=this.m_localAnchor1.x-this.m_localCenterA.x,h=this.m_localAnchor1.y-this.m_localCenterA.y;e=d.col1.x*g+d.col2.x*h;h=d.col1.y*g+d.col2.y*h;g=e;d=c.m_xf.R;var k=this.m_localAnchor2.x-this.m_localCenterB.x,m=this.m_localAnchor2.y-this.m_localCenterB.y;e=d.col1.x*k+d.col2.x*m;m=d.col1.y*k+d.col2.y*m;k=e;d=c.m_sweep.c.x+
k-b.m_sweep.c.x-g;e=c.m_sweep.c.y+m-b.m_sweep.c.y-h;this.m_invMassA=b.m_invMass;this.m_invMassB=c.m_invMass;this.m_invIA=b.m_invI;this.m_invIB=c.m_invI;this.m_axis.m(yh(f.R,this.m_localXAxis1));this.W=(d+g)*this.m_axis.y-(e+h)*this.m_axis.x;this.X=k*this.m_axis.y-m*this.m_axis.x;this.Ya=this.m_invMassA+this.m_invMassB+this.m_invIA*this.W*this.W+this.m_invIB*this.X*this.X;this.Ya>Number.MIN_VALUE&&(this.Ya=1/this.Ya);this.G.m(yh(f.R,this.Hc));this.Z=(d+g)*this.G.y-(e+h)*this.G.x;this.$=k*this.G.y-
m*this.G.x;f=this.m_invMassA;g=this.m_invMassB;h=this.m_invIA;k=this.m_invIB;this.F.col1.x=f+g+h*this.Z*this.Z+k*this.$*this.$;this.F.col1.y=h*this.Z+k*this.$;this.F.col1.z=h*this.Z*this.W+k*this.$*this.X;this.F.col2.x=this.F.col1.y;this.F.col2.y=h+k;this.F.col2.z=h*this.W+k*this.X;this.F.col3.x=this.F.col1.z;this.F.col3.y=this.F.col2.z;this.F.col3.z=f+g+h*this.W*this.W+k*this.X*this.X;this.Qa?(d=this.m_axis.x*d+this.m_axis.y*e,.01>Eh(this.Ta-this.Sa)?this.J=3:d<=this.Sa?1!=this.J&&(this.J=1,this.h.z=
0):d>=this.Ta?2!=this.J&&(this.J=2,this.h.z=0):(this.J=0,this.h.z=0)):this.J=0;0==this.ob&&(this.L=0);a.warmStarting?(this.h.x*=a.dtRatio,this.h.y*=a.dtRatio,this.L*=a.dtRatio,a=this.h.x*this.G.x+(this.L+this.h.z)*this.m_axis.x,d=this.h.x*this.G.y+(this.L+this.h.z)*this.m_axis.y,e=this.h.x*this.Z+this.h.y+(this.L+this.h.z)*this.W,f=this.h.x*this.$+this.h.y+(this.L+this.h.z)*this.X,b.m_linearVelocity.x-=this.m_invMassA*a,b.m_linearVelocity.y-=this.m_invMassA*d,b.m_angularVelocity-=this.m_invIA*e,c.m_linearVelocity.x+=
this.m_invMassB*a,c.m_linearVelocity.y+=this.m_invMassB*d,c.m_angularVelocity+=this.m_invIB*f):(this.h.D(),this.L=0)};V.prototype.InitVelocityConstraints=V.prototype.la;
V.prototype.ja=function(a){var b=this.m_bodyA,c=this.m_bodyB,d=b.m_linearVelocity,e=b.m_angularVelocity,f=c.m_linearVelocity,g=c.m_angularVelocity,h,k,m;this.ob&&3!=this.J&&(m=this.Ya*(this.fb-(this.m_axis.x*(f.x-d.x)+this.m_axis.y*(f.y-d.y)+this.X*g-this.W*e)),h=this.L,a=a.dt*this.Je,this.L=Kh(this.L+m,-a,a),m=this.L-h,h=m*this.m_axis.x,a=m*this.m_axis.y,k=m*this.W,m*=this.X,d.x-=this.m_invMassA*h,d.y-=this.m_invMassA*a,e-=this.m_invIA*k,f.x+=this.m_invMassB*h,f.y+=this.m_invMassB*a,g+=this.m_invIB*
m);a=this.G.x*(f.x-d.x)+this.G.y*(f.y-d.y)+this.$*g-this.Z*e;k=g-e;this.Qa&&0!=this.J?(m=this.m_axis.x*(f.x-d.x)+this.m_axis.y*(f.y-d.y)+this.X*g-this.W*e,h=this.h.O(),m=this.F.fe(new cj,-a,-k,-m),this.h.vb(m),1==this.J?this.h.z=Ih(this.h.z,0):2==this.J&&(this.h.z=Gh(this.h.z,0)),a=this.F.pd(new P,-a-(this.h.z-h.z)*this.F.col3.x,-k-(this.h.z-h.z)*this.F.col3.y),a.x+=h.x,a.y+=h.y,this.h.x=a.x,this.h.y=a.y,m.x=this.h.x-h.x,m.y=this.h.y-h.y,m.z=this.h.z-h.z,h=m.x*this.G.x+m.z*this.m_axis.x,a=m.x*this.G.y+
m.z*this.m_axis.y,k=m.x*this.Z+m.y+m.z*this.W,m=m.x*this.$+m.y+m.z*this.X):(m=this.F.pd(new P,-a,-k),this.h.x+=m.x,this.h.y+=m.y,h=m.x*this.G.x,a=m.x*this.G.y,k=m.x*this.Z+m.y,m=m.x*this.$+m.y);d.x-=this.m_invMassA*h;d.y-=this.m_invMassA*a;e-=this.m_invIA*k;f.x+=this.m_invMassB*h;f.y+=this.m_invMassB*a;g+=this.m_invIB*m;b.m_linearVelocity.m(d);b.m_angularVelocity=e;c.m_linearVelocity.m(f);c.m_angularVelocity=g};V.prototype.SolveVelocityConstraints=V.prototype.ja;
V.prototype.ia=function(){var a=this.m_bodyA,b=this.m_bodyB,c=a.m_sweep.c,d=a.m_sweep.a,e=b.m_sweep.c,f=b.m_sweep.a,g,h,k,m,p=0,r;k=!1;var u=0,v=qh(d),A=qh(f);g=v;r=this.m_localAnchor1.x-this.m_localCenterA.x;var B=this.m_localAnchor1.y-this.m_localCenterA.y;h=g.col1.x*r+g.col2.x*B;B=g.col1.y*r+g.col2.y*B;r=h;g=A;A=this.m_localAnchor2.x-this.m_localCenterB.x;m=this.m_localAnchor2.y-this.m_localCenterB.y;h=g.col1.x*A+g.col2.x*m;m=g.col1.y*A+g.col2.y*m;A=h;g=e.x+A-c.x-r;h=e.y+m-c.y-B;if(this.Qa){this.m_axis=
yh(v,this.m_localXAxis1);this.W=(g+r)*this.m_axis.y-(h+B)*this.m_axis.x;this.X=A*this.m_axis.y-m*this.m_axis.x;var E=this.m_axis.x*g+this.m_axis.y*h;.01>Eh(this.Ta-this.Sa)?(u=Kh(E,-.2,.2),p=Eh(E),k=!0):E<=this.Sa?(u=Kh(E-this.Sa+.005,-.2,0),p=this.Sa-E,k=!0):E>=this.Ta&&(u=Kh(E-this.Ta+.005,0,.2),p=E-this.Ta,k=!0)}this.G=yh(v,this.Hc);this.Z=(g+r)*this.G.y-(h+B)*this.G.x;this.$=A*this.G.y-m*this.G.x;v=new cj;B=this.G.x*g+this.G.y*h;A=f-d-this.Tu;p=Ih(p,Eh(B));r=Eh(A);k?(k=this.m_invMassA,m=this.m_invMassB,
g=this.m_invIA,h=this.m_invIB,this.F.col1.x=k+m+g*this.Z*this.Z+h*this.$*this.$,this.F.col1.y=g*this.Z+h*this.$,this.F.col1.z=g*this.Z*this.W+h*this.$*this.X,this.F.col2.x=this.F.col1.y,this.F.col2.y=g+h,this.F.col2.z=g*this.W+h*this.X,this.F.col3.x=this.F.col1.z,this.F.col3.y=this.F.col2.z,this.F.col3.z=k+m+g*this.W*this.W+h*this.X*this.X,this.F.fe(v,-B,-A,-u)):(k=this.m_invMassA,m=this.m_invMassB,g=this.m_invIA,h=this.m_invIB,u=g*this.Z+h*this.$,E=g+h,this.F.col1.Set(k+m+g*this.Z*this.Z+h*this.$*
this.$,u,0),this.F.col2.Set(u,E,0),u=this.F.pd(new P,-B,-A),v.x=u.x,v.y=u.y,v.z=0);u=v.x*this.G.x+v.z*this.m_axis.x;k=v.x*this.G.y+v.z*this.m_axis.y;B=v.x*this.Z+v.y+v.z*this.W;v=v.x*this.$+v.y+v.z*this.X;c.x-=this.m_invMassA*u;c.y-=this.m_invMassA*k;d-=this.m_invIA*B;e.x+=this.m_invMassB*u;e.y+=this.m_invMassB*k;f+=this.m_invIB*v;a.m_sweep.a=d;b.m_sweep.a=f;a.ga();b.ga();return.005>=p&&r<=jh};V.prototype.SolvePositionConstraints=V.prototype.ia;V.prototype.J=0;
V.prototype.i={names:[{name:'b2PrismaticJoint',j:Fb,kind:l}]};y(Fb,V);function ej(a){this.Bb=new P;this.Cb=new P;this.m_localAnchor1=new P;this.m_localAnchor2=new P;this.ba=new P;this.Y=new P;T.call(this,a);this.Ka=this.m_bodyA.m_world.m_groundBody;this.Bb.x=a.groundAnchorA.x-this.Ka.m_xf.position.x;this.Bb.y=a.groundAnchorA.y-this.Ka.m_xf.position.y;this.Cb.x=a.groundAnchorB.x-this.Ka.m_xf.position.x;this.Cb.y=a.groundAnchorB.y-this.Ka.m_xf.position.y;this.m_localAnchor1.m(a.localAnchorA);this.m_localAnchor2.m(a.localAnchorB);this.ea=a.ratio;this.Ge=a.lengthA+this.ea*
a.lengthB;this.Rm=Gh(a.maxLengthA,this.Ge-2*this.ea);this.Sm=Gh(a.maxLengthB,(this.Ge-2)/this.ea);this.hc=this.gc=this.h=0}Xe(ej,T);ej.prototype.ta=function(){return this.m_bodyA.fa(this.m_localAnchor1)};ej.prototype.GetAnchorA=ej.prototype.ta;ej.prototype.ua=function(){return this.m_bodyB.fa(this.m_localAnchor2)};ej.prototype.GetAnchorB=ej.prototype.ua;ej.prototype.xa=function(a){return new P(a*this.h*this.Y.x,a*this.h*this.Y.y)};ej.prototype.GetReactionForce=ej.prototype.xa;ej.prototype.ya=w(0);
ej.prototype.GetReactionTorque=ej.prototype.ya;ej.prototype.Rk=function(){var a=this.Ka.m_xf.position.O();a.vb(this.Bb);return a};ej.prototype.GetGroundAnchorA=ej.prototype.Rk;ej.prototype.Sk=function(){var a=this.Ka.m_xf.position.O();a.vb(this.Cb);return a};ej.prototype.GetGroundAnchorB=ej.prototype.Sk;ej.prototype.uo=function(){var a=this.m_bodyA.fa(this.m_localAnchor1),b=a.x-(this.Ka.m_xf.position.x+this.Bb.x),a=a.y-(this.Ka.m_xf.position.y+this.Bb.y);return Math.sqrt(b*b+a*a)};
ej.prototype.GetLength1=ej.prototype.uo;ej.prototype.vo=function(){var a=this.m_bodyB.fa(this.m_localAnchor2),b=a.x-(this.Ka.m_xf.position.x+this.Cb.x),a=a.y-(this.Ka.m_xf.position.y+this.Cb.y);return Math.sqrt(b*b+a*a)};ej.prototype.GetLength2=ej.prototype.vo;ej.prototype.bi=t('ea');ej.prototype.GetRatio=ej.prototype.bi;
ej.prototype.la=function(a){var b=this.m_bodyA,c=this.m_bodyB,d;d=b.m_xf.R;var e=this.m_localAnchor1.x-b.m_sweep.localCenter.x,f=this.m_localAnchor1.y-b.m_sweep.localCenter.y,g=d.col1.x*e+d.col2.x*f,f=d.col1.y*e+d.col2.y*f,e=g;d=c.m_xf.R;var h=this.m_localAnchor2.x-c.m_sweep.localCenter.x,k=this.m_localAnchor2.y-c.m_sweep.localCenter.y,g=d.col1.x*h+d.col2.x*k,k=d.col1.y*h+d.col2.y*k,h=g;d=c.m_sweep.c.x+h;var g=c.m_sweep.c.y+k,m=this.Ka.m_xf.position.x+this.Cb.x,p=this.Ka.m_xf.position.y+this.Cb.y;
this.ba.Set(b.m_sweep.c.x+e-(this.Ka.m_xf.position.x+this.Bb.x),b.m_sweep.c.y+f-(this.Ka.m_xf.position.y+this.Bb.y));this.Y.Set(d-m,g-p);d=this.ba.Wb();g=this.Y.Wb();.005<d?this.ba.Ga(1/d):this.ba.D();.005<g?this.Y.Ga(1/g):this.Y.D();0<this.Ge-d-this.ea*g?this.h=this.Rd=0:this.Rd=2;d<this.Rm?this.gc=this.fh=0:this.fh=2;g<this.Sm?this.hc=this.gh=0:this.gh=2;d=e*this.ba.y-f*this.ba.x;g=h*this.Y.y-k*this.Y.x;this.Uf=b.m_invMass+b.m_invI*d*d;this.Vf=c.m_invMass+c.m_invI*g*g;this.hh=this.Uf+this.ea*this.ea*
this.Vf;this.Uf=1/this.Uf;this.Vf=1/this.Vf;this.hh=1/this.hh;a.warmStarting?(this.h*=a.dtRatio,this.gc*=a.dtRatio,this.hc*=a.dtRatio,a=(-this.h-this.gc)*this.ba.x,d=(-this.h-this.gc)*this.ba.y,g=(-this.ea*this.h-this.hc)*this.Y.x,m=(-this.ea*this.h-this.hc)*this.Y.y,b.m_linearVelocity.x+=b.m_invMass*a,b.m_linearVelocity.y+=b.m_invMass*d,b.m_angularVelocity+=b.m_invI*(e*d-f*a),c.m_linearVelocity.x+=c.m_invMass*g,c.m_linearVelocity.y+=c.m_invMass*m,c.m_angularVelocity+=c.m_invI*(h*m-k*g)):this.hc=
this.gc=this.h=0};ej.prototype.InitVelocityConstraints=ej.prototype.la;
ej.prototype.ja=function(){var a=this.m_bodyA,b=this.m_bodyB,c;c=a.m_xf.R;var d=this.m_localAnchor1.x-a.m_sweep.localCenter.x,e=this.m_localAnchor1.y-a.m_sweep.localCenter.y,f=c.col1.x*d+c.col2.x*e,e=c.col1.y*d+c.col2.y*e,d=f;c=b.m_xf.R;var g=this.m_localAnchor2.x-b.m_sweep.localCenter.x,h=this.m_localAnchor2.y-b.m_sweep.localCenter.y,f=c.col1.x*g+c.col2.x*h,h=c.col1.y*g+c.col2.y*h,g=f,k,m;2==this.Rd&&(c=a.m_linearVelocity.x+-a.m_angularVelocity*e,f=a.m_linearVelocity.y+a.m_angularVelocity*d,k=b.m_linearVelocity.x+
-b.m_angularVelocity*h,m=b.m_linearVelocity.y+b.m_angularVelocity*g,c=-(this.ba.x*c+this.ba.y*f)-this.ea*(this.Y.x*k+this.Y.y*m),m=this.hh*-c,c=this.h,this.h=Ih(0,this.h+m),m=this.h-c,c=-m*this.ba.x,f=-m*this.ba.y,k=-this.ea*m*this.Y.x,m=-this.ea*m*this.Y.y,a.m_linearVelocity.x+=a.m_invMass*c,a.m_linearVelocity.y+=a.m_invMass*f,a.m_angularVelocity+=a.m_invI*(d*f-e*c),b.m_linearVelocity.x+=b.m_invMass*k,b.m_linearVelocity.y+=b.m_invMass*m,b.m_angularVelocity+=b.m_invI*(g*m-h*k));2==this.fh&&(c=a.m_linearVelocity.x+
-a.m_angularVelocity*e,f=a.m_linearVelocity.y+a.m_angularVelocity*d,c=-(this.ba.x*c+this.ba.y*f),m=-this.Uf*c,c=this.gc,this.gc=Ih(0,this.gc+m),m=this.gc-c,c=-m*this.ba.x,f=-m*this.ba.y,a.m_linearVelocity.x+=a.m_invMass*c,a.m_linearVelocity.y+=a.m_invMass*f,a.m_angularVelocity+=a.m_invI*(d*f-e*c));2==this.gh&&(k=b.m_linearVelocity.x+-b.m_angularVelocity*h,m=b.m_linearVelocity.y+b.m_angularVelocity*g,c=-(this.Y.x*k+this.Y.y*m),m=-this.Vf*c,c=this.hc,this.hc=Ih(0,this.hc+m),m=this.hc-c,k=-m*this.Y.x,
m=-m*this.Y.y,b.m_linearVelocity.x+=b.m_invMass*k,b.m_linearVelocity.y+=b.m_invMass*m,b.m_angularVelocity+=b.m_invI*(g*m-h*k))};ej.prototype.SolveVelocityConstraints=ej.prototype.ja;
ej.prototype.ia=function(){var a=this.m_bodyA,b=this.m_bodyB,c,d=this.Ka.m_xf.position.x+this.Bb.x,e=this.Ka.m_xf.position.y+this.Bb.y,f=this.Ka.m_xf.position.x+this.Cb.x,g=this.Ka.m_xf.position.y+this.Cb.y,h,k,m,p,r,u,v,A=0;2==this.Rd&&(c=a.m_xf.R,h=this.m_localAnchor1.x-a.m_sweep.localCenter.x,k=this.m_localAnchor1.y-a.m_sweep.localCenter.y,r=c.col1.x*h+c.col2.x*k,k=c.col1.y*h+c.col2.y*k,h=r,c=b.m_xf.R,m=this.m_localAnchor2.x-b.m_sweep.localCenter.x,p=this.m_localAnchor2.y-b.m_sweep.localCenter.y,
r=c.col1.x*m+c.col2.x*p,p=c.col1.y*m+c.col2.y*p,m=r,c=a.m_sweep.c.x+h,r=a.m_sweep.c.y+k,u=b.m_sweep.c.x+m,v=b.m_sweep.c.y+p,this.ba.Set(c-d,r-e),this.Y.Set(u-f,v-g),c=this.ba.Wb(),r=this.Y.Wb(),.005<c?this.ba.Ga(1/c):this.ba.D(),.005<r?this.Y.Ga(1/r):this.Y.D(),c=this.Ge-c-this.ea*r,A=Ih(A,-c),c=Kh(c+.005,-.2,0),v=-this.hh*c,c=-v*this.ba.x,r=-v*this.ba.y,u=-this.ea*v*this.Y.x,v=-this.ea*v*this.Y.y,a.m_sweep.c.x+=a.m_invMass*c,a.m_sweep.c.y+=a.m_invMass*r,a.m_sweep.a+=a.m_invI*(h*r-k*c),b.m_sweep.c.x+=
b.m_invMass*u,b.m_sweep.c.y+=b.m_invMass*v,b.m_sweep.a+=b.m_invI*(m*v-p*u),a.ga(),b.ga());2==this.fh&&(c=a.m_xf.R,h=this.m_localAnchor1.x-a.m_sweep.localCenter.x,k=this.m_localAnchor1.y-a.m_sweep.localCenter.y,r=c.col1.x*h+c.col2.x*k,k=c.col1.y*h+c.col2.y*k,h=r,c=a.m_sweep.c.x+h,r=a.m_sweep.c.y+k,this.ba.Set(c-d,r-e),c=this.ba.Wb(),.005<c?(this.ba.x*=1/c,this.ba.y*=1/c):this.ba.D(),c=this.Rm-c,A=Ih(A,-c),c=Kh(c+.005,-.2,0),v=-this.Uf*c,c=-v*this.ba.x,r=-v*this.ba.y,a.m_sweep.c.x+=a.m_invMass*c,a.m_sweep.c.y+=
a.m_invMass*r,a.m_sweep.a+=a.m_invI*(h*r-k*c),a.ga());2==this.gh&&(c=b.m_xf.R,m=this.m_localAnchor2.x-b.m_sweep.localCenter.x,p=this.m_localAnchor2.y-b.m_sweep.localCenter.y,r=c.col1.x*m+c.col2.x*p,p=c.col1.y*m+c.col2.y*p,m=r,u=b.m_sweep.c.x+m,v=b.m_sweep.c.y+p,this.Y.Set(u-f,v-g),r=this.Y.Wb(),.005<r?(this.Y.x*=1/r,this.Y.y*=1/r):this.Y.D(),c=this.Sm-r,A=Ih(A,-c),c=Kh(c+.005,-.2,0),v=-this.Vf*c,u=-v*this.Y.x,v=-v*this.Y.y,b.m_sweep.c.x+=b.m_invMass*u,b.m_sweep.c.y+=b.m_invMass*v,b.m_sweep.a+=b.m_invI*
(m*v-p*u),b.ga());return.005>A};ej.prototype.SolvePositionConstraints=ej.prototype.ia;ej.prototype.Rd=0;ej.prototype.fh=0;ej.prototype.gh=0;y('Box2D.Dynamics.Joints.b2PulleyJoint.b2_minPulleyLength',2);ej.prototype.i={names:[{name:'b2PulleyJoint',j:Hb,kind:l}]};y(Hb,ej);function fj(a){this.K=new ph;this.Gb=new ph;this.Hb=new ph;this.tf=new ph;this.va=new cj;this.Nb=new P;this.kc=new P;this.m_localAnchor1=new P;this.m_localAnchor2=new P;this.h=new cj;this.m_mass=new dj;T.call(this,a);this.m_localAnchor1.m(a.localAnchorA);this.m_localAnchor2.m(a.localAnchorB);this.Yf=a.referenceAngle;this.h.D();this.L=0;this.Ie=a.lowerAngle;this.Zf=a.upperAngle;this.Cj=a.maxMotorTorque;this.fb=a.motorSpeed;this.Qa=a.enableLimit;this.ob=a.enableMotor;this.J=0}Xe(fj,T);
fj.prototype.ta=function(){return this.m_bodyA.fa(this.m_localAnchor1)};fj.prototype.GetAnchorA=fj.prototype.ta;fj.prototype.ua=function(){return this.m_bodyB.fa(this.m_localAnchor2)};fj.prototype.GetAnchorB=fj.prototype.ua;fj.prototype.xa=function(a){return new P(a*this.h.x,a*this.h.y)};fj.prototype.GetReactionForce=fj.prototype.xa;fj.prototype.ya=function(a){return a*this.h.z};fj.prototype.GetReactionTorque=fj.prototype.ya;
fj.prototype.ef=function(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a-this.Yf};fj.prototype.GetJointAngle=fj.prototype.ef;fj.prototype.ff=function(){return this.m_bodyB.m_angularVelocity-this.m_bodyA.m_angularVelocity};fj.prototype.GetJointSpeed=fj.prototype.ff;fj.prototype.qf=t('Qa');fj.prototype.IsLimitEnabled=fj.prototype.qf;fj.prototype.$e=q('Qa');fj.prototype.EnableLimit=fj.prototype.$e;fj.prototype.gf=t('Ie');fj.prototype.GetLowerLimit=fj.prototype.gf;fj.prototype.lf=t('Zf');
fj.prototype.GetUpperLimit=fj.prototype.lf;fj.prototype.vf=function(a,b){this.Ie=a;this.Zf=b};fj.prototype.SetLimits=fj.prototype.vf;fj.prototype.ce=function(){this.m_bodyA.H(!0);this.m_bodyB.H(!0);return this.ob};fj.prototype.IsMotorEnabled=fj.prototype.ce;fj.prototype.be=q('ob');fj.prototype.EnableMotor=fj.prototype.be;fj.prototype.Pc=function(a){this.m_bodyA.H(!0);this.m_bodyB.H(!0);this.fb=a};fj.prototype.SetMotorSpeed=fj.prototype.Pc;fj.prototype.hf=t('fb');fj.prototype.GetMotorSpeed=fj.prototype.hf;
fj.prototype.tp=q('Cj');fj.prototype.SetMaxMotorTorque=fj.prototype.tp;fj.prototype.Go=t('Cj');fj.prototype.GetMotorTorque=fj.prototype.Go;
fj.prototype.la=function(a){var b=this.m_bodyA,c=this.m_bodyB,d,e;d=b.m_xf.R;var f=this.m_localAnchor1.x-b.m_sweep.localCenter.x,g=this.m_localAnchor1.y-b.m_sweep.localCenter.y;e=d.col1.x*f+d.col2.x*g;g=d.col1.y*f+d.col2.y*g;f=e;d=c.m_xf.R;var h=this.m_localAnchor2.x-c.m_sweep.localCenter.x,k=this.m_localAnchor2.y-c.m_sweep.localCenter.y;e=d.col1.x*h+d.col2.x*k;k=d.col1.y*h+d.col2.y*k;h=e;d=b.m_invMass;e=c.m_invMass;var m=b.m_invI,p=c.m_invI;this.m_mass.col1.x=d+e+g*g*m+k*k*p;this.m_mass.col2.x=-g*
f*m-k*h*p;this.m_mass.col3.x=-g*m-k*p;this.m_mass.col1.y=this.m_mass.col2.x;this.m_mass.col2.y=d+e+f*f*m+h*h*p;this.m_mass.col3.y=f*m+h*p;this.m_mass.col1.z=this.m_mass.col3.x;this.m_mass.col2.z=this.m_mass.col3.y;this.m_mass.col3.z=m+p;this.Ya=1/(m+p);0==this.ob&&(this.L=0);if(this.Qa){var r=c.m_sweep.a-b.m_sweep.a-this.Yf;Eh(this.Zf-this.Ie)<2*jh?this.J=3:r<=this.Ie?(1!=this.J&&(this.h.z=0),this.J=1):r>=this.Zf?(2!=this.J&&(this.h.z=0),this.J=2):(this.J=0,this.h.z=0)}else this.J=0;a.warmStarting?
(this.h.x*=a.dtRatio,this.h.y*=a.dtRatio,this.L*=a.dtRatio,a=this.h.x,r=this.h.y,b.m_linearVelocity.x-=d*a,b.m_linearVelocity.y-=d*r,b.m_angularVelocity-=m*(f*r-g*a+this.L+this.h.z),c.m_linearVelocity.x+=e*a,c.m_linearVelocity.y+=e*r,c.m_angularVelocity+=p*(h*r-k*a+this.L+this.h.z)):(this.h.D(),this.L=0)};fj.prototype.InitVelocityConstraints=fj.prototype.la;
fj.prototype.ja=function(a){var b=this.m_bodyA,c=this.m_bodyB,d,e,f,g,h,k=b.m_linearVelocity,m=b.m_angularVelocity,p=c.m_linearVelocity,r=c.m_angularVelocity,u=b.m_invMass,v=c.m_invMass,A=b.m_invI,B=c.m_invI;this.ob&&3!=this.J&&(f=this.Ya*-(r-m-this.fb),g=this.L,a=a.dt*this.Cj,this.L=Kh(this.L+f,-a,a),f=this.L-g,m-=A*f,r+=B*f);if(this.Qa&&0!=this.J){d=b.m_xf.R;f=this.m_localAnchor1.x-b.m_sweep.localCenter.x;g=this.m_localAnchor1.y-b.m_sweep.localCenter.y;e=d.col1.x*f+d.col2.x*g;g=d.col1.y*f+d.col2.y*
g;f=e;d=c.m_xf.R;a=this.m_localAnchor2.x-c.m_sweep.localCenter.x;h=this.m_localAnchor2.y-c.m_sweep.localCenter.y;e=d.col1.x*a+d.col2.x*h;h=d.col1.y*a+d.col2.y*h;a=e;e=p.x+-r*h-k.x- -m*g;var E=p.y+r*a-k.y-m*f;this.m_mass.fe(this.va,-e,-E,-(r-m));3==this.J?this.h.vb(this.va):1==this.J?(d=this.h.z+this.va.z,0>d&&(this.m_mass.pd(this.kc,-e,-E),this.va.x=this.kc.x,this.va.y=this.kc.y,this.va.z=-this.h.z,this.h.x+=this.kc.x,this.h.y+=this.kc.y,this.h.z=0)):2==this.J&&(d=this.h.z+this.va.z,0<d&&(this.m_mass.pd(this.kc,
-e,-E),this.va.x=this.kc.x,this.va.y=this.kc.y,this.va.z=-this.h.z,this.h.x+=this.kc.x,this.h.y+=this.kc.y,this.h.z=0));k.x-=u*this.va.x;k.y-=u*this.va.y;m-=A*(f*this.va.y-g*this.va.x+this.va.z);p.x+=v*this.va.x;p.y+=v*this.va.y;r+=B*(a*this.va.y-h*this.va.x+this.va.z)}else d=b.m_xf.R,f=this.m_localAnchor1.x-b.m_sweep.localCenter.x,g=this.m_localAnchor1.y-b.m_sweep.localCenter.y,e=d.col1.x*f+d.col2.x*g,g=d.col1.y*f+d.col2.y*g,f=e,d=c.m_xf.R,a=this.m_localAnchor2.x-c.m_sweep.localCenter.x,h=this.m_localAnchor2.y-
c.m_sweep.localCenter.y,e=d.col1.x*a+d.col2.x*h,h=d.col1.y*a+d.col2.y*h,a=e,this.m_mass.pd(this.Nb,-(p.x+-r*h-k.x- -m*g),-(p.y+r*a-k.y-m*f)),this.h.x+=this.Nb.x,this.h.y+=this.Nb.y,k.x-=u*this.Nb.x,k.y-=u*this.Nb.y,m-=A*(f*this.Nb.y-g*this.Nb.x),p.x+=v*this.Nb.x,p.y+=v*this.Nb.y,r+=B*(a*this.Nb.y-h*this.Nb.x);b.m_linearVelocity.m(k);b.m_angularVelocity=m;c.m_linearVelocity.m(p);c.m_angularVelocity=r};fj.prototype.SolveVelocityConstraints=fj.prototype.ja;var gj=new P;
fj.prototype.ia=function(){var a,b,c=this.m_bodyA,d=this.m_bodyB,e=0,f,g,h;if(this.Qa&&0!=this.J){a=d.m_sweep.a-c.m_sweep.a-this.Yf;var k=0;3==this.J?(a=Kh(a-this.Ie,-kh,kh),k=-this.Ya*a,e=Eh(a)):1==this.J?(a-=this.Ie,e=-a,a=Kh(a+jh,-kh,0),k=-this.Ya*a):2==this.J&&(e=a-=this.Zf,a=Kh(a-jh,0,kh),k=-this.Ya*a);c.m_sweep.a-=c.m_invI*k;d.m_sweep.a+=d.m_invI*k;c.ga();d.ga()}b=c.m_xf.R;k=this.m_localAnchor1.x-c.m_sweep.localCenter.x;a=this.m_localAnchor1.y-c.m_sweep.localCenter.y;f=b.col1.x*k+b.col2.x*a;
a=b.col1.y*k+b.col2.y*a;k=f;b=d.m_xf.R;var m=this.m_localAnchor2.x-d.m_sweep.localCenter.x,p=this.m_localAnchor2.y-d.m_sweep.localCenter.y;f=b.col1.x*m+b.col2.x*p;p=b.col1.y*m+b.col2.y*p;m=f;g=d.m_sweep.c.x+m-c.m_sweep.c.x-k;h=d.m_sweep.c.y+p-c.m_sweep.c.y-a;var r=g*g+h*h;b=Math.sqrt(r);f=c.m_invMass;var u=d.m_invMass,v=c.m_invI,A=d.m_invI;r>.05*.05&&(r=1/(f+u),g=r*-g,h=r*-h,c.m_sweep.c.x-=.5*f*g,c.m_sweep.c.y-=.5*f*h,d.m_sweep.c.x+=.5*u*g,d.m_sweep.c.y+=.5*u*h,g=d.m_sweep.c.x+m-c.m_sweep.c.x-k,h=
d.m_sweep.c.y+p-c.m_sweep.c.y-a);this.Gb.col1.x=f+u;this.Gb.col2.x=0;this.Gb.col1.y=0;this.Gb.col2.y=f+u;this.Hb.col1.x=v*a*a;this.Hb.col2.x=-v*k*a;this.Hb.col1.y=-v*k*a;this.Hb.col2.y=v*k*k;this.tf.col1.x=A*p*p;this.tf.col2.x=-A*m*p;this.tf.col1.y=-A*m*p;this.tf.col2.y=A*m*m;this.K.qc(this.Gb);this.K.Yd(this.Hb);this.K.Yd(this.tf);this.K.Xb(gj,-g,-h);g=gj.x;h=gj.y;c.m_sweep.c.x-=c.m_invMass*g;c.m_sweep.c.y-=c.m_invMass*h;c.m_sweep.a-=c.m_invI*(k*h-a*g);d.m_sweep.c.x+=d.m_invMass*g;d.m_sweep.c.y+=
d.m_invMass*h;d.m_sweep.a+=d.m_invI*(m*h-p*g);c.ga();d.ga();return.005>=b&&e<=jh};fj.prototype.SolvePositionConstraints=fj.prototype.ia;fj.prototype.J=0;fj.prototype.i={names:[{name:'b2RevoluteJoint',j:Jb,kind:l}]};y(Jb,fj);function hj(a){this.cb=new P;this.eb=new P;this.h=new cj;this.m_mass=new dj;T.call(this,a);this.cb.m(a.localAnchorA);this.eb.m(a.localAnchorB);this.Yf=a.referenceAngle;this.h.D();this.m_mass=new dj}Xe(hj,T);hj.prototype.ta=function(){return this.m_bodyA.fa(this.cb)};hj.prototype.GetAnchorA=hj.prototype.ta;hj.prototype.ua=function(){return this.m_bodyB.fa(this.eb)};hj.prototype.GetAnchorB=hj.prototype.ua;hj.prototype.xa=function(a){return new P(a*this.h.x,a*this.h.y)};
hj.prototype.GetReactionForce=hj.prototype.xa;hj.prototype.ya=function(a){return a*this.h.z};hj.prototype.GetReactionTorque=hj.prototype.ya;
hj.prototype.la=function(a){var b,c,d=this.m_bodyA,e=this.m_bodyB;b=d.m_xf.R;var f=this.cb.x-d.m_sweep.localCenter.x,g=this.cb.y-d.m_sweep.localCenter.y;c=b.col1.x*f+b.col2.x*g;g=b.col1.y*f+b.col2.y*g;f=c;b=e.m_xf.R;var h=this.eb.x-e.m_sweep.localCenter.x,k=this.eb.y-e.m_sweep.localCenter.y;c=b.col1.x*h+b.col2.x*k;k=b.col1.y*h+b.col2.y*k;h=c;b=d.m_invMass;c=e.m_invMass;var m=d.m_invI,p=e.m_invI;this.m_mass.col1.x=b+c+g*g*m+k*k*p;this.m_mass.col2.x=-g*f*m-k*h*p;this.m_mass.col3.x=-g*m-k*p;this.m_mass.col1.y=
this.m_mass.col2.x;this.m_mass.col2.y=b+c+f*f*m+h*h*p;this.m_mass.col3.y=f*m+h*p;this.m_mass.col1.z=this.m_mass.col3.x;this.m_mass.col2.z=this.m_mass.col3.y;this.m_mass.col3.z=m+p;a.warmStarting?(this.h.x*=a.dtRatio,this.h.y*=a.dtRatio,this.h.z*=a.dtRatio,d.m_linearVelocity.x-=b*this.h.x,d.m_linearVelocity.y-=b*this.h.y,d.m_angularVelocity-=m*(f*this.h.y-g*this.h.x+this.h.z),e.m_linearVelocity.x+=c*this.h.x,e.m_linearVelocity.y+=c*this.h.y,e.m_angularVelocity+=p*(h*this.h.y-k*this.h.x+this.h.z)):
this.h.D()};hj.prototype.InitVelocityConstraints=hj.prototype.la;
hj.prototype.ja=function(){var a,b,c=this.m_bodyA,d=this.m_bodyB,e=c.m_linearVelocity,f=c.m_angularVelocity,g=d.m_linearVelocity,h=d.m_angularVelocity,k=c.m_invMass,m=d.m_invMass,p=c.m_invI,r=d.m_invI;a=c.m_xf.R;var u=this.cb.x-c.m_sweep.localCenter.x,v=this.cb.y-c.m_sweep.localCenter.y;b=a.col1.x*u+a.col2.x*v;v=a.col1.y*u+a.col2.y*v;u=b;a=d.m_xf.R;var A=this.eb.x-d.m_sweep.localCenter.x,B=this.eb.y-d.m_sweep.localCenter.y;b=a.col1.x*A+a.col2.x*B;B=a.col1.y*A+a.col2.y*B;A=b;a=new cj;this.m_mass.fe(a,
-(g.x-h*B-e.x+f*v),-(g.y+h*A-e.y-f*u),-(h-f));this.h.vb(a);e.x-=k*a.x;e.y-=k*a.y;f-=p*(u*a.y-v*a.x+a.z);g.x+=m*a.x;g.y+=m*a.y;h+=r*(A*a.y-B*a.x+a.z);c.m_angularVelocity=f;d.m_angularVelocity=h};hj.prototype.SolveVelocityConstraints=hj.prototype.ja;
hj.prototype.ia=function(){var a,b,c=this.m_bodyA,d=this.m_bodyB;a=c.m_xf.R;var e=this.cb.x-c.m_sweep.localCenter.x,f=this.cb.y-c.m_sweep.localCenter.y;b=a.col1.x*e+a.col2.x*f;f=a.col1.y*e+a.col2.y*f;e=b;a=d.m_xf.R;var g=this.eb.x-d.m_sweep.localCenter.x,h=this.eb.y-d.m_sweep.localCenter.y;b=a.col1.x*g+a.col2.x*h;h=a.col1.y*g+a.col2.y*h;g=b;a=c.m_invMass;b=d.m_invMass;var k=c.m_invI,m=d.m_invI,p=d.m_sweep.c.x+g-c.m_sweep.c.x-e,r=d.m_sweep.c.y+h-c.m_sweep.c.y-f,u=d.m_sweep.a-c.m_sweep.a-this.Yf,v=
Math.sqrt(p*p+r*r),A=Eh(u);.05<v&&(k*=1,m*=1);this.m_mass.col1.x=a+b+f*f*k+h*h*m;this.m_mass.col2.x=-f*e*k-h*g*m;this.m_mass.col3.x=-f*k-h*m;this.m_mass.col1.y=this.m_mass.col2.x;this.m_mass.col2.y=a+b+e*e*k+g*g*m;this.m_mass.col3.y=e*k+g*m;this.m_mass.col1.z=this.m_mass.col3.x;this.m_mass.col2.z=this.m_mass.col3.y;this.m_mass.col3.z=k+m;var B=new cj;this.m_mass.fe(B,-p,-r,-u);c.m_sweep.c.x-=a*B.x;c.m_sweep.c.y-=a*B.y;c.m_sweep.a-=k*(e*B.y-f*B.x+B.z);d.m_sweep.c.x+=b*B.x;d.m_sweep.c.y+=b*B.y;d.m_sweep.a+=
m*(g*B.y-h*B.x+B.z);c.ga();d.ga();return.005>=v&&A<=jh};hj.prototype.SolvePositionConstraints=hj.prototype.ia;hj.prototype.i={names:[{name:'b2WeldJoint',j:Mb,kind:l}]};y(Mb,hj);function ij(){}y('Box2D.Dynamics.Joints.b2JointUtil.e_unknownJoint',0);y('Box2D.Dynamics.Joints.b2JointUtil.e_revoluteJoint',1);y('Box2D.Dynamics.Joints.b2JointUtil.e_prismaticJoint',2);y('Box2D.Dynamics.Joints.b2JointUtil.e_distanceJoint',3);y('Box2D.Dynamics.Joints.b2JointUtil.e_pulleyJoint',4);y('Box2D.Dynamics.Joints.b2JointUtil.e_mouseJoint',5);y('Box2D.Dynamics.Joints.b2JointUtil.e_gearJoint',6);y('Box2D.Dynamics.Joints.b2JointUtil.e_lineJoint',7);
y('Box2D.Dynamics.Joints.b2JointUtil.e_weldJoint',8);y('Box2D.Dynamics.Joints.b2JointUtil.e_frictionJoint',9);function jj(a){var b=null;switch(a.type){case 3:b=new Yi(a);break;case 5:b=new bj(a);break;case 2:b=new V(a);break;case 1:b=new fj(a);break;case 4:b=new ej(a);break;case 6:b=new aj(a);break;case 7:b=new U(a);break;case 8:b=new hj(a);break;case 9:b=new Zi(a)}return b}y('Box2D.Dynamics.Joints.b2JointUtil.Create',jj);ij.prototype.i={names:[{name:'b2JointUtil',j:yb,kind:l}]};y(yb,ij);function kj(){this.position=new P;this.velocity=new P;this.normal=new P;this.id=new qi}kj.prototype.i={names:[{name:'b2ContactPoint',j:ma,kind:l}]};y(ma,kj);function lj(){this.aabb=new Uh}lj.prototype.md=function(){return null==this.child1};lj.prototype.IsLeaf=lj.prototype.md;lj.prototype.i={names:[{name:'b2DynamicTreeNode',j:ua,kind:l}]};y(ua,lj);function mj(){this.Ec=this.pb=null;this.Ej=0}mj.prototype.Db=function(a,b){var c=nj(this);c.aabb.lowerBound.x=a.lowerBound.x-.1;c.aabb.lowerBound.y=a.lowerBound.y-.1;c.aabb.upperBound.x=a.upperBound.x+.1;c.aabb.upperBound.y=a.upperBound.y+.1;c.userData=b;oj(this,c);return c};mj.prototype.CreateProxy=mj.prototype.Db;mj.prototype.Eb=function(a){pj(this,a);a.parent=this.Ec;this.Ec=a};mj.prototype.DestroyProxy=mj.prototype.Eb;
mj.prototype.de=function(a,b,c){ih(a.md());if(a.aabb.ng(b))return!1;pj(this,a);var d=.1+2*(0<c.x?c.x:-c.x);c=.1+2*(0<c.y?c.y:-c.y);a.aabb.lowerBound.x=b.lowerBound.x-d;a.aabb.lowerBound.y=b.lowerBound.y-c;a.aabb.upperBound.x=b.upperBound.x+d;a.aabb.upperBound.y=b.upperBound.y+c;oj(this,a);return!0};mj.prototype.MoveProxy=mj.prototype.de;
mj.prototype.uf=function(a){if(null!=this.pb)for(var b=0;b<a;b++){for(var c=this.pb,d=0;0==c.md();)c=this.Ej>>d&1?c.child2:c.child1,d=d+1&31;++this.Ej;pj(this,c);oj(this,c)}};mj.prototype.Rebalance=mj.prototype.uf;mj.prototype.Ub=function(a){return a.aabb};mj.prototype.GetFatAABB=mj.prototype.Ub;mj.prototype.Fa=function(a){return a.userData};mj.prototype.GetUserData=mj.prototype.Fa;
mj.prototype.oc=function(a,b){if(null!=this.pb){var c=[],d=0;for(c[d++]=this.pb;0<d;){var e=c[--d];if(e.aabb.rc(b))if(e.md()){if(!a(e))break}else c[d++]=e.child1,c[d++]=e.child2}}};mj.prototype.Query=mj.prototype.oc;
mj.prototype.ma=function(a,b){if(null!=this.pb){var c=b.p1,d=b.p2,e=Ch(c,d);e.Ma();var e=xh(1,e),f=Fh(e),g=b.maxFraction,h=new Uh,k;k=c.x+g*(d.x-c.x);g=c.y+g*(d.y-c.y);h.lowerBound.x=Math.min(c.x,k);h.lowerBound.y=Math.min(c.y,g);h.upperBound.x=Math.max(c.x,k);h.upperBound.y=Math.max(c.y,g);var m=[],p=0;for(m[p++]=this.pb;0<p;)if(k=m[--p],0!=k.aabb.rc(h)){var g=k.aabb.df(),r=k.aabb.Qk();if(!(0<Math.abs(e.x*(c.x-g.x)+e.y*(c.y-g.y))-f.x*r.x-f.y*r.y))if(k.md()){g=new mi;g.p1=b.p1;g.p2=b.p2;g.maxFraction=
b.maxFraction;g=Number(a(g,k));if(0==g)break;k=c.x+g*(d.x-c.x);g=c.y+g*(d.y-c.y);h.lowerBound.x=Math.min(c.x,k);h.lowerBound.y=Math.min(c.y,g);h.upperBound.x=Math.max(c.x,k);h.upperBound.y=Math.max(c.y,g)}else m[p++]=k.child1,m[p++]=k.child2}}};mj.prototype.RayCast=mj.prototype.ma;function nj(a){if(a.Ec){var b=a.Ec;a.Ec=b.parent;b.parent=null;b.child1=null;b.child2=null;return b}return new lj}
function oj(a,b){if(null==a.pb)a.pb=b,a.pb.parent=null;else{var c=b.aabb.df(),d=a.pb;if(0==d.md()){do var e=d.child1,d=d.child2,d=Math.abs((e.aabb.lowerBound.x+e.aabb.upperBound.x)/2-c.x)+Math.abs((e.aabb.lowerBound.y+e.aabb.upperBound.y)/2-c.y)<Math.abs((d.aabb.lowerBound.x+d.aabb.upperBound.x)/2-c.x)+Math.abs((d.aabb.lowerBound.y+d.aabb.upperBound.y)/2-c.y)?e:d;while(0==d.md())}c=d.parent;e=nj(a);e.parent=c;e.userData=null;e.aabb.Ye(b.aabb,d.aabb);if(c){d.parent.child1==d?c.child1=e:c.child2=e;
e.child1=d;e.child2=b;d.parent=e;b.parent=e;do{if(c.aabb.ng(e.aabb))break;c.aabb.Ye(c.child1.aabb,c.child2.aabb);e=c;c=c.parent}while(c)}else e.child1=d,e.child2=b,d.parent=e,b.parent=e,a.pb=e}}
function pj(a,b){if(b==a.pb)a.pb=null;else{var c=b.parent,d=c.parent,e;e=c.child1==b?c.child2:c.child1;if(d)for(d.child1==c?d.child1=e:d.child2=e,e.parent=d,c.parent=a.Ec,a.Ec=c;d;){c=d.aabb;d.aabb=Vh(d.child1.aabb,d.child2.aabb);if(c.ng(d.aabb))break;d=d.parent}else a.pb=e,e.parent=null,c.parent=a.Ec,a.Ec=c}}mj.prototype.Ej=0;mj.prototype.i={names:[{name:'b2DynamicTree',j:ra,kind:l}]};y(ra,mj);function qj(){}qj.prototype.i={names:[{name:'b2DynamicTreePair',j:wa,kind:l}]};y(wa,qj);function rj(){}x=rj.prototype;x.Db=n();x.Eb=n();x.de=n();x.rc=n();x.Fa=n();x.Ub=n();x.jf=n();x.pi=n();x.oc=n();x.ma=n();x.he=n();x.uf=n();x.i={names:[{name:'IBroadPhase',j:da,kind:qe}]};y(da,rj);function sj(){this.qb=new mj;this.ad=[];this.Xf=[]}sj.prototype.Db=function(a,b){var c=this.qb.Db(a,b);++this.Gj;return this.ad[this.ad.length]=c};sj.prototype.CreateProxy=sj.prototype.Db;sj.prototype.Eb=function(a){this.ad.splice(this.ad.indexOf(a),1);--this.Gj;this.qb.Eb(a)};sj.prototype.DestroyProxy=sj.prototype.Eb;sj.prototype.de=function(a,b,c){this.qb.de(a,b,c)&&(this.ad[this.ad.length]=a)};sj.prototype.MoveProxy=sj.prototype.de;
sj.prototype.rc=function(a,b){var c=this.qb.Ub(a),d=this.qb.Ub(b);return c.rc(d)};sj.prototype.TestOverlap=sj.prototype.rc;sj.prototype.Fa=function(a){return this.qb.Fa(a)};sj.prototype.GetUserData=sj.prototype.Fa;sj.prototype.Ub=function(a){return this.qb.Ub(a)};sj.prototype.GetFatAABB=sj.prototype.Ub;sj.prototype.jf=t('Gj');sj.prototype.GetProxyCount=sj.prototype.jf;
sj.prototype.pi=function(a){function b(a){if(a==c.lh)return!0;c.Nd==c.Xf.length&&(c.Xf[c.Nd]=new qj);var b=c.Xf[c.Nd];a<c.lh?(b.proxyA=a,b.proxyB=c.lh):(b.proxyB=a,b.proxyA=c.lh);++c.Nd;return!0}var c=this;this.Nd=0;var d=this.ad,e;for(e in d){var f=d[e];this.lh=f;f=this.qb.Ub(f);this.qb.oc(gf(b,this,'QueryCallback'),f)}for(d=this.ad.length=0;d<this.Nd;){e=this.Xf[d];var f=this.qb.Fa(e.proxyA),g=this.qb.Fa(e.proxyB);a(f,g);for(++d;d<this.Nd;){f=this.Xf[d];if(f.proxyA!=e.proxyA||f.proxyB!=e.proxyB)break;
++d}}};sj.prototype.UpdatePairs=sj.prototype.pi;sj.prototype.oc=function(a,b){this.qb.oc(a,b)};sj.prototype.Query=sj.prototype.oc;sj.prototype.ma=function(a,b){this.qb.ma(a,b)};sj.prototype.RayCast=sj.prototype.ma;sj.prototype.he=n();sj.prototype.Validate=sj.prototype.he;sj.prototype.uf=function(a){this.qb.uf(a)};sj.prototype.Rebalance=sj.prototype.uf;sj.prototype.Gj=0;sj.prototype.Nd=0;sj.prototype.i={names:[{name:'b2DynamicTreeBroadPhase',j:ta,kind:l}],Oa:[rj]};y(ta,sj);function tj(){this.v=new P;this.id=new qi}tj.prototype.Set=function(a){this.v.m(a.v);this.id.Set(a.id)};tj.prototype.Set=tj.prototype.Set;tj.prototype.i={names:[{name:'ClipVertex',j:ba,kind:l}]};y(ba,tj);function uj(){}y('Box2D.Collision.b2Collision.b2_nullFeature',255);function vj(a,b,c,d){var e,f=0;e=b[0];var g=e.v;e=b[1];var h=e.v,k=c.x*g.x+c.y*g.y-d;e=c.x*h.x+c.y*h.y-d;0>=k&&a[f++].Set(b[0]);0>=e&&a[f++].Set(b[1]);0>k*e&&(c=k/(k-e),e=a[f],e=e.v,e.x=g.x+c*(h.x-g.x),e.y=g.y+c*(h.y-g.y),e=a[f],e.id=(0<k?b[0]:b[1]).id,++f);return f}y('Box2D.Collision.b2Collision.ClipSegmentToLine',vj);
function wj(a,b,c,d,e){var f=a.m_vertices,g=a.m_normals;a=d.T;d=d.m_vertices;var h,k;h=b.R;k=g[c];var g=h.col1.x*k.x+h.col2.x*k.y,m=h.col1.y*k.x+h.col2.y*k.y;h=e.R;var p=h.col1.x*g+h.col1.y*m;h=h.col2.x*g+h.col2.y*m;for(var r=0,u=Number.MAX_VALUE,v=0;v<a;++v)k=d[v],k=k.x*p+k.y*h,k<u&&(u=k,r=v);k=f[c];h=b.R;c=b.position.x+(h.col1.x*k.x+h.col2.x*k.y);b=b.position.y+(h.col1.y*k.x+h.col2.y*k.y);k=d[r];h=e.R;return(e.position.x+(h.col1.x*k.x+h.col2.x*k.y)-c)*g+(e.position.y+(h.col1.y*k.x+h.col2.y*k.y)-
b)*m}y('Box2D.Collision.b2Collision.EdgeSeparation',wj);
function xj(a,b,c,d,e){var f=b.T,g=b.m_normals,h,k;k=e.R;h=d.m_centroid;var m=e.position.x+(k.col1.x*h.x+k.col2.x*h.y),p=e.position.y+(k.col1.y*h.x+k.col2.y*h.y);k=c.R;h=b.m_centroid;m-=c.position.x+(k.col1.x*h.x+k.col2.x*h.y);p-=c.position.y+(k.col1.y*h.x+k.col2.y*h.y);k=m*c.R.col1.x+p*c.R.col1.y;for(var p=m*c.R.col2.x+p*c.R.col2.y,m=0,r=-Number.MAX_VALUE,u=0;u<f;++u)h=g[u],h=h.x*k+h.y*p,h>r&&(r=h,m=u);g=wj(b,c,m,d,e);r=0<=m-1?m-1:f-1;k=wj(b,c,r,d,e);u=m+1<f?m+1:0;p=wj(b,c,u,d,e);if(k>g&&k>p)h=-1;
else if(p>g)h=1,r=u,k=p;else return a[0]=m,g;for(;;)if(m=-1==h?0<=r-1?r-1:f-1:r+1<f?r+1:0,g=wj(b,c,m,d,e),g>k)r=m,k=g;else break;a[0]=r;return k}y('Box2D.Collision.b2Collision.FindMaxSeparation',xj);
function yj(a,b,c,d,e,f){var g=b.m_normals,h=e.T;b=e.m_vertices;e=e.m_normals;var k;k=c.R;c=g[d];var g=k.col1.x*c.x+k.col2.x*c.y,m=k.col1.y*c.x+k.col2.y*c.y;k=f.R;c=k.col1.x*g+k.col1.y*m;m=k.col2.x*g+k.col2.y*m;g=c;k=0;for(var p=Number.MAX_VALUE,r=0;r<h;++r)c=e[r],c=g*c.x+m*c.y,c<p&&(p=c,k=r);e=k;g=e+1<h?e+1:0;h=a[0];c=b[e];k=f.R;h.v.x=f.position.x+(k.col1.x*c.x+k.col2.x*c.y);h.v.y=f.position.y+(k.col1.y*c.x+k.col2.y*c.y);h.id.features.referenceEdge=d;h.id.features.incidentEdge=e;h.id.features.incidentVertex=
0;h=a[1];c=b[g];k=f.R;h.v.x=f.position.x+(k.col1.x*c.x+k.col2.x*c.y);h.v.y=f.position.y+(k.col1.y*c.x+k.col2.y*c.y);h.id.features.referenceEdge=d;h.id.features.incidentEdge=g;h.id.features.incidentVertex=1}y('Box2D.Collision.b2Collision.FindIncidentEdge',yj);function zj(){var a=Array(2);a[0]=new tj;a[1]=new tj;return a}var Aj=Array(1),Bj=Array(1),Cj=new P,Dj=new P,Ej=new P,Fj=new P,Gj=new P,Hj=new P,Ij=new P,Jj=new P;
function Kj(a,b,c,d,e){var f;a.ha=0;var g=b.m_radius+d.m_radius,h;Aj[0]=0;var k=xj(Aj,b,c,d,e);h=Number(Aj[0]);if(!(k>g)){Bj[0]=0;var m=xj(Bj,d,e,b,c);f=Number(Bj[0]);if(!(m>g||(m>.98*k+.001?(k=d,d=b,b=e,m=f,a.C=4,h=1):(k=b,b=c,c=e,m=h,a.C=2,h=0),f=Lj,yj(f,k,b,m,d,c),d=k.m_vertices,e=d[m],d=m+1<k.T?d[m+1>>0]:d[0],Cj.Set(d.x-e.x,d.y-e.y),Cj.Ma(),Dj.x=Cj.y,Dj.y=-Cj.x,Ej.Set(.5*(e.x+d.x),.5*(e.y+d.y)),k=b.R,Gj.x=k.col1.x*Cj.x+k.col2.x*Cj.y,Gj.y=k.col1.y*Cj.x+k.col2.y*Cj.y,Hj.x=-Gj.x,Hj.y=-Gj.y,Fj.x=
Gj.y,Fj.y=-Gj.x,Ij.x=b.position.x+(k.col1.x*e.x+k.col2.x*e.y),Ij.y=b.position.y+(k.col1.y*e.x+k.col2.y*e.y),Jj.x=b.position.x+(k.col1.x*d.x+k.col2.x*d.y),Jj.y=b.position.y+(k.col1.y*d.x+k.col2.y*d.y),b=Fj.x*Ij.x+Fj.y*Ij.y,k=Gj.x*Jj.x+Gj.y*Jj.y+g,d=Mj,e=Nj,f=vj(d,f,Hj,-Gj.x*Ij.x-Gj.y*Ij.y+g),2>f||(f=vj(e,d,Gj,k),2>f)))){a.m_localPlaneNormal.m(Dj);a.m_localPoint.m(Ej);for(m=d=0;2>m;++m)if(f=e[m],Fj.x*f.v.x+Fj.y*f.v.y-b<=g){var p=a.m_points[d],k=c.R,r=f.v.x-c.position.x,u=f.v.y-c.position.y;p.m_localPoint.x=
r*k.col1.x+u*k.col1.y;p.m_localPoint.y=r*k.col2.x+u*k.col2.y;p.m_id.Set(f.id);p.m_id.features.flip=h;++d}a.ha=d}}}y('Box2D.Collision.b2Collision.CollidePolygons',Kj);
function Oj(a,b,c,d,e){a.ha=0;var f,g;f=c.R;g=b.m_p;var h=c.position.x+(f.col1.x*g.x+f.col2.x*g.y);c=c.position.y+(f.col1.y*g.x+f.col2.y*g.y);f=e.R;g=d.m_p;h=e.position.x+(f.col1.x*g.x+f.col2.x*g.y)-h;e=e.position.y+(f.col1.y*g.x+f.col2.y*g.y)-c;f=b.m_radius+d.m_radius;h*h+e*e>f*f||(a.C=1,a.m_localPoint.m(b.m_p),a.m_localPlaneNormal.D(),a.ha=1,a.m_points[0].m_localPoint.m(d.m_p),a.m_points[0].m_id.key=0)}y('Box2D.Collision.b2Collision.CollideCircles',Oj);
function Pj(a,b,c,d,e){a.ha=0;var f,g,h,k;k=e.R;h=d.m_p;var m=e.position.y+(k.col1.y*h.x+k.col2.y*h.y);f=e.position.x+(k.col1.x*h.x+k.col2.x*h.y)-c.position.x;g=m-c.position.y;k=c.R;c=f*k.col1.x+g*k.col1.y;k=f*k.col2.x+g*k.col2.y;var p=0;e=-Number.MAX_VALUE;var m=b.m_radius+d.m_radius,r=b.T,u=b.m_vertices;b=b.m_normals;for(var v=0;v<r;++v){h=u[v];f=c-h.x;g=k-h.y;h=b[v];h=h.x*f+h.y*g;if(h>m)return;h>e&&(e=h,p=v)}h=p;f=u[h];r=u[h+1<r?h+1:0];if(e<Number.MIN_VALUE)a.ha=1,a.C=2,a.m_localPlaneNormal.m(b[p]),
a.m_localPoint.x=.5*(f.x+r.x),a.m_localPoint.y=.5*(f.y+r.y);else if(e=(c-r.x)*(f.x-r.x)+(k-r.y)*(f.y-r.y),0>=(c-f.x)*(r.x-f.x)+(k-f.y)*(r.y-f.y)){if((c-f.x)*(c-f.x)+(k-f.y)*(k-f.y)>m*m)return;a.ha=1;a.C=2;a.m_localPlaneNormal.x=c-f.x;a.m_localPlaneNormal.y=k-f.y;a.m_localPlaneNormal.Ma();a.m_localPoint.m(f)}else if(0>=e){if((c-r.x)*(c-r.x)+(k-r.y)*(k-r.y)>m*m)return;a.ha=1;a.C=2;a.m_localPlaneNormal.x=c-r.x;a.m_localPlaneNormal.y=k-r.y;a.m_localPlaneNormal.Ma();a.m_localPoint.m(r)}else{p=.5*(f.x+
r.x);f=.5*(f.y+r.y);e=(c-p)*b[h].x+(k-f)*b[h].y;if(e>m)return;a.ha=1;a.C=2;a.m_localPlaneNormal.x=Number(b[h].x);a.m_localPlaneNormal.y=Number(b[h].y);a.m_localPlaneNormal.Ma();a.m_localPoint.Set(p,f)}a.m_points[0].m_localPoint.m(d.m_p);a.m_points[0].m_id.key=0}y('Box2D.Collision.b2Collision.CollidePolygonAndCircle',Pj);
y('Box2D.Collision.b2Collision.TestOverlap',function(a,b){var c=b.lowerBound,d=a.upperBound,e=c.x-d.x,f=c.y-d.y,c=a.lowerBound,d=b.upperBound,g=c.y-d.y;return 0<e||0<f||0<c.x-d.x||0<g?!1:!0});var Lj=zj(),Mj=zj(),Nj=zj();uj.prototype.i={names:[{name:'b2Collision',j:ka,kind:l}]};y(ka,uj);function Qj(){Hi.call(this)}Xe(Qj,Hi);function Rj(){return new Qj}y('Box2D.Dynamics.Contacts.b2CircleContact.Create',Rj);function Sj(){}y('Box2D.Dynamics.Contacts.b2CircleContact.Destroy',Sj);Qj.prototype.La=function(){Oj(this.m_manifold,this.m_fixtureA.m_shape,this.m_fixtureA.m_body.m_xf,this.m_fixtureB.m_shape,this.m_fixtureB.m_body.m_xf)};Qj.prototype.Evaluate=Qj.prototype.La;Qj.prototype.i={names:[{name:'b2CircleContact',j:Wa,kind:l}]};y(Wa,Qj);function Tj(){}Tj.prototype.Mj=0;Tj.prototype.poolCount=Tj.prototype.Mj;Tj.prototype.i={names:[{name:'b2ContactRegister',j:db,kind:l}]};y(db,Tj);function Uj(){Hi.call(this)}Xe(Uj,Hi);function Vj(){return new Uj}y('Box2D.Dynamics.Contacts.b2EdgeAndCircleContact.Create',Vj);function Wj(){}y('Box2D.Dynamics.Contacts.b2EdgeAndCircleContact.Destroy',Wj);Uj.prototype.La=n();Uj.prototype.Evaluate=Uj.prototype.La;Uj.prototype.i={names:[{name:'b2EdgeAndCircleContact',j:fb,kind:l}]};y(fb,Uj);function Xj(){Hi.call(this)}Xe(Xj,Hi);function Yj(){return new Xj}y('Box2D.Dynamics.Contacts.b2PolyAndCircleContact.Create',Yj);function Zj(){}y('Box2D.Dynamics.Contacts.b2PolyAndCircleContact.Destroy',Zj);Xj.prototype.Va=function(a,b){a='undefined'!==typeof a?a:null;b='undefined'!==typeof b?b:null;Xj.o.Va.apply(this,[a,b]);ih(1==a.M());ih(0==b.M())};Xj.prototype.Reset=Xj.prototype.Va;
Xj.prototype.La=function(){Pj(this.m_manifold,this.m_fixtureA.m_shape,this.m_fixtureA.m_body.m_xf,this.m_fixtureB.m_shape,this.m_fixtureB.m_body.m_xf)};Xj.prototype.Evaluate=Xj.prototype.La;Xj.prototype.i={names:[{name:'b2PolyAndCircleContact',j:gb,kind:l}]};y(gb,Xj);function ak(){Hi.call(this)}Xe(ak,Hi);function bk(){return new ak}y('Box2D.Dynamics.Contacts.b2PolyAndEdgeContact.Create',bk);function ck(){}y('Box2D.Dynamics.Contacts.b2PolyAndEdgeContact.Destroy',ck);ak.prototype.Va=function(a,b){a='undefined'!==typeof a?a:null;b='undefined'!==typeof b?b:null;ak.o.Va.apply(this,[a,b]);ih(1==a.M());ih(2==b.M())};ak.prototype.Reset=ak.prototype.Va;ak.prototype.La=n();ak.prototype.Evaluate=ak.prototype.La;ak.prototype.i={names:[{name:'b2PolyAndEdgeContact',j:hb,kind:l}]};
y(hb,ak);function dk(){Hi.call(this)}Xe(dk,Hi);function ek(){return new dk}y('Box2D.Dynamics.Contacts.b2PolygonContact.Create',ek);function fk(){}y('Box2D.Dynamics.Contacts.b2PolygonContact.Destroy',fk);dk.prototype.La=function(){Kj(this.m_manifold,this.m_fixtureA.m_shape,this.m_fixtureA.m_body.m_xf,this.m_fixtureB.m_shape,this.m_fixtureB.m_body.m_xf)};dk.prototype.Evaluate=dk.prototype.La;dk.prototype.i={names:[{name:'b2PolygonContact',j:ib,kind:l}]};y(ib,dk);function gk(a){this.m_allocator=a;this.Wk()}gk.prototype.Zd=function(a,b,c,d){this.ic[c][d].createFcn=a;this.ic[c][d].destroyFcn=b;this.ic[c][d].primary=!0;c!=d&&(this.ic[d][c].createFcn=a,this.ic[d][c].destroyFcn=b,this.ic[d][c].primary=!1)};gk.prototype.AddType=gk.prototype.Zd;gk.prototype.Wk=function(){this.ic=Array(3);for(var a=0;3>a;a++){this.ic[a]=Array(3);for(var b=0;3>b;b++)this.ic[a][b]=new Tj}this.Zd(Rj,Sj,0,0);this.Zd(Yj,Zj,1,0);this.Zd(ek,fk,1,1);this.Zd(Vj,Wj,2,0);this.Zd(bk,ck,1,2)};
gk.prototype.InitializeRegisters=gk.prototype.Wk;gk.prototype.Ze=function(a,b){var c=a.M(),d=b.M(),c=this.ic[c][d];if(c.pool)return d=c.pool,c.pool=d.m_next,c.Mj--,d.Va(a,b),d;d=c.createFcn;return null!=d?(c.primary?(d=d(this.m_allocator),d.Va(a,b)):(d=d(this.m_allocator),d.Va(b,a)),d):null};gk.prototype.Create=gk.prototype.Ze;
gk.prototype.ib=function(a){0<a.m_manifold.ha&&(a.m_fixtureA.m_body.H(!0),a.m_fixtureB.m_body.H(!0));var b=a.m_fixtureA.M(),c=a.m_fixtureB.M(),b=this.ic[b][c];b.Mj++;a.m_next=b.pool;b.pool=a;b=b.destroyFcn;b(a,this.m_allocator)};gk.prototype.Destroy=gk.prototype.ib;gk.prototype.i={names:[{name:'b2ContactFactory',j:cb,kind:l}]};y(cb,gk);function hk(){}hk.prototype.Qc=function(a,b){var c=a.Vh(),d=b.Vh();return c.zb==d.zb&&0!=c.zb?0<c.zb:0!=(c.Ne&d.Ae)&&0!=(c.Ae&d.Ne)};hk.prototype.ShouldCollide=hk.prototype.Qc;hk.prototype.bp=function(a,b){return a?this.Qc(a,b):!0};hk.prototype.RayCollide=hk.prototype.bp;var ik=new hk;hk.prototype.i={names:[{name:'b2ContactFilter',j:Rb,kind:l}]};y(Rb,hk);function jk(){}jk.prototype.Mn=n();jk.prototype.BeginContact=jk.prototype.Mn;jk.prototype.Un=n();jk.prototype.EndContact=jk.prototype.Un;jk.prototype.ug=n();jk.prototype.PreSolve=jk.prototype.ug;jk.prototype.tg=n();jk.prototype.PostSolve=jk.prototype.tg;var kk=new jk;jk.prototype.i={names:[{name:'b2ContactListener',j:Tb,kind:l}]};y(Tb,jk);function lk(){this.m_world=null;this.Ba=0;this.m_contactFilter=ik;this.m_contactListener=kk;this.m_contactFactory=new gk(this.m_allocator);this.m_broadPhase=new sj}
lk.prototype.zk=function(a,b){var c=a,d=b,e=c.m_body,f=d.m_body;if(e!=f){for(var g=f.m_contactList;g;){if(g.other==e){var h=g.contact.m_fixtureA,k=g.contact.m_fixtureB;if(h==c&&k==d||h==d&&k==c)return}g=g.next}0!=f.Qc(e)&&0!=this.m_contactFilter.Qc(c,d)&&(g=this.m_contactFactory.Ze(c,d),c=g.m_fixtureA,d=g.m_fixtureB,e=c.m_body,f=d.m_body,g.m_prev=null,g.m_next=this.m_world.m_contactList,null!=this.m_world.m_contactList&&(this.m_world.m_contactList.m_prev=g),this.m_world.m_contactList=g,g.m_nodeA.contact=
g,g.m_nodeA.other=f,g.m_nodeA.prev=null,g.m_nodeA.next=e.m_contactList,null!=e.m_contactList&&(e.m_contactList.prev=g.m_nodeA),e.m_contactList=g.m_nodeA,g.m_nodeB.contact=g,g.m_nodeB.other=e,g.m_nodeB.prev=null,g.m_nodeB.next=f.m_contactList,null!=f.m_contactList&&(f.m_contactList.prev=g.m_nodeB),f.m_contactList=g.m_nodeB,++this.m_world.Ba)}};lk.prototype.AddPair=lk.prototype.zk;lk.prototype.bf=function(){this.m_broadPhase.pi(gf(this.zk,this,'AddPair'))};lk.prototype.FindNewContacts=lk.prototype.bf;
new kj;
lk.prototype.ib=function(a){var b=a.m_fixtureA.m_body,c=a.m_fixtureB.m_body;a.rf();a.m_prev&&(a.m_prev.m_next=a.m_next);a.m_next&&(a.m_next.m_prev=a.m_prev);a==this.m_world.m_contactList&&(this.m_world.m_contactList=a.m_next);a.m_nodeA.prev&&(a.m_nodeA.prev.next=a.m_nodeA.next);a.m_nodeA.next&&(a.m_nodeA.next.prev=a.m_nodeA.prev);a.m_nodeA==b.m_contactList&&(b.m_contactList=a.m_nodeA.next);a.m_nodeB.prev&&(a.m_nodeB.prev.next=a.m_nodeB.next);a.m_nodeB.next&&(a.m_nodeB.next.prev=a.m_nodeB.prev);a.m_nodeB==
c.m_contactList&&(c.m_contactList=a.m_nodeB.next);this.m_contactFactory.ib(a);--this.Ba};lk.prototype.Destroy=lk.prototype.ib;
lk.prototype.Ek=function(){for(var a=this.m_world.m_contactList;a;){var b=a.m_fixtureA,c=a.m_fixtureB,d=b.m_body,e=c.m_body;if(0==d.Ua()&&0==e.Ua())a=a.m_next;else{if(a.l&Mi){if(0==e.Qc(d)){b=a;a=b.m_next;this.ib(b);continue}if(0==this.m_contactFilter.Qc(b,c)){b=a;a=b.m_next;this.ib(b);continue}a.l&=~Mi}0==this.m_broadPhase.rc(b.m_proxy,c.m_proxy)?(b=a,a=b.m_next,this.ib(b)):(a.Ha(this.m_contactListener),a=a.m_next)}}};lk.prototype.Collide=lk.prototype.Ek;lk.prototype.Ba=0;
lk.prototype.m_contactCount=lk.prototype.Ba;lk.prototype.i={names:[{name:'b2ContactManager',j:Ub,kind:l}]};y(Ub,lk);function W(){this.$c=0}y('Box2D.Dynamics.b2DebugDraw.e_shapeBit',1);y('Box2D.Dynamics.b2DebugDraw.e_jointBit',2);y('Box2D.Dynamics.b2DebugDraw.e_aabbBit',4);y('Box2D.Dynamics.b2DebugDraw.e_pairBit',8);y('Box2D.Dynamics.b2DebugDraw.e_centerOfMassBit',16);y('Box2D.Dynamics.b2DebugDraw.e_controllerBit',32);W.prototype.il=q('$c');W.prototype.SetFlags=W.prototype.il;W.prototype.no=t('$c');W.prototype.GetFlags=W.prototype.no;W.prototype.Ln=function(a){this.$c|=a};W.prototype.AppendFlags=W.prototype.Ln;
W.prototype.Nn=function(a){this.$c&=~a};W.prototype.ClearFlags=W.prototype.Nn;W.prototype.ll=q('m_sprite');W.prototype.SetSprite=W.prototype.ll;W.prototype.Mo=t('m_sprite');W.prototype.GetSprite=W.prototype.Mo;W.prototype.el=q('S');W.prototype.SetDrawScale=W.prototype.el;W.prototype.io=t('S');W.prototype.GetDrawScale=W.prototype.io;W.prototype.kl=q('Gc');W.prototype.SetLineThickness=W.prototype.kl;W.prototype.wo=t('Gc');W.prototype.GetLineThickness=W.prototype.wo;W.prototype.fp=q('Ac');
W.prototype.SetAlpha=W.prototype.fp;W.prototype.Wn=t('Ac');W.prototype.GetAlpha=W.prototype.Wn;W.prototype.hl=q('bh');W.prototype.SetFillAlpha=W.prototype.hl;W.prototype.jo=t('bh');W.prototype.GetFillAlpha=W.prototype.jo;W.prototype.Cp=q('Me');W.prototype.SetXFormScale=W.prototype.Cp;W.prototype.Ro=t('Me');W.prototype.GetXFormScale=W.prototype.Ro;
W.prototype.Kk=function(a,b,c){this.m_sprite.graphics.Pa(this.Gc,c.color,this.Ac);this.m_sprite.graphics.moveTo(a[0].x*this.S,a[0].y*this.S);for(c=1;c<b;c++)this.m_sprite.graphics.lineTo(a[c].x*this.S,a[c].y*this.S);this.m_sprite.graphics.lineTo(a[0].x*this.S,a[0].y*this.S)};W.prototype.DrawPolygon=W.prototype.Kk;
W.prototype.Nk=function(a,b,c){this.m_sprite.graphics.Pa(this.Gc,c.color,this.Ac);this.m_sprite.graphics.ze(c.color,this.bh);this.m_sprite.graphics.moveTo(a[0].x*this.S,a[0].y*this.S);for(c=1;c<b;c++)this.m_sprite.graphics.lineTo(a[c].x*this.S,a[c].y*this.S);this.m_sprite.graphics.lineTo(a[0].x*this.S,a[0].y*this.S);this.m_sprite.graphics.zd()};W.prototype.DrawSolidPolygon=W.prototype.Nk;
W.prototype.Tn=function(a,b,c){this.m_sprite.graphics.Pa(this.Gc,c.color,this.Ac);this.m_sprite.graphics.Ni(a.x*this.S,a.y*this.S,b*this.S)};W.prototype.DrawCircle=W.prototype.Tn;
W.prototype.Mk=function(a,b,c,d){this.m_sprite.graphics.Pa(this.Gc,d.color,this.Ac);this.m_sprite.graphics.moveTo(0,0);this.m_sprite.graphics.ze(d.color,this.bh);this.m_sprite.graphics.Ni(a.x*this.S,a.y*this.S,b*this.S);this.m_sprite.graphics.zd();this.m_sprite.graphics.moveTo(a.x*this.S,a.y*this.S);this.m_sprite.graphics.lineTo((a.x+c.x*b)*this.S,(a.y+c.y*b)*this.S)};W.prototype.DrawSolidCircle=W.prototype.Mk;
W.prototype.wb=function(a,b,c){this.m_sprite.graphics.Pa(this.Gc,c.color,this.Ac);this.m_sprite.graphics.moveTo(a.x*this.S,a.y*this.S);this.m_sprite.graphics.lineTo(b.x*this.S,b.y*this.S)};W.prototype.DrawSegment=W.prototype.wb;
W.prototype.Ok=function(a){this.m_sprite.graphics.Pa(this.Gc,16711680,this.Ac);this.m_sprite.graphics.moveTo(a.position.x*this.S,a.position.y*this.S);this.m_sprite.graphics.lineTo((a.position.x+this.Me*a.R.col1.x)*this.S,(a.position.y+this.Me*a.R.col1.y)*this.S);this.m_sprite.graphics.Pa(this.Gc,65280,this.Ac);this.m_sprite.graphics.moveTo(a.position.x*this.S,a.position.y*this.S);this.m_sprite.graphics.lineTo((a.position.x+this.Me*a.R.col2.x)*this.S,(a.position.y+this.Me*a.R.col2.y)*this.S)};
W.prototype.DrawTransform=W.prototype.Ok;x=W.prototype;x.$c=0;x.S=1;x.Gc=1;x.Ac=1;x.bh=1;x.Me=1;x.i={names:[{name:'b2DebugDraw',j:Vb,kind:l}]};y(Vb,W);function mk(){this.normalImpulses=Array(2);this.tangentImpulses=Array(2)}mk.prototype.i={names:[{name:'b2ContactImpulse',j:Sb,kind:l}]};y(Sb,mk);function nk(){this.m_bodies=[];this.m_contacts=[];this.m_joints=[]}nk.prototype.u=function(a,b,c,d,e,f){this.yj=b;this.Bj=c;this.Da=this.Ba=this.ra=0;this.m_allocator=d;this.Qm=e;this.Id=f;for(d=this.m_bodies.length;d<a;d++)this.m_bodies[d]=null;for(d=this.m_contacts.length;d<b;d++)this.m_contacts[d]=null;for(d=this.m_joints.length;d<c;d++)this.m_joints[d]=null};nk.prototype.Initialize=nk.prototype.u;nk.prototype.$d=function(){this.Da=this.Ba=this.ra=0};nk.prototype.Clear=nk.prototype.$d;
nk.prototype.Xb=function(a,b,c){var d,e,f;for(d=0;d<this.ra;++d)e=this.m_bodies[d],e.M()==Ni&&(e.m_linearVelocity.x+=a.dt*(b.x+e.m_invMass*e.m_force.x),e.m_linearVelocity.y+=a.dt*(b.y+e.m_invMass*e.m_force.y),e.m_angularVelocity+=a.dt*e.m_invI*e.m_torque,e.m_linearVelocity.Ga(Kh(1-a.dt*e.m_linearDamping,0,1)),e.m_angularVelocity*=Kh(1-a.dt*e.m_angularDamping,0,1));this.Id.u(a,this.m_contacts,this.Ba,this.m_allocator);b=this.Id;b.la(a);for(d=0;d<this.Da;++d)f=this.m_joints[d],f.la(a);for(d=0;d<a.hd;++d){for(e=
0;e<this.Da;++e)f=this.m_joints[e],f.ja(a);b.ja()}for(d=0;d<this.Da;++d)f=this.m_joints[d],f.af();b.af();for(d=0;d<this.ra;++d)if(e=this.m_bodies[d],e.M()!=Th){var g=a.dt*e.m_linearVelocity.x,h=a.dt*e.m_linearVelocity.y;4<g*g+h*h&&(e.m_linearVelocity.Ma(),e.m_linearVelocity.x=2*e.m_linearVelocity.x*a.inv_dt,e.m_linearVelocity.y=2*e.m_linearVelocity.y*a.inv_dt);g=a.dt*e.m_angularVelocity;g*g>mh&&(e.m_angularVelocity=0>e.m_angularVelocity?-lh*a.inv_dt:lh*a.inv_dt);e.m_sweep.c0.m(e.m_sweep.c);e.m_sweep.a0=
e.m_sweep.a;e.m_sweep.c.x+=a.dt*e.m_linearVelocity.x;e.m_sweep.c.y+=a.dt*e.m_linearVelocity.y;e.m_sweep.a+=a.dt*e.m_angularVelocity;e.ga()}for(d=0;d<a.fd;++d){g=b.ia(.2);h=!0;for(e=0;e<this.Da;++e)f=this.m_joints[e],f=f.ia(.2),h=h&&f;if(g&&h)break}this.ei(b.m_constraints);if(c){c=Number.MAX_VALUE;b=nh*nh;for(d=0;d<this.ra;++d)e=this.m_bodies[d],e.M()!=Th&&(0==(e.l&ok)&&(c=e.m_sleepTime=0),0==(e.l&ok)||e.m_angularVelocity*e.m_angularVelocity>b||1E-4<uh(e.m_linearVelocity,e.m_linearVelocity)?c=e.m_sleepTime=
0:(e.m_sleepTime+=a.dt,c=Gh(c,e.m_sleepTime)));if(.5<=c)for(d=0;d<this.ra;++d)e=this.m_bodies[d],e.H(!1)}};nk.prototype.Solve=nk.prototype.Xb;
nk.prototype.xf=function(a){var b,c;this.Id.u(a,this.m_contacts,this.Ba,this.m_allocator);var d=this.Id;for(b=0;b<this.Da;++b)this.m_joints[b].la(a);for(b=0;b<a.hd;++b)for(d.ja(),c=0;c<this.Da;++c)this.m_joints[c].ja(a);for(b=0;b<this.ra;++b)if(c=this.m_bodies[b],c.M()!=Th){var e=a.dt*c.m_linearVelocity.x,f=a.dt*c.m_linearVelocity.y;4<e*e+f*f&&(c.m_linearVelocity.Ma(),c.m_linearVelocity.x=2*c.m_linearVelocity.x*a.inv_dt,c.m_linearVelocity.y=2*c.m_linearVelocity.y*a.inv_dt);e=a.dt*c.m_angularVelocity;
e*e>mh&&(c.m_angularVelocity=0>c.m_angularVelocity?-lh*a.inv_dt:lh*a.inv_dt);c.m_sweep.c0.m(c.m_sweep.c);c.m_sweep.a0=c.m_sweep.a;c.m_sweep.c.x+=a.dt*c.m_linearVelocity.x;c.m_sweep.c.y+=a.dt*c.m_linearVelocity.y;c.m_sweep.a+=a.dt*c.m_angularVelocity;c.ga()}for(b=0;b<a.fd;++b){e=d.ia(.75);f=!0;for(c=0;c<this.Da;++c)var g=this.m_joints[c].ia(.2),f=f&&g;if(e&&f)break}this.ei(d.m_constraints)};nk.prototype.SolveTOI=nk.prototype.xf;var pk=new mk;
nk.prototype.ei=function(a){if(null!=this.Qm)for(var b=0;b<this.Ba;++b){for(var c=this.m_contacts[b],d=a[b],e=0;e<d.hb;++e)pk.normalImpulses[e]=d.points[e].normalImpulse,pk.tangentImpulses[e]=d.points[e].tangentImpulse;this.Qm.tg(c,pk)}};nk.prototype.Report=nk.prototype.ei;nk.prototype.Xd=function(a){a.Nm=this.ra;this.m_bodies[this.ra++]=a};nk.prototype.AddBody=nk.prototype.Xd;nk.prototype.Mh=function(a){this.m_contacts[this.Ba++]=a};nk.prototype.AddContact=nk.prototype.Mh;
nk.prototype.Nh=function(a){this.m_joints[this.Da++]=a};nk.prototype.AddJoint=nk.prototype.Nh;nk.prototype.ra=0;nk.prototype.m_bodyCount=nk.prototype.ra;nk.prototype.Da=0;nk.prototype.m_jointCount=nk.prototype.Da;nk.prototype.Ba=0;nk.prototype.m_contactCount=nk.prototype.Ba;nk.prototype.yj=0;nk.prototype.m_contactCapacity=nk.prototype.yj;nk.prototype.Bj=0;nk.prototype.m_jointCapacity=nk.prototype.Bj;nk.prototype.i={names:[{name:'b2Island',j:Zb,kind:l}]};y(Zb,nk);function X(a,b){this.rv=[];this.m_contactManager=new lk;this.Id=new Ui;this.Mm=new nk;this.m_controllerList=this.m_jointList=this.m_contactList=this.m_bodyList=this.Ca=this.Tf=null;this.fc=this.Da=this.Ba=this.ra=0;qk=rk=!0;this.Ou=b;this.dh=a;this.Lm=0;this.m_contactManager.m_world=this;var c=new Sh;this.m_groundBody=this.s(c)}var rk,qk;X.prototype.mp=q('Tf');X.prototype.SetDestructionListener=X.prototype.mp;X.prototype.jp=function(a){this.m_contactManager.m_contactFilter=a};
X.prototype.SetContactFilter=X.prototype.jp;X.prototype.hi=function(a){this.m_contactManager.m_contactListener=a};X.prototype.SetContactListener=X.prototype.hi;X.prototype.dl=q('Ca');X.prototype.SetDebugDraw=X.prototype.dl;X.prototype.hp=function(a){var b=this.m_contactManager.m_broadPhase;this.m_contactManager.m_broadPhase=a;for(var c=this.m_bodyList;c;c=c.m_next)for(var d=c.m_fixtureList;d;d=d.m_next)d.m_proxy=a.Db(b.Ub(d.m_proxy),d)};X.prototype.SetBroadPhase=X.prototype.hp;X.prototype.he=function(){this.m_contactManager.m_broadPhase.he()};
X.prototype.Validate=X.prototype.he;X.prototype.jf=function(){return this.m_contactManager.m_broadPhase.jf()};X.prototype.GetProxyCount=X.prototype.jf;X.prototype.s=function(a){if(1==this.Nc())return null;a=new Y(a,this);a.m_prev=null;if(a.m_next=this.m_bodyList)this.m_bodyList.m_prev=a;this.m_bodyList=a;++this.ra;return a};X.prototype.CreateBody=X.prototype.s;
X.prototype.Hk=function(a){if(1!=this.Nc()){for(var b=a.m_jointList;b;){var c=b,b=b.next;this.Tf&&this.Tf.uy(c.joint);this.Ph(c.joint)}for(b=a.m_controllerList;b;)c=b,b=b.nextController,c.controller.di(a);for(b=a.m_contactList;b;)c=b,b=b.next,this.m_contactManager.ib(c.contact);a.m_contactList=null;for(b=a.m_fixtureList;b;)c=b,b=b.m_next,this.Tf&&this.Tf.sy(c),c.Eb(this.m_contactManager.m_broadPhase),c.ib();a.m_fixtureList=null;a.Dc=0;a.m_prev&&(a.m_prev.m_next=a.m_next);a.m_next&&(a.m_next.m_prev=
a.m_prev);a==this.m_bodyList&&(this.m_bodyList=a.m_next);--this.ra}};X.prototype.DestroyBody=X.prototype.Hk;
X.prototype.V=function(a){var b=jj(a);b.m_prev=null;if(b.m_next=this.m_jointList)this.m_jointList.m_prev=b;this.m_jointList=b;++this.Da;b.m_edgeA.joint=b;b.m_edgeA.other=b.m_bodyB;b.m_edgeA.prev=null;if(b.m_edgeA.next=b.m_bodyA.m_jointList)b.m_bodyA.m_jointList.prev=b.m_edgeA;b.m_bodyA.m_jointList=b.m_edgeA;b.m_edgeB.joint=b;b.m_edgeB.other=b.m_bodyA;b.m_edgeB.prev=null;if(b.m_edgeB.next=b.m_bodyB.m_jointList)b.m_bodyB.m_jointList.prev=b.m_edgeB;b.m_bodyB.m_jointList=b.m_edgeB;var c=a.bodyA,d=a.bodyB;
if(0==a.collideConnected)for(a=d.m_contactList;a;)a.other==c&&a.contact.cf(),a=a.next;return b};X.prototype.CreateJoint=X.prototype.V;
X.prototype.Ph=function(a){var b=a.m_collideConnected;a.m_prev&&(a.m_prev.m_next=a.m_next);a.m_next&&(a.m_next.m_prev=a.m_prev);a==this.m_jointList&&(this.m_jointList=a.m_next);var c=a.m_bodyA,d=a.m_bodyB;c.H(!0);d.H(!0);a.m_edgeA.prev&&(a.m_edgeA.prev.next=a.m_edgeA.next);a.m_edgeA.next&&(a.m_edgeA.next.prev=a.m_edgeA.prev);a.m_edgeA==c.m_jointList&&(c.m_jointList=a.m_edgeA.next);a.m_edgeA.prev=null;a.m_edgeA.next=null;a.m_edgeB.prev&&(a.m_edgeB.prev.next=a.m_edgeB.next);a.m_edgeB.next&&(a.m_edgeB.next.prev=
a.m_edgeB.prev);a.m_edgeB==d.m_jointList&&(d.m_jointList=a.m_edgeB.next);a.m_edgeB.prev=null;a.m_edgeB.next=null;--this.Da;if(0==b)for(a=d.m_contactList;a;)a.other==c&&a.contact.cf(),a=a.next};X.prototype.DestroyJoint=X.prototype.Ph;X.prototype.yk=function(a){a.m_next=this.m_controllerList;a.m_prev=null;this.m_controllerList=a;a.m_world=this;this.fc++;return a};X.prototype.AddController=X.prototype.yk;
X.prototype.cp=function(a){a.m_prev&&(a.m_prev.m_next=a.m_next);a.m_next&&(a.m_next.m_prev=a.m_prev);this.m_controllerList==a&&(this.m_controllerList=a.m_next);this.fc--};X.prototype.RemoveController=X.prototype.cp;X.prototype.On=function(a){if(a.m_world!=this)throw Error('Controller can only be a member of one world');a.m_next=this.m_controllerList;a.m_prev=null;this.m_controllerList&&(this.m_controllerList.m_prev=a);this.m_controllerList=a;++this.fc;a.m_world=this;return a};
X.prototype.CreateController=X.prototype.On;X.prototype.Rn=function(a){a.$d();a.m_next&&(a.m_next.m_prev=a.m_prev);a.m_prev&&(a.m_prev.m_next=a.m_next);a==this.m_controllerList&&(this.m_controllerList=a.m_next);--this.fc};X.prototype.DestroyController=X.prototype.Rn;X.prototype.ol=function(a){rk=a};X.prototype.SetWarmStarting=X.prototype.ol;X.prototype.kp=function(a){qk=a};X.prototype.SetContinuousPhysics=X.prototype.kp;X.prototype.co=t('ra');X.prototype.GetBodyCount=X.prototype.co;
X.prototype.so=t('Da');X.prototype.GetJointCount=X.prototype.so;X.prototype.eo=t('Ba');X.prototype.GetContactCount=X.prototype.eo;X.prototype.jl=q('dh');X.prototype.SetGravity=X.prototype.jl;X.prototype.po=t('dh');X.prototype.GetGravity=X.prototype.po;X.prototype.qo=t('m_groundBody');X.prototype.GetGroundBody=X.prototype.qo;var sk=new Ti;
X.prototype.qd=function(a,b,c){this.l&1&&(this.m_contactManager.bf(),this.l&=-2);this.l|=2;sk.dt=a;sk.hd=b;sk.fd=c;sk.inv_dt=0<a?1/a:0;sk.dtRatio=this.Lm*a;sk.warmStarting=rk;this.m_contactManager.Ek();0<sk.dt&&this.Xb(sk);qk&&0<sk.dt&&this.xf(sk);0<sk.dt&&(this.Lm=sk.inv_dt);this.l&=-3};X.prototype.Step=X.prototype.qd;X.prototype.Dk=function(){for(var a=this.m_bodyList;a;a=a.m_next)a.m_force.D(),a.m_torque=0};X.prototype.ClearForces=X.prototype.Dk;var tk=new sh;
X.prototype.Ik=function(){if(null!=this.Ca){this.Ca.m_sprite.graphics.clear();var a=this.Ca.$c,b,c,d,e,f=new oi(0,0,0);if(a&1)for(b=this.m_bodyList;b;b=b.m_next)for(e=b.m_xf,c=b.m_fixtureList;c;c=c.m_next)d=c.m_shape,0==b.xb()?f.Set(.5,.5,.3):b.M()==Th?f.Set(.5,.9,.5):b.M()==uk?f.Set(.5,.5,.9):0==b.Ua()?f.Set(.6,.6,.6):f.Set(.9,.7,.7),this.Lk(d,e,f);if(a&2)for(b=this.m_jointList;b;b=b.m_next)this.Jk(b);if(a&32)for(b=this.m_controllerList;b;b=b.m_next)b.og(this.Ca);if(a&8)for(f.Set(.3,.9,.9),b=this.m_contactManager.m_contactList;b;b=
b.m_next)d=b.m_fixtureB,c=b.m_fixtureA.m_aabb.df(),d=d.m_aabb.df(),this.Ca.wb(c,d,f);if(a&4)for(d=this.m_contactManager.m_broadPhase,e=[new P,new P,new P,new P],b=this.m_bodyList;b;b=b.m_next)if(0!=b.xb())for(c=b.m_fixtureList;c;c=c.m_next){var g=d.Ub(c.m_proxy);e[0].Set(g.lowerBound.x,g.lowerBound.y);e[1].Set(g.upperBound.x,g.lowerBound.y);e[2].Set(g.upperBound.x,g.upperBound.y);e[3].Set(g.lowerBound.x,g.upperBound.y);this.Ca.Kk(e,4,f)}if(a&16)for(b=this.m_bodyList;b;b=b.m_next)e=tk,e.R=b.m_xf.R,
e.position=b.m_sweep.c,this.Ca.Ok(e)}};X.prototype.DrawDebugData=X.prototype.Ik;X.prototype.$k=function(a,b){var c=this.m_contactManager.m_broadPhase;c.oc(gf(function(b){return a(c.Fa(b))},this,sc),b)};X.prototype.QueryAABB=X.prototype.$k;X.prototype.$o=function(a,b,c){c='undefined'!==typeof c?c:null;null==c&&(c=new sh,c.od());var d=this.m_contactManager.m_broadPhase,e=new Uh;b.mc(e,c);d.oc(gf(function(e){e=d.Fa(e);return li(b,c,e.m_shape,e.m_body.qa())?a(e):!0},this,sc),e)};
X.prototype.QueryShape=X.prototype.$o;X.prototype.Zo=function(a,b){var c=this.m_contactManager.m_broadPhase,d=new Uh;d.lowerBound.Set(b.x-.005,b.y-.005);d.upperBound.Set(b.x+.005,b.y+.005);c.oc(gf(function(d){d=c.Fa(d);return d.Yb(b)?a(d):!0},this,sc),d)};X.prototype.QueryPoint=X.prototype.Zo;
X.prototype.ma=function(a,b,c){var d=this.m_contactManager.m_broadPhase,e=new ni,f=new mi(b,c);d.ma(gf(function(f,h){var g=d.Fa(h);if(g.ma(e,f)){var m=e.fraction;return a(g,new P((1-m)*b.x+m*c.x,(1-m)*b.y+m*c.y),e.normal,m)}return f.maxFraction},this,'RayCastWrapper'),f)};X.prototype.RayCast=X.prototype.ma;X.prototype.al=function(a,b){var c;this.ma(gf(function(a,b,f,g){c=a;return g},this,'RayCastOneWrapper'),a,b);return c};X.prototype.RayCastOne=X.prototype.al;
X.prototype.ap=function(a,b){var c=[];this.ma(gf(function(a){c[c.length]=a;return 1},this,'RayCastAllWrapper'),a,b);return c};X.prototype.RayCastAll=X.prototype.ap;X.prototype.Rh=t('m_bodyList');X.prototype.GetBodyList=X.prototype.Rh;X.prototype.Xh=t('m_jointList');X.prototype.GetJointList=X.prototype.Xh;X.prototype.Th=t('m_contactList');X.prototype.GetContactList=X.prototype.Th;X.prototype.Nc=function(){return 0<(this.l&2)};X.prototype.IsLocked=X.prototype.Nc;
X.prototype.Xb=function(a){for(var b,c=this.m_controllerList;c;c=c.m_next)c.qd(a);c=this.Mm;c.u(this.ra,this.Ba,this.Da,null,this.m_contactManager.m_contactListener,this.Id);for(b=this.m_bodyList;b;b=b.m_next)b.l&=~vk;for(var d=this.m_contactList;d;d=d.m_next)d.l&=-5;for(d=this.m_jointList;d;d=d.m_next)d.m_islandFlag=!1;for(var d=this.rv,e=this.m_bodyList;e;e=e.m_next)if(!(e.l&vk)&&0!=e.Ua()&&0!=e.xb()&&e.M()!=Th){c.$d();var f=0;d[f++]=e;for(e.l|=vk;0<f;)if(b=d[--f],c.Xd(b),0==b.Ua()&&b.H(!0),b.M()!=
Th){for(var g,h=b.m_contactList;h;h=h.next)h.contact.l&4||1==h.contact.Fb()||0==h.contact.pf()||0==h.contact.rf()||(c.Mh(h.contact),h.contact.l|=4,g=h.other,g.l&vk||(d[f++]=g,g.l|=vk));for(b=b.m_jointList;b;b=b.next)1!=b.joint.m_islandFlag&&(g=b.other,0!=g.xb()&&(c.Nh(b.joint),b.joint.m_islandFlag=!0,g.l&vk||(d[f++]=g,g.l|=vk)))}c.Xb(a,this.dh,this.Ou);for(f=0;f<c.ra;++f)b=c.m_bodies[f],b.M()==Th&&(b.l&=~vk)}for(f=0;f<d.length&&d[f];++f)d[f]=null;for(b=this.m_bodyList;b;b=b.m_next)0!=b.Ua()&&0!=b.xb()&&
b.M()!=Th&&b.ge();this.m_contactManager.bf()};X.prototype.Solve=X.prototype.Xb;var wk=new Rh,xk=new Rh,yk=new Ti,zk=[];
X.prototype.xf=function(a){var b,c,d,e=this.Mm;e.u(this.ra,32,32,null,this.m_contactManager.m_contactListener,this.Id);for(b=this.m_bodyList;b;b=b.m_next)b.l&=~vk,b.m_sweep.t0=0;for(d=this.m_contactList;d;d=d.m_next)d.l&=-13;for(d=this.m_jointList;d;d=d.m_next)d.m_islandFlag=!1;for(;;){var f=null,g=1;for(d=this.m_contactList;d;d=d.m_next)if(1!=d.Fb()&&0!=d.pf()&&0!=d.Xk()){if(d.l&8)b=d.m_toi;else{b=d.m_fixtureA;c=d.m_fixtureB;b=b.m_body;c=c.m_body;if(!(b.M()==Ni&&0!=b.Ua()||c.M()==Ni&&0!=c.Ua()))continue;
var h=b.m_sweep.t0;b.m_sweep.t0<c.m_sweep.t0?(h=c.m_sweep.t0,b.m_sweep.Tb(h)):c.m_sweep.t0<b.m_sweep.t0&&(h=b.m_sweep.t0,c.m_sweep.Tb(h));b=d.Gk(b.m_sweep,c.m_sweep);ih(0<=b&&1>=b);0<b&&1>b&&(b=(1-b)*h+b,1<b&&(b=1));d.m_toi=b;d.l|=8}Number.MIN_VALUE<b&&b<g&&(f=d,g=b)}if(null==f||1-100*Number.MIN_VALUE<g)break;b=f.m_fixtureA;c=f.m_fixtureB;b=b.m_body;c=c.m_body;wk.Set(b.m_sweep);xk.Set(c.m_sweep);b.Tb(g);c.Tb(g);f.Ha(this.m_contactManager.m_contactListener);f.l&=-9;if(1==f.Fb()||0==f.pf())b.m_sweep.Set(wk),
c.m_sweep.Set(xk),b.ga(),c.ga();else if(0!=f.rf()){b.M()!=Ni&&(b=c);e.$d();f=d=0;zk[d+f++]=b;for(b.l|=vk;0<f;)if(b=zk[d++],--f,e.Xd(b),0==b.Ua()&&b.H(!0),b.M()==Ni){for(c=b.m_contactList;c&&e.Ba!=e.yj;c=c.next)c.contact.l&4||1==c.contact.Fb()||0==c.contact.pf()||0==c.contact.rf()||(e.Mh(c.contact),c.contact.l|=4,h=c.other,h.l&vk||(h.M()!=Th&&(h.Tb(g),h.H(!0)),zk[d+f]=h,++f,h.l|=vk));for(b=b.m_jointList;b;b=b.next)e.Da!=e.Bj&&1!=b.joint.m_islandFlag&&(h=b.other,0!=h.xb()&&(e.Nh(b.joint),b.joint.m_islandFlag=
!0,h.l&vk||(h.M()!=Th&&(h.Tb(g),h.H(!0)),zk[d+f]=h,++f,h.l|=vk)))}d=yk;d.warmStarting=!1;d.dt=(1-g)*a.dt;d.inv_dt=1/d.dt;d.dtRatio=0;d.hd=a.hd;d.fd=a.fd;e.xf(d);for(g=0;g<e.ra;++g)if(b=e.m_bodies[g],b.l&=~vk,0!=b.Ua()&&b.M()==Ni)for(b.ge(),c=b.m_contactList;c;c=c.next)c.contact.l&=-9;for(g=0;g<e.Ba;++g)d=e.m_contacts[g],d.l&=-13;for(g=0;g<e.Da;++g)d=e.m_joints[g],d.m_islandFlag=!1;this.m_contactManager.bf()}}};X.prototype.SolveTOI=X.prototype.xf;var Ak=new oi(.5,.8,.8);
X.prototype.Jk=function(a){var b=a.m_bodyA,c=a.m_bodyB,d=b.m_xf.position,e=c.m_xf.position,f=a.ta(),g=a.ua();switch(a.C){case 3:this.Ca.wb(f,g,Ak);break;case 4:b=a.Rk();a=a.Sk();this.Ca.wb(b,f,Ak);this.Ca.wb(a,g,Ak);this.Ca.wb(b,a,Ak);break;case 5:this.Ca.wb(f,g,Ak);break;default:b!=this.m_groundBody&&this.Ca.wb(d,f,Ak),this.Ca.wb(f,g,Ak),c!=this.m_groundBody&&this.Ca.wb(e,g,Ak)}};X.prototype.DrawJoint=X.prototype.Jk;
X.prototype.Lk=function(a,b,c){switch(a.C){case 0:var d=Ah(b,a.m_p);this.Ca.Mk(d,a.m_radius,b.R.col1,c);break;case 1:var d=a.rg(),e=a.m_vertices,f=Array(d);for(a=0;a<d;++a)f[a]=Ah(b,e[a]);this.Ca.Nk(f,d,c);break;case 2:this.Ca.wb(Ah(b,a.py()),Ah(b,a.qy()),c)}};X.prototype.DrawShape=X.prototype.Lk;X.prototype.l=0;X.prototype.m_flags=X.prototype.l;X.prototype.ra=0;X.prototype.Ba=0;X.prototype.m_contactCount=X.prototype.Ba;X.prototype.Da=0;X.prototype.fc=0;y('Box2D.Dynamics.b2World.e_newFixture',1);
y('Box2D.Dynamics.b2World.e_locked',2);X.prototype.i={names:[{name:'b2World',j:ac,kind:l}]};y(ac,X);function Y(a,b){this.m_xf=new sh;this.m_sweep=new Rh;this.m_linearVelocity=new P;this.m_force=new P;this.l=0;a.bullet&&(this.l|=Bk);a.fixedRotation&&(this.l|=Ck);a.allowSleep&&(this.l|=ok);a.awake&&(this.l|=Dk);a.active&&(this.l|=Ek);this.m_world=b;this.m_xf.position.m(a.position);this.m_xf.R.Set(a.angle);this.m_sweep.localCenter.D();this.m_sweep.t0=1;this.m_sweep.a0=this.m_sweep.a=a.angle;var c=this.m_xf.R,d=this.m_sweep.localCenter;this.m_sweep.c.x=c.col1.x*d.x+c.col2.x*d.y;this.m_sweep.c.y=c.col1.y*
d.x+c.col2.y*d.y;this.m_sweep.c.x+=this.m_xf.position.x;this.m_sweep.c.y+=this.m_xf.position.y;this.m_sweep.c0.m(this.m_sweep.c);this.m_contactList=this.m_controllerList=this.m_jointList=null;this.fc=0;this.m_next=this.m_prev=null;this.m_linearVelocity.m(a.linearVelocity);this.m_angularVelocity=a.angularVelocity;this.m_linearDamping=a.linearDamping;this.m_angularDamping=a.angularDamping;this.m_force.Set(0,0);this.m_sleepTime=this.m_torque=0;this.C=a.type;this.m_invMass=this.C==Ni?this.m_mass=1:this.m_mass=
0;this.m_invI=this.m_I=0;this.m_inertiaScale=a.inertiaScale;this.m_userData=a.userData;this.m_fixtureList=null;this.Dc=0}Y.prototype.B=function(a){if(1==this.m_world.Nc())return null;var b=new R;b.Ze(this,this.m_xf,a);this.l&Ek&&b.Db(this.m_world.m_contactManager.m_broadPhase,this.m_xf);b.m_next=this.m_fixtureList;this.m_fixtureList=b;++this.Dc;b.m_body=this;0<b.m_density&&this.Oc();this.m_world.l|=1;return b};Y.prototype.CreateFixture=Y.prototype.B;
Y.prototype.wa=function(a,b){b='undefined'!==typeof b?b:0;var c=new Xh;c.shape=a;c.density=b;return this.B(c)};Y.prototype.CreateFixture2=Y.prototype.wa;
Y.prototype.Sn=function(a){if(1!=this.m_world.Nc()){for(var b=this.m_fixtureList,c=null;null!=b;){if(b==a){c?c.m_next=a.m_next:this.m_fixtureList=a.m_next;break}c=b;b=b.m_next}for(b=this.m_contactList;b;){var c=b.contact,b=b.next,d=c.m_fixtureB;a!=c.m_fixtureA&&a!=d||this.m_world.m_contactManager.ib(c)}this.l&Ek&&a.Eb(this.m_world.m_contactManager.m_broadPhase);a.ib();a.m_body=null;a.m_next=null;--this.Dc;this.Oc()}};Y.prototype.DestroyFixture=Y.prototype.Sn;
Y.prototype.ee=function(a,b){var c;if(1!=this.m_world.Nc()){this.m_xf.R.Set(b);this.m_xf.position.m(a);c=this.m_xf.R;var d=this.m_sweep.localCenter;this.m_sweep.c.x=c.col1.x*d.x+c.col2.x*d.y;this.m_sweep.c.y=c.col1.y*d.x+c.col2.y*d.y;this.m_sweep.c.x+=this.m_xf.position.x;this.m_sweep.c.y+=this.m_xf.position.y;this.m_sweep.c0.m(this.m_sweep.c);this.m_sweep.a0=this.m_sweep.a=b;d=this.m_world.m_contactManager.m_broadPhase;for(c=this.m_fixtureList;c;c=c.m_next)c.oi(d,this.m_xf,this.m_xf);this.m_world.m_contactManager.bf()}};
Y.prototype.SetPositionAndAngle=Y.prototype.ee;Y.prototype.zp=function(a){this.ee(a.position,a.jb())};Y.prototype.SetTransform=Y.prototype.zp;Y.prototype.qa=t('m_xf');Y.prototype.GetTransform=Y.prototype.qa;Y.prototype.Io=function(){return this.m_xf.position};Y.prototype.GetPosition=Y.prototype.Io;Y.prototype.vp=function(a){this.ee(a,this.jb())};Y.prototype.SetPosition=Y.prototype.vp;Y.prototype.jb=function(){return this.m_sweep.a};Y.prototype.GetAngle=Y.prototype.jb;
Y.prototype.fi=function(a){this.ee(this.m_xf.position,a)};Y.prototype.SetAngle=Y.prototype.fi;Y.prototype.Po=function(){return this.m_sweep.c};Y.prototype.GetWorldCenter=Y.prototype.Po;Y.prototype.Ao=function(){return this.m_sweep.localCenter};Y.prototype.GetLocalCenter=Y.prototype.Ao;Y.prototype.wg=function(a){this.C!=Th&&this.m_linearVelocity.m(a)};Y.prototype.SetLinearVelocity=Y.prototype.wg;Y.prototype.yo=t('m_linearVelocity');Y.prototype.GetLinearVelocity=Y.prototype.yo;
Y.prototype.vg=function(a){this.C!=Th&&(this.m_angularVelocity=a)};Y.prototype.SetAngularVelocity=Y.prototype.vg;Y.prototype.Yn=t('m_angularVelocity');Y.prototype.GetAngularVelocity=Y.prototype.Yn;
Y.prototype.Pk=function(){var a=new Sh;a.type=this.M();a.allowSleep=(this.l&ok)==ok;a.angle=this.jb();a.angularDamping=this.m_angularDamping;a.angularVelocity=this.m_angularVelocity;a.fixedRotation=(this.l&Ck)==Ck;a.bullet=(this.l&Bk)==Bk;a.awake=(this.l&Dk)==Dk;a.linearDamping=this.m_linearDamping;a.linearVelocity.m(this.m_linearVelocity);a.position=this.m_xf.position;a.userData=this.Fa();return a};Y.prototype.GetDefinition=Y.prototype.Pk;
Y.prototype.Oh=function(a,b){this.C==Ni&&(0==this.Ua()&&this.H(!0),this.m_force.x+=a.x,this.m_force.y+=a.y,this.m_torque+=(b.x-this.m_sweep.c.x)*a.y-(b.y-this.m_sweep.c.y)*a.x)};Y.prototype.ApplyForce=Y.prototype.Oh;Y.prototype.Bk=function(a){this.C==Ni&&(0==this.Ua()&&this.H(!0),this.m_torque+=a)};Y.prototype.ApplyTorque=Y.prototype.Bk;
Y.prototype.Ak=function(a,b){this.C==Ni&&(0==this.Ua()&&this.H(!0),this.m_linearVelocity.x+=this.m_invMass*a.x,this.m_linearVelocity.y+=this.m_invMass*a.y,this.m_angularVelocity+=this.m_invI*((b.x-this.m_sweep.c.x)*a.y-(b.y-this.m_sweep.c.y)*a.x))};Y.prototype.ApplyImpulse=Y.prototype.Ak;
Y.prototype.rl=function(a){for(var b=this.m_linearVelocity.O(),c=this.m_angularVelocity,d=this.m_sweep.c,e=this.m_world.s(this.Pk()),f,g=this.m_fixtureList;g;)if(a(g)){var h=g.m_next;f?f.m_next=h:this.m_fixtureList=h;this.Dc--;g.m_next=e.m_fixtureList;e.m_fixtureList=g;e.Dc++;g.m_body=e;g=h}else f=g,g=g.m_next;this.Oc();e.Oc();a=Dh(b,xh(c,Ch(e.m_sweep.c,d)));this.wg(Dh(b,xh(c,Ch(this.m_sweep.c,d))));e.wg(a);this.vg(c);e.vg(c);this.ge();e.ge();return e};Y.prototype.Split=Y.prototype.rl;
Y.prototype.Vo=function(a){var b;for(b=a.m_fixtureList;b;){var c=b.m_next;a.Dc--;b.m_next=this.m_fixtureList;this.m_fixtureList=b;this.Dc++;b.m_body=null;b=c}this.m_linearVelocity.O();a.m_linearVelocity.O();this.Oc();this.ge()};Y.prototype.Merge=Y.prototype.Vo;Y.prototype.Do=t('m_mass');Y.prototype.GetMass=Y.prototype.Do;Y.prototype.ro=t('m_I');Y.prototype.GetInertia=Y.prototype.ro;Y.prototype.qg=function(a){a.Pb=this.m_mass;a.Mc=this.m_I;a.center.m(this.m_sweep.localCenter)};
Y.prototype.GetMassData=Y.prototype.qg;
Y.prototype.sp=function(a){ih(0==this.m_world.Nc());if(1!=this.m_world.Nc()&&this.C==Ni){this.m_invI=this.m_I=this.m_invMass=0;this.m_mass=a.Pb;0>=this.m_mass&&(this.m_mass=1);this.m_invMass=1/this.m_mass;0<a.Mc&&0==(this.l&Ck)&&(this.m_I=a.Mc-this.m_mass*(a.center.x*a.center.x+a.center.y*a.center.y),this.m_invI=1/this.m_I);var b=this.m_sweep.c.O();this.m_sweep.localCenter.m(a.center);this.m_sweep.c0.m(Ah(this.m_xf,this.m_sweep.localCenter));this.m_sweep.c.m(this.m_sweep.c0);this.m_linearVelocity.x+=
this.m_angularVelocity*-(this.m_sweep.c.y-b.y);this.m_linearVelocity.y+=this.m_angularVelocity*+(this.m_sweep.c.x-b.x)}};Y.prototype.SetMassData=Y.prototype.sp;
Y.prototype.Oc=function(){this.m_invI=this.m_I=this.m_invMass=this.m_mass=0;this.m_sweep.localCenter.D();if(this.C!=Th&&this.C!=uk){for(var a=bh(0,0),b=this.m_fixtureList;b;b=b.m_next)if(0!=b.m_density){var c=b.qg();this.m_mass+=c.Pb;a.x+=c.center.x*c.Pb;a.y+=c.center.y*c.Pb;this.m_I+=c.Mc}0<this.m_mass?(this.m_invMass=1/this.m_mass,a.x*=this.m_invMass,a.y*=this.m_invMass):this.m_invMass=this.m_mass=1;0<this.m_I&&0==(this.l&Ck)?(this.m_I-=this.m_mass*(a.x*a.x+a.y*a.y),this.m_I*=this.m_inertiaScale,
ih(0<this.m_I),this.m_invI=1/this.m_I):this.m_invI=this.m_I=0;b=this.m_sweep.c.O();this.m_sweep.localCenter.m(a);this.m_sweep.c0.m(Ah(this.m_xf,this.m_sweep.localCenter));this.m_sweep.c.m(this.m_sweep.c0);this.m_linearVelocity.x+=this.m_angularVelocity*-(this.m_sweep.c.y-b.y);this.m_linearVelocity.y+=this.m_angularVelocity*+(this.m_sweep.c.x-b.x)}};Y.prototype.ResetMassData=Y.prototype.Oc;
Y.prototype.fa=function(a){var b=this.m_xf.R;a=new P(b.col1.x*a.x+b.col2.x*a.y,b.col1.y*a.x+b.col2.y*a.y);a.x+=this.m_xf.position.x;a.y+=this.m_xf.position.y;return a};Y.prototype.GetWorldPoint=Y.prototype.fa;Y.prototype.mf=function(a){return yh(this.m_xf.R,a)};Y.prototype.GetWorldVector=Y.prototype.mf;Y.prototype.$a=function(a){return Bh(this.m_xf,a)};Y.prototype.GetLocalPoint=Y.prototype.$a;Y.prototype.Yh=function(a){return zh(this.m_xf.R,a)};Y.prototype.GetLocalVector=Y.prototype.Yh;
Y.prototype.Tk=function(a){return new P(this.m_linearVelocity.x-this.m_angularVelocity*(a.y-this.m_sweep.c.y),this.m_linearVelocity.y+this.m_angularVelocity*(a.x-this.m_sweep.c.x))};Y.prototype.GetLinearVelocityFromWorldPoint=Y.prototype.Tk;
Y.prototype.zo=function(a){var b=this.m_xf.R;a=new P(b.col1.x*a.x+b.col2.x*a.y,b.col1.y*a.x+b.col2.y*a.y);a.x+=this.m_xf.position.x;a.y+=this.m_xf.position.y;return new P(this.m_linearVelocity.x-this.m_angularVelocity*(a.y-this.m_sweep.c.y),this.m_linearVelocity.y+this.m_angularVelocity*(a.x-this.m_sweep.c.x))};Y.prototype.GetLinearVelocityFromLocalPoint=Y.prototype.zo;Y.prototype.xo=t(ue);Y.prototype.GetLinearDamping=Y.prototype.xo;Y.prototype.rp=q(ue);Y.prototype.SetLinearDamping=Y.prototype.rp;
Y.prototype.Xn=t(te);Y.prototype.GetAngularDamping=Y.prototype.Xn;Y.prototype.gp=q(te);Y.prototype.SetAngularDamping=Y.prototype.gp;Y.prototype.Ap=function(a){if(this.C!=a)for(this.C=a,this.Oc(),this.C==Th&&(this.m_linearVelocity.D(),this.m_angularVelocity=0),this.H(!0),this.m_force.D(),this.m_torque=0,a=this.m_contactList;a;a=a.next)a.contact.cf()};Y.prototype.SetType=Y.prototype.Ap;Y.prototype.M=t('C');Y.prototype.GetType=Y.prototype.M;Y.prototype.ip=function(a){this.l=a?this.l|Bk:this.l&~Bk};
Y.prototype.SetBullet=Y.prototype.ip;Y.prototype.nf=function(){return(this.l&Bk)==Bk};Y.prototype.IsBullet=Y.prototype.nf;Y.prototype.yp=function(a){a?this.l|=ok:(this.l&=~ok,this.H(!0))};Y.prototype.SetSleepingAllowed=Y.prototype.yp;Y.prototype.H=function(a){a?(this.l|=Dk,this.m_sleepTime=0):(this.l&=~Dk,this.m_sleepTime=0,this.m_linearVelocity.D(),this.m_angularVelocity=0,this.m_force.D(),this.m_torque=0)};Y.prototype.SetAwake=Y.prototype.H;Y.prototype.Ua=function(){return(this.l&Dk)==Dk};
Y.prototype.IsAwake=Y.prototype.Ua;Y.prototype.op=function(a){this.l=a?this.l|Ck:this.l&~Ck;this.Oc()};Y.prototype.SetFixedRotation=Y.prototype.op;Y.prototype.So=function(){return(this.l&Ck)==Ck};Y.prototype.IsFixedRotation=Y.prototype.So;
Y.prototype.ep=function(a){if(a!=this.xb()){var b;if(a)for(this.l|=Ek,a=this.m_world.m_contactManager.m_broadPhase,b=this.m_fixtureList;b;b=b.m_next)b.Db(a,this.m_xf);else{this.l&=~Ek;a=this.m_world.m_contactManager.m_broadPhase;for(b=this.m_fixtureList;b;b=b.m_next)b.Eb(a);for(a=this.m_contactList;a;)b=a,a=a.next,this.m_world.m_contactManager.ib(b.contact);this.m_contactList=null}}};Y.prototype.SetActive=Y.prototype.ep;Y.prototype.xb=function(){return(this.l&Ek)==Ek};Y.prototype.IsActive=Y.prototype.xb;
Y.prototype.To=function(){return(this.l&ok)==ok};Y.prototype.IsSleepingAllowed=Y.prototype.To;Y.prototype.mo=t('m_fixtureList');Y.prototype.GetFixtureList=Y.prototype.mo;Y.prototype.Xh=t('m_jointList');Y.prototype.GetJointList=Y.prototype.Xh;Y.prototype.fo=t('m_controllerList');Y.prototype.GetControllerList=Y.prototype.fo;Y.prototype.Th=t('m_contactList');Y.prototype.GetContactList=Y.prototype.Th;Y.prototype.nc=t(ve);Y.prototype.GetNext=Y.prototype.nc;Y.prototype.Fa=t(we);
Y.prototype.GetUserData=Y.prototype.Fa;Y.prototype.wf=q(we);Y.prototype.SetUserData=Y.prototype.wf;Y.prototype.ci=t('m_world');Y.prototype.GetWorld=Y.prototype.ci;var Fk=new sh;Y.prototype.ge=function(){Fk.R.Set(this.m_sweep.a0);var a=Fk.R,b=this.m_sweep.localCenter;Fk.position.x=this.m_sweep.c0.x-(a.col1.x*b.x+a.col2.x*b.y);Fk.position.y=this.m_sweep.c0.y-(a.col1.y*b.x+a.col2.y*b.y);b=this.m_world.m_contactManager.m_broadPhase;for(a=this.m_fixtureList;a;a=a.m_next)a.oi(b,Fk,this.m_xf)};
Y.prototype.SynchronizeFixtures=Y.prototype.ge;Y.prototype.ga=function(){this.m_xf.R.Set(this.m_sweep.a);var a=this.m_xf.R,b=this.m_sweep.localCenter;this.m_xf.position.x=this.m_sweep.c.x-(a.col1.x*b.x+a.col2.x*b.y);this.m_xf.position.y=this.m_sweep.c.y-(a.col1.y*b.x+a.col2.y*b.y)};Y.prototype.SynchronizeTransform=Y.prototype.ga;Y.prototype.Qc=function(a){if(this.C!=Ni&&a.C!=Ni)return!1;for(var b=this.m_jointList;b;b=b.next)if(b.other==a&&0==b.joint.m_collideConnected)return!1;return!0};
Y.prototype.ShouldCollide=Y.prototype.Qc;Y.prototype.Tb=function(a){this.m_sweep.Tb(a);this.m_sweep.c.m(this.m_sweep.c0);this.m_sweep.a=this.m_sweep.a0;this.ga()};Y.prototype.Advance=Y.prototype.Tb;Y.prototype.l=0;Y.prototype.m_flags=Y.prototype.l;Y.prototype.C=0;Y.prototype.m_type=Y.prototype.C;Y.prototype.Nm=0;Y.prototype.m_islandIndex=Y.prototype.Nm;Y.prototype.Dc=0;Y.prototype.m_fixtureCount=Y.prototype.Dc;Y.prototype.fc=0;Y.prototype.m_controllerCount=Y.prototype.fc;var vk=1;
y('Box2D.Dynamics.b2Body.e_islandFlag',vk);var Dk=2;y('Box2D.Dynamics.b2Body.e_awakeFlag',Dk);var ok=4;y('Box2D.Dynamics.b2Body.e_allowSleepFlag',ok);var Bk=8;y('Box2D.Dynamics.b2Body.e_bulletFlag',Bk);var Ck=16;y('Box2D.Dynamics.b2Body.e_fixedRotationFlag',Ck);var Ek=32;y('Box2D.Dynamics.b2Body.e_activeFlag',Ek);var Th=0;y('Box2D.Dynamics.b2Body.b2_staticBody',Th);var uk=1;y('Box2D.Dynamics.b2Body.b2_kinematicBody',uk);var Ni=2;y('Box2D.Dynamics.b2Body.b2_dynamicBody',Ni);
Y.prototype.i={names:[{name:'b2Body',j:Pb,kind:l}]};y(Pb,Y);function Gk(){this.type=0;this.bodyB=this.bodyA=this.userData=null;this.collideConnected=!1}Gk.prototype.type=0;Gk.prototype.type=Gk.prototype.type;Gk.prototype.i={names:[{name:'b2JointDef',j:wb,kind:l}]};y(wb,Gk);function Hk(){Gk.call(this);this.target=new P;this.type=5;this.maxForce=0;this.frequencyHz=5;this.dampingRatio=.7}Xe(Hk,Gk);Hk.prototype.i={names:[{name:'b2MouseJointDef',j:Eb,kind:l}]};y(Eb,Hk);function Ik(a,b,c){this.m_timeStep=1/30;this.Xm=new P;this.input=c;this.m_aboutText=b;this.m_sprite=a;a=new Uh;a.lowerBound.Set(-1E3,-1E3);a.upperBound.Set(1E3,1E3);this.m_world=new X(new P(0,10),!0);this.m_world.ol(!0);a=new W;a.ll(this.m_sprite);a.el(30);a.hl(.3);a.kl(1);a.il(3);this.m_world.dl(a);a=new Q;b=new Sh;b.position.Set(-95/30,6);a.N(100/30,400/30/2);c=this.m_world.s(b);c.wa(a);b.position.Set(24.5,6);c=this.m_world.s(b);c.wa(a);b.position.Set(640/30/2,-95/30);a.N(680/30/2,100/30);c=this.m_world.s(b);
c.wa(a);b.position.Set(640/30/2,455/30);c=this.m_world.s(b);c.wa(a)}var Jk,Kk;Ik.prototype.Ha=function(){this.sl();this.Yk();this.Zk();this.m_world.qd(this.m_timeStep,10,10);this.m_world.Dk();this.m_world.Ik()};Ik.prototype.Update=Ik.prototype.Ha;Ik.prototype.Vu=10;Ik.prototype.m_velocityIterations=Ik.prototype.Vu;Ik.prototype.Su=10;Ik.prototype.m_positionIterations=Ik.prototype.Su;Ik.prototype.Ru=30;Ik.prototype.m_physScale=Ik.prototype.Ru;
Ik.prototype.sl=function(){Jk=this.input.mouseX/30;Kk=this.input.mouseY/30};Ik.prototype.UpdateMouseWorld=Ik.prototype.sl;
Ik.prototype.Zk=function(){if(this.input.Qb&&!this.m_mouseJoint){var a=this.Qh();if(a){var b=new Hk;b.bodyA=this.m_world.m_groundBody;b.bodyB=a;b.target.Set(Jk,Kk);b.collideConnected=!0;b.maxForce=300*a.m_mass;this.m_mouseJoint=this.m_world.V(b);a.H(!0)}}!this.input.Qb&&this.m_mouseJoint&&(this.m_world.Ph(this.m_mouseJoint),this.m_mouseJoint=null);this.m_mouseJoint&&this.m_mouseJoint.ml(new P(Jk,Kk))};Ik.prototype.MouseDrag=Ik.prototype.Zk;
Ik.prototype.Yk=function(){if(!this.input.Qb&&this.input.xc(68)){var a=this.Qh(!0);a&&this.m_world.Hk(a)}};Ik.prototype.MouseDestroy=Ik.prototype.Yk;Ik.prototype.Qh=function(a){this.Am='undefined'!==typeof a?a:!1;this.Xm.Set(Jk,Kk);a=new Uh;a.lowerBound.Set(Jk-.001,Kk-.001);a.upperBound.Set(Jk+.001,Kk+.001);this.xn=null;this.m_world.$k(gf(this.bo,this,'GetBodyCallback'),a);return this.xn};Ik.prototype.GetBodyAtMouse=Ik.prototype.Qh;Ik.prototype.Am=!1;
Ik.prototype.bo=function(a){var b=a.m_shape;return(a.m_body.M()!=Th||this.Am)&&b.Yb(a.m_body.qa(),this.Xm)?(this.xn=a.m_body,!1):!0};Ik.prototype.i={names:[{name:'Test',j:'TestBed.Test',kind:l}]};y('TestBed.Test',Ik);function Lk(a,b,c){this.m_velocity=new P;this.m_shape1=new Q;this.m_shape2=new Q;Ik.call(this,a,b,c);this.m_aboutText.text='Breakable';this.m_world.hi(new Mk(this));a=new Sh;a.type=Ni;a.position.Set(5,5);a.angle=.25*Math.PI;this.m_body1=this.m_world.s(a);this.m_shape1.pc(.5,.5,new P(-.5,0));this.m_piece1=this.m_body1.wa(this.m_shape1,1);this.m_shape2.pc(.5,.5,new P(.5,0));this.m_piece2=this.m_body1.wa(this.m_shape2,1);this.m_broke=this.m_break=!1}Xe(Lk,Ik);
Lk.prototype.Ck=function(){var a=this;this.m_body1.wg(this.m_velocity);this.m_body1.vg(this.m_angularVelocity);this.m_body1.rl(function(b){return b!=a.m_piece1})};Lk.prototype.Break=Lk.prototype.Ck;Lk.prototype.Ha=function(){Lk.o.Ha.apply(this);this.m_break&&(this.Ck(),this.m_broke=!0,this.m_break=!1);0==this.m_broke&&(this.m_velocity=this.m_body1.m_linearVelocity,this.m_angularVelocity=this.m_body1.m_angularVelocity)};Lk.prototype.Update=Lk.prototype.Ha;
Lk.prototype.i={names:[{name:'TestBreakable',j:dc,kind:l}]};y(dc,Lk);function Mk(a){this.test=a}Xe(Mk,jk);Mk.prototype.tg=function(a,b){if(!this.test.m_broke){for(var c=a.m_manifold.ha,d=0,e=0;e<c;e++)d=Ih(d,b.normalImpulses[e]);50<d&&(this.test.m_break=!0)}};Mk.prototype.PostSolve=Mk.prototype.tg;Mk.prototype.i={names:[{name:bc,j:ec,kind:l}]};y(ec,Mk);function Nk(a){a='undefined'!==typeof a?a:0;this.m_p=new P;oh.call(this);this.C=0;this.m_radius=a}Xe(Nk,oh);Nk.prototype.O=function(){var a=new Nk;a.Set(this);return a};Nk.prototype.Copy=Nk.prototype.O;Nk.prototype.Set=function(a){Nk.o.Set.apply(this,[a]);df(a,Nk)&&this.m_p.m(a.m_p)};Nk.prototype.Set=Nk.prototype.Set;
Nk.prototype.Yb=function(a,b){var c=a.R,d=a.position.x+(c.col1.x*this.m_p.x+c.col2.x*this.m_p.y),c=a.position.y+(c.col1.y*this.m_p.x+c.col2.y*this.m_p.y),d=b.x-d,c=b.y-c;return d*d+c*c<=this.m_radius*this.m_radius};Nk.prototype.TestPoint=Nk.prototype.Yb;
Nk.prototype.ma=function(a,b,c){var d=c.R,e=b.p1.x-(c.position.x+(d.col1.x*this.m_p.x+d.col2.x*this.m_p.y));c=b.p1.y-(c.position.y+(d.col1.y*this.m_p.x+d.col2.y*this.m_p.y));var d=b.p2.x-b.p1.x,f=b.p2.y-b.p1.y,g=e*d+c*f,h=d*d+f*f,k=g*g-h*(e*e+c*c-this.m_radius*this.m_radius);if(0>k||h<Number.MIN_VALUE)return!1;g=-(g+Math.sqrt(k));return 0<=g&&g<=b.maxFraction*h?(g/=h,a.fraction=g,a.normal.x=e+g*d,a.normal.y=c+g*f,a.normal.Ma(),!0):!1};Nk.prototype.RayCast=Nk.prototype.ma;
Nk.prototype.mc=function(a,b){var c=b.R,d=b.position.x+(c.col1.x*this.m_p.x+c.col2.x*this.m_p.y),c=b.position.y+(c.col1.y*this.m_p.x+c.col2.y*this.m_p.y);a.lowerBound.Set(d-this.m_radius,c-this.m_radius);a.upperBound.Set(d+this.m_radius,c+this.m_radius)};Nk.prototype.ComputeAABB=Nk.prototype.mc;Nk.prototype.jd=function(a,b){a.Pb=b*fh*this.m_radius*this.m_radius;a.center.m(this.m_p);a.Mc=a.Pb*(.5*this.m_radius*this.m_radius+(this.m_p.x*this.m_p.x+this.m_p.y*this.m_p.y))};Nk.prototype.ComputeMass=Nk.prototype.jd;
Nk.prototype.ae=function(a,b,c,d){c=Ah(c,this.m_p);var e=-(uh(a,c)-b);if(e<-this.m_radius+Number.MIN_VALUE)return 0;if(e>this.m_radius)return d.m(c),Math.PI*this.m_radius*this.m_radius;b=this.m_radius*this.m_radius;var f=e*e,e=b*(Math.asin(e/this.m_radius)+Math.PI/2)+e*Math.sqrt(b-f);b=-2/3*Math.pow(b-f,1.5)/e;d.x=c.x+a.x*b;d.y=c.y+a.y*b;return e};Nk.prototype.ComputeSubmergedArea=Nk.prototype.ae;Nk.prototype.Bo=t('m_p');Nk.prototype.GetLocalPosition=Nk.prototype.Bo;Nk.prototype.ki=function(a){this.m_p.m(a)};
Nk.prototype.SetLocalPosition=Nk.prototype.ki;Nk.prototype.Jo=t('m_radius');Nk.prototype.GetRadius=Nk.prototype.Jo;Nk.prototype.ni=q('m_radius');Nk.prototype.SetRadius=Nk.prototype.ni;Nk.prototype.i={names:[{name:'b2CircleShape',j:ea,kind:l}]};y(ea,Nk);function Ok(){Gk.call(this);this.localAnchorA=new P;this.localAnchorB=new P;this.type=1;this.localAnchorA.Set(0,0);this.localAnchorB.Set(0,0);this.motorSpeed=this.maxMotorTorque=this.upperAngle=this.lowerAngle=this.referenceAngle=0;this.enableMotor=this.enableLimit=!1}Xe(Ok,Gk);Ok.prototype.u=function(a,b,c){this.bodyA=a;this.bodyB=b;this.localAnchorA=this.bodyA.$a(c);this.localAnchorB=this.bodyB.$a(c);this.referenceAngle=this.bodyB.jb()-this.bodyA.jb()};Ok.prototype.Initialize=Ok.prototype.u;
Ok.prototype.i={names:[{name:'b2RevoluteJointDef',j:Lb,kind:l}]};y(Lb,Ok);function Pk(a,b,c){Ik.call(this,a,b,c);this.m_aboutText.text='Bridge';c=this.m_world.m_groundBody;var d=new P,e;b=new Q;a=new Xh;b.N(.8,5/30);a.shape=b;a.density=20;a.friction=.2;var f=new Sh;f.type=Ni;var g=new Ok;g.lowerAngle=-15/(180/Math.PI);g.upperAngle=15/(180/Math.PI);g.enableLimit=!0;var h=c;for(b=0;10>b;++b)f.position.Set((122+44*b)/30,250/30),e=this.m_world.s(f),e.B(a),d.Set((100+44*b)/30,250/30),g.u(h,e,d),this.m_world.V(g),h=e;d.Set(18,250/30);g.u(h,c,d);this.m_world.V(g);for(b=0;5>b;b++)c=
new Sh,c.type=Ni,d=new Q,a.shape=d,a.density=1,a.friction=.3,a.restitution=.1,d.N((5*Math.random()+10)/30,(5*Math.random()+10)/30),c.position.Set((400*Math.random()+120)/30,(150*Math.random()+50)/30),c.angle=Math.random()*Math.PI,e=this.m_world.s(c),e.B(a);for(b=0;5>b;b++)c=new Sh,c.type=Ni,a.shape=new Nk((5*Math.random()+10)/30),a.density=1,a.friction=.3,a.restitution=.1,c.position.Set((400*Math.random()+120)/30,(150*Math.random()+50)/30),c.angle=Math.random()*Math.PI,e=this.m_world.s(c),e.B(a);
for(b=0;15>b;b++){d=new Sh;d.type=Ni;e=new Q;f=[];if(.66<Math.random()){g=4;for(c=0;c<g;++c)f[c]=new P;f[0].Set((-10-10*Math.random())/30,(10+10*Math.random())/30);f[1].Set((-5-10*Math.random())/30,(-10-10*Math.random())/30);f[2].Set((5+10*Math.random())/30,(-10-10*Math.random())/30);f[3].Set((10+10*Math.random())/30,(10+10*Math.random())/30)}else if(.5<Math.random()){g=5;for(c=0;c<g;++c)f[c]=new P;f[0].Set(0,(10+10*Math.random())/30);f[2].Set((-5-10*Math.random())/30,(-10-10*Math.random())/30);f[3].Set((5+
10*Math.random())/30,(-10-10*Math.random())/30);f[1].Set(f[0].x+f[2].x,f[0].y+f[2].y);f[1].Ga(Math.random()/2+.8);f[4].Set(f[3].x+f[0].x,f[3].y+f[0].y);f[4].Ga(Math.random()/2+.8)}else{g=3;for(c=0;c<g;++c)f[c]=new P;f[0].Set(0,(10+10*Math.random())/30);f[1].Set((-5-10*Math.random())/30,(-10-10*Math.random())/30);f[2].Set((5+10*Math.random())/30,(-10-10*Math.random())/30)}e.rb(f,g);a.shape=e;a.density=1;a.friction=.3;a.restitution=.1;d.position.Set((400*Math.random()+120)/30,(150*Math.random()+50)/
30);d.angle=Math.random()*Math.PI;e=this.m_world.s(d);e.B(a)}}Xe(Pk,Ik);Pk.prototype.i={names:[{name:'TestBridge',j:fc,kind:l}]};y(fc,Pk);function Qk(){}Qk.prototype.i={names:[{name:'b2ControllerEdge',j:mb,kind:l}]};y(mb,Qk);function Rk(){}Rk.prototype.qd=n();Rk.prototype.Step=Rk.prototype.qd;Rk.prototype.og=n();Rk.prototype.Draw=Rk.prototype.og;Rk.prototype.Xd=function(a){var b=new Qk;b.controller=this;b.body=a;b.nextBody=this.m_bodyList;b.prevBody=null;this.m_bodyList=b;b.nextBody&&(b.nextBody.prevBody=b);this.ra++;b.nextController=a.m_controllerList;b.prevController=null;a.m_controllerList=b;b.nextController&&(b.nextController.prevController=b);a.fc++};Rk.prototype.AddBody=Rk.prototype.Xd;
Rk.prototype.di=function(a){for(var b=a.m_controllerList;b&&b.controller!=this;)b=b.nextController;b.prevBody&&(b.prevBody.nextBody=b.nextBody);b.nextBody&&(b.nextBody.prevBody=b.prevBody);b.nextController&&(b.nextController.prevController=b.prevController);b.prevController&&(b.prevController.nextController=b.nextController);this.m_bodyList==b&&(this.m_bodyList=b.nextBody);a.m_controllerList==b&&(a.m_controllerList=b.nextController);a.fc--;this.ra--};Rk.prototype.RemoveBody=Rk.prototype.di;
Rk.prototype.$d=function(){for(;this.m_bodyList;)this.di(this.m_bodyList.body)};Rk.prototype.Clear=Rk.prototype.$d;Rk.prototype.nc=t(ve);Rk.prototype.GetNext=Rk.prototype.nc;Rk.prototype.ci=t('m_world');Rk.prototype.GetWorld=Rk.prototype.ci;Rk.prototype.Rh=t('m_bodyList');Rk.prototype.GetBodyList=Rk.prototype.Rh;Rk.prototype.ra=0;Rk.prototype.i={names:[{name:'b2Controller',j:lb,kind:l}]};y(lb,Rk);function Sk(){this.normal=new P(0,-1);this.velocity=new P(0,0)}Xe(Sk,Rk);Sk.prototype.offset=0;Sk.prototype.offset=Sk.prototype.offset;Sk.prototype.density=0;Sk.prototype.density=Sk.prototype.density;Sk.prototype.vj=2;Sk.prototype.linearDrag=Sk.prototype.vj;Sk.prototype.Ei=1;Sk.prototype.angularDrag=Sk.prototype.Ei;Sk.prototype.ny=!1;Sk.prototype.useDensity=Sk.prototype.ny;Sk.prototype.oy=!0;Sk.prototype.useWorldGravity=Sk.prototype.oy;Sk.prototype.rj=null;Sk.prototype.gravity=Sk.prototype.rj;
Sk.prototype.qd=function(){if(this.m_bodyList){this.rj=this.m_world.dh.O();for(var a=this.m_bodyList;a;a=a.nextBody){var b=a.body;if(0!=b.Ua()){for(var c=new P,d=new P,e=0,f=0,g=b.m_fixtureList;g;g=g.m_next){var h=new P,k=g.m_shape.ae(this.normal,this.offset,b.qa(),h),e=e+k;c.x+=k*h.x;c.y+=k*h.y;f+=1*k;d.x+=k*h.x*1;d.y+=k*h.y*1}c.x/=e;c.y/=e;d.x/=f;d.y/=f;e<Number.MIN_VALUE||(f=this.rj.Vb(),f.Ga(this.density*e),b.Oh(f,d),d=b.Tk(c),d.yg(this.velocity),d.Ga(-this.vj*e),b.Oh(d,c),b.Bk(-b.m_I/b.m_mass*
e*b.m_angularVelocity*this.Ei))}}}};Sk.prototype.Step=Sk.prototype.qd;Sk.prototype.og=function(a){var b=new P,c=new P;b.x=this.normal.x*this.offset+1E3*this.normal.y;b.y=this.normal.y*this.offset-1E3*this.normal.x;c.x=this.normal.x*this.offset-1E3*this.normal.y;c.y=this.normal.y*this.offset+1E3*this.normal.x;a.wb(b,c,new oi(0,0,1))};Sk.prototype.Draw=Sk.prototype.og;Sk.prototype.i={names:[{name:'b2BuoyancyController',j:kb,kind:l}]};y(kb,Sk);function Tk(a,b,c){this.m_bodies=[];Ik.call(this,a,b,c);this.Km=a=new Sk;a.normal.Set(0,-1);a.offset=-200/30;a.density=2;a.vj=5;a.Ei=2;for(a=0;5>a;a++){var d=new Sh;d.type=Ni;var e=new Q;b=new Xh;b.shape=e;b.density=1;b.friction=.3;b.restitution=.1;e.N((5*Math.random()+10)/30,(5*Math.random()+10)/30);d.position.Set((400*Math.random()+120)/30,(150*Math.random()+50)/30);d.angle=Math.random()*Math.PI;c=this.m_world.s(d);c.B(b);this.m_bodies.push(c)}for(a=0;5>a;a++){c=new Sh;c.type=Ni;var f=new Nk((5*
Math.random()+10)/30);b=new Xh;b.shape=f;b.density=1;b.friction=.3;b.restitution=.1;c.position.Set((400*Math.random()+120)/30,(150*Math.random()+50)/30);c.angle=Math.random()*Math.PI;c=this.m_world.s(c);c.B(b);this.m_bodies.push(c)}for(a=0;15>a;a++)c=new Sh,c.type=Ni,f=new Q,.66<Math.random()?f.rb([new P((-10-10*Math.random())/30,(10+10*Math.random())/30),new P((-5-10*Math.random())/30,(-10-10*Math.random())/30),new P((5+10*Math.random())/30,(-10-10*Math.random())/30),new P((10+10*Math.random())/
30,(10+10*Math.random())/30)]):.5<Math.random()?(b=[],b[0]=new P(0,(10+10*Math.random())/30),b[2]=new P((-5-10*Math.random())/30,(-10-10*Math.random())/30),b[3]=new P((5+10*Math.random())/30,(-10-10*Math.random())/30),b[1]=new P(b[0].x+b[2].x,b[0].y+b[2].y),b[1].Ga(Math.random()/2+.8),b[4]=new P(b[3].x+b[0].x,b[3].y+b[0].y),b[4].Ga(Math.random()/2+.8),f.rb(b)):f.rb([new P(0,(10+10*Math.random())/30),new P((-5-10*Math.random())/30,(-10-10*Math.random())/30),new P((5+10*Math.random())/30,(-10-10*Math.random())/
30)]),b=new Xh,b.shape=f,b.density=1,b.friction=.3,b.restitution=.1,c.position.Set((400*Math.random()+120)/30,(150*Math.random()+50)/30),c.angle=Math.random()*Math.PI,c=this.m_world.s(c),c.B(b),this.m_bodies.push(c);e.N(40/30,10/30);b=new Xh;b.shape=e;b.density=3;d.position.Set(50/30,10);d.angle=0;c=this.m_world.s(d);c.B(b);this.m_bodies.push(c);d.position.Set(10,10);c=this.m_world.s(d);f=new Nk(7/30);b=new Xh;b.shape=f;b.density=2;f.m_p.Set(1,0);c.B(b);f.m_p.Set(-1,0);c.B(b);f.m_p.Set(0,1);c.B(b);
f.m_p.Set(0,-1);c.B(b);b=new Xh;b.shape=e;b.density=2;e.N(1,2/30);c.B(b);b.density=2;e.N(2/30,1);c.B(b);this.m_bodies.push(c);var d=this.m_bodies,g;for(g in d)c=d[g],this.Km.Xd(c);this.m_world.yk(this.Km);this.m_aboutText.text='Buoyancy'}Xe(Tk,Ik);
Tk.prototype.Ha=function(){Tk.o.Ha.apply(this);this.m_sprite.graphics.Pa(1,255,1);this.m_sprite.graphics.moveTo(5,200);this.m_sprite.graphics.lineTo(635,200);this.m_sprite.graphics.Pa();this.m_sprite.graphics.ze(255,.2);this.m_sprite.graphics.moveTo(5,200);this.m_sprite.graphics.lineTo(635,200);this.m_sprite.graphics.lineTo(635,355);this.m_sprite.graphics.lineTo(5,355);this.m_sprite.graphics.zd()};Tk.prototype.Update=Tk.prototype.Ha;Tk.prototype.i={names:[{name:'TestBuoyancy',j:gc,kind:l}]};
y(gc,Tk);function Uk(a,b,c){Ik.call(this,a,b,c);this.m_aboutText.text='Continuous Collision Detection';a=new Xh;a.density=4;a.restitution=1.4;b=new Sh;b.type=Ni;b.bullet=!0;b.position.Set(5,100/30);b=this.m_world.s(b);c=new Q;c.N(1.5,.15);a.shape=c;b.B(a);c=new Q;c.pc(.15,2.7,new P(-1.45,-2.35),-.2);a.shape=c;b.B(a);c=new Q;c.pc(.15,2.7,new P(1.45,-2.35),.2);a.shape=c;b.B(a);for(c=0;5>c;c++)a.shape=new Nk((10*Math.random()+5)/30),a.friction=.3,a.density=1,a.restitution=1.1,b=new Sh,b.type=Ni,b.bullet=!0,b.position.Set((300*
Math.random()+250)/30,(320*Math.random()+20)/30),b=this.m_world.s(b),b.B(a)}Xe(Uk,Ik);Uk.prototype.i={names:[{name:'TestCCD',j:hc,kind:l}]};y(hc,Uk);function Vk(a,b,c){Ik.call(this,a,b,c);this.m_aboutText.text='Compound Shapes';var d=new Nk;d.ni(.5);d.ki(new P(-.5,.5));var e=new Nk;e.ni(.5);e.ki(new P(.5,.5));a=new Sh;a.type=Ni;for(c=0;5>c;++c)b=320+Lh(-3,3),a.position.Set((b+150)/30,(75*-c+331.5)/30),a.angle=Lh(-Math.PI,Math.PI),b=this.m_world.s(a),b.wa(d,2),b.wa(e,0);d=new Q;d.N(.25,.5);e=new Q;e.pc(.25,.5,new P(0,-.5),.5*Math.PI);a=new Sh;a.type=Ni;for(c=0;5>c;++c)b=320+Lh(-3,3),a.position.Set((b-150)/30,(75*-c+331.5)/30),a.angle=Lh(-Math.PI,
Math.PI),b=this.m_world.s(a),b.wa(d,2),b.wa(e,2);a=new sh;a.R.Set(.3524*Math.PI);a.position=yh(a.R,new P(1,0));d=new Q;d.rb([Ah(a,new P(-1,0)),Ah(a,new P(1,0)),Ah(a,new P(0,.5))]);a=new sh;a.R.Set(-.3524*Math.PI);a.position=yh(a.R,new P(-1,0));e=new Q;e.rb([Ah(a,new P(-1,0)),Ah(a,new P(1,0)),Ah(a,new P(0,.5))]);a=new Sh;a.type=Ni;a.fixedRotation=!0;for(c=0;5>c;++c)b=320+Lh(-3,3),a.position.Set(b/30,(55*-c+238.5)/30),a.angle=0,b=this.m_world.s(a),b.wa(d,2),b.wa(e,2);c=new Q;c.N(1.5,.15);d=new Q;d.pc(.15,
2.7,new P(-1.45,-2.35),-.2);e=new Q;e.pc(.15,2.7,new P(1.45,-2.35),.2);a=new Sh;a.type=Ni;a.position.Set(320/30,10);b=this.m_world.s(a);b.wa(c,4);b.wa(d,4);b.wa(e,4)}Xe(Vk,Ik);Vk.prototype.i={names:[{name:'TestCompound',j:ic,kind:l}]};y(ic,Vk);function Wk(){Gk.call(this);this.localAnchorA=new P;this.localAnchorB=new P;this.type=9;this.maxTorque=this.maxForce=0}Xe(Wk,Gk);Wk.prototype.u=function(a,b,c){this.bodyA=a;this.bodyB=b;this.localAnchorA.m(this.bodyA.$a(c));this.localAnchorB.m(this.bodyB.$a(c))};Wk.prototype.Initialize=Wk.prototype.u;Wk.prototype.i={names:[{name:'b2FrictionJointDef',j:qb,kind:l}]};y(qb,Wk);function Xk(){Gk.call(this);this.type=6;this.joint2=this.joint1=null;this.ratio=1}Xe(Xk,Gk);Xk.prototype.i={names:[{name:'b2GearJointDef',j:sb,kind:l}]};y(sb,Xk);function Yk(){Gk.call(this);this.localAnchorA=new P;this.localAnchorB=new P;this.localAxisA=new P;this.type=7;this.localAxisA.Set(1,0);this.enableLimit=!1;this.upperTranslation=this.lowerTranslation=0;this.enableMotor=!1;this.motorSpeed=this.maxMotorForce=0}Xe(Yk,Gk);Yk.prototype.u=function(a,b,c,d){this.bodyA=a;this.bodyB=b;this.localAnchorA=this.bodyA.$a(c);this.localAnchorB=this.bodyB.$a(c);this.localAxisA=this.bodyA.Yh(d)};Yk.prototype.Initialize=Yk.prototype.u;
Yk.prototype.i={names:[{name:'b2LineJointDef',j:Cb,kind:l}]};y(Cb,Yk);function Zk(){Gk.call(this);this.localAnchorA=new P;this.localAnchorB=new P;this.localAxisA=new P;this.type=2;this.localAxisA.Set(1,0);this.referenceAngle=0;this.enableLimit=!1;this.upperTranslation=this.lowerTranslation=0;this.enableMotor=!1;this.motorSpeed=this.maxMotorForce=0}Xe(Zk,Gk);Zk.prototype.u=function(a,b,c,d){this.bodyA=a;this.bodyB=b;this.localAnchorA=this.bodyA.$a(c);this.localAnchorB=this.bodyB.$a(c);this.localAxisA=this.bodyA.Yh(d);this.referenceAngle=this.bodyB.jb()-this.bodyA.jb()};
Zk.prototype.Initialize=Zk.prototype.u;Zk.prototype.i={names:[{name:'b2PrismaticJointDef',j:Gb,kind:l}]};y(Gb,Zk);function $k(){Gk.call(this);this.groundAnchorA=new P;this.groundAnchorB=new P;this.localAnchorA=new P;this.localAnchorB=new P;this.type=4;this.groundAnchorA.Set(-1,1);this.groundAnchorB.Set(1,1);this.localAnchorA.Set(-1,0);this.localAnchorB.Set(1,0);this.maxLengthB=this.lengthB=this.maxLengthA=this.lengthA=0;this.ratio=1;this.collideConnected=!0}Xe($k,Gk);
$k.prototype.u=function(a,b,c,d,e,f,g){this.bodyA=a;this.bodyB=b;this.groundAnchorA.m(c);this.groundAnchorB.m(d);this.localAnchorA=this.bodyA.$a(e);this.localAnchorB=this.bodyB.$a(f);a=e.x-c.x;c=e.y-c.y;this.lengthA=Math.sqrt(a*a+c*c);c=f.x-d.x;d=f.y-d.y;this.lengthB=Math.sqrt(c*c+d*d);this.ratio=g;g=this.lengthA+this.ratio*this.lengthB;this.maxLengthA=g-2*this.ratio;this.maxLengthB=(g-2)/this.ratio};$k.prototype.Initialize=$k.prototype.u;$k.prototype.i={names:[{name:'b2PulleyJointDef',j:Ib,kind:l}]};
y(Ib,$k);function al(){Gk.call(this);this.localAnchorA=new P;this.localAnchorB=new P;this.type=8;this.referenceAngle=0}Xe(al,Gk);al.prototype.u=function(a,b,c){this.bodyA=a;this.bodyB=b;this.localAnchorA.m(this.bodyA.$a(c));this.localAnchorB.m(this.bodyB.$a(c));this.referenceAngle=this.bodyB.jb()-this.bodyA.jb()};al.prototype.Initialize=al.prototype.u;al.prototype.i={names:[{name:'b2WeldJointDef',j:Nb,kind:l}]};y(Nb,al);function bl(a,b,c){Ik.call(this,a,b,c);this.m_aboutText.text='Joints';a=this.m_world.m_groundBody;var d,e;b=new Xh;d=new Q;d.N(.25,1);b.shape=d;b.density=1;e=new Ok;var f=a;c=new Sh;c.type=Ni;c.position.Set(100/30,8.5);d=this.m_world.s(c);d.B(b);e.u(f,d,new P(100/30,9.5));e.motorSpeed=1*-Math.PI;e.maxMotorTorque=5E3;e.enableMotor=!0;this.m_world.V(e);f=d;d=new Q;d.N(.25,2);b.shape=d;c.position.Set(100/30,5.5);d=this.m_world.s(c);d.B(b);e.u(f,d,new P(100/30,7.5));e.enableMotor=!1;this.m_world.V(e);
f=d;d=new Q;d.N(.75,.75);b.shape=d;c.position.Set(100/30,3.5);d=this.m_world.s(c);d.B(b);e.u(f,d,new P(100/30,3.5));this.m_world.V(e);e=new Zk;e.u(a,d,new P(100/30,3.5),new P(0,1));e.maxMotorForce=500;e.enableMotor=!0;this.m_world.V(e);d=new Q;d.N(.75,.75);b.shape=d;b.density=2;c.position.Set(100/30,.5);d=this.m_world.s(c);d.B(b);e=new Nk(25/30);b.shape=e;b.density=5;d=new Sh;d.type=Ni;d.position.Set(200/30,6);c=this.m_world.s(d);c.B(b);f=new Ok;f.u(a,c,d.position);this.m_gJoint1=this.m_world.V(f);
f=new Nk(50/30);b.shape=f;b.density=5;var g=new Sh;g.type=Ni;g.position.Set(275/30,6);d=this.m_world.s(g);d.B(b);var h=new Ok;h.u(a,d,g.position);this.m_gJoint2=this.m_world.V(h);g=new Q;g.N(10/30,100/30);b.shape=g;b.density=5;h=new Sh;h.type=Ni;h.position.Set(335/30,6);g=this.m_world.s(h);g.B(b);var k=new Zk;k.u(a,g,h.position,new P(0,1));k.lowerTranslation=-25/30;k.upperTranslation=100/30;k.enableLimit=!0;this.m_gJoint3=this.m_world.V(k);h=new Xk;h.bodyA=c;h.bodyB=d;h.joint1=this.m_gJoint1;h.joint2=
this.m_gJoint2;h.ratio=f.m_radius/e.m_radius;this.m_gJoint4=this.m_world.V(h);c=new Xk;c.bodyA=d;c.bodyB=g;c.joint1=this.m_gJoint2;c.joint2=this.m_gJoint3;c.ratio=-1/f.m_radius;this.m_gJoint5=this.m_world.V(c);d=new Q;d.N(50/30,20/30);b.shape=d;b.density=5;c=new Sh;c.type=Ni;c.position.Set(16,200/30);d=this.m_world.s(c);d.B(b);e=new $k;e.u(g,d,new P(335/30,50/30),new P(16,50/30),new P(335/30,6),new P(16,6),2);e.maxLengthA=200/30;e.maxLengthB=5;this.m_world.V(e);b.shape=new Nk(40/30);b.friction=.3;
b.restitution=.3;b.density=5;c.position.Set(485/30,100/30);c=e=this.m_world.s(c);c.B(b);d=new Q;d.N(.25,1);b.shape=d;b.density=1;c=new Sh;c.type=Ni;c.position.Set(500/30,250/30);d=this.m_world.s(c);d.B(b);b=new Yk;b.u(a,d,d.m_xf.position,new P(.4,.6));b.lowerTranslation=-1;b.upperTranslation=1;b.enableLimit=!0;b.maxMotorForce=1;b.motorSpeed=0;b.enableMotor=!0;this.m_world.V(b);a=new Wk;a.u(e,this.m_world.m_groundBody,e.m_xf.position);a.collideConnected=!0;a.maxForce=200;this.m_world.V(a)}Xe(bl,Ik);
bl.prototype.i={names:[{name:'TestCrankGearsPulley',j:jc,kind:l}]};y(jc,bl);function cl(a,b,c){Ik.call(this,a,b,c);this.m_aboutText.text='One Sided Platform\nPress: (c) create a shape, (d) destroy a shape.';a=new Sh;a.position.Set(10,10);b=this.m_world.s(a);c=Qh(3,.5);this.m_platform=b.wa(c);this.m_bottom=a.position.y+.5;this.m_top=a.position.y-.5;a=new Sh;a.type=Ni;a.position.Set(10,12);b=this.m_world.s(a);this.m_radius=.5;this.m_character=b.wa(new Nk(this.m_radius),1);this.Rd=dl;this.m_world.hi(new el(this))}Xe(cl,Ik);var dl=0;cl.prototype.Rd=0;cl.prototype.m_state=cl.prototype.Rd;
cl.prototype.i={names:[{name:'TestOneSidedPlatform',j:kc,kind:l}]};y(kc,cl);function el(a){this.test=a}Xe(el,jk);el.prototype.ug=function(a){var b=a.m_fixtureA,c=a.m_fixtureB;b!=this.test.m_platform&&b!=this.test.m_character||c!=this.test.m_platform&&c!=this.test.m_character||this.test.m_character.m_body.m_xf.position.y>this.test.m_top&&a.fl(!1)};el.prototype.PreSolve=el.prototype.ug;el.prototype.i={names:[{name:bc,j:lc,kind:l}]};y(lc,el);function fl(a,b,c){Ik.call(this,a,b,c);this.m_aboutText.text='Ragdolls';var d;a=new Sh;var e=new Ok;b=new Xh;for(var f=0;2>f;f++){var g=70+20*Math.random()+480*f,h=20+50*Math.random();a.type=Ni;c=new Nk(12.5/30);b.shape=c;b.density=1;b.friction=.4;b.restitution=.3;a.position.Set(g/30,h/30);c=this.m_world.s(a);c.B(b);c.Ak(new P(100*Math.random()-50,100*Math.random()-50),c.m_sweep.c);d=new Q;d.N(.5,10/30);b.shape=d;b.density=1;b.friction=.4;b.restitution=.1;a.position.Set(g/30,(h+28)/30);var k=this.m_world.s(a);
k.B(b);d=new Q;d.N(.5,10/30);b.shape=d;a.position.Set(g/30,(h+43)/30);var m=this.m_world.s(a);m.B(b);d.N(.5,10/30);b.shape=d;a.position.Set(g/30,(h+58)/30);var p=this.m_world.s(a);p.B(b);b.density=1;b.friction=.4;b.restitution=.1;d=new Q;d.N(.6,6.5/30);b.shape=d;a.position.Set((g-30)/30,(h+20)/30);var r=this.m_world.s(a);r.B(b);d=new Q;d.N(.6,6.5/30);b.shape=d;a.position.Set((g+30)/30,(h+20)/30);var u=this.m_world.s(a);u.B(b);b.density=1;b.friction=.4;b.restitution=.1;d=new Q;d.N(17/30,.2);b.shape=
d;a.position.Set((g-57)/30,(h+20)/30);var v=this.m_world.s(a);v.B(b);d=new Q;d.N(17/30,.2);b.shape=d;a.position.Set((g+57)/30,(h+20)/30);var A=this.m_world.s(a);A.B(b);b.density=1;b.friction=.4;b.restitution=.1;d=new Q;d.N(.25,22/30);b.shape=d;a.position.Set((g-8)/30,(h+85)/30);var B=this.m_world.s(a);B.B(b);d=new Q;d.N(.25,22/30);b.shape=d;a.position.Set((g+8)/30,(h+85)/30);var E=this.m_world.s(a);E.B(b);b.density=1;b.friction=.4;b.restitution=.1;d=new Q;d.N(.2,20/30);b.shape=d;a.position.Set((g-
8)/30,(h+120)/30);var S=this.m_world.s(a);S.B(b);d=new Q;d.N(.2,20/30);b.shape=d;a.position.Set((g+8)/30,(h+120)/30);d=this.m_world.s(a);d.B(b);e.enableLimit=!0;e.lowerAngle=-40/(180/Math.PI);e.upperAngle=40/(180/Math.PI);e.u(k,c,new P(g/30,(h+15)/30));this.m_world.V(e);e.lowerAngle=-85/(180/Math.PI);e.upperAngle=130/(180/Math.PI);e.u(k,r,new P((g-18)/30,(h+20)/30));this.m_world.V(e);e.lowerAngle=-130/(180/Math.PI);e.upperAngle=85/(180/Math.PI);e.u(k,u,new P((g+18)/30,(h+20)/30));this.m_world.V(e);
e.lowerAngle=-130/(180/Math.PI);e.upperAngle=10/(180/Math.PI);e.u(r,v,new P((g-45)/30,(h+20)/30));this.m_world.V(e);e.lowerAngle=-10/(180/Math.PI);e.upperAngle=130/(180/Math.PI);e.u(u,A,new P((g+45)/30,(h+20)/30));this.m_world.V(e);e.lowerAngle=-15/(180/Math.PI);e.upperAngle=15/(180/Math.PI);e.u(k,m,new P(g/30,(h+35)/30));this.m_world.V(e);e.u(m,p,new P(g/30,(h+50)/30));this.m_world.V(e);e.lowerAngle=-25/(180/Math.PI);e.upperAngle=45/(180/Math.PI);e.u(p,B,new P((g-8)/30,(h+72)/30));this.m_world.V(e);
e.lowerAngle=-45/(180/Math.PI);e.upperAngle=25/(180/Math.PI);e.u(p,E,new P((g+8)/30,(h+72)/30));this.m_world.V(e);e.lowerAngle=-25/(180/Math.PI);e.upperAngle=115/(180/Math.PI);e.u(B,S,new P((g-8)/30,(h+105)/30));this.m_world.V(e);e.lowerAngle=-115/(180/Math.PI);e.upperAngle=25/(180/Math.PI);e.u(E,d,new P((g+8)/30,(h+105)/30));this.m_world.V(e)}a.type=Th;b.density=0;b.friction=.4;b.restitution=.3;for(e=1;10>=e;e++)d=new Q,d.N(10*e/30,10/30),b.shape=d,a.position.Set(10*e/30,(150+20*e)/30),c=this.m_world.s(a),
c.B(b);for(e=1;10>=e;e++)d=new Q,d.N(10*e/30,10/30),b.shape=d,a.position.Set((640-10*e)/30,(150+20*e)/30),c=this.m_world.s(a),c.B(b);d=new Q;d.N(1,40/30);b.shape=d;a.position.Set(320/30,320/30);c=this.m_world.s(a);c.B(b)}Xe(fl,Ik);fl.prototype.i={names:[{name:'TestRagdoll',j:mc,kind:l}]};y(mc,fl);function gl(a,b,c){Ik.call(this,a,b,c);this.m_aboutText.text='Raycast';this.m_world.jl(new P(0,0));b=new Q;b.N(1,4/30);a=new Xh;a.shape=b;a.density=4;a.friction=.4;a.restitution=.3;a.userData='laser';b=new Sh;b.type=Ni;b.position.Set(320/30,5);b.position.Set(40/30,5);this.laser=this.m_world.s(b);this.laser.B(a);this.laser.fi(.5);this.laser.fi(Math.PI);a.shape=new Nk(1);a.density=4;a.friction=.4;a.restitution=.3;a.userData='circle';b.position.Set(100/30,100/30);this.m_world.s(b).B(a)}Xe(gl,Ik);
gl.prototype.Ha=function(){gl.o.Ha.apply(this);var a=this.laser.fa(new P(30.1/30,0)),b=this.laser.fa(new P(130.1/30,0)),c=this.m_world.al(a,b),d=1;if(c){var d=new mi(a,b),e=new ni;c.ma(e,d);d=e.fraction}this.m_sprite.graphics.Pa(1,16711680,1);this.m_sprite.graphics.moveTo(30*a.x,30*a.y);this.m_sprite.graphics.lineTo(30*(b.x*d+(1-d)*a.x),30*(b.y*d+(1-d)*a.y))};gl.prototype.Update=gl.prototype.Ha;gl.prototype.i={names:[{name:'TestRaycast',j:nc,kind:l}]};y(nc,gl);function hl(a,b,c){Ik.call(this,a,b,c);this.m_aboutText.text='Stacked Boxes';a=new Xh;c=new Q;b=new Sh;b.type=Ni;var d;a.density=1;a.friction=.5;a.restitution=.1;a.shape=c;var e;for(e=0;10>e;e++)c.N(10/30,10/30),b.position.Set(14,(355-25*e)/30),d=this.m_world.s(b),d.B(a);for(e=0;10>e;e++)c.N(10/30,10/30),b.position.Set((320+.02*Math.random()-.01)/30,(355-25*e)/30),d=this.m_world.s(b),d.B(a);for(e=0;10>e;e++)c.N(10/30,10/30),b.position.Set((520+.02*Math.random()-.01)/30,(355-25*e)/30),d=this.m_world.s(b),
d.B(a);d=[new P(0,0),new P(0,-100/30),new P(200/30,0)];c.rb(d,d.length);a.density=0;b.type=Th;b.userData='ramp';b.position.Set(0,12);d=this.m_world.s(b);d.B(a);c=new Nk;c.m_radius=40/30;a.density=2;a.restitution=.2;a.friction=.5;a.shape=c;b.type=Ni;b.userData='ball';b.position.Set(50/30,100/30);d=this.m_world.s(b);d.B(a)}Xe(hl,Ik);hl.prototype.i={names:[{name:'TestStack',j:oc,kind:l}]};y(oc,hl);function il(){Gk.call(this);this.localAnchorA=new P;this.localAnchorB=new P;this.type=3;this.length=1;this.dampingRatio=this.frequencyHz=0}Xe(il,Gk);il.prototype.u=function(a,b,c,d){this.bodyA=a;this.bodyB=b;this.localAnchorA.m(this.bodyA.$a(c));this.localAnchorB.m(this.bodyB.$a(d));a=d.x-c.x;c=d.y-c.y;this.length=Math.sqrt(a*a+c*c);this.dampingRatio=this.frequencyHz=0};il.prototype.Initialize=il.prototype.u;il.prototype.i={names:[{name:'b2DistanceJointDef',j:ob,kind:l}]};y(ob,il);function jl(a,b,c){this.gb=new P;Ik.call(this,a,b,c);this.m_aboutText.text='Theo Jansen Walker';this.gb.Set(4,250/30);this.fb=-2;this.Tm=!0;a=new P(0,-.4);var d;for(c=0;40>c;++c)b=new Nk(.125),d=new Sh,d.type=Ni,d.position.Set((620*Math.random()+10)/30,350/30),d=this.m_world.s(d),d.wa(b,1);b=new Q;b.N(1.25,.5);c=new Xh;c.shape=b;c.density=1;c.filter.zb=-1;d=new Sh;d.type=Ni;d.position=Dh(a,this.gb);this.Hd=this.m_world.s(d);this.Hd.B(c);b=new Nk(.8);c=new Xh;c.shape=b;c.density=1;c.filter.zb=-1;d=
new Sh;d.type=Ni;d.position=Dh(a,this.gb);this.cd=this.m_world.s(d);this.cd.B(c);b=new Ok;c=a.O();c.vb(this.gb);b.u(this.cd,this.Hd,c);b.collideConnected=!1;b.motorSpeed=this.fb;b.maxMotorTorque=400;b.enableMotor=this.Tm;this.Wf=this.m_world.V(b);b=new P(0,.4);b.vb(a);kl(this,-1,b);kl(this,1,b);this.cd.ee(this.cd.m_xf.position,120*Math.PI/180);kl(this,-1,b);kl(this,1,b);this.cd.ee(this.cd.m_xf.position,-120*Math.PI/180);kl(this,-1,b);kl(this,1,b)}Xe(jl,Ik);
function kl(a,b,c){var d=new P(162*b/60,3.05),e=new P(216*b/60,.6),f=new P(129*b/60,.95),g=new P(93*b/60,-.4),h=new P(180*b/60,-.75),k=new P(75*b/60,-1.85),m=new Q,p=new Q,r=new Xh,u=new Xh;r.shape=m;u.shape=p;r.filter.zb=-1;u.filter.zb=-1;r.density=1;u.density=1;0<b?(m.rb([f,e,d]),p.rb([Ch(k,g),Ch(h,g),new P])):(m.rb([e,f,d]),p.rb([Ch(h,g),Ch(k,g),new P]));b=new Sh;b.type=Ni;d=new Sh;d.type=Ni;b.position.m(a.gb);d.position=Dh(g,a.gb);b.angularDamping=10;d.angularDamping=10;b=a.m_world.s(b);d=a.m_world.s(d);
b.B(r);d.B(u);r=new il;r.dampingRatio=.5;r.frequencyHz=10;r.u(b,d,Dh(e,a.gb),Dh(h,a.gb));a.m_world.V(r);r.u(b,d,Dh(f,a.gb),Dh(g,a.gb));a.m_world.V(r);r.u(b,a.cd,Dh(f,a.gb),Dh(c,a.gb));a.m_world.V(r);r.u(d,a.cd,Dh(k,a.gb),Dh(c,a.gb));a.m_world.V(r);c=new Ok;c.u(d,a.Hd,Dh(g,a.gb));a.m_world.V(c)}
jl.prototype.Ha=function(){this.input.xc(65)&&(this.Hd.H(!0),this.Wf.Pc(-this.fb));this.input.xc(83)&&(this.Hd.H(!0),this.Wf.Pc(0));this.input.xc(68)&&(this.Hd.H(!0),this.Wf.Pc(this.fb));this.input.xc(77)&&(this.Hd.H(!0),this.Wf.be(!this.Wf.ce()));jl.o.Ha.apply(this)};jl.prototype.Update=jl.prototype.Ha;jl.prototype.Tm=!0;jl.prototype.i={names:[{name:'TestTheoJansen',j:pc,kind:l}]};y(pc,jl);function ll(){}y('flash.text.TextFieldAutoSize.NONE',De);y('flash.text.TextFieldAutoSize.LEFT',re);y('flash.text.TextFieldAutoSize.CENTER','center');y('flash.text.TextFieldAutoSize.RIGHT',Le);ll.prototype.i={names:[{name:'TextFieldAutoSize',j:de,kind:l}]};y(de,ll);function ml(){}y('flash.text.TextFieldType.INPUT','input');y('flash.text.TextFieldType.DYNAMIC','dynamic');ml.prototype.i={names:[{name:'TextFieldType',j:ee,kind:l}]};y(ee,ml);function nl(a,b,c,d,e,f,g,h,k,m,p,r,u){a='undefined'!==typeof a?a:null;b='undefined'!==typeof b?b:null;c='undefined'!==typeof c?c:null;d='undefined'!==typeof d?d:null;e='undefined'!==typeof e?e:null;f='undefined'!==typeof f?f:null;g='undefined'!==typeof g?g:null;h='undefined'!==typeof h?h:null;k='undefined'!==typeof k?k:null;m='undefined'!==typeof m?m:null;p='undefined'!==typeof p?p:null;r='undefined'!==typeof r?r:null;u='undefined'!==typeof u?u:null;null!=a&&(this.font=a);null!=b&&(this.size=b);
null!=c&&(this.color=c);null!=d&&(this.bold=d);null!=e&&(this.italic=e);null!=f&&(this.underline=f);null!=g&&(this.url=g);null!=h&&(this.target=h);null!=k&&(this.align=k);null!=m&&(this.leftMargin=m);null!=p&&(this.rightMargin=p);null!=r&&(this.indent=r);null!=u&&(this.leading=u)}x=nl.prototype;x.U=!0;x.Jl=12;x.Si=w(null);x.Xj=n();x.hr=w(null);x.Sv=n();x.jr=w(null);x.Uv=n();x.tr=w(null);x.$v=n();x.ub=t('Na');x.Sb=q('Na');x.as=w(null);x.pw=n();x.ts=t('Np');x.zw=q('Np');x.Fs=w(null);x.Kw=n();x.Ks=w(null);
x.Nw=n();x.Ms=w(null);x.Pw=n();x.Qs=w(null);x.Tw=n();x.Ss=w(null);x.Vw=n();x.Us=w(null);x.Xw=n();x.Ct=w(null);x.xx=n();x.lj=t('Jl');x.jk=q('Jl');x.bu=w(null);x.Nx=n();x.pj=w(null);x.lk=n();x.nu=w(null);x.Vx=n();x.qj=w(null);x.Wx=n();x.Sr=function(){return this.Kp=this.size+'px '+this.font};x.Tr=function(){return'rgb('+(this.color>>0>>16&255)+','+(this.color>>0>>8&255)+','+(this.color>>0&255)+')'};
Object.defineProperties(nl.prototype,{align:{get:nl.prototype.Si,set:nl.prototype.Xj},blockIndent:{get:nl.prototype.hr,set:nl.prototype.Sv},bold:{get:nl.prototype.jr,set:nl.prototype.Uv},bullet:{get:nl.prototype.tr,set:nl.prototype.$v},color:{get:nl.prototype.ub,set:nl.prototype.Sb},display:{get:nl.prototype.as,set:nl.prototype.pw},font:{get:nl.prototype.ts,set:nl.prototype.zw},indent:{get:nl.prototype.Fs,set:nl.prototype.Kw},italic:{get:nl.prototype.Ks,set:nl.prototype.Nw},kerning:{get:nl.prototype.Ms,
set:nl.prototype.Pw},leading:{get:nl.prototype.Qs,set:nl.prototype.Tw},leftMargin:{get:nl.prototype.Ss,set:nl.prototype.Vw},letterSpacing:{get:nl.prototype.Us,set:nl.prototype.Xw},rightMargin:{get:nl.prototype.Ct,set:nl.prototype.xx},size:{get:nl.prototype.lj,set:nl.prototype.jk},tabStops:{get:nl.prototype.bu,set:nl.prototype.Nx},target:{get:nl.prototype.pj,set:nl.prototype.lk},underline:{get:nl.prototype.nu,set:nl.prototype.Vx},url:{get:nl.prototype.qj,set:nl.prototype.Wx},css:{get:nl.prototype.Sr},
csscolor:{get:nl.prototype.Tr}});nl.prototype.i={names:[{name:'TextFormat',j:fe,kind:l}]};y(fe,nl);function Z(){F.call(this);this.uc='dynamic';this.graphics=new H;this.Zc=[];this.ve=new nl;this.Hi=new C;this.Sc=new D(1,1);this.textColor=0;this.addEventListener(Je,gf(this.nv,this,Je))}Xe(Z,Yf);x=Z.prototype;x.cc=!0;x.Kf='';x.we=100;x.Tc=100;x.ti=!1;x.vl=16777215;x.ui=!1;x.wl=0;x.sb=0;x.tb=0;x.ne=0;x.oe=0;x.nv=function(){this.input&&this.input.parentElement&&this.input.parentElement.removeChild(this.input)};y('flash.text.TextField.isFontCompatible',w(!1));Z.prototype.Bu=function(){this.text=this.input.value};
Z.prototype.Vp=function(a){this.mn(this.text.length,this.text.length,a)};Z.prototype.appendText=Z.prototype.Vp;Z.prototype.Xc=function(){var a=new C(0,0,this.textWidth,this.textHeight);(this.border||this.background)&&a.wc(4,4);return a};Z.prototype.getBounds=Z.prototype.Xc;
Z.prototype.Yc=function(){var a=new C(0,0,this.width,this.height);(this.border||this.background)&&a.wc(3.5,3);var b=Math.PI/180*this.rotation,c=Math.round(10*(a.height*Math.sin(b)+a.width*Math.cos(b)))/10,b=Math.round(10*(a.height*Math.cos(b)+a.width*Math.sin(b)))/10,c=c>a.width?c-a.width:0,b=b>a.height?b-a.width:0;a.wc(c/2,b/2);a.clone();return a};Z.prototype.getFullBounds=Z.prototype.Yc;Z.prototype.zq=w(null);Z.prototype.getCharBoundaries=Z.prototype.zq;Z.prototype.Aq=w(0);
Z.prototype.getCharIndexAtPoint=Z.prototype.Aq;Z.prototype.Dq=w(0);Z.prototype.getFirstCharInParagraph=Z.prototype.Dq;Z.prototype.Hq=w(0);Z.prototype.getLineIndexAtPoint=Z.prototype.Hq;Z.prototype.Iq=w(0);Z.prototype.getLineIndexOfChar=Z.prototype.Iq;Z.prototype.Jq=w(0);Z.prototype.getLineLength=Z.prototype.Jq;Z.prototype.Kq=w(null);Z.prototype.getLineMetrics=Z.prototype.Kq;Z.prototype.Lq=w(0);Z.prototype.getLineOffset=Z.prototype.Lq;Z.prototype.Mq=w(null);Z.prototype.getLineText=Z.prototype.Mq;
Z.prototype.Oq=w(0);Z.prototype.getParagraphLength=Z.prototype.Oq;Z.prototype.Tq=t('ve');Z.prototype.getTextFormat=Z.prototype.Tq;Z.prototype.Uq=w(null);Z.prototype.getTextRuns=Z.prototype.Uq;Z.prototype.Rq=w(null);Z.prototype.getRawText=Z.prototype.Rq;Z.prototype.ov=n();Z.prototype.replaceSelectedText=Z.prototype.ov;Z.prototype.mn=function(a,b,c){this.text=this.Kf.substr(0,a)+c+this.Kf.substr(b)};Z.prototype.replaceText=Z.prototype.mn;Z.prototype.Dv=n();Z.prototype.setSelection=Z.prototype.Dv;
Z.prototype.Gv=q('ve');Z.prototype.setTextFormat=Z.prototype.Gv;Z.prototype.Eq=w(null);Z.prototype.getImageReference=Z.prototype.Eq;Z.prototype.kb=function(a){Z.o.kb.apply(this,[a]);null!=this.Kf&&this.visible&&(this.ri(a,this.transform.concatenatedMatrix),yf++)};Z.prototype.__update=Z.prototype.kb;
Z.prototype.ri=function(a,b){!this.ui&&!this.ti||this.cacheAsBitmap||(this.cc&&(this.cc=!1,this.graphics.clear(),this.border&&this.graphics.Pa(0,this.borderColor),this.background&&this.graphics.ze(this.backgroundColor),this.graphics.cm(-2,0,this.width+4,this.height+2)),Bf.Sd(a,this.graphics,b,this.blendMode,this.transform.concatenatedColorTransform));if('dynamic'==this.type)if(this.cacheAsBitmap&&!this.parent.cacheAsBitmap)Bf.Rb(a,this.Sc,b,this.blendMode,this.transform.concatenatedColorTransform,
-this.x-this.sb,-this.y-this.tb);else for(var c=0;c<this.Zc.length;c++)Bf.Qe(a,this.Zc[c],this.defaultTextFormat,b,this.blendMode,this.transform.concatenatedColorTransform,0,c*(this.defaultTextFormat.size>>0));else this.input.style.left=b.tx+'px',this.input.style.top=b.ty+'px',this.input.style.width=this.width+'px',this.input.style.height=this.height+'px',this.input.style.fontFamily=this.defaultTextFormat.font,this.input.style.fontSize=this.defaultTextFormat.size+'px',this.input.style.color=this.defaultTextFormat.csscolor,
this.input.value!=this.text&&(this.input.value=this.text),null==this.input.parentElement&&this.stage.__htmlWrapper.appendChild(this.input)};Z.prototype.__draw=Z.prototype.ri;Z.prototype.ie=function(){return this.mouseEnabled&&this.visible&&this.sj(this.stage.mouseX,this.stage.mouseY)?this:null};Z.prototype.je=function(){return this.text&&''!=this.text?(this.Hi.width=this.width,this.Hi.height=this.height,this.Hi):null};Z.prototype.__getRect=Z.prototype.je;x=Z.prototype;x.$q=w(!1);x.Lv=n();x.br=w(null);
x.Nv=n();x.cr=t('Ep');x.Ov=function(a){this.Ep=a;Cf=this.cc=!0};x.fr=t('ti');x.Qv=function(a){this.ti=a;Cf=this.cc=!0};x.gr=t('vl');x.Rv=function(a){this.vl=a;Cf=this.cc=!0};x.kr=t('ui');x.Vv=function(a){this.ui=a;Cf=this.cc=!0};x.lr=t('wl');x.Wv=function(a){this.wl=a;Cf=this.cc=!0};x.or=w(0);x.Dr=w(0);x.Mr=w(!1);x.hw=n();x.Yr=t('ve');x.nw=function(a){this.ve=a;Cf=this.cc=!0};x.ks=w(!1);x.uw=n();x.zs=w(null);x.Ew=n();x.Cs=w(null);x.Hw=n();x.Cd=w(0);x.fu=w(null);x.bt=w(0);x.bx=n();x.ct=w(0);x.et=w(0);
x.ht=w(!1);x.hx=n();x.kt=w(!1);x.kx=n();x.mt=w(0);x.bs=w(!1);x.qw=n();x.At=w(null);x.vx=n();x.Ft=w(0);x.yx=n();x.Gt=w(0);x.zx=n();x.Ht=w(!1);x.Ax=n();x.It=function(){return this.text.substring(this.selectionBeginIndex,this.selectionEndIndex)};x.Jt=w(0);x.Kt=w(0);x.Nt=w(0);x.Cx=n();x.$t=w(null);x.Mx=n();x.cu=t('Kf');x.Ox=function(a){this.Kf=a;this.Zc=a.split('\n');this.cc=Cf=!0};x.du=function(){return this.ve.color>>0};x.Px=function(a){this.ve.color=a;Cf=this.cc=!0};
x.eu=function(){return this.Zc?(this.defaultTextFormat.size>>0)*this.Zc.length:0};x.hu=function(){if(this.stage&&this.Zc){var a=this.stage.ctx2d;a.font=this.defaultTextFormat.css;for(var b=0,c=0;c<this.Zc.length;c++){var d=a.measureText(this.Zc[c]).width;d>b&&(b=d)}return b}return 0};x.iu=w(0);x.Qx=n();x.Sf=t('uc');
x.mk=function(a){this.uc=a;'input'==this.uc&&null==this.input&&(this.input=document.createElement('input'),this.input.oninput=gf(this.Bu,this,'input_change'),this.input.style.position=uc,this.input.style.backgroundColor='transparent',this.input.style.borderWidth=0,this.input.style.outline=De)};x.uu=w(!1);x.$x=n();x.bc=function(){return this.autoSize==re?this.textWidth+4:this.we};x.Te=q('we');x.vc=function(){return this.autoSize==re?this.textHeight+2:this.Tc};x.Re=q('Tc');x.pu=w(!1);x.Yx=n();
x.lc=function(a){if(a&&'input'!=this.uc){var b=this.Yc(this);b.wc(2*this.ne,2*this.oe);this.Ib=document.createElement(wc);this.Ib.width=b.width;this.Ib.height=b.height;this.sd=this.Ib.getContext('2d');this.sb=b.width-b.right-this.x;this.tb=b.height-b.bottom-this.y;this.parent&&(this.sb-=this.parent.x,this.tb-=this.parent.y);b=this.transform.concatenatedMatrix.clone();b.translate(this.sb,this.tb);this.ri(this.sd,b);Z.o.lc.apply(this,[a]);this.Sc.image=this.Ib;this.Za()}else this.sd=this.Ib=null};
x.Wi=t('Sc');x.Xi=t('sb');x.Yi=t('tb');
Object.defineProperties(Z.prototype,{alwaysShowSelection:{get:Z.prototype.$q,set:Z.prototype.Lv},antiAliasType:{get:Z.prototype.br,set:Z.prototype.Nv},autoSize:{get:Z.prototype.cr,set:Z.prototype.Ov},background:{get:Z.prototype.fr,set:Z.prototype.Qv},backgroundColor:{get:Z.prototype.gr,set:Z.prototype.Rv},border:{get:Z.prototype.kr,set:Z.prototype.Vv},borderColor:{get:Z.prototype.lr,set:Z.prototype.Wv},bottomScrollV:{get:Z.prototype.or},caretIndex:{get:Z.prototype.Dr},condenseWhite:{get:Z.prototype.Mr,
set:Z.prototype.hw},defaultTextFormat:{get:Z.prototype.Yr,set:Z.prototype.nw},embedFonts:{get:Z.prototype.ks,set:Z.prototype.uw},gridFitType:{get:Z.prototype.zs,set:Z.prototype.Ew},htmlText:{get:Z.prototype.Cs,set:Z.prototype.Hw},length:{get:Z.prototype.Cd},textInteractionMode:{get:Z.prototype.fu},maxChars:{get:Z.prototype.bt,set:Z.prototype.bx},maxScrollH:{get:Z.prototype.ct},maxScrollV:{get:Z.prototype.et},mouseWheelEnabled:{get:Z.prototype.ht,set:Z.prototype.hx},multiline:{get:Z.prototype.kt,set:Z.prototype.kx},
numLines:{get:Z.prototype.mt},displayAsPassword:{get:Z.prototype.bs,set:Z.prototype.qw},restrict:{get:Z.prototype.At,set:Z.prototype.vx},scrollH:{get:Z.prototype.Ft,set:Z.prototype.yx},scrollV:{get:Z.prototype.Gt,set:Z.prototype.zx},selectable:{get:Z.prototype.Ht,set:Z.prototype.Ax},selectedText:{get:Z.prototype.It},selectionBeginIndex:{get:Z.prototype.Jt},selectionEndIndex:{get:Z.prototype.Kt},sharpness:{get:Z.prototype.Nt,set:Z.prototype.Cx},styleSheet:{get:Z.prototype.$t,set:Z.prototype.Mx},text:{get:Z.prototype.cu,
set:Z.prototype.Ox},textColor:{get:Z.prototype.du,set:Z.prototype.Px},textHeight:{get:Z.prototype.eu},textWidth:{get:Z.prototype.hu},thickness:{get:Z.prototype.iu,set:Z.prototype.Qx},type:{get:Z.prototype.Sf,set:Z.prototype.mk},wordWrap:{get:Z.prototype.uu,set:Z.prototype.$x},width:{get:Z.prototype.bc,set:Z.prototype.Te},height:{get:Z.prototype.vc,set:Z.prototype.Re},useRichTextClipboard:{get:Z.prototype.pu,set:Z.prototype.Yx},cacheAsBitmap:{get:F.prototype.Pg,set:Z.prototype.lc},cacheImage:{get:Z.prototype.Wi},
cacheOffsetX:{get:Z.prototype.Xi},cacheOffsetY:{get:Z.prototype.Yi}});Z.prototype.i={names:[{name:'TextField',j:ce,kind:l}]};y(ce,Z);function ol(){}y('flash.text.TextFormatAlign.LEFT',re);y('flash.text.TextFormatAlign.CENTER','center');y('flash.text.TextFormatAlign.RIGHT',Le);y('flash.text.TextFormatAlign.JUSTIFY','justify');y('flash.text.TextFormatAlign.START','start');y('flash.text.TextFormatAlign.END','end');ol.prototype.i={names:[{name:'TextFormatAlign',j:ge,kind:l}]};y(ge,ol);function pl(){ah.call(this);Bf=new Rg;Af='gpu batch';this.stage.scaleMode='showAll';this.stage.align='TL';this.addEventListener(Gc,gf(this.update,this,'update'),!1,0,!0);this.m_sprite=new ah;this.Vc(this.m_sprite);this.m_input=new O(this.m_sprite);var a=new Z,b=new nl('Arial',16,16711935,!1,!1,!1);b.align=Le;a.defaultTextFormat=b;a.x=140;a.y=4.5;a.width=495;a.height=61;a.text="Box2DFlashAS3 2.0.1\n'Left'/'Right' arrows to go to previous/next example. \n'R' to reset.";this.Vc(a);this.m_aboutText=new Z;
b=new nl('Arial',16,52479,!0,!1,!1);b.align=Le;this.m_aboutText.defaultTextFormat=b;this.m_aboutText.x=334;this.m_aboutText.y=71;this.m_aboutText.width=300;this.m_aboutText.height=30;this.Vc(this.m_aboutText);a.mouseEnabled=!1;this.m_aboutText.mouseEnabled=!1;a=new Z;a.defaultTextFormat=new nl(null,40,16711680);a.autoSize=re;a.text='next';a.y=100;this.Vc(a);a.addEventListener(Ac,gf(this.Zu,this,'next_click'))}Xe(pl,ah);pl.prototype.Jd=0;pl.prototype.m_currId=pl.prototype.Jd;
pl.prototype.Zu=function(){this.Jd++;this.m_currTest=null};
pl.prototype.update=function(){this.m_sprite.graphics.clear();this.m_input.xc(39)?(this.Jd++,this.m_currTest=null):this.m_input.xc(37)?(this.Jd--,this.m_currTest=null):this.m_input.xc(82)&&(this.m_currTest=null);this.Jd=(this.Jd+12)%12;if(!this.m_currTest)switch(this.Jd){case 0:this.m_currTest=new fl(this.m_sprite,this.m_aboutText,this.m_input);break;case 1:this.m_currTest=new Vk(this.m_sprite,this.m_aboutText,this.m_input);break;case 2:this.m_currTest=new bl(this.m_sprite,this.m_aboutText,this.m_input);
break;case 3:this.m_currTest=new Pk(this.m_sprite,this.m_aboutText,this.m_input);break;case 4:this.m_currTest=new hl(this.m_sprite,this.m_aboutText,this.m_input);break;case 5:this.m_currTest=new Uk(this.m_sprite,this.m_aboutText,this.m_input);break;case 6:this.m_currTest=new jl(this.m_sprite,this.m_aboutText,this.m_input);break;case 7:this.m_currTest=new jl(this.m_sprite,this.m_aboutText,this.m_input);break;case 8:this.m_currTest=new Tk(this.m_sprite,this.m_aboutText,this.m_input);break;case 9:this.m_currTest=
new cl(this.m_sprite,this.m_aboutText,this.m_input);break;case 10:this.m_currTest=new Lk(this.m_sprite,this.m_aboutText,this.m_input);break;case 11:this.m_currTest=new gl(this.m_sprite,this.m_aboutText,this.m_input)}this.m_currTest.Ha();this.m_input.update()};pl.prototype.update=pl.prototype.update;pl.prototype.i={names:[{name:qc,j:qc,kind:l}]};y(qc,pl);
//# sourceMappingURL=./TestBedMain.js.map