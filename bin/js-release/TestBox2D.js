'use strict';var aa='',ba=' out of bounds [0, ..., 3]',da='(a\x3d',ea='(redMultiplier\x3d',fa='(x\x3d',ha=')',ia=',',ja=', ',ka=', alphaMultiplier\x3d',la=', alphaOffset\x3d',ma=', b\x3d',na=', blueMultiplier\x3d',oa=', blueOffset\x3d',pa=', c\x3d',qa=', d\x3d',ra=', greenMultiplier\x3d',ta=', greenOffset\x3d',ua=', h\x3d',wa=', redOffset\x3d',xa=', tx\x3d',ya=', ty\x3d',za=', w\x3d',Aa=', y\x3d',Ba='.',Ca='2d',Da='AddPair',Ea='Box2D.Collision.ClipVertex',Fa='Box2D.Collision.Features',Ga='Box2D.Collision.Shapes.b2CircleShape',
Ja='Box2D.Collision.Shapes.b2EdgeShape',Ka='Box2D.Collision.Shapes.b2MassData',Ma='Box2D.Collision.Shapes.b2PolygonShape',Na='Box2D.Collision.Shapes.b2Shape',Oa='Box2D.Collision.Shapes.b2ShapeUtil',Pa='Box2D.Collision.b2AABB',Ra='Box2D.Collision.b2Collision',Sa='Box2D.Collision.b2ContactID',Ta='Box2D.Collision.b2ContactPoint',Ua='Box2D.Collision.b2Distance',Va='Box2D.Collision.b2DistanceInput',Wa='Box2D.Collision.b2DistanceOutput',Xa='Box2D.Collision.b2DistanceProxy',Ya='Box2D.Collision.b2DynamicTree',
Za='Box2D.Collision.b2DynamicTreeBroadPhase',$a='Box2D.Collision.b2DynamicTreeNode',ab='Box2D.Collision.b2DynamicTreePair',bb='Box2D.Collision.b2Manifold',cb='Box2D.Collision.b2ManifoldPoint',db='Box2D.Collision.b2RayCastInput',eb='Box2D.Collision.b2RayCastOutput',fb='Box2D.Collision.b2SeparationFunction',gb='Box2D.Collision.b2Simplex',hb='Box2D.Collision.b2SimplexCache',ib='Box2D.Collision.b2SimplexVertex',jb='Box2D.Collision.b2TOIInput',kb='Box2D.Collision.b2TimeOfImpact',lb='Box2D.Collision.b2WorldManifold',
mb='Box2D.Common.Math.b2Mat22',nb='Box2D.Common.Math.b2Mat33',ob='Box2D.Common.Math.b2Math',qb='Box2D.Common.Math.b2Sweep',rb='Box2D.Common.Math.b2Transform',sb='Box2D.Common.Math.b2Vec2',tb='Box2D.Common.Math.b2Vec3',ub='Box2D.Common.b2Color',vb='Box2D.Common.b2Settings',wb='Box2D.Dynamics.Contacts.b2CircleContact',xb='Box2D.Dynamics.Contacts.b2Contact',yb='Box2D.Dynamics.Contacts.b2ContactConstraint',zb='Box2D.Dynamics.Contacts.b2ContactConstraintPoint',Ab='Box2D.Dynamics.Contacts.b2ContactEdge',
Bb='Box2D.Dynamics.Contacts.b2ContactFactory',Cb='Box2D.Dynamics.Contacts.b2ContactRegister',Db='Box2D.Dynamics.Contacts.b2ContactSolver',Eb='Box2D.Dynamics.Contacts.b2EdgeAndCircleContact',Fb='Box2D.Dynamics.Contacts.b2PolyAndCircleContact',Gb='Box2D.Dynamics.Contacts.b2PolyAndEdgeContact',Hb='Box2D.Dynamics.Contacts.b2PolygonContact',Ib='Box2D.Dynamics.Contacts.b2PositionSolverManifold',Jb='Box2D.Dynamics.Joints.b2DistanceJoint',Kb='Box2D.Dynamics.Joints.b2DistanceJointDef',Lb='Box2D.Dynamics.Joints.b2FrictionJoint',
Mb='Box2D.Dynamics.Joints.b2FrictionJointDef',Nb='Box2D.Dynamics.Joints.b2GearJoint',Ob='Box2D.Dynamics.Joints.b2GearJointDef',Pb='Box2D.Dynamics.Joints.b2Jacobian',Qb='Box2D.Dynamics.Joints.b2Joint',Rb='Box2D.Dynamics.Joints.b2JointDef',Sb='Box2D.Dynamics.Joints.b2JointEdge',Tb='Box2D.Dynamics.Joints.b2JointUtil',Zb='Box2D.Dynamics.Joints.b2LineJoint',$b='Box2D.Dynamics.Joints.b2LineJointDef',ac='Box2D.Dynamics.Joints.b2MouseJoint',bc='Box2D.Dynamics.Joints.b2MouseJointDef',cc='Box2D.Dynamics.Joints.b2PrismaticJoint',
dc='Box2D.Dynamics.Joints.b2PrismaticJointDef',ec='Box2D.Dynamics.Joints.b2PulleyJoint',fc='Box2D.Dynamics.Joints.b2PulleyJointDef',gc='Box2D.Dynamics.Joints.b2RevoluteJoint',hc='Box2D.Dynamics.Joints.b2RevoluteJointDef',ic='Box2D.Dynamics.Joints.b2WeldJoint',jc='Box2D.Dynamics.Joints.b2WeldJointDef',kc='Box2D.Dynamics.b2Body',lc='Box2D.Dynamics.b2BodyDef',mc='Box2D.Dynamics.b2ContactFilter',nc='Box2D.Dynamics.b2ContactImpulse',oc='Box2D.Dynamics.b2ContactListener',pc='Box2D.Dynamics.b2ContactManager',
qc='Box2D.Dynamics.b2DebugDraw',rc='Box2D.Dynamics.b2FilterData',sc='Box2D.Dynamics.b2Fixture',tc='Box2D.Dynamics.b2FixtureDef',uc='Box2D.Dynamics.b2Island',vc='Box2D.Dynamics.b2TimeStep',wc='Box2D.Dynamics.b2World',xc='Error, Column ',yc='QueryCallback',zc='RayCastAllWrapper',Ac='RayCastOneWrapper',Bc='RayCastWrapper',Cc='SpriteFlexjs',Dc='TEXTURE',Ec='TestBox2D',Fc='Type Coercion failed',Gc='Update',Hc='Vector3D(',Ic='WorldQueryWrapper',Jc='__enterFrame',Kc='__mouseevent',Lc='__update',Mc='absolute',
Nc='addedToStage',Oc='always',Pc='attribute vec2 va0;attribute vec4 va1;attribute vec2 va2;varying vec4 vColor;varying vec2 vUV;uniform mat4 vc0;uniform mat4 vc4;void main(void) {vColor\x3dva1;vUV\x3d(vc4*vec4(va2,0.0,1.0)).xy;gl_Position \x3dvc0*vec4(va0, 0.0,1.0);}',Qc='attribute vec2 va0;attribute vec4 va1;varying vec4 vColor;uniform mat4 vc0;void main(void) {vColor\x3dva1;gl_Position \x3dvc0*vec4(va0, 0.0,1.0);}',Rc='axisAngle',Sc='back',Tc='bat new index',Uc='bat new pos',Vc='bgra',Wc='bigEndian',
Xc='boolean',Yc='canvas',Zc='canvas_mouseevent',$c='canvas_touchevent',ad='click',bd='color',cd='context3DCreate',dd='contextMenu',ed='contextmenu',fd='dblclick',gd='destinationAlpha',hd='destinationColor',id='doubleClick',jd='enterFrame',kd='equal',ld='eulerAngles',md='evenOdd',nd='experimental-webgl',od='fc',pd='flash.__native.BaseRenderer',qd='flash.__native.BitmapTexture',rd='flash.__native.GLCanvasPattern',sd='flash.__native.GLCanvasRenderingContext2D',td='flash.__native.GLCanvasState',ud='flash.__native.GLDrawable',
vd='flash.__native.GLGraphicsPath',wd='flash.__native.GLIndexBufferSet',xd='flash.__native.GLPath2D',yd='flash.__native.GLVertexBufferSet',zd='flash.__native.IRenderer',Ad='flash.__native.MemArray',Bd='flash.display.BitmapData',Cd='flash.display.DisplayObject',Dd='flash.display.DisplayObjectContainer',Ed='flash.display.GradientType',Fd='flash.display.Graphics',Gd='flash.display.GraphicsBitmapFill',Hd='flash.display.GraphicsEndFill',Id='flash.display.GraphicsGradientFill',Jd='flash.display.GraphicsPath',
Kd='flash.display.GraphicsPathCommand',Ld='flash.display.GraphicsSolidFill',Md='flash.display.GraphicsStroke',Nd='flash.display.GraphicsTrianglePath',Od='flash.display.InteractiveObject',Pd='flash.display.Sprite',Qd='flash.display.Stage',Rd='flash.display.Stage3D',Sd='flash.display3D.Context3D',Td='flash.display3D.Context3DBlendFactor',Ud='flash.display3D.Context3DCompareMode',Vd='flash.display3D.Context3DProgramType',Wd='flash.display3D.Context3DTextureFormat',Xd='flash.display3D.Context3DTriangleFace',
Yd='flash.display3D.Context3DVertexBufferFormat',Zd='flash.display3D.IndexBuffer3D',$d='flash.display3D.Program3D',ae='flash.display3D.VertexBuffer3D',be='flash.display3D.textures.CubeTexture',ce='flash.display3D.textures.RectangleTexture',de='flash.display3D.textures.Texture',ee='flash.display3D.textures.TextureBase',fe='flash.display3D.textures.VideoTexture',ge='flash.events.Event',he='flash.events.EventDispatcher',ie='flash.events.MouseEvent',je='flash.events.TouchEvent',ke='flash.geom.ColorTransform',
le='flash.geom.Matrix',me='flash.geom.Matrix3D',ne='flash.geom.Orientation3D',oe='flash.geom.Point',pe='flash.geom.Rectangle',qe='flash.geom.Transform',re='flash.geom.Vector3D',se='flash.utils.ByteArray',te='flash.utils.Endian',ue='float1',ve='float2',we='float3',xe='float4',ye='front',ze='frontAndBack',Ae='fs',Be='function',Ce='greater',De='greaterEqual',Ee='instance',Fe='less',Ge='lessEqual',He='linear',Ie='littleEndian',Je='m_angularDamping',Ke='m_length',Le='m_linearDamping',Me='m_next',Ne='m_userData',
Oe='mouseDown',Pe='mouseMove',Qe='mouseOut',Re='mouseOver',Se='mouseUp',Te='mouseWheel',Ue='mousedown',Ve='mouseenter',We='mouseleave',Xe='mousemove',Ye='mouseout',Ze='mouseover',$e='mouseup',af='mousewheel',bf='native code',cf='never',df='no-repeat',ef='none',ff='normal',gf='notEqual',hf='number',jf='one',kf='oneMinusDestinationAlpha',lf='oneMinusDestinationColor',mf='oneMinusSourceAlpha',nf='oneMinusSourceColor',of='org.apache.flex.utils.Language',pf='pad',qf='pos',rf='precision mediump float;varying vec4 vColor;varying vec2 vUV;uniform sampler2D fs0;void main(void) {gl_FragColor \x3d texture2D(fs0,vUV)*vColor;}',
sf='precision mediump float;varying vec4 vColor;void main(void) {gl_FragColor \x3d vColor;}',tf='px',uf='quaternion',vf='removedFromStage',wf='repeat',xf='resize',yf='rgb',zf='rgba(',Af='rollOver',Bf='round',Cf='sourceAlpha',Df='sourceColor',Ef='stage_enterFrame',Ff='stage_resize',Gf='string',Hf='top',If='touchBegin',Jf='touchEnd',Kf='touchMove',Lf='touchcancel',Mf='touchend',Nf='touchmove',Of='touchstart',Pf='tripath',Qf='utf-8',Rf='uv',Sf='va',Tf='var ',Uf='vc',Vf='vertex',Wf='webgl',Xf='window_resize',
Yf='zero';function m(){return function(){}}function q(a){return function(b){this[a]=b}}function t(a){return function(){return this[a]}}function w(a){return function(){return a}}var Zf,$f=this;function ag(a,b,c){return a.call.apply(a.bind,arguments)}
function bg(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function cg(a,b,c){cg=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(bf)?ag:bg;return cg.apply(null,arguments)}
function y(a,b){var c=a.split(Ba),d=$f;c[0]in d||!d.execScript||d.execScript(Tf+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}function dg(a,b){function c(){}c.prototype=b.prototype;a.Ka=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.un=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}};function eg(){}var fg,gg,hg=[],ig=String.fromCharCode(0);function z(a,b,c){c='undefined'!==typeof c?c:null;b=jg(a,b);if(!b&&void 0!==c&&c)throw a=TypeError?new TypeError(Fc):Error(Fc),a;return b?a:null}y('org.apache.flex.utils.Language.as',z);y('org.apache.flex.utils.Language._int',function(a){return a>>0});
function jg(a,b){var c;if(null==a||null==b)return!1;if(a instanceof b||b===Object)return!0;if(typeof a===Gf)return b===String;if(typeof a===hf)return b===Number;if(typeof a===Xc)return b===Boolean;if(b===Array)return Array.isArray(a);if(void 0===a.i)return!1;if(a.i.Ta&&kg(a,b))return!0;c=a.constructor;if(c=c.Ka)for(;c&&c.i;){if(c.i.Ta&&kg(c,b))return!0;c=c.constructor;c=c.Ka}return!1}y('org.apache.flex.utils.Language.is',jg);
function kg(a,b){var c,d;d=a.i.Ta;for(c=d.length-1;-1<c;c--)if(d[c]===b||d[c].prototype.i.Ta&&kg(d[c].prototype,b))return!0;return!1}eg.prototype.yh=function(a){return typeof a===Be&&a.prototype&&a.prototype.constructor===a};eg.prototype.isClass=eg.prototype.yh;eg.prototype.Xk=function(a){return this.yh(a)?a:null};eg.prototype.asClass=eg.prototype.Xk;y('org.apache.flex.utils.Language.postdecrement',function(a,b){var c=a[b];a[b]=c-1;return c});
y('org.apache.flex.utils.Language.postincrement',function(a,b){var c=a[b];a[b]=c+1;return c});y('org.apache.flex.utils.Language.predecrement',function(a,b){var c=a[b]-1;return a[b]=c});y('org.apache.flex.utils.Language.preincrement',function(a,b){var c=a[b]+1;return a[b]=c});y('org.apache.flex.utils.Language.superGetter',function(a,b,c){a=a.Ka;for(var d=Object.getOwnPropertyDescriptor(a,c);null==d;)a=a.constructor,a=a.Ka,d=Object.getOwnPropertyDescriptor(a,c);return d.get.call(b)});
y('org.apache.flex.utils.Language.superSetter',function(a,b,c,d){a=a.Ka;for(var e=Object.getOwnPropertyDescriptor(a,c);null==e;)a=a.constructor,a=a.Ka,e=Object.getOwnPropertyDescriptor(a,c);e.set.apply(b,[d])});function lg(a){a=Array.prototype.slice.call(arguments,0);var b;b=$f.console;void 0===b&&('undefined'!==typeof window?b=window.console:'undefined'!==typeof console&&(b=console));try{b&&b.log&&b.log.apply(b,a)}catch(c){}}y('org.apache.flex.utils.Language.trace',lg);
y('org.apache.flex.utils.Language.uint',function(a){return a>>>0});function mg(a,b,c){if(b.hasOwnProperty(c))return b[c];a=cg(a,b);Object.defineProperty(b,c,{value:a});return a}y('org.apache.flex.utils.Language.closure',mg);y('org.apache.flex.utils.Language.sortOn',function(a,b,c){c='undefined'!==typeof c?c:0;jg(b,Array)?fg=z(b,Array):(hg[0]=b,fg=hg);if(jg(c,Array)){b=0;for(var d in c)b|=c[d]}else b=z(c,Number);gg=0<(2&b)?-1:1;b&16?a.sort(ng):b&1?a.sort(og):a.sort(pg)});
function og(a,b){var c=fg,d;for(d in c){var e=c[d],e=(a[e]||ig).toString().toLowerCase().localeCompare((b[e]||ig).toString().toLowerCase());if(0!=e)return e*gg}return 0}function pg(a,b){var c=fg,d;for(d in c){var e=c[d],e=(a[e]||ig).toString().localeCompare((b[e]||ig).toString());if(0!=e)return e*gg}return 0}function ng(a,b){var c=fg,d;for(d in c){var e=c[d];if(a[e]>b[e])return gg;if(a[e]<b[e])return-gg}return 0}eg.prototype.i={names:[{name:'Language',j:of}]};y(of,eg);function qg(){}y('Box2D.Common.b2Settings.VERSION','2.1alpha');y('Box2D.Common.b2Settings.USHRT_MAX',65535);var rg=Math.PI;y('Box2D.Common.b2Settings.b2_pi',rg);y('Box2D.Common.b2Settings.b2_maxManifoldPoints',2);y('Box2D.Common.b2Settings.b2_aabbExtension',.1);y('Box2D.Common.b2Settings.b2_aabbMultiplier',2);y('Box2D.Common.b2Settings.b2_polygonRadius',.01);y('Box2D.Common.b2Settings.b2_linearSlop',.005);var sg=2/180*rg;y('Box2D.Common.b2Settings.b2_angularSlop',sg);
y('Box2D.Common.b2Settings.b2_toiSlop',.04);y('Box2D.Common.b2Settings.b2_maxTOIContactsPerIsland',32);y('Box2D.Common.b2Settings.b2_maxTOIJointsPerIsland',32);y('Box2D.Common.b2Settings.b2_velocityThreshold',1);y('Box2D.Common.b2Settings.b2_maxLinearCorrection',.2);var tg=8/180*rg;y('Box2D.Common.b2Settings.b2_maxAngularCorrection',tg);y('Box2D.Common.b2Settings.b2_maxTranslation',2);y('Box2D.Common.b2Settings.b2_maxTranslationSquared',4);var ug=.5*rg;y('Box2D.Common.b2Settings.b2_maxRotation',ug);
var vg=ug*ug;y('Box2D.Common.b2Settings.b2_maxRotationSquared',vg);y('Box2D.Common.b2Settings.b2_contactBaumgarte',.2);function wg(a,b){return Math.sqrt(a*b)}y('Box2D.Common.b2Settings.b2MixFriction',wg);function xg(a,b){return a>b?a:b}y('Box2D.Common.b2Settings.b2MixRestitution',xg);y('Box2D.Common.b2Settings.b2_timeToSleep',.5);y('Box2D.Common.b2Settings.b2_linearSleepTolerance',.01);var yg=2/180*rg;y('Box2D.Common.b2Settings.b2_angularSleepTolerance',yg);
function zg(a){if(!a)throw'Assertion Failed';}y('Box2D.Common.b2Settings.b2Assert',zg);qg.prototype.i={names:[{name:'b2Settings',j:vb}]};y(vb,qg);function Ag(){this.m_type=-1;this.m_radius=.005}Ag.prototype.G=w(null);Ag.prototype.Copy=Ag.prototype.G;Ag.prototype.Set=function(a){this.m_radius=a.m_radius};Ag.prototype.Set=Ag.prototype.Set;Ag.prototype.D=t('m_type');Ag.prototype.GetType=Ag.prototype.D;Ag.prototype.gb=w(!1);Ag.prototype.TestPoint=Ag.prototype.gb;Ag.prototype.ba=w(!1);Ag.prototype.RayCast=Ag.prototype.ba;Ag.prototype.Za=m();Ag.prototype.ComputeAABB=Ag.prototype.Za;Ag.prototype.Ab=m();Ag.prototype.ComputeMass=Ag.prototype.Ab;
Ag.prototype.Xb=w(0);Ag.prototype.ComputeSubmergedArea=Ag.prototype.Xb;y('Box2D.Collision.Shapes.b2Shape.e_unknownShape',-1);y('Box2D.Collision.Shapes.b2Shape.e_circleShape',0);y('Box2D.Collision.Shapes.b2Shape.e_polygonShape',1);y('Box2D.Collision.Shapes.b2Shape.e_edgeShape',2);y('Box2D.Collision.Shapes.b2Shape.e_shapeTypeCount',3);y('Box2D.Collision.Shapes.b2Shape.e_hitCollide',1);y('Box2D.Collision.Shapes.b2Shape.e_missCollide',0);y('Box2D.Collision.Shapes.b2Shape.e_startsInsideCollide',-1);
Ag.prototype.i={names:[{name:'b2Shape',j:Na}]};y(Na,Ag);function A(a,b){this.x='undefined'!==typeof a?a:0;this.y='undefined'!==typeof b?b:0}A.prototype.o=function(){this.y=this.x=0};A.prototype.SetZero=A.prototype.o;A.prototype.Set=function(a,b){this.x='undefined'!==typeof a?a:0;this.y='undefined'!==typeof b?b:0};A.prototype.Set=A.prototype.Set;A.prototype.l=function(a){this.x=a.x;this.y=a.y};A.prototype.SetV=A.prototype.l;A.prototype.Bb=function(){return new A(-this.x,-this.y)};A.prototype.GetNegative=A.prototype.Bb;
A.prototype.$d=function(){this.x=-this.x;this.y=-this.y};A.prototype.NegativeSelf=A.prototype.$d;function Bg(a,b){return new A(a,b)}y('Box2D.Common.Math.b2Vec2.Make',Bg);A.prototype.G=function(){return new A(this.x,this.y)};A.prototype.Copy=A.prototype.G;A.prototype.nb=function(a){this.x+=a.x;this.y+=a.y};A.prototype.Add=A.prototype.nb;A.prototype.af=function(a){this.x-=a.x;this.y-=a.y};A.prototype.Subtract=A.prototype.af;A.prototype.Sa=function(a){this.x*=a;this.y*=a};A.prototype.Multiply=A.prototype.Sa;
A.prototype.Mj=function(a){var b=this.x;this.x=a.col1.x*b+a.col2.x*this.y;this.y=a.col1.y*b+a.col2.y*this.y};A.prototype.MulM=A.prototype.Mj;A.prototype.Nj=function(a){var b=Cg(this,a.col1);this.y=Cg(this,a.col2);this.x=b};A.prototype.MulTM=A.prototype.Nj;A.prototype.ui=function(a){var b=this.x;this.x=a*this.y;this.y=-a*b};A.prototype.CrossVF=A.prototype.ui;A.prototype.ti=function(a){var b=this.x;this.x=-a*this.y;this.y=a*b};A.prototype.CrossFV=A.prototype.ti;
A.prototype.Lj=function(a){this.x=this.x<a.x?this.x:a.x;this.y=this.y<a.y?this.y:a.y};A.prototype.MinV=A.prototype.Lj;A.prototype.Jj=function(a){this.x=this.x>a.x?this.x:a.x;this.y=this.y>a.y?this.y:a.y};A.prototype.MaxV=A.prototype.Jj;A.prototype.Vc=function(){0>this.x&&(this.x=-this.x);0>this.y&&(this.y=-this.y)};A.prototype.Abs=A.prototype.Vc;A.prototype.qb=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};A.prototype.Length=A.prototype.qb;
A.prototype.bc=function(){return this.x*this.x+this.y*this.y};A.prototype.LengthSquared=A.prototype.bc;A.prototype.ra=function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);if(a<Number.MIN_VALUE)return 0;var b=1/a;this.x*=b;this.y*=b;return a};A.prototype.Normalize=A.prototype.ra;A.prototype.sd=function(){return isFinite(this.x)&&isFinite(this.y)};A.prototype.IsValid=A.prototype.sd;function Cg(a,b){return a.x*b.x+a.y*b.y}y('Box2D.Common.Math.b2Vec2.Dot',Cg);
y('Box2D.Common.Math.b2Vec2.MathIsValid',function(a){return isFinite(a)});A.prototype.i={names:[{name:'b2Vec2',j:sb}]};y(sb,A);function C(){this.col1=new A;this.col2=new A;this.col1.x=this.col2.y=1}function Dg(a){var b=new C;b.Set(a);return b}y('Box2D.Common.Math.b2Mat22.FromAngle',Dg);function Eg(a,b){var c=new C;c.Eg(a,b);return c}y('Box2D.Common.Math.b2Mat22.FromVV',Eg);C.prototype.Set=function(a){var b=Math.cos(a);a=Math.sin(a);this.col1.x=b;this.col2.x=-a;this.col1.y=a;this.col2.y=b};C.prototype.Set=C.prototype.Set;C.prototype.Eg=function(a,b){this.col1.l(a);this.col2.l(b)};C.prototype.SetVV=C.prototype.Eg;
C.prototype.G=function(){var a=new C;a.Eb(this);return a};C.prototype.Copy=C.prototype.G;C.prototype.Eb=function(a){this.col1.l(a.col1);this.col2.l(a.col2)};C.prototype.SetM=C.prototype.Eb;C.prototype.wc=function(a){this.col1.x+=a.col1.x;this.col1.y+=a.col1.y;this.col2.x+=a.col2.x;this.col2.y+=a.col2.y};C.prototype.AddM=C.prototype.wc;C.prototype.cc=function(){this.col1.x=1;this.col2.x=0;this.col1.y=0;this.col2.y=1};C.prototype.SetIdentity=C.prototype.cc;
C.prototype.o=function(){this.col1.x=0;this.col2.x=0;this.col1.y=0;this.col2.y=0};C.prototype.SetZero=C.prototype.o;C.prototype.Ma=function(){return Math.atan2(this.col1.y,this.col1.x)};C.prototype.GetAngle=C.prototype.Ma;C.prototype.Xd=function(a){var b=this.col1.x,c=this.col2.x,d=this.col1.y,e=this.col2.y,f=b*e-c*d;0!=f&&(f=1/f);a.col1.x=f*e;a.col2.x=-f*c;a.col1.y=-f*d;a.col2.y=f*b;return a};C.prototype.GetInverse=C.prototype.Xd;
C.prototype.rb=function(a,b,c){var d=this.col1.x,e=this.col2.x,f=this.col1.y,g=this.col2.y,h=d*g-e*f;0!=h&&(h=1/h);a.x=h*(g*b-e*c);a.y=h*(d*c-f*b);return a};C.prototype.Solve=C.prototype.rb;C.prototype.Vc=function(){this.col1.Vc();this.col2.Vc()};C.prototype.Abs=C.prototype.Vc;C.prototype.i={names:[{name:'b2Mat22',j:mb}]};y(mb,C);function Fg(a,b){a='undefined'!==typeof a?a:null;b='undefined'!==typeof b?b:null;this.position=new A;this.R=new C;a&&(this.position.l(a),this.R.Eb(b))}Fg.prototype.H=function(a,b){this.position.l(a);this.R.Eb(b)};Fg.prototype.Initialize=Fg.prototype.H;Fg.prototype.cc=function(){this.position.o();this.R.cc()};Fg.prototype.SetIdentity=Fg.prototype.cc;Fg.prototype.Set=function(a){this.position.l(a.position);this.R.Eb(a.R)};Fg.prototype.Set=Fg.prototype.Set;
Fg.prototype.Ma=function(){return Math.atan2(this.R.col1.y,this.R.col1.x)};Fg.prototype.GetAngle=Fg.prototype.Ma;Fg.prototype.i={names:[{name:'b2Transform',j:rb}]};y(rb,Fg);function Gg(){}y('Box2D.Common.Math.b2Math.IsValid',function(a){return isFinite(a)});function Hg(a,b){return a.x*b.x+a.y*b.y}y('Box2D.Common.Math.b2Math.Dot',Hg);function Ig(a,b){return a.x*b.y-a.y*b.x}y('Box2D.Common.Math.b2Math.CrossVV',Ig);function Jg(a,b){return new A(b*a.y,-b*a.x)}y('Box2D.Common.Math.b2Math.CrossVF',Jg);function Kg(a,b){return new A(-a*b.y,a*b.x)}y('Box2D.Common.Math.b2Math.CrossFV',Kg);function Lg(a,b){return new A(a.col1.x*b.x+a.col2.x*b.y,a.col1.y*b.x+a.col2.y*b.y)}
y('Box2D.Common.Math.b2Math.MulMV',Lg);function Mg(a,b){return new A(Hg(b,a.col1),Hg(b,a.col2))}y('Box2D.Common.Math.b2Math.MulTMV',Mg);function Ng(a,b){var c=Lg(a.R,b);c.x+=a.position.x;c.y+=a.position.y;return c}y('Box2D.Common.Math.b2Math.MulX',Ng);function Og(a,b){var c=Pg(b,a.position),d=c.x*a.R.col1.x+c.y*a.R.col1.y;c.y=c.x*a.R.col2.x+c.y*a.R.col2.y;c.x=d;return c}y('Box2D.Common.Math.b2Math.MulXT',Og);function Qg(a,b){return new A(a.x+b.x,a.y+b.y)}y('Box2D.Common.Math.b2Math.AddVV',Qg);
function Pg(a,b){return new A(a.x-b.x,a.y-b.y)}y('Box2D.Common.Math.b2Math.SubtractVV',Pg);y('Box2D.Common.Math.b2Math.Distance',function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)});y('Box2D.Common.Math.b2Math.DistanceSquared',function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d});y('Box2D.Common.Math.b2Math.MulFV',function(a,b){return new A(a*b.x,a*b.y)});y('Box2D.Common.Math.b2Math.AddMM',function(a,b){return Eg(Qg(a.col1,b.col1),Qg(a.col2,b.col2))});
y('Box2D.Common.Math.b2Math.MulMM',function(a,b){return Eg(Lg(a,b.col1),Lg(a,b.col2))});y('Box2D.Common.Math.b2Math.MulTMM',function(a,b){return Eg(new A(Hg(a.col1,b.col1),Hg(a.col2,b.col1)),new A(Hg(a.col1,b.col2),Hg(a.col2,b.col2)))});function Rg(a){return 0<a?a:-a}y('Box2D.Common.Math.b2Math.Abs',Rg);function Sg(a){return new A(Rg(a.x),Rg(a.y))}y('Box2D.Common.Math.b2Math.AbsV',Sg);y('Box2D.Common.Math.b2Math.AbsM',function(a){return Eg(Sg(a.col1),Sg(a.col2))});
function Tg(a,b){return a<b?a:b}y('Box2D.Common.Math.b2Math.Min',Tg);function Ug(a,b){return new A(Tg(a.x,b.x),Tg(a.y,b.y))}y('Box2D.Common.Math.b2Math.MinV',Ug);function Vg(a,b){return a>b?a:b}y('Box2D.Common.Math.b2Math.Max',Vg);function Wg(a,b){return new A(Vg(a.x,b.x),Vg(a.y,b.y))}y('Box2D.Common.Math.b2Math.MaxV',Wg);function Xg(a,b,c){return a<b?b:a>c?c:a}y('Box2D.Common.Math.b2Math.Clamp',Xg);y('Box2D.Common.Math.b2Math.ClampV',function(a,b,c){return Wg(b,Ug(a,c))});
y('Box2D.Common.Math.b2Math.Swap',function(a,b){var c=a[0];a[0]=b[0];b[0]=c});y('Box2D.Common.Math.b2Math.Random',function(){return 2*Math.random()-1});y('Box2D.Common.Math.b2Math.RandomRange',function(a,b){var c=Math.random();return(b-a)*c+a});y('Box2D.Common.Math.b2Math.NextPowerOfTwo',function(a){a|=a>>1&2147483647;a|=a>>2&1073741823;a|=a>>4&268435455;a|=a>>8&16777215;return(a|a>>16&65535)+1});y('Box2D.Common.Math.b2Math.IsPowerOfTwo',function(a){return 0<a&&0==(a&a-1)});var Yg=new A(0,0);
y('Box2D.Common.Math.b2Math.b2Vec2_zero',Yg);var Zg=Eg(new A(1,0),new A(0,1));y('Box2D.Common.Math.b2Math.b2Mat22_identity',Zg);var $g=new Fg(Yg,Zg);y('Box2D.Common.Math.b2Math.b2Transform_identity',$g);Gg.prototype.i={names:[{name:'b2Math',j:ob}]};y(ob,Gg);function ah(a){a='undefined'!==typeof a?a:0;this.m_p=new A;Ag.call(this);this.m_type=0;this.m_radius=a}dg(ah,Ag);ah.prototype.G=function(){var a=new ah;a.Set(this);return a};ah.prototype.Copy=ah.prototype.G;ah.prototype.Set=function(a){ah.Ka.Set.call(this,a);jg(a,ah)&&(a=z(a,ah),this.m_p.l(a.m_p))};ah.prototype.Set=ah.prototype.Set;
ah.prototype.gb=function(a,b){var c=a.R,d=a.position.x+(c.col1.x*this.m_p.x+c.col2.x*this.m_p.y),c=a.position.y+(c.col1.y*this.m_p.x+c.col2.y*this.m_p.y),d=b.x-d,c=b.y-c;return d*d+c*c<=this.m_radius*this.m_radius};ah.prototype.TestPoint=ah.prototype.gb;
ah.prototype.ba=function(a,b,c){var d=c.R,e=b.p1.x-(c.position.x+(d.col1.x*this.m_p.x+d.col2.x*this.m_p.y));c=b.p1.y-(c.position.y+(d.col1.y*this.m_p.x+d.col2.y*this.m_p.y));var d=b.p2.x-b.p1.x,f=b.p2.y-b.p1.y,g=e*d+c*f,h=d*d+f*f,k=g*g-h*(e*e+c*c-this.m_radius*this.m_radius);if(0>k||h<Number.MIN_VALUE)return!1;g=-(g+Math.sqrt(k));return 0<=g&&g<=b.maxFraction*h?(g/=h,a.fraction=g,a.normal.x=e+g*d,a.normal.y=c+g*f,a.normal.ra(),!0):!1};ah.prototype.RayCast=ah.prototype.ba;
ah.prototype.Za=function(a,b){var c=b.R,d=b.position.x+(c.col1.x*this.m_p.x+c.col2.x*this.m_p.y),c=b.position.y+(c.col1.y*this.m_p.x+c.col2.y*this.m_p.y);a.lowerBound.Set(d-this.m_radius,c-this.m_radius);a.upperBound.Set(d+this.m_radius,c+this.m_radius)};ah.prototype.ComputeAABB=ah.prototype.Za;ah.prototype.Ab=function(a,b){a.Ya=b*rg*this.m_radius*this.m_radius;a.center.l(this.m_p);a.Cb=a.Ya*(.5*this.m_radius*this.m_radius+(this.m_p.x*this.m_p.x+this.m_p.y*this.m_p.y))};ah.prototype.ComputeMass=ah.prototype.Ab;
ah.prototype.Xb=function(a,b,c,d){c=Ng(c,this.m_p);var e=-(Hg(a,c)-b);if(e<-this.m_radius+Number.MIN_VALUE)return 0;if(e>this.m_radius)return d.l(c),Math.PI*this.m_radius*this.m_radius;b=this.m_radius*this.m_radius;var f=e*e,e=b*(Math.asin(e/this.m_radius)+Math.PI/2)+e*Math.sqrt(b-f);b=-2/3*Math.pow(b-f,1.5)/e;d.x=c.x+a.x*b;d.y=c.y+a.y*b;return e};ah.prototype.ComputeSubmergedArea=ah.prototype.Xb;ah.prototype.kj=t('m_p');ah.prototype.GetLocalPosition=ah.prototype.kj;ah.prototype.pk=function(a){this.m_p.l(a)};
ah.prototype.SetLocalPosition=ah.prototype.pk;ah.prototype.vj=t('m_radius');ah.prototype.GetRadius=ah.prototype.vj;ah.prototype.wk=q('m_radius');ah.prototype.SetRadius=ah.prototype.wk;ah.prototype.i={names:[{name:'b2CircleShape',j:Ga}]};y(Ga,ah);function bh(){this.center=new A(0,0)}bh.prototype.Ya=0;bh.prototype.mass=bh.prototype.Ya;bh.prototype.Cb=0;bh.prototype.I=bh.prototype.Cb;bh.prototype.i={names:[{name:'b2MassData',j:Ka}]};y(Ka,bh);function D(){Ag.call(this);this.m_type=1;this.m_centroid=new A;this.m_vertices=[];this.m_normals=[]}dg(D,Ag);D.prototype.G=function(){var a=new D;a.Set(this);return a};D.prototype.Copy=D.prototype.G;D.prototype.Set=function(a){D.Ka.Set.call(this,a);if(jg(a,D)){a=z(a,D);this.m_centroid.l(a.m_centroid);this.m_vertexCount=a.m_vertexCount;ch(this,this.m_vertexCount);for(var b=0;b<this.m_vertexCount;b++)this.m_vertices[b].l(a.m_vertices[b]),this.m_normals[b].l(a.m_normals[b])}};D.prototype.Set=D.prototype.Set;
D.prototype.wg=function(a,b){b='undefined'!==typeof b?b:0;var c=[],d;for(d in a)c.push(a[d]);this.Te(c,b)};D.prototype.SetAsArray=D.prototype.wg;y('Box2D.Collision.Shapes.b2PolygonShape.AsArray',function(a,b){var c=new D;c.wg(a,b);return c});
D.prototype.Te=function(a,b){b='undefined'!==typeof b?b:0;0==b&&(b=a.length);zg(2<=b);this.m_vertexCount=b;ch(this,b);var c;for(c=0;c<this.m_vertexCount;c++)this.m_vertices[c].l(a[c]);for(c=0;c<this.m_vertexCount;++c){var d=Pg(this.m_vertices[c+1<this.m_vertexCount?c+1:0],this.m_vertices[c]);zg(d.bc()>Number.MIN_VALUE);this.m_normals[c].l(Jg(d,1));this.m_normals[c].ra()}this.m_centroid=dh(this.m_vertices,this.m_vertexCount)};D.prototype.SetAsVector=D.prototype.Te;
y('Box2D.Collision.Shapes.b2PolygonShape.AsVector',function(a,b){var c=new D;c.Te(a,b);return c});D.prototype.ae=function(a,b){this.m_vertexCount=4;ch(this,4);this.m_vertices[0].Set(-a,-b);this.m_vertices[1].Set(a,-b);this.m_vertices[2].Set(a,b);this.m_vertices[3].Set(-a,b);this.m_normals[0].Set(0,-1);this.m_normals[1].Set(1,0);this.m_normals[2].Set(0,1);this.m_normals[3].Set(-1,0);this.m_centroid.o()};D.prototype.SetAsBox=D.prototype.ae;
y('Box2D.Collision.Shapes.b2PolygonShape.AsBox',function(a,b){var c=new D;c.ae(a,b);return c});new C;
D.prototype.yg=function(a,b,c,d){c='undefined'!==typeof c?c:null;d='undefined'!==typeof d?d:0;this.m_vertexCount=4;ch(this,4);this.m_vertices[0].Set(-a,-b);this.m_vertices[1].Set(a,-b);this.m_vertices[2].Set(a,b);this.m_vertices[3].Set(-a,b);this.m_normals[0].Set(0,-1);this.m_normals[1].Set(1,0);this.m_normals[2].Set(0,1);this.m_normals[3].Set(-1,0);this.m_centroid=c;a=new Fg;a.position=c;a.R.Set(d);for(c=0;c<this.m_vertexCount;++c)this.m_vertices[c]=Ng(a,this.m_vertices[c]),this.m_normals[c]=Lg(a.R,
this.m_normals[c])};D.prototype.SetAsOrientedBox=D.prototype.yg;y('Box2D.Collision.Shapes.b2PolygonShape.AsOrientedBox',function(a,b,c,d){var e=new D;e.yg(a,b,'undefined'!==typeof c?c:null,'undefined'!==typeof d?d:0);return e});
D.prototype.xg=function(a,b){this.m_vertexCount=2;ch(this,2);this.m_vertices[0].l(a);this.m_vertices[1].l(b);this.m_centroid.x=.5*(a.x+b.x);this.m_centroid.y=.5*(a.y+b.y);this.m_normals[0]=Jg(Pg(b,a),1);this.m_normals[0].ra();this.m_normals[1].x=-this.m_normals[0].x;this.m_normals[1].y=-this.m_normals[0].y};D.prototype.SetAsEdge=D.prototype.xg;y('Box2D.Collision.Shapes.b2PolygonShape.AsEdge',function(a,b){var c=new D;c.xg(a,b);return c});
D.prototype.gb=function(a,b){var c;c=a.R;for(var d=b.x-a.position.x,e=b.y-a.position.y,f=d*c.col1.x+e*c.col1.y,g=d*c.col2.x+e*c.col2.y,h=0;h<this.m_vertexCount;++h)if(c=this.m_vertices[h],d=f-c.x,e=g-c.y,c=this.m_normals[h],0<c.x*d+c.y*e)return!1;return!0};D.prototype.TestPoint=D.prototype.gb;
D.prototype.ba=function(a,b,c){var d=0,e=b.maxFraction,f,g,h,k;f=b.p1.x-c.position.x;g=b.p1.y-c.position.y;h=c.R;var l=f*h.col1.x+g*h.col1.y,n=f*h.col2.x+g*h.col2.y;f=b.p2.x-c.position.x;g=b.p2.y-c.position.y;h=c.R;b=f*h.col1.x+g*h.col1.y-l;h=f*h.col2.x+g*h.col2.y-n;for(var p=-1,u=0;u<this.m_vertexCount;++u){k=this.m_vertices[u];f=k.x-l;g=k.y-n;k=this.m_normals[u];f=k.x*f+k.y*g;g=k.x*b+k.y*h;if(0==g){if(0>f)return!1}else 0>g&&f<d*g?(d=f/g,p=u):0<g&&f<e*g&&(e=f/g);if(e<d-Number.MIN_VALUE)return!1}return 0<=
p?(a.fraction=d,h=c.R,k=this.m_normals[p],a.normal.x=h.col1.x*k.x+h.col2.x*k.y,a.normal.y=h.col1.y*k.x+h.col2.y*k.y,!0):!1};D.prototype.RayCast=D.prototype.ba;
D.prototype.Za=function(a,b){for(var c=b.R,d=this.m_vertices[0],e=b.position.x+(c.col1.x*d.x+c.col2.x*d.y),f=b.position.y+(c.col1.y*d.x+c.col2.y*d.y),g=e,h=f,k=1;k<this.m_vertexCount;++k)var d=this.m_vertices[k],l=b.position.x+(c.col1.x*d.x+c.col2.x*d.y),d=b.position.y+(c.col1.y*d.x+c.col2.y*d.y),e=e<l?e:l,f=f<d?f:d,g=g>l?g:l,h=h>d?h:d;a.lowerBound.x=e-this.m_radius;a.lowerBound.y=f-this.m_radius;a.upperBound.x=g+this.m_radius;a.upperBound.y=h+this.m_radius};D.prototype.ComputeAABB=D.prototype.Za;
D.prototype.Ab=function(a,b){if(2==this.m_vertexCount)a.center.x=.5*(this.m_vertices[0].x+this.m_vertices[1].x),a.center.y=.5*(this.m_vertices[0].y+this.m_vertices[1].y),a.Ya=0,a.Cb=0;else{for(var c=0,d=0,e=0,f=0,g=1/3,h=0;h<this.m_vertexCount;++h)var k=this.m_vertices[h],l=h+1<this.m_vertexCount?this.m_vertices[h+1>>0]:this.m_vertices[0],n=k.x-0,p=k.y-0,u=l.x-0,r=l.y-0,x=n*r-p*u,v=.5*x,e=e+v,c=c+v*g*(0+k.x+l.x),d=d+v*g*(0+k.y+l.y),k=n,f=f+x*(g*(.25*(k*k+u*k+u*u)+(0*k+0*u))+0+(g*(.25*(p*p+r*p+r*r)+
(0*p+0*r))+0));a.Ya=b*e;a.center.Set(1/e*c,1/e*d);a.Cb=b*f}};D.prototype.ComputeMass=D.prototype.Ab;
D.prototype.Xb=function(a,b,c,d){var e=Mg(c.R,a),f=b-Hg(a,c.position),g=[],h=0,k=-1;b=-1;var l=!1;for(a=0;a<this.m_vertexCount;++a){g[a]=Hg(e,this.m_vertices[a])-f;var n=g[a]<-Number.MIN_VALUE;0<a&&(n?l||(k=a-1,h++):l&&(b=a-1,h++));l=n}switch(h){case 0:return l?(a=new bh,this.Ab(a,1),d.l(Ng(c,a.center)),a.Ya):0;case 1:-1==k?k=this.m_vertexCount-1:b=this.m_vertexCount-1}a=(k+1)%this.m_vertexCount;e=(b+1)%this.m_vertexCount;f=(0-g[k])/(g[a]-g[k]);g=(0-g[b])/(g[e]-g[b]);k=new A(this.m_vertices[k].x*
(1-f)+this.m_vertices[a].x*f,this.m_vertices[k].y*(1-f)+this.m_vertices[a].y*f);b=new A(this.m_vertices[b].x*(1-g)+this.m_vertices[e].x*g,this.m_vertices[b].y*(1-g)+this.m_vertices[e].y*g);g=0;f=new A;for(h=this.m_vertices[a];a!=e;)a=(a+1)%this.m_vertexCount,l=a==e?b:this.m_vertices[a],n=.5*((h.x-k.x)*(l.y-k.y)-(h.y-k.y)*(l.x-k.x)),g+=n,f.x+=n*(k.x+h.x+l.x)/3,f.y+=n*(k.y+h.y+l.y)/3,h=l;f.Sa(1/g);d.l(Ng(c,f));return g};D.prototype.ComputeSubmergedArea=D.prototype.Xb;D.prototype.Zd=t('m_vertexCount');
D.prototype.GetVertexCount=D.prototype.Zd;D.prototype.Cj=t('m_vertices');D.prototype.GetVertices=D.prototype.Cj;D.prototype.sj=t('m_normals');D.prototype.GetNormals=D.prototype.sj;D.prototype.kd=function(a){for(var b=0,c=this.m_vertices[0].x*a.x+this.m_vertices[0].y*a.y,d=1;d<this.m_vertexCount;++d){var e=this.m_vertices[d].x*a.x+this.m_vertices[d].y*a.y;e>c&&(b=d,c=e)}return b};D.prototype.GetSupport=D.prototype.kd;
D.prototype.$b=function(a){for(var b=0,c=this.m_vertices[0].x*a.x+this.m_vertices[0].y*a.y,d=1;d<this.m_vertexCount;++d){var e=this.m_vertices[d].x*a.x+this.m_vertices[d].y*a.y;e>c&&(b=d,c=e)}return this.m_vertices[b]};D.prototype.GetSupportVertex=D.prototype.$b;D.prototype.Cc=w(!1);function ch(a,b){for(var c=a.m_vertices.length;c<b;c++)a.m_vertices[c]=new A,a.m_normals[c]=new A}
function dh(a,b){for(var c=new A,d=0,e=1/3,f=0;f<b;++f){var g=a[f],h=f+1<b?a[f+1>>0]:a[0],k=.5*((g.x-0)*(h.y-0)-(g.y-0)*(h.x-0)),d=d+k;c.x+=k*e*(0+g.x+h.x);c.y+=k*e*(0+g.y+h.y)}c.x*=1/d;c.y*=1/d;return c}y('Box2D.Collision.Shapes.b2PolygonShape.ComputeCentroid',dh);
y('Box2D.Collision.Shapes.b2PolygonShape.ComputeOBB',function(a,b,c){var d,e=Array(c+1);for(d=0;d<c;++d)e[d]=b[d];e[c]=e[0];b=Number.MAX_VALUE;for(d=1;d<=c;++d){for(var f=e[d-1>>0],g=e[d].x-f.x,h=e[d].y-f.y,k=Math.sqrt(g*g+h*h),g=g/k,h=h/k,l=-h,n=g,p=k=Number.MAX_VALUE,u=-Number.MAX_VALUE,r=-Number.MAX_VALUE,x=0;x<c;++x){var v=e[x].x-f.x,B=e[x].y-f.y,K=g*v+h*B,v=l*v+n*B;K<k&&(k=K);v<p&&(p=v);K>u&&(u=K);v>r&&(r=v)}x=(u-k)*(r-p);x<.95*b&&(b=x,a.R.col1.x=g,a.R.col1.y=h,a.R.col2.x=l,a.R.col2.y=n,g=.5*
(k+u),h=.5*(p+r),l=a.R,a.center.x=f.x+(l.col1.x*g+l.col2.x*h),a.center.y=f.y+(l.col1.y*g+l.col2.y*h),a.yl.x=.5*(u-k),a.yl.y=.5*(r-p))}});D.prototype.i={names:[{name:'b2PolygonShape',j:Ma}]};y(Ma,D);function eh(){this.localCenter=new A;this.c0=new A;this.c=new A}eh.prototype.Set=function(a){this.localCenter.l(a.localCenter);this.c0.l(a.c0);this.c.l(a.c);this.a0=a.a0;this.a=a.a;this.t0=a.t0};eh.prototype.Set=eh.prototype.Set;eh.prototype.G=function(){var a=new eh;a.localCenter.l(this.localCenter);a.c0.l(this.c0);a.c.l(this.c);a.a0=this.a0;a.a=this.a;a.t0=this.t0;return a};eh.prototype.Copy=eh.prototype.G;
eh.prototype.ja=function(a,b){a.position.x=(1-b)*this.c0.x+b*this.c.x;a.position.y=(1-b)*this.c0.y+b*this.c.y;a.R.Set((1-b)*this.a0+b*this.a);var c=a.R;a.position.x-=c.col1.x*this.localCenter.x+c.col2.x*this.localCenter.y;a.position.y-=c.col1.y*this.localCenter.x+c.col2.y*this.localCenter.y};eh.prototype.GetTransform=eh.prototype.ja;
eh.prototype.ob=function(a){if(this.t0<a&&1-this.t0>Number.MIN_VALUE){var b=(a-this.t0)/(1-this.t0);this.c0.x=(1-b)*this.c0.x+b*this.c.x;this.c0.y=(1-b)*this.c0.y+b*this.c.y;this.a0=(1-b)*this.a0+b*this.a;this.t0=a}};eh.prototype.Advance=eh.prototype.ob;eh.prototype.i={names:[{name:'b2Sweep',j:qb}]};y(qb,eh);function fh(){this.position=new A;this.linearVelocity=new A;this.userData=null;this.position.Set(0,0);this.angle=0;this.linearVelocity.Set(0,0);this.angularDamping=this.linearDamping=this.angularVelocity=0;this.awake=this.allowSleep=!0;this.bullet=this.fixedRotation=!1;this.type=gh;this.active=!0;this.inertiaScale=1}fh.prototype.i={names:[{name:'b2BodyDef',j:lc}]};y(lc,fh);function hh(){this.lowerBound=new A;this.upperBound=new A}hh.prototype.sd=function(){var a=this.upperBound.y-this.lowerBound.y;return a=(a=0<=this.upperBound.x-this.lowerBound.x&&0<=a)&&this.lowerBound.sd()&&this.upperBound.sd()};hh.prototype.IsValid=hh.prototype.sd;hh.prototype.dd=function(){return new A((this.lowerBound.x+this.upperBound.x)/2,(this.lowerBound.y+this.upperBound.y)/2)};hh.prototype.GetCenter=hh.prototype.dd;
hh.prototype.og=function(){return new A((this.upperBound.x-this.lowerBound.x)/2,(this.upperBound.y-this.lowerBound.y)/2)};hh.prototype.GetExtents=hh.prototype.og;hh.prototype.Vd=function(a){var b;return b=(b=(b=(b=this.lowerBound.x<=a.lowerBound.x)&&this.lowerBound.y<=a.lowerBound.y)&&a.upperBound.x<=this.upperBound.x)&&a.upperBound.y<=this.upperBound.y};hh.prototype.Contains=hh.prototype.Vd;
hh.prototype.ba=function(a,b){var c=-Number.MAX_VALUE,d=Number.MAX_VALUE,e=b.p1.x,f=b.p1.y,g=b.p2.x-b.p1.x,h=b.p2.y-b.p1.y,k=Math.abs(h),l=a.normal,n;if(Math.abs(g)<Number.MIN_VALUE){if(e<this.lowerBound.x||this.upperBound.x<e)return!1}else if(n=1/g,g=(this.lowerBound.x-e)*n,e=(this.upperBound.x-e)*n,n=-1,g>e&&(n=g,g=e,e=n,n=1),g>c&&(l.x=n,l.y=0,c=g),d=Math.min(d,e),c>d)return!1;if(k<Number.MIN_VALUE){if(f<this.lowerBound.y||this.upperBound.y<f)return!1}else if(n=1/h,g=(this.lowerBound.y-f)*n,e=(this.upperBound.y-
f)*n,n=-1,g>e&&(n=g,g=e,e=n,n=1),g>c&&(l.y=n,l.x=0,c=g),d=Math.min(d,e),c>d)return!1;a.fraction=c;return!0};hh.prototype.RayCast=hh.prototype.ba;hh.prototype.Fb=function(a){var b=a.lowerBound.y-this.upperBound.y,c=this.lowerBound.y-a.upperBound.y;return 0<a.lowerBound.x-this.upperBound.x||0<b||0<this.lowerBound.x-a.upperBound.x||0<c?!1:!0};hh.prototype.TestOverlap=hh.prototype.Fb;function ih(a,b){var c=new hh;c.Wc(a,b);return c}y('Box2D.Collision.b2AABB.Combine',ih);
hh.prototype.Wc=function(a,b){this.lowerBound.x=Math.min(a.lowerBound.x,b.lowerBound.x);this.lowerBound.y=Math.min(a.lowerBound.y,b.lowerBound.y);this.upperBound.x=Math.max(a.upperBound.x,b.upperBound.x);this.upperBound.y=Math.max(a.upperBound.y,b.upperBound.y)};hh.prototype.Combine=hh.prototype.Wc;hh.prototype.i={names:[{name:'b2AABB',j:Pa}]};y(Pa,hh);function jh(){}jh.prototype.G=function(){var a=new jh;a.Fc=this.Fc;a.Rc=this.Rc;a.Ub=this.Ub;return a};jh.prototype.Copy=jh.prototype.G;jh.prototype.Fc=1;jh.prototype.categoryBits=jh.prototype.Fc;jh.prototype.Rc=65535;jh.prototype.maskBits=jh.prototype.Rc;jh.prototype.Ub=0;jh.prototype.groupIndex=jh.prototype.Ub;jh.prototype.i={names:[{name:'b2FilterData',j:rc}]};y(rc,jh);function E(){this.m_filter=new jh;this.m_aabb=new hh;this.m_shape=this.m_next=this.m_body=this.m_userData=null;this.m_restitution=this.m_friction=this.m_density=0}E.prototype.D=function(){return this.m_shape.D()};E.prototype.GetType=E.prototype.D;E.prototype.xj=t('m_shape');E.prototype.GetShape=E.prototype.xj;
E.prototype.ce=function(a){if(this.m_isSensor!=a&&(this.m_isSensor=a,null!=this.m_body))for(a=this.m_body.m_contactList;a;){var b=a.contact,c=b.m_fixtureA,d=b.m_fixtureB;c!=this&&d!=this||b.ce(c.cb()||d.cb());a=a.next}};E.prototype.SetSensor=E.prototype.ce;E.prototype.cb=t('m_isSensor');E.prototype.IsSensor=E.prototype.cb;E.prototype.ik=function(a){this.m_filter=a.G();if(!this.m_body)for(a=this.m_body.m_contactList;a;){var b=a.contact,c=b.m_fixtureB;b.m_fixtureA!=this&&c!=this||b.cd();a=a.next}};
E.prototype.SetFilterData=E.prototype.ik;E.prototype.Ie=function(){return this.m_filter.G()};E.prototype.GetFilterData=E.prototype.Ie;E.prototype.Ei=t('m_body');E.prototype.GetBody=E.prototype.Ei;E.prototype.Zb=t(Me);E.prototype.GetNext=E.prototype.Zb;E.prototype.qa=t(Ne);E.prototype.GetUserData=E.prototype.qa;E.prototype.xd=q(Ne);E.prototype.SetUserData=E.prototype.xd;E.prototype.gb=function(a){return this.m_shape.gb(this.m_body.ja(),a)};E.prototype.TestPoint=E.prototype.gb;
E.prototype.ba=function(a,b){return this.m_shape.ba(a,b,this.m_body.ja())};E.prototype.RayCast=E.prototype.ba;E.prototype.Yd=function(a){a='undefined'!==typeof a?a:null;null==a&&(a=new bh);this.m_shape.Ab(a,this.m_density);return a};E.prototype.GetMassData=E.prototype.Yd;E.prototype.fk=q('m_density');E.prototype.SetDensity=E.prototype.fk;E.prototype.Pi=t('m_density');E.prototype.GetDensity=E.prototype.Pi;E.prototype.Yi=t('m_friction');E.prototype.GetFriction=E.prototype.Yi;E.prototype.kk=q('m_friction');
E.prototype.SetFriction=E.prototype.kk;E.prototype.wj=t('m_restitution');E.prototype.GetRestitution=E.prototype.wj;E.prototype.yk=q('m_restitution');E.prototype.SetRestitution=E.prototype.yk;E.prototype.Ai=t('m_aabb');E.prototype.GetAABB=E.prototype.Ai;E.prototype.Xc=function(a,b,c){this.m_userData=c.userData;this.m_friction=c.friction;this.m_restitution=c.restitution;this.m_body=a;this.m_next=null;this.m_filter=c.filter.G();this.m_isSensor=c.isSensor;this.m_shape=c.shape.G();this.m_density=c.density};
E.prototype.Create=E.prototype.Xc;E.prototype.La=function(){this.m_shape=null};E.prototype.Destroy=E.prototype.La;E.prototype.$a=function(a,b){this.m_shape.Za(this.m_aabb,b);this.m_proxy=a.$a(this.m_aabb,this)};E.prototype.CreateProxy=E.prototype.$a;E.prototype.ab=function(a){null!=this.m_proxy&&(a.ab(this.m_proxy),this.m_proxy=null)};E.prototype.DestroyProxy=E.prototype.ab;
E.prototype.bf=function(a,b,c){if(this.m_proxy){var d=new hh,e=new hh;this.m_shape.Za(d,b);this.m_shape.Za(e,c);this.m_aabb.Wc(d,e);a.yc(this.m_proxy,this.m_aabb,Pg(c.position,b.position))}};E.prototype.Synchronize=E.prototype.bf;E.prototype.i={names:[{name:'b2Fixture',j:sc}]};y(sc,E);function kh(){this.filter=new jh;this.userData=this.shape=null;this.friction=.2;this.density=this.restitution=0;this.filter.Fc=1;this.filter.Rc=65535;this.filter.Ub=0;this.isSensor=!1}kh.prototype.i={names:[{name:'b2FixtureDef',j:tc}]};y(tc,kh);function F(a,b){this.Sd=new A;this.m_v1=new A;this.m_v2=new A;this.m_coreV1=new A;this.m_coreV2=new A;this.m_normal=new A;this.m_direction=new A;this.m_cornerDir1=new A;this.m_cornerDir2=new A;Ag.call(this);this.m_type=2;this.m_nextEdge=this.m_prevEdge=null;this.m_v1=a;this.m_v2=b;this.m_direction.Set(this.m_v2.x-this.m_v1.x,this.m_v2.y-this.m_v1.y);this.m_length=this.m_direction.ra();this.m_normal.Set(this.m_direction.y,-this.m_direction.x);this.m_coreV1.Set(-.04*(this.m_normal.x-this.m_direction.x)+
this.m_v1.x,-.04*(this.m_normal.y-this.m_direction.y)+this.m_v1.y);this.m_coreV2.Set(-.04*(this.m_normal.x+this.m_direction.x)+this.m_v2.x,-.04*(this.m_normal.y+this.m_direction.y)+this.m_v2.y);this.m_cornerDir1=this.m_normal;this.m_cornerDir2.Set(-this.m_normal.x,-this.m_normal.y)}dg(F,Ag);F.prototype.gb=w(!1);F.prototype.TestPoint=F.prototype.gb;
F.prototype.ba=function(a,b,c){var d,e=b.p2.x-b.p1.x,f=b.p2.y-b.p1.y;d=c.R;var g=c.position.x+(d.col1.x*this.m_v1.x+d.col2.x*this.m_v1.y),h=c.position.y+(d.col1.y*this.m_v1.x+d.col2.y*this.m_v1.y),k=c.position.y+(d.col1.y*this.m_v2.x+d.col2.y*this.m_v2.y)-h;c=-(c.position.x+(d.col1.x*this.m_v2.x+d.col2.x*this.m_v2.y)-g);d=100*Number.MIN_VALUE;var l=-(e*k+f*c);if(l>d){var g=b.p1.x-g,n=b.p1.y-h,h=g*k+n*c;if(0<=h&&h<=b.maxFraction*l&&(b=-e*n+f*g,-d*l<=b&&b<=l*(1+d)))return a.fraction=h/l,b=Math.sqrt(k*
k+c*c),a.normal.x=k/b,a.normal.y=c/b,!0}return!1};F.prototype.RayCast=F.prototype.ba;
F.prototype.Za=function(a,b){var c=b.R,d=b.position.x+(c.col1.x*this.m_v1.x+c.col2.x*this.m_v1.y),e=b.position.y+(c.col1.y*this.m_v1.x+c.col2.y*this.m_v1.y),f=b.position.x+(c.col1.x*this.m_v2.x+c.col2.x*this.m_v2.y),c=b.position.y+(c.col1.y*this.m_v2.x+c.col2.y*this.m_v2.y);d<f?(a.lowerBound.x=d,a.upperBound.x=f):(a.lowerBound.x=f,a.upperBound.x=d);e<c?(a.lowerBound.y=e,a.upperBound.y=c):(a.lowerBound.y=c,a.upperBound.y=e)};F.prototype.ComputeAABB=F.prototype.Za;
F.prototype.Ab=function(a){a.Ya=0;a.center.l(this.m_v1);a.Cb=0};F.prototype.ComputeMass=F.prototype.Ab;F.prototype.Xb=function(a,b,c,d){var e=new A(a.x*b,a.y*b),f=Ng(c,this.m_v1);c=Ng(c,this.m_v2);var g=Hg(a,f)-b;a=Hg(a,c)-b;if(0<g){if(0<a)return 0;f.x=-a/(g-a)*f.x+g/(g-a)*c.x;f.y=-a/(g-a)*f.y+g/(g-a)*c.y}else 0<a&&(c.x=-a/(g-a)*f.x+g/(g-a)*c.x,c.y=-a/(g-a)*f.y+g/(g-a)*c.y);d.x=(e.x+f.x+c.x)/3;d.y=(e.y+f.y+c.y)/3;return.5*((f.x-e.x)*(c.y-e.y)-(f.y-e.y)*(c.x-e.x))};
F.prototype.ComputeSubmergedArea=F.prototype.Xb;F.prototype.Le=t(Ke);F.prototype.GetLength=F.prototype.Le;F.prototype.Aj=t('m_v1');F.prototype.GetVertex1=F.prototype.Aj;F.prototype.Bj=t('m_v2');F.prototype.GetVertex2=F.prototype.Bj;F.prototype.Li=t('m_coreV1');F.prototype.GetCoreVertex1=F.prototype.Li;F.prototype.Mi=t('m_coreV2');F.prototype.GetCoreVertex2=F.prototype.Mi;F.prototype.rj=t('m_normal');F.prototype.GetNormalVector=F.prototype.rj;F.prototype.Qi=t('m_direction');
F.prototype.GetDirectionVector=F.prototype.Qi;F.prototype.Ni=t('m_cornerDir1');F.prototype.GetCorner1Vector=F.prototype.Ni;F.prototype.Oi=t('m_cornerDir2');F.prototype.GetCorner2Vector=F.prototype.Oi;F.prototype.ni=t('m_cornerConvex1');F.prototype.Corner1IsConvex=F.prototype.ni;F.prototype.oi=t('m_cornerConvex2');F.prototype.Corner2IsConvex=F.prototype.oi;
F.prototype.Ti=function(a){var b=a.R;return new A(a.position.x+(b.col1.x*this.m_coreV1.x+b.col2.x*this.m_coreV1.y),a.position.y+(b.col1.y*this.m_coreV1.x+b.col2.y*this.m_coreV1.y))};F.prototype.GetFirstVertex=F.prototype.Ti;F.prototype.qj=t('m_nextEdge');F.prototype.GetNextEdge=F.prototype.qj;F.prototype.uj=t('m_prevEdge');F.prototype.GetPrevEdge=F.prototype.uj;
F.prototype.Hk=function(a,b,c){var d=a.R,e=a.position.x+(d.col1.x*this.m_coreV1.x+d.col2.x*this.m_coreV1.y),f=a.position.y+(d.col1.y*this.m_coreV1.x+d.col2.y*this.m_coreV1.y),g=a.position.x+(d.col1.x*this.m_coreV2.x+d.col2.x*this.m_coreV2.y);a=a.position.y+(d.col1.y*this.m_coreV2.x+d.col2.y*this.m_coreV2.y);e*b+f*c>g*b+a*c?(this.Sd.x=e,this.Sd.y=f):(this.Sd.x=g,this.Sd.y=a);return this.Sd};F.prototype.Support=F.prototype.Hk;
F.prototype.vk=function(a,b,c,d){this.m_prevEdge=a;this.m_coreV1=b;this.m_cornerDir1=c;this.m_cornerConvex1=d};F.prototype.SetPrevEdge=F.prototype.vk;F.prototype.tk=function(a,b,c,d){this.m_nextEdge=a;this.m_coreV2=b;this.m_cornerDir2=c;this.m_cornerConvex2=d};F.prototype.SetNextEdge=F.prototype.tk;F.prototype.i={names:[{name:'b2EdgeShape',j:Ja}]};y(Ja,F);function lh(){}lh.prototype.Set=function(a){this.wA.l(a.wA);this.wB.l(a.wB);this.w.l(a.w);this.a=a.a;this.indexA=a.indexA;this.indexB=a.indexB};lh.prototype.Set=lh.prototype.Set;lh.prototype.i={names:[{name:'b2SimplexVertex',j:ib}]};y(ib,lh);function mh(){this.m_v1=new lh;this.m_v2=new lh;this.m_v3=new lh;this.m_vertices=Array(3);this.m_vertices[0]=this.m_v1;this.m_vertices[1]=this.m_v2;this.m_vertices[2]=this.m_v3}
mh.prototype.vg=function(a,b,c,d,e){zg(0<=a.count&&3>=a.count);var f,g;this.m_count=a.count;for(var h=this.m_vertices,k=0;k<this.m_count;k++){var l=h[k];l.indexA=a.indexA[k];l.indexB=a.indexB[k];f=b.na(l.indexA);g=d.na(l.indexB);l.wA=Ng(c,f);l.wB=Ng(e,g);l.w=Pg(l.wB,l.wA);l.a=0}1<this.m_count&&(a=a.metric,f=this.Oe(),f<.5*a||2*a<f||f<Number.MIN_VALUE)&&(this.m_count=0);0==this.m_count&&(l=h[0],l.indexA=0,l.indexB=0,f=b.na(0),g=d.na(0),l.wA=Ng(c,f),l.wB=Ng(e,g),l.w=Pg(l.wB,l.wA),this.m_count=1)};
mh.prototype.ReadCache=mh.prototype.vg;mh.prototype.Hg=function(a){a.metric=this.Oe();a.count=this.m_count>>>0;for(var b=this.m_vertices,c=0;c<this.m_count;c++)a.indexA[c]=b[c].indexA>>>0,a.indexB[c]=b[c].indexB>>>0};mh.prototype.WriteCache=mh.prototype.Hg;mh.prototype.rg=function(){switch(this.m_count){case 1:return this.m_v1.w.Bb();case 2:var a=Pg(this.m_v2.w,this.m_v1.w);return 0<Ig(a,this.m_v1.w.Bb())?Kg(1,a):Jg(a,1);default:return zg(!1),new A}};mh.prototype.GetSearchDirection=mh.prototype.rg;
mh.prototype.Fe=function(){switch(this.m_count){case 0:return zg(!1),new A;case 1:return this.m_v1.w;case 2:return new A(this.m_v1.a*this.m_v1.w.x+this.m_v2.a*this.m_v2.w.x,this.m_v1.a*this.m_v1.w.y+this.m_v2.a*this.m_v2.w.y);default:return zg(!1),new A}};mh.prototype.GetClosestPoint=mh.prototype.Fe;
mh.prototype.sg=function(a,b){switch(this.m_count){case 0:zg(!1);break;case 1:a.l(this.m_v1.wA);b.l(this.m_v1.wB);break;case 2:a.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x;a.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y;b.x=this.m_v1.a*this.m_v1.wB.x+this.m_v2.a*this.m_v2.wB.x;b.y=this.m_v1.a*this.m_v1.wB.y+this.m_v2.a*this.m_v2.wB.y;break;case 3:b.x=a.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x+this.m_v3.a*this.m_v3.wA.x;b.y=a.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*
this.m_v2.wA.y+this.m_v3.a*this.m_v3.wA.y;break;default:zg(!1)}};mh.prototype.GetWitnessPoints=mh.prototype.sg;mh.prototype.Oe=function(){switch(this.m_count){case 0:return zg(!1),0;case 1:return 0;case 2:return Pg(this.m_v1.w,this.m_v2.w).qb();case 3:return Ig(Pg(this.m_v2.w,this.m_v1.w),Pg(this.m_v3.w,this.m_v1.w));default:return zg(!1),0}};mh.prototype.GetMetric=mh.prototype.Oe;
mh.prototype.Fg=function(){var a=this.m_v1.w,b=this.m_v2.w,c=Pg(b,a),a=-(a.x*c.x+a.y*c.y);0>=a?this.m_count=this.m_v1.a=1:(b=b.x*c.x+b.y*c.y,0>=b?(this.m_count=this.m_v2.a=1,this.m_v1.Set(this.m_v2)):(c=1/(b+a),this.m_v1.a=b*c,this.m_v2.a=a*c,this.m_count=2))};mh.prototype.Solve2=mh.prototype.Fg;
mh.prototype.Gg=function(){var a=this.m_v1.w,b=this.m_v2.w,c=this.m_v3.w,d=Pg(b,a),e=Hg(b,d),f=-Hg(a,d),g=Pg(c,a),h=Hg(c,g),k=-Hg(a,g),l=Pg(c,b),n=Hg(c,l),l=-Hg(b,l),g=Ig(d,g),d=g*Ig(b,c),c=g*Ig(c,a),a=g*Ig(a,b);0>=f&&0>=k?this.m_count=this.m_v1.a=1:0<e&&0<f&&0>=a?(h=1/(e+f),this.m_v1.a=e*h,this.m_v2.a=f*h,this.m_count=2):0<h&&0<k&&0>=c?(e=1/(h+k),this.m_v1.a=h*e,this.m_v3.a=k*e,this.m_count=2,this.m_v2.Set(this.m_v3)):0>=e&&0>=l?(this.m_count=this.m_v2.a=1,this.m_v1.Set(this.m_v2)):0>=h&&0>=n?(this.m_count=
this.m_v3.a=1,this.m_v1.Set(this.m_v3)):0<n&&0<l&&0>=d?(e=1/(n+l),this.m_v2.a=n*e,this.m_v3.a=l*e,this.m_count=2,this.m_v1.Set(this.m_v3)):(e=1/(d+c+a),this.m_v1.a=d*e,this.m_v2.a=c*e,this.m_v3.a=a*e,this.m_count=3)};mh.prototype.Solve3=mh.prototype.Gg;mh.prototype.i={names:[{name:'b2Simplex',j:gb}]};y(gb,mh);function nh(){}var oh,ph,qh=new mh,rh=Array(3),sh=Array(3);
function th(a,b,c){++oh;var d=c.proxyA,e=c.proxyB,f=c.transformA,g=c.transformB;qh.vg(b,d,f,e,g);var h=qh.m_vertices,k=0;qh.Fe().bc();for(var l,n,p=0;20>p;){k=qh.m_count;for(l=0;l<k;l++)rh[l]=h[l].indexA,sh[l]=h[l].indexB;switch(qh.m_count){case 1:break;case 2:qh.Fg();break;case 3:qh.Gg();break;default:zg(!1)}if(3==qh.m_count)break;n=qh.Fe();n.bc();l=qh.rg();if(l.bc()<Number.MIN_VALUE*Number.MIN_VALUE)break;n=h[qh.m_count];n.indexA=d.kd(Mg(f.R,l.Bb()));n.wA=Ng(f,d.na(n.indexA));n.indexB=e.kd(Mg(g.R,
l));n.wB=Ng(g,e.na(n.indexB));n.w=Pg(n.wB,n.wA);++p;++ph;var u=!1;for(l=0;l<k;l++)if(n.indexA==rh[l]&&n.indexB==sh[l]){u=!0;break}if(u)break;++qh.m_count}qh.sg(a.pointA,a.pointB);a.distance=Pg(a.pointA,a.pointB).qb();a.iterations=p;qh.Hg(b);c.useRadii&&(b=d.m_radius,e=e.m_radius,a.distance>b+e&&a.distance>Number.MIN_VALUE?(a.distance-=b+e,c=Pg(a.pointB,a.pointA),c.ra(),a.pointA.x+=b*c.x,a.pointA.y+=b*c.y,a.pointB.x-=e*c.x,a.pointB.y-=e*c.y):(n=new A,n.x=.5*(a.pointA.x+a.pointB.x),n.y=.5*(a.pointA.y+
a.pointB.y),a.pointA.x=a.pointB.x=n.x,a.pointA.y=a.pointB.y=n.y,a.distance=0))}y('Box2D.Collision.b2Distance.Distance',th);nh.prototype.i={names:[{name:'b2Distance',j:Ua}]};y(Ua,nh);function uh(){}uh.prototype.i={names:[{name:'b2DistanceInput',j:Va}]};y(Va,uh);function vh(){this.pointA=new A;this.pointB=new A}vh.prototype.i={names:[{name:'b2DistanceOutput',j:Wa}]};y(Wa,vh);function wh(){}wh.prototype.Set=function(a){switch(a.D()){case 0:a=z(a,ah);this.m_vertices=[1,!0];this.m_vertices[0]=a.m_p;this.m_count=1;this.m_radius=a.m_radius;break;case 1:a=z(a,D);this.m_vertices=a.m_vertices;this.m_count=a.m_vertexCount;this.m_radius=a.m_radius;break;default:zg(!1)}};wh.prototype.Set=wh.prototype.Set;
wh.prototype.kd=function(a){for(var b=0,c=this.m_vertices[0].x*a.x+this.m_vertices[0].y*a.y,d=1;d<this.m_count;++d){var e=this.m_vertices[d].x*a.x+this.m_vertices[d].y*a.y;e>c&&(b=d,c=e)}return b};wh.prototype.GetSupport=wh.prototype.kd;wh.prototype.$b=function(a){for(var b=0,c=this.m_vertices[0].x*a.x+this.m_vertices[0].y*a.y,d=1;d<this.m_count;++d){var e=this.m_vertices[d].x*a.x+this.m_vertices[d].y*a.y;e>c&&(b=d,c=e)}return this.m_vertices[b]};wh.prototype.GetSupportVertex=wh.prototype.$b;
wh.prototype.Zd=t('m_count');wh.prototype.GetVertexCount=wh.prototype.Zd;wh.prototype.na=function(a){zg(0<=a&&a<this.m_count);return this.m_vertices[a]};wh.prototype.GetVertex=wh.prototype.na;wh.prototype.i={names:[{name:'b2DistanceProxy',j:Xa}]};y(Xa,wh);function xh(){this.indexA=Array(3);this.indexB=Array(3)}xh.prototype.i={names:[{name:'b2SimplexCache',j:hb}]};y(hb,xh);function yh(){}function zh(a,b,c,d){var e=new uh;e.proxyA=new wh;e.proxyA.Set(a);e.proxyB=new wh;e.proxyB.Set(c);e.transformA=b;e.transformB=d;e.useRadii=!0;a=new xh;a.count=0;b=new vh;th(b,a,e);return b.distance<10*Number.MIN_VALUE}y('Box2D.Collision.Shapes.b2ShapeUtil.TestOverlap',zh);yh.prototype.i={names:[{name:'b2ShapeUtil',j:Oa}]};y(Oa,yh);function Ah(a,b,c){a='undefined'!==typeof a?a:null;b='undefined'!==typeof b?b:null;c='undefined'!==typeof c?c:1;this.p1=new A;this.p2=new A;a&&this.p1.l(a);b&&this.p2.l(b);this.maxFraction=c}Ah.prototype.i={names:[{name:'b2RayCastInput',j:db}]};y(db,Ah);function Bh(){this.normal=new A}Bh.prototype.i={names:[{name:'b2RayCastOutput',j:eb}]};y(eb,Bh);function Ch(a,b,c){this.he=255*Xg(a,0,1)>>>0;this.fe=255*Xg(b,0,1)>>>0;this.de=255*Xg(c,0,1)>>>0}Ch.prototype.Set=function(a,b,c){this.he=255*Xg(a,0,1)>>>0;this.fe=255*Xg(b,0,1)>>>0;this.de=255*Xg(c,0,1)>>>0};Ch.prototype.Set=Ch.prototype.Set;Ch.prototype.he=0;Ch.prototype.fe=0;Ch.prototype.de=0;
Object.defineProperties(Ch.prototype,{r:{set:function(a){this.he=255*Xg(a,0,1)>>>0}},g:{set:function(a){this.fe=255*Xg(a,0,1)>>>0}},b:{set:function(a){this.de=255*Xg(a,0,1)>>>0}},color:{get:function(){return this.he<<16|this.fe<<8|this.de}}});Ch.prototype.i={names:[{name:'b2Color',j:ub}]};y(ub,Ch);function Dh(){}
Object.defineProperties(Dh.prototype,{referenceEdge:{get:t('_referenceEdge'),set:function(a){this._referenceEdge=a;this._m_id._key=this._m_id._key&4294967040|this._referenceEdge&255}},incidentEdge:{get:t('_incidentEdge'),set:function(a){this._incidentEdge=a;this._m_id._key=this._m_id._key&4294902015|this._incidentEdge<<8&65280}},incidentVertex:{get:t('_incidentVertex'),set:function(a){this._incidentVertex=a;this._m_id._key=this._m_id._key&4278255615|this._incidentVertex<<16&16711680}},flip:{get:t('_flip'),
set:function(a){this._flip=a;this._m_id._key=this._m_id._key&16777215|this._flip<<24&4278190080}}});Dh.prototype.i={names:[{name:'Features',j:Fa}]};y(Fa,Dh);function Eh(){this.features=new Dh;this.features._m_id=this}Eh.prototype.Set=function(a){this.key=a._key};Eh.prototype.Set=Eh.prototype.Set;Eh.prototype.G=function(){var a=new Eh;a.key=this.key;return a};Eh.prototype.Copy=Eh.prototype.G;
Object.defineProperties(Eh.prototype,{key:{get:t('_key'),set:function(a){this._key=a;this.features._referenceEdge=this._key&255;this.features._incidentEdge=(this._key&65280)>>8&255;this.features._incidentVertex=(this._key&16711680)>>16&255;this.features._flip=(this._key&4278190080)>>24&255}}});Eh.prototype.i={names:[{name:'b2ContactID',j:Sa}]};y(Sa,Eh);function Fh(){this.m_localPoint=new A;this.m_id=new Eh;this.za()}Fh.prototype.za=function(){this.m_localPoint.o();this.m_tangentImpulse=this.m_normalImpulse=0;this.m_id.key=0};Fh.prototype.Reset=Fh.prototype.za;Fh.prototype.Set=function(a){this.m_localPoint.l(a.m_localPoint);this.m_normalImpulse=a.m_normalImpulse;this.m_tangentImpulse=a.m_tangentImpulse;this.m_id.Set(a.m_id)};Fh.prototype.Set=Fh.prototype.Set;Fh.prototype.i={names:[{name:'b2ManifoldPoint',j:cb}]};y(cb,Fh);function Gh(){this.m_points=Array(2);for(var a=0;2>a;a++)this.m_points[a]=new Fh;this.m_localPlaneNormal=new A;this.m_localPoint=new A}Gh.prototype.za=function(){for(var a=0;2>a;a++)z(this.m_points[a],Fh).za();this.m_localPlaneNormal.o();this.m_localPoint.o();this.Y=this.m_type=0};Gh.prototype.Reset=Gh.prototype.za;
Gh.prototype.Set=function(a){this.Y=a.Y;for(var b=0;2>b;b++)z(this.m_points[b],Fh).Set(a.m_points[b]);this.m_localPlaneNormal.l(a.m_localPlaneNormal);this.m_localPoint.l(a.m_localPoint);this.m_type=a.m_type};Gh.prototype.Set=Gh.prototype.Set;Gh.prototype.G=function(){var a=new Gh;a.Set(this);return a};Gh.prototype.Copy=Gh.prototype.G;Gh.prototype.Y=0;Gh.prototype.m_pointCount=Gh.prototype.Y;y('Box2D.Collision.b2Manifold.e_circles',1);y('Box2D.Collision.b2Manifold.e_faceA',2);
y('Box2D.Collision.b2Manifold.e_faceB',4);Gh.prototype.i={names:[{name:'b2Manifold',j:bb}]};y(bb,Gh);function Hh(){this.proxyA=new wh;this.proxyB=new wh;this.sweepA=new eh;this.sweepB=new eh}Hh.prototype.i={names:[{name:'b2TOIInput',j:jb}]};y(jb,Hh);function Ih(){this.m_localPoint=new A;this.m_axis=new A}y('Box2D.Collision.b2SeparationFunction.e_points',1);y('Box2D.Collision.b2SeparationFunction.e_faceA',2);y('Box2D.Collision.b2SeparationFunction.e_faceB',4);
Ih.prototype.H=function(a,b,c,d,e){this.m_proxyA=b;this.m_proxyB=d;b=a.count;zg(0<b&&3>b);var f,g,h,k;if(1==b)this.m_type=1,f=this.m_proxyA.na(a.indexA[0]),g=this.m_proxyB.na(a.indexB[0]),k=f,h=c.R,f=c.position.x+(h.col1.x*k.x+h.col2.x*k.y),c=c.position.y+(h.col1.y*k.x+h.col2.y*k.y),k=g,h=e.R,g=e.position.x+(h.col1.x*k.x+h.col2.x*k.y),e=e.position.y+(h.col1.y*k.x+h.col2.y*k.y),this.m_axis.x=g-f,this.m_axis.y=e-c,this.m_axis.ra();else{if(a.indexB[0]==a.indexB[1])this.m_type=2,b=this.m_proxyA.na(a.indexA[0]),
d=this.m_proxyA.na(a.indexA[1]),g=this.m_proxyB.na(a.indexB[0]),this.m_localPoint.x=.5*(b.x+d.x),this.m_localPoint.y=.5*(b.y+d.y),this.m_axis=Jg(Pg(d,b),1),this.m_axis.ra(),k=this.m_axis,h=c.R,b=h.col1.x*k.x+h.col2.x*k.y,d=h.col1.y*k.x+h.col2.y*k.y,k=this.m_localPoint,h=c.R,f=c.position.x+(h.col1.x*k.x+h.col2.x*k.y),c=c.position.y+(h.col1.y*k.x+h.col2.y*k.y),k=g,h=e.R,g=e.position.x+(h.col1.x*k.x+h.col2.x*k.y),e=e.position.y+(h.col1.y*k.x+h.col2.y*k.y),a=(g-f)*b+(e-c)*d;else if(a.indexA[0]==a.indexA[0])this.m_type=
4,h=this.m_proxyB.na(a.indexB[0]),k=this.m_proxyB.na(a.indexB[1]),f=this.m_proxyA.na(a.indexA[0]),this.m_localPoint.x=.5*(h.x+k.x),this.m_localPoint.y=.5*(h.y+k.y),this.m_axis=Jg(Pg(k,h),1),this.m_axis.ra(),k=this.m_axis,h=e.R,b=h.col1.x*k.x+h.col2.x*k.y,d=h.col1.y*k.x+h.col2.y*k.y,k=this.m_localPoint,h=e.R,g=e.position.x+(h.col1.x*k.x+h.col2.x*k.y),e=e.position.y+(h.col1.y*k.x+h.col2.y*k.y),k=f,h=c.R,f=c.position.x+(h.col1.x*k.x+h.col2.x*k.y),c=c.position.y+(h.col1.y*k.x+h.col2.y*k.y),a=(f-g)*b+
(c-e)*d;else{b=this.m_proxyA.na(a.indexA[0]);d=this.m_proxyA.na(a.indexA[1]);h=this.m_proxyB.na(a.indexB[0]);k=this.m_proxyB.na(a.indexB[1]);Ng(c,f);f=Lg(c.R,Pg(d,b));Ng(e,g);a=Lg(e.R,Pg(k,h));e=f.x*f.x+f.y*f.y;g=a.x*a.x+a.y*a.y;var l=Pg(a,f);c=f.x*l.x+f.y*l.y;l=a.x*l.x+a.y*l.y;f=f.x*a.x+f.y*a.y;var n=e*g-f*f;a=0;0!=n&&(a=Xg((f*l-c*g)/n,0,1));0>(f*a+l)/g&&(a=Xg((f-c)/e,0,1));f=new A;f.x=b.x+a*(d.x-b.x);f.y=b.y+a*(d.y-b.y);g=new A;g.x=h.x+a*(k.x-h.x);g.y=h.y+a*(k.y-h.y);0==a||1==a?(this.m_type=4,this.m_axis=
Jg(Pg(k,h),1),this.m_axis.ra(),this.m_localPoint=g):(this.m_type=2,this.m_axis=Jg(Pg(d,b),1),this.m_localPoint=f)}0>a&&this.m_axis.$d()}};Ih.prototype.Initialize=Ih.prototype.H;
Ih.prototype.ua=function(a,b){var c,d,e;switch(this.m_type){case 1:return c=Mg(a.R,this.m_axis),d=Mg(b.R,this.m_axis.Bb()),c=this.m_proxyA.$b(c),d=this.m_proxyB.$b(d),c=Ng(a,c),d=Ng(b,d),e=(d.x-c.x)*this.m_axis.x+(d.y-c.y)*this.m_axis.y;case 2:return e=Lg(a.R,this.m_axis),c=Ng(a,this.m_localPoint),d=Mg(b.R,e.Bb()),d=this.m_proxyB.$b(d),d=Ng(b,d),e=(d.x-c.x)*e.x+(d.y-c.y)*e.y;case 4:return e=Lg(b.R,this.m_axis),d=Ng(b,this.m_localPoint),c=Mg(a.R,e.Bb()),c=this.m_proxyA.$b(c),c=Ng(a,c),e=(c.x-d.x)*
e.x+(c.y-d.y)*e.y;default:return zg(!1),0}};Ih.prototype.Evaluate=Ih.prototype.ua;Ih.prototype.i={names:[{name:'b2SeparationFunction',j:fb}]};y(fb,Ih);function Jh(){}var Kh=0,Lh=0,Mh=0,Nh=new xh,Oh=new uh,Ph=new Fg,Qh=new Fg,Rh=new Ih,Sh=new vh;
function Th(a){++Kh;var b=a.proxyA,c=a.proxyB,d=a.sweepA,e=a.sweepB;zg(d.t0==e.t0);zg(1-d.t0>Number.MIN_VALUE);var f=b.m_radius+c.m_radius;a=a.tolerance;var g=0,h=0,k=0;Nh.count=0;for(Oh.useRadii=!1;;){d.ja(Ph,g);e.ja(Qh,g);Oh.proxyA=b;Oh.proxyB=c;Oh.transformA=Ph;Oh.transformB=Qh;th(Sh,Nh,Oh);if(0>=Sh.distance){g=1;break}Rh.H(Nh,b,Ph,c,Qh);var l=Rh.ua(Ph,Qh);if(0>=l){g=1;break}0==h&&(k=l>f?Vg(f-a,.75*f):Vg(l-a,.02*f));if(l-k<.5*a){if(0==h){g=1;break}break}var n=g,p=g,u=1;d.ja(Ph,u);e.ja(Qh,u);var r=
Rh.ua(Ph,Qh);if(r>=k){g=1;break}for(var x=0;;){var v;v=x&1?p+(k-l)*(u-p)/(r-l):.5*(p+u);d.ja(Ph,v);e.ja(Qh,v);var B=Rh.ua(Ph,Qh);if(Rg(B-k)<.025*a){n=v;break}B>k?(p=v,l=B):(u=v,r=B);++x;++Mh;if(50==x)break}if(n<(1+100*Number.MIN_VALUE)*g)break;g=n;h++;++Lh;if(1E3==h)break}return g}y('Box2D.Collision.b2TimeOfImpact.TimeOfImpact',Th);Jh.prototype.i={names:[{name:'b2TimeOfImpact',j:kb}]};y(kb,Jh);function Uh(){}Uh.prototype.i={names:[{name:'b2ContactEdge',j:Ab}]};y(Ab,Uh);function G(){this.m_nodeA=new Uh;this.m_nodeB=new Uh;this.m_manifold=new Gh;this.m_oldManifold=new Gh}G.prototype.lj=t('m_manifold');G.prototype.GetManifold=G.prototype.lj;G.prototype.Fj=function(a){var b=this.m_fixtureB.m_body,c=this.m_fixtureA.m_shape,d=this.m_fixtureB.m_shape;a.H(this.m_manifold,this.m_fixtureA.m_body.ja(),c.m_radius,b.ja(),d.m_radius)};G.prototype.GetWorldManifold=G.prototype.Fj;G.prototype.rd=function(){return(this.m_flags&Vh)==Vh};G.prototype.IsTouching=G.prototype.rd;
G.prototype.ug=function(){return(this.m_flags&Wh)==Wh};G.prototype.IsContinuous=G.prototype.ug;G.prototype.ce=function(a){this.m_flags=a?this.m_flags|Xh:this.m_flags&~Xh};G.prototype.SetSensor=G.prototype.ce;G.prototype.cb=function(){return(this.m_flags&Xh)==Xh};G.prototype.IsSensor=G.prototype.cb;G.prototype.hk=function(a){this.m_flags=a?this.m_flags|Yh:this.m_flags&~Yh};G.prototype.SetEnabled=G.prototype.hk;G.prototype.od=function(){return(this.m_flags&Yh)==Yh};G.prototype.IsEnabled=G.prototype.od;
G.prototype.Zb=t(Me);G.prototype.GetNext=G.prototype.Zb;G.prototype.Ui=t('m_fixtureA');G.prototype.GetFixtureA=G.prototype.Ui;G.prototype.Vi=t('m_fixtureB');G.prototype.GetFixtureB=G.prototype.Vi;G.prototype.cd=function(){this.m_flags|=Zh};G.prototype.FlagForFiltering=G.prototype.cd;var Xh=1;y('Box2D.Dynamics.Contacts.b2Contact.e_sensorFlag',Xh);var Wh=2;y('Box2D.Dynamics.Contacts.b2Contact.e_continuousFlag',Wh);y('Box2D.Dynamics.Contacts.b2Contact.e_islandFlag',4);
y('Box2D.Dynamics.Contacts.b2Contact.e_toiFlag',8);var Vh=16;y('Box2D.Dynamics.Contacts.b2Contact.e_touchingFlag',Vh);var Yh=32;y('Box2D.Dynamics.Contacts.b2Contact.e_enabledFlag',Yh);var Zh=64;y('Box2D.Dynamics.Contacts.b2Contact.e_filterFlag',Zh);
G.prototype.za=function(a,b){a='undefined'!==typeof a?a:null;b='undefined'!==typeof b?b:null;this.m_flags=Yh;if(a&&b){if(a.cb()||b.cb())this.m_flags|=Xh;var c=a.m_body,d=b.m_body;if(c.D()!=$h||c.nd()||d.D()!=$h||d.nd())this.m_flags|=Wh;this.m_fixtureA=a;this.m_fixtureB=b;this.m_manifold.Y=0;this.m_next=this.m_prev=null;this.m_nodeA.contact=null;this.m_nodeA.prev=null;this.m_nodeA.next=null;this.m_nodeA.other=null;this.m_nodeB.contact=null;this.m_nodeB.prev=null;this.m_nodeB.next=null;this.m_nodeB.other=
null}else this.m_fixtureB=this.m_fixtureA=null};G.prototype.Reset=G.prototype.za;
G.prototype.Bc=function(){var a=this.m_oldManifold;this.m_oldManifold=this.m_manifold;this.m_manifold=a;this.m_flags|=Yh;var b=!1,c=(this.m_flags&Vh)==Vh,d=this.m_fixtureA.m_body,a=this.m_fixtureB.m_body,e=this.m_fixtureA.m_aabb.Fb(this.m_fixtureB.m_aabb);if(this.m_flags&Xh)e&&(b=this.m_fixtureA.m_shape,c=this.m_fixtureB.m_shape,d=d.ja(),a=a.ja(),b=zh(b,d,c,a)),this.m_manifold.Y=0;else{d.D()!=$h||d.nd()||a.D()!=$h||a.nd()?this.m_flags|=Wh:this.m_flags&=~Wh;if(e)for(this.ua(),b=0<this.m_manifold.Y,
e=0;e<this.m_manifold.Y;++e){var f=this.m_manifold.m_points[e];f.m_normalImpulse=0;f.m_tangentImpulse=0;for(var g=f.m_id,h=0;h<this.m_oldManifold.Y;++h){var k=this.m_oldManifold.m_points[h];if(k.m_id.key==g.key){f.m_normalImpulse=k.m_normalImpulse;f.m_tangentImpulse=k.m_tangentImpulse;break}}}else this.m_manifold.Y=0;b!=c&&(d.A(!0),a.A(!0))}this.m_flags=b?this.m_flags|Vh:this.m_flags&~Vh};G.prototype.Update=G.prototype.Bc;G.prototype.ua=m();G.prototype.Evaluate=G.prototype.ua;var ai=new Hh;
G.prototype.fg=function(a,b){ai.proxyA.Set(this.m_fixtureA.m_shape);ai.proxyB.Set(this.m_fixtureB.m_shape);ai.sweepA=a;ai.sweepB=b;ai.tolerance=.005;return Th(ai)};G.prototype.ComputeTOI=G.prototype.fg;G.prototype.i={names:[{name:'b2Contact',j:xb}]};y(xb,G);function bi(){this.m_normal=new A;this.m_points=Array(2);for(var a=0;2>a;a++)this.m_points[a]=new A}
bi.prototype.H=function(a,b,c,d,e){if(0!=a.Y){var f,g,h,k,l,n,p,u;switch(a.m_type){case 1:h=b.R;g=a.m_localPoint;f=b.position.x+h.col1.x*g.x+h.col2.x*g.y;b=b.position.y+h.col1.y*g.x+h.col2.y*g.y;h=d.R;g=a.m_points[0].m_localPoint;a=d.position.x+h.col1.x*g.x+h.col2.x*g.y;d=d.position.y+h.col1.y*g.x+h.col2.y*g.y;g=a-f;h=d-b;k=g*g+h*h;k>Number.MIN_VALUE*Number.MIN_VALUE?(k=Math.sqrt(k),this.m_normal.x=g/k,this.m_normal.y=h/k):(this.m_normal.x=1,this.m_normal.y=0);g=b+c*this.m_normal.y;d-=e*this.m_normal.y;
this.m_points[0].x=.5*(f+c*this.m_normal.x+(a-e*this.m_normal.x));this.m_points[0].y=.5*(g+d);break;case 2:h=b.R;g=a.m_localPlaneNormal;k=h.col1.x*g.x+h.col2.x*g.y;l=h.col1.y*g.x+h.col2.y*g.y;h=b.R;g=a.m_localPoint;n=b.position.x+h.col1.x*g.x+h.col2.x*g.y;p=b.position.y+h.col1.y*g.x+h.col2.y*g.y;this.m_normal.x=k;this.m_normal.y=l;for(f=0;f<a.Y;f++)h=d.R,g=a.m_points[f].m_localPoint,u=d.position.x+h.col1.x*g.x+h.col2.x*g.y,g=d.position.y+h.col1.y*g.x+h.col2.y*g.y,this.m_points[f].x=u+.5*(c-(u-n)*
k-(g-p)*l-e)*k,this.m_points[f].y=g+.5*(c-(u-n)*k-(g-p)*l-e)*l;break;case 4:for(h=d.R,g=a.m_localPlaneNormal,k=h.col1.x*g.x+h.col2.x*g.y,l=h.col1.y*g.x+h.col2.y*g.y,h=d.R,g=a.m_localPoint,n=d.position.x+h.col1.x*g.x+h.col2.x*g.y,p=d.position.y+h.col1.y*g.x+h.col2.y*g.y,this.m_normal.x=-k,this.m_normal.y=-l,f=0;f<a.Y;f++)h=b.R,g=a.m_points[f].m_localPoint,u=b.position.x+h.col1.x*g.x+h.col2.x*g.y,g=b.position.y+h.col1.y*g.x+h.col2.y*g.y,this.m_points[f].x=u+.5*(e-(u-n)*k-(g-p)*l-c)*k,this.m_points[f].y=
g+.5*(e-(u-n)*k-(g-p)*l-c)*l}}};bi.prototype.Initialize=bi.prototype.H;bi.prototype.i={names:[{name:'b2WorldManifold',j:lb}]};y(lb,bi);function ci(){this.localPoint=new A;this.rA=new A;this.rB=new A}ci.prototype.i={names:[{name:'b2ContactConstraintPoint',j:zb}]};y(zb,ci);function di(){this.localPlaneNormal=new A;this.localPoint=new A;this.normal=new A;this.normalMass=new C;this.K=new C;this.points=Array(2);for(var a=0;2>a;a++)this.points[a]=new ci}di.prototype.Ja=0;di.prototype.pointCount=di.prototype.Ja;di.prototype.i={names:[{name:'b2ContactConstraint',j:yb}]};y(yb,di);function ei(){this.m_normal=new A;this.m_separations=Array(2);this.m_points=Array(2);for(var a=0;2>a;a++)this.m_points[a]=new A}
ei.prototype.H=function(a){zg(0<a.Ja);var b,c,d,e,f,g;switch(a.type){case 1:e=a.bodyA.m_xf.R;d=a.localPoint;b=a.bodyA.m_xf.position.x+(e.col1.x*d.x+e.col2.x*d.y);c=a.bodyA.m_xf.position.y+(e.col1.y*d.x+e.col2.y*d.y);e=a.bodyB.m_xf.R;d=a.points[0].localPoint;f=a.bodyB.m_xf.position.x+(e.col1.x*d.x+e.col2.x*d.y);e=a.bodyB.m_xf.position.y+(e.col1.y*d.x+e.col2.y*d.y);d=f-b;g=e-c;var h=d*d+g*g;h>Number.MIN_VALUE*Number.MIN_VALUE?(h=Math.sqrt(h),this.m_normal.x=d/h,this.m_normal.y=g/h):(this.m_normal.x=
1,this.m_normal.y=0);this.m_points[0].x=.5*(b+f);this.m_points[0].y=.5*(c+e);this.m_separations[0]=d*this.m_normal.x+g*this.m_normal.y-a.radius;break;case 2:e=a.bodyA.m_xf.R;d=a.localPlaneNormal;this.m_normal.x=e.col1.x*d.x+e.col2.x*d.y;this.m_normal.y=e.col1.y*d.x+e.col2.y*d.y;e=a.bodyA.m_xf.R;d=a.localPoint;f=a.bodyA.m_xf.position.x+(e.col1.x*d.x+e.col2.x*d.y);g=a.bodyA.m_xf.position.y+(e.col1.y*d.x+e.col2.y*d.y);e=a.bodyB.m_xf.R;for(b=0;b<a.Ja;++b)d=a.points[b].localPoint,c=a.bodyB.m_xf.position.x+
(e.col1.x*d.x+e.col2.x*d.y),d=a.bodyB.m_xf.position.y+(e.col1.y*d.x+e.col2.y*d.y),this.m_separations[b]=(c-f)*this.m_normal.x+(d-g)*this.m_normal.y-a.radius,this.m_points[b].x=c,this.m_points[b].y=d;break;case 4:e=a.bodyB.m_xf.R;d=a.localPlaneNormal;this.m_normal.x=e.col1.x*d.x+e.col2.x*d.y;this.m_normal.y=e.col1.y*d.x+e.col2.y*d.y;e=a.bodyB.m_xf.R;d=a.localPoint;f=a.bodyB.m_xf.position.x+(e.col1.x*d.x+e.col2.x*d.y);g=a.bodyB.m_xf.position.y+(e.col1.y*d.x+e.col2.y*d.y);e=a.bodyA.m_xf.R;for(b=0;b<
a.Ja;++b)d=a.points[b].localPoint,c=a.bodyA.m_xf.position.x+(e.col1.x*d.x+e.col2.x*d.y),d=a.bodyA.m_xf.position.y+(e.col1.y*d.x+e.col2.y*d.y),this.m_separations[b]=(c-f)*this.m_normal.x+(d-g)*this.m_normal.y-a.radius,this.m_points[b].Set(c,d);this.m_normal.x*=-1;this.m_normal.y*=-1}};ei.prototype.Initialize=ei.prototype.H;ei.prototype.i={names:[{name:'b2PositionSolverManifold',j:Ib}]};y(Ib,ei);function fi(){}fi.prototype.Set=function(a){this.dt=a.dt;this.inv_dt=a.inv_dt;this.positionIterations=a.positionIterations;this.velocityIterations=a.velocityIterations;this.warmStarting=a.warmStarting};fi.prototype.Set=fi.prototype.Set;fi.prototype.i={names:[{name:'b2TimeStep',j:vc}]};y(vc,fi);function gi(){this.dm=new fi;this.m_constraints=[]}var hi=new bi;
gi.prototype.H=function(a,b,c,d){var e;this.dm.Set(a);this.m_allocator=d;for(this.Id=c;this.m_constraints.length<this.Id;)this.m_constraints[this.m_constraints.length]=new di;for(a=0;a<c;++a){e=b[a];d=e.m_fixtureA;var f=e.m_fixtureB,g=d.m_shape.m_radius,h=f.m_shape.m_radius,k=d.m_body,l=f.m_body,n=e.m_manifold,p=wg(d.m_friction,f.m_friction),u=xg(d.m_restitution,f.m_restitution),r=k.m_linearVelocity.x,x=k.m_linearVelocity.y,v=l.m_linearVelocity.x,B=l.m_linearVelocity.y,K=k.m_angularVelocity,La=l.m_angularVelocity;
zg(0<n.Y);hi.H(n,k.m_xf,g,l.m_xf,h);f=hi.m_normal.x;e=hi.m_normal.y;d=this.m_constraints[a];d.bodyA=k;d.bodyB=l;d.manifold=n;d.normal.x=f;d.normal.y=e;d.Ja=n.Y;d.friction=p;d.restitution=u;d.localPlaneNormal.x=n.m_localPlaneNormal.x;d.localPlaneNormal.y=n.m_localPlaneNormal.y;d.localPoint.x=n.m_localPoint.x;d.localPoint.y=n.m_localPoint.y;d.radius=g+h;d.type=n.m_type;for(g=0;g<d.Ja;++g){p=n.m_points[g];h=d.points[g];h.normalImpulse=p.m_normalImpulse;h.tangentImpulse=p.m_tangentImpulse;h.localPoint.l(p.m_localPoint);
var p=h.rA.x=hi.m_points[g].x-k.m_sweep.c.x,u=h.rA.y=hi.m_points[g].y-k.m_sweep.c.y,va=h.rB.x=hi.m_points[g].x-l.m_sweep.c.x,Ha=h.rB.y=hi.m_points[g].y-l.m_sweep.c.y,ga=p*e-u*f,sa=va*e-Ha*f,ga=ga*ga,sa=sa*sa;h.normalMass=1/(k.m_invMass+l.m_invMass+k.m_invI*ga+l.m_invI*sa);var ca=k.m_mass*k.m_invMass+l.m_mass*l.m_invMass,ca=ca+(k.m_mass*k.m_invI*ga+l.m_mass*l.m_invI*sa);h.equalizedMass=1/ca;sa=e;ca=-f;ga=p*ca-u*sa;sa=va*ca-Ha*sa;ga*=ga;sa*=sa;h.tangentMass=1/(k.m_invMass+l.m_invMass+k.m_invI*ga+l.m_invI*
sa);h.velocityBias=0;p=d.normal.x*(v+-La*Ha-r- -K*u)+d.normal.y*(B+La*va-x-K*p);-1>p&&(h.velocityBias+=-d.restitution*p)}2==d.Ja&&(B=d.points[0],v=d.points[1],n=k.m_invMass,k=k.m_invI,r=l.m_invMass,l=l.m_invI,x=B.rA.x*e-B.rA.y*f,B=B.rB.x*e-B.rB.y*f,K=v.rA.x*e-v.rA.y*f,v=v.rB.x*e-v.rB.y*f,f=n+r+k*x*x+l*B*B,e=n+r+k*K*K+l*v*v,l=n+r+k*x*K+l*B*v,f*f<100*(f*e-l*l)?(d.K.col1.Set(f,l),d.K.col2.Set(l,e),d.K.Xd(d.normalMass)):d.Ja=1)}};gi.prototype.Initialize=gi.prototype.H;
gi.prototype.aa=function(a){for(var b=0;b<this.Id;++b){var c=this.m_constraints[b],d=c.bodyA,e=c.bodyB,f=d.m_invMass,g=d.m_invI,h=e.m_invMass,k=e.m_invI,l=c.normal.x,n=c.normal.y,p=n,u=-l,r,x;if(a.warmStarting)for(x=c.Ja,r=0;r<x;++r){var v=c.points[r];v.normalImpulse*=a.dtRatio;v.tangentImpulse*=a.dtRatio;var B=v.normalImpulse*l+v.tangentImpulse*p,K=v.normalImpulse*n+v.tangentImpulse*u;d.m_angularVelocity-=g*(v.rA.x*K-v.rA.y*B);d.m_linearVelocity.x-=f*B;d.m_linearVelocity.y-=f*K;e.m_angularVelocity+=
k*(v.rB.x*K-v.rB.y*B);e.m_linearVelocity.x+=h*B;e.m_linearVelocity.y+=h*K}else for(x=c.Ja,r=0;r<x;++r)d=c.points[r],d.normalImpulse=0,d.tangentImpulse=0}};gi.prototype.InitVelocityConstraints=gi.prototype.aa;
gi.prototype.X=function(){for(var a,b,c,d,e,f,g,h,k,l,n=0;n<this.Id;++n){e=this.m_constraints[n];var p=e.bodyA,u=e.bodyB,r=p.m_angularVelocity,x=u.m_angularVelocity,v=p.m_linearVelocity,B=u.m_linearVelocity,K=p.m_invMass,La=p.m_invI,va=u.m_invMass,Ha=u.m_invI;h=e.normal.x;var ga=k=e.normal.y;l=-h;g=e.friction;for(a=0;a<e.Ja;a++)b=e.points[a],c=B.x-x*b.rB.y-v.x+r*b.rA.y,d=B.y+x*b.rB.x-v.y-r*b.rA.x,c=c*ga+d*l,c=b.tangentMass*-c,d=g*b.normalImpulse,d=Xg(b.tangentImpulse+c,-d,d),c=d-b.tangentImpulse,
f=c*ga,c*=l,v.x-=K*f,v.y-=K*c,r-=La*(b.rA.x*c-b.rA.y*f),B.x+=va*f,B.y+=va*c,x+=Ha*(b.rB.x*c-b.rB.y*f),b.tangentImpulse=d;if(1==e.Ja)b=e.points[0],c=B.x+-x*b.rB.y-v.x- -r*b.rA.y,d=B.y+x*b.rB.x-v.y-r*b.rA.x,e=c*h+d*k,c=-b.normalMass*(e-b.velocityBias),d=b.normalImpulse+c,d=0<d?d:0,c=d-b.normalImpulse,f=c*h,c*=k,v.x-=K*f,v.y-=K*c,r-=La*(b.rA.x*c-b.rA.y*f),B.x+=va*f,B.y+=va*c,x+=Ha*(b.rB.x*c-b.rB.y*f),b.normalImpulse=d;else{b=e.points[0];a=e.points[1];c=b.normalImpulse;g=a.normalImpulse;var sa=(B.x-x*
b.rB.y-v.x+r*b.rA.y)*h+(B.y+x*b.rB.x-v.y-r*b.rA.x)*k,ca=(B.x-x*a.rB.y-v.x+r*a.rA.y)*h+(B.y+x*a.rB.x-v.y-r*a.rA.x)*k;d=sa-b.velocityBias;f=ca-a.velocityBias;l=e.K;d-=l.col1.x*c+l.col2.x*g;for(f-=l.col1.y*c+l.col2.y*g;;){l=e.normalMass;ga=-(l.col1.x*d+l.col2.x*f);l=-(l.col1.y*d+l.col2.y*f);if(0<=ga&&0<=l){c=ga-c;g=l-g;e=c*h;c*=k;h*=g;k*=g;v.x-=K*(e+h);v.y-=K*(c+k);r-=La*(b.rA.x*c-b.rA.y*e+a.rA.x*k-a.rA.y*h);B.x+=va*(e+h);B.y+=va*(c+k);x+=Ha*(b.rB.x*c-b.rB.y*e+a.rB.x*k-a.rB.y*h);b.normalImpulse=ga;a.normalImpulse=
l;break}ga=-b.normalMass*d;l=0;ca=e.K.col1.y*ga+f;if(0<=ga&&0<=ca){c=ga-c;g=l-g;e=c*h;c*=k;h*=g;k*=g;v.x-=K*(e+h);v.y-=K*(c+k);r-=La*(b.rA.x*c-b.rA.y*e+a.rA.x*k-a.rA.y*h);B.x+=va*(e+h);B.y+=va*(c+k);x+=Ha*(b.rB.x*c-b.rB.y*e+a.rB.x*k-a.rB.y*h);b.normalImpulse=ga;a.normalImpulse=l;break}ga=0;l=-a.normalMass*f;sa=e.K.col2.x*l+d;if(0<=l&&0<=sa){c=ga-c;g=l-g;e=c*h;c*=k;h*=g;k*=g;v.x-=K*(e+h);v.y-=K*(c+k);r-=La*(b.rA.x*c-b.rA.y*e+a.rA.x*k-a.rA.y*h);B.x+=va*(e+h);B.y+=va*(c+k);x+=Ha*(b.rB.x*c-b.rB.y*e+a.rB.x*
k-a.rB.y*h);b.normalImpulse=ga;a.normalImpulse=l;break}l=ga=0;sa=d;ca=f;if(0<=sa&&0<=ca){c=ga-c;g=l-g;e=c*h;c*=k;h*=g;k*=g;v.x-=K*(e+h);v.y-=K*(c+k);r-=La*(b.rA.x*c-b.rA.y*e+a.rA.x*k-a.rA.y*h);B.x+=va*(e+h);B.y+=va*(c+k);x+=Ha*(b.rB.x*c-b.rB.y*e+a.rB.x*k-a.rB.y*h);b.normalImpulse=ga;a.normalImpulse=l;break}break}}p.m_angularVelocity=r;u.m_angularVelocity=x}};gi.prototype.SolveVelocityConstraints=gi.prototype.X;
gi.prototype.ad=function(){for(var a=0;a<this.Id;++a)for(var b=this.m_constraints[a],c=b.manifold,d=0;d<b.Ja;++d){var e=c.m_points[d],f=b.points[d];e.m_normalImpulse=f.normalImpulse;e.m_tangentImpulse=f.tangentImpulse}};gi.prototype.FinalizeVelocityConstraints=gi.prototype.ad;var ii=new ei;
gi.prototype.W=function(a){for(var b=0,c=0;c<this.Id;c++){var d=this.m_constraints[c],e=d.bodyA,f=d.bodyB,g=e.m_mass*e.m_invMass,h=e.m_mass*e.m_invI,k=f.m_mass*f.m_invMass,l=f.m_mass*f.m_invI;ii.H(d);for(var n=ii.m_normal,p=0;p<d.Ja;p++){var u=d.points[p],r=ii.m_points[p],x=ii.m_separations[p],v=r.x-e.m_sweep.c.x,B=r.y-e.m_sweep.c.y,K=r.x-f.m_sweep.c.x,r=r.y-f.m_sweep.c.y,b=b<x?b:x,x=-u.equalizedMass*Xg(a*(x+.005),-.2,0),u=x*n.x,x=x*n.y;e.m_sweep.c.x-=g*u;e.m_sweep.c.y-=g*x;e.m_sweep.a-=h*(v*x-B*
u);e.V();f.m_sweep.c.x+=k*u;f.m_sweep.c.y+=k*x;f.m_sweep.a+=l*(K*x-r*u);f.V()}}return-.0075<b};gi.prototype.SolvePositionConstraints=gi.prototype.W;gi.prototype.i={names:[{name:'b2ContactSolver',j:Db}]};y(Db,gi);function ji(){}ji.prototype.i={names:[{name:'b2JointEdge',j:Sb}]};y(Sb,ji);function H(a){this.m_edgeA=new ji;this.m_edgeB=new ji;this.m_localCenterA=new A;this.m_localCenterB=new A;zg(a.bodyA!=a.bodyB);this.m_type=a.type;this.m_next=this.m_prev=null;this.m_bodyA=a.bodyA;this.m_bodyB=a.bodyB;this.m_collideConnected=a.collideConnected;this.m_islandFlag=!1;this.m_userData=a.userData}H.prototype.D=t('m_type');H.prototype.GetType=H.prototype.D;H.prototype.ha=w(null);H.prototype.GetAnchorA=H.prototype.ha;H.prototype.ia=w(null);H.prototype.GetAnchorB=H.prototype.ia;
H.prototype.la=w(null);H.prototype.GetReactionForce=H.prototype.la;H.prototype.ma=w(0);H.prototype.GetReactionTorque=H.prototype.ma;H.prototype.Fi=t('m_bodyA');H.prototype.GetBodyA=H.prototype.Fi;H.prototype.Gi=t('m_bodyB');H.prototype.GetBodyB=H.prototype.Gi;H.prototype.Zb=t(Me);H.prototype.GetNext=H.prototype.Zb;H.prototype.qa=t(Ne);H.prototype.GetUserData=H.prototype.qa;H.prototype.xd=q(Ne);H.prototype.SetUserData=H.prototype.xd;H.prototype.Ra=function(){return this.m_bodyA.Ra()&&this.m_bodyB.Ra()};
H.prototype.IsActive=H.prototype.Ra;y('Box2D.Dynamics.Joints.b2Joint.Destroy',m());H.prototype.aa=m();H.prototype.InitVelocityConstraints=H.prototype.aa;H.prototype.X=m();H.prototype.SolveVelocityConstraints=H.prototype.X;H.prototype.ad=m();H.prototype.FinalizeVelocityConstraints=H.prototype.ad;H.prototype.W=w(!1);H.prototype.SolvePositionConstraints=H.prototype.W;y('Box2D.Dynamics.Joints.b2Joint.e_unknownJoint',0);y('Box2D.Dynamics.Joints.b2Joint.e_revoluteJoint',1);
y('Box2D.Dynamics.Joints.b2Joint.e_prismaticJoint',2);y('Box2D.Dynamics.Joints.b2Joint.e_distanceJoint',3);y('Box2D.Dynamics.Joints.b2Joint.e_pulleyJoint',4);y('Box2D.Dynamics.Joints.b2Joint.e_mouseJoint',5);y('Box2D.Dynamics.Joints.b2Joint.e_gearJoint',6);y('Box2D.Dynamics.Joints.b2Joint.e_lineJoint',7);y('Box2D.Dynamics.Joints.b2Joint.e_weldJoint',8);y('Box2D.Dynamics.Joints.b2Joint.e_frictionJoint',9);y('Box2D.Dynamics.Joints.b2Joint.e_inactiveLimit',0);
y('Box2D.Dynamics.Joints.b2Joint.e_atLowerLimit',1);y('Box2D.Dynamics.Joints.b2Joint.e_atUpperLimit',2);y('Box2D.Dynamics.Joints.b2Joint.e_equalLimits',3);H.prototype.i={names:[{name:'b2Joint',j:Qb}]};y(Qb,H);function ki(a){this.m_localAnchor1=new A;this.m_localAnchor2=new A;this.da=new A;H.call(this,a);this.m_localAnchor1.l(a.localAnchorA);this.m_localAnchor2.l(a.localAnchorB);this.m_length=a.length;this.Lb=a.frequencyHz;this.lc=a.dampingRatio;this.Bh=this.wa=this.h=0}dg(ki,H);ki.prototype.ha=function(){return this.m_bodyA.$(this.m_localAnchor1)};ki.prototype.GetAnchorA=ki.prototype.ha;ki.prototype.ia=function(){return this.m_bodyB.$(this.m_localAnchor2)};ki.prototype.GetAnchorB=ki.prototype.ia;
ki.prototype.la=function(a){return new A(a*this.h*this.da.x,a*this.h*this.da.y)};ki.prototype.GetReactionForce=ki.prototype.la;ki.prototype.ma=w(0);ki.prototype.GetReactionTorque=ki.prototype.ma;ki.prototype.Le=t(Ke);ki.prototype.GetLength=ki.prototype.Le;ki.prototype.mk=q(Ke);ki.prototype.SetLength=ki.prototype.mk;ki.prototype.Je=t('Lb');ki.prototype.GetFrequency=ki.prototype.Je;ki.prototype.We=q('Lb');ki.prototype.SetFrequency=ki.prototype.We;ki.prototype.He=t('lc');
ki.prototype.GetDampingRatio=ki.prototype.He;ki.prototype.Ue=q('lc');ki.prototype.SetDampingRatio=ki.prototype.Ue;
ki.prototype.aa=function(a){var b,c,d=this.m_bodyA,e=this.m_bodyB;b=d.m_xf.R;var f=this.m_localAnchor1.x-d.m_sweep.localCenter.x,g=this.m_localAnchor1.y-d.m_sweep.localCenter.y;c=b.col1.x*f+b.col2.x*g;g=b.col1.y*f+b.col2.y*g;f=c;b=e.m_xf.R;var h=this.m_localAnchor2.x-e.m_sweep.localCenter.x,k=this.m_localAnchor2.y-e.m_sweep.localCenter.y;c=b.col1.x*h+b.col2.x*k;k=b.col1.y*h+b.col2.y*k;h=c;this.da.x=e.m_sweep.c.x+h-d.m_sweep.c.x-f;this.da.y=e.m_sweep.c.y+k-d.m_sweep.c.y-g;c=Math.sqrt(this.da.x*this.da.x+
this.da.y*this.da.y);.005<c?this.da.Sa(1/c):this.da.o();b=f*this.da.y-g*this.da.x;var l=h*this.da.y-k*this.da.x;b=d.m_invMass+d.m_invI*b*b+e.m_invMass+e.m_invI*l*l;this.m_mass=0!=b?1/b:0;if(0<this.Lb){c-=this.m_length;var l=2*Math.PI*this.Lb,n=this.m_mass*l*l;this.wa=a.dt*(2*this.m_mass*this.lc*l+a.dt*n);this.wa=0!=this.wa?1/this.wa:0;this.Bh=c*a.dt*n*this.wa;this.m_mass=b+this.wa;this.m_mass=0!=this.m_mass?1/this.m_mass:0}a.warmStarting?(this.h*=a.dtRatio,a=this.h*this.da.x,b=this.h*this.da.y,d.m_linearVelocity.x-=
d.m_invMass*a,d.m_linearVelocity.y-=d.m_invMass*b,d.m_angularVelocity-=d.m_invI*(f*b-g*a),e.m_linearVelocity.x+=e.m_invMass*a,e.m_linearVelocity.y+=e.m_invMass*b,e.m_angularVelocity+=e.m_invI*(h*b-k*a)):this.h=0};ki.prototype.InitVelocityConstraints=ki.prototype.aa;
ki.prototype.X=function(){var a,b=this.m_bodyA,c=this.m_bodyB;a=b.m_xf.R;var d=this.m_localAnchor1.x-b.m_sweep.localCenter.x,e=this.m_localAnchor1.y-b.m_sweep.localCenter.y,f=a.col1.x*d+a.col2.x*e,e=a.col1.y*d+a.col2.y*e,d=f;a=c.m_xf.R;var g=this.m_localAnchor2.x-c.m_sweep.localCenter.x,h=this.m_localAnchor2.y-c.m_sweep.localCenter.y,f=a.col1.x*g+a.col2.x*h,h=a.col1.y*g+a.col2.y*h,g=f,f=-this.m_mass*(this.da.x*(c.m_linearVelocity.x+-c.m_angularVelocity*h-(b.m_linearVelocity.x+-b.m_angularVelocity*
e))+this.da.y*(c.m_linearVelocity.y+c.m_angularVelocity*g-(b.m_linearVelocity.y+b.m_angularVelocity*d))+this.Bh+this.wa*this.h);this.h+=f;a=f*this.da.x;f*=this.da.y;b.m_linearVelocity.x-=b.m_invMass*a;b.m_linearVelocity.y-=b.m_invMass*f;b.m_angularVelocity-=b.m_invI*(d*f-e*a);c.m_linearVelocity.x+=c.m_invMass*a;c.m_linearVelocity.y+=c.m_invMass*f;c.m_angularVelocity+=c.m_invI*(g*f-h*a)};ki.prototype.SolveVelocityConstraints=ki.prototype.X;
ki.prototype.W=function(){var a;if(0<this.Lb)return!0;var b=this.m_bodyA,c=this.m_bodyB;a=b.m_xf.R;var d=this.m_localAnchor1.x-b.m_sweep.localCenter.x,e=this.m_localAnchor1.y-b.m_sweep.localCenter.y,f=a.col1.x*d+a.col2.x*e,e=a.col1.y*d+a.col2.y*e,d=f;a=c.m_xf.R;var g=this.m_localAnchor2.x-c.m_sweep.localCenter.x,h=this.m_localAnchor2.y-c.m_sweep.localCenter.y,f=a.col1.x*g+a.col2.x*h,h=a.col1.y*g+a.col2.y*h,g=f,k=c.m_sweep.c.x+g-b.m_sweep.c.x-d,l=c.m_sweep.c.y+h-b.m_sweep.c.y-e,n=Math.sqrt(k*k+l*l);
a=n-this.m_length;a=Xg(a,-.2,.2);f=-this.m_mass*a;this.da.Set(k/n,l/n);k=f*this.da.x;f*=this.da.y;b.m_sweep.c.x-=b.m_invMass*k;b.m_sweep.c.y-=b.m_invMass*f;b.m_sweep.a-=b.m_invI*(d*f-e*k);c.m_sweep.c.x+=c.m_invMass*k;c.m_sweep.c.y+=c.m_invMass*f;c.m_sweep.a+=c.m_invI*(g*f-h*k);b.V();c.V();return.005>Rg(a)};ki.prototype.SolvePositionConstraints=ki.prototype.W;ki.prototype.i={names:[{name:'b2DistanceJoint',j:Jb}]};y(Jb,ki);function li(){this.type=0;this.bodyB=this.bodyA=this.userData=null;this.collideConnected=!1}li.prototype.i={names:[{name:'b2JointDef',j:Rb}]};y(Rb,li);function mi(){li.call(this);this.localAnchorA=new A;this.localAnchorB=new A;this.type=3;this.length=1;this.dampingRatio=this.frequencyHz=0}dg(mi,li);mi.prototype.H=function(a,b,c,d){this.bodyA=a;this.bodyB=b;this.localAnchorA.l(this.bodyA.Ca(c));this.localAnchorB.l(this.bodyB.Ca(d));a=d.x-c.x;c=d.y-c.y;this.length=Math.sqrt(a*a+c*c);this.dampingRatio=this.frequencyHz=0};mi.prototype.Initialize=mi.prototype.H;mi.prototype.i={names:[{name:'b2DistanceJointDef',j:Kb}]};y(Kb,mi);function ni(a){this.Ha=new A;this.Ia=new A;this.m_linearMass=new C;this.Ga=new A;H.call(this,a);this.Ha.l(a.localAnchorA);this.Ia.l(a.localAnchorB);this.m_linearMass.o();this.m_angularMass=0;this.Ga.o();this.ub=0;this.oc=a.maxForce;this.Df=a.maxTorque}dg(ni,H);ni.prototype.ha=function(){return this.m_bodyA.$(this.Ha)};ni.prototype.GetAnchorA=ni.prototype.ha;ni.prototype.ia=function(){return this.m_bodyB.$(this.Ia)};ni.prototype.GetAnchorB=ni.prototype.ia;
ni.prototype.la=function(a){return new A(a*this.Ga.x,a*this.Ga.y)};ni.prototype.GetReactionForce=ni.prototype.la;ni.prototype.ma=function(a){return a*this.ub};ni.prototype.GetReactionTorque=ni.prototype.ma;ni.prototype.Ye=q('oc');ni.prototype.SetMaxForce=ni.prototype.Ye;ni.prototype.Ne=t('oc');ni.prototype.GetMaxForce=ni.prototype.Ne;ni.prototype.sk=q('Df');ni.prototype.SetMaxTorque=ni.prototype.sk;ni.prototype.oj=t('Df');ni.prototype.GetMaxTorque=ni.prototype.oj;
ni.prototype.aa=function(a){var b,c,d=this.m_bodyA,e=this.m_bodyB;b=d.m_xf.R;var f=this.Ha.x-d.m_sweep.localCenter.x,g=this.Ha.y-d.m_sweep.localCenter.y;c=b.col1.x*f+b.col2.x*g;g=b.col1.y*f+b.col2.y*g;f=c;b=e.m_xf.R;var h=this.Ia.x-e.m_sweep.localCenter.x,k=this.Ia.y-e.m_sweep.localCenter.y;c=b.col1.x*h+b.col2.x*k;k=b.col1.y*h+b.col2.y*k;h=c;b=d.m_invMass;c=e.m_invMass;var l=d.m_invI,n=e.m_invI,p=new C;p.col1.x=b+c;p.col2.x=0;p.col1.y=0;p.col2.y=b+c;p.col1.x+=l*g*g;p.col2.x+=-l*f*g;p.col1.y+=-l*f*
g;p.col2.y+=l*f*f;p.col1.x+=n*k*k;p.col2.x+=-n*h*k;p.col1.y+=-n*h*k;p.col2.y+=n*h*h;p.Xd(this.m_linearMass);this.m_angularMass=l+n;0<this.m_angularMass&&(this.m_angularMass=1/this.m_angularMass);a.warmStarting?(this.Ga.x*=a.dtRatio,this.Ga.y*=a.dtRatio,this.ub*=a.dtRatio,a=this.Ga,d.m_linearVelocity.x-=b*a.x,d.m_linearVelocity.y-=b*a.y,d.m_angularVelocity-=l*(f*a.y-g*a.x+this.ub),e.m_linearVelocity.x+=c*a.x,e.m_linearVelocity.y+=c*a.y,e.m_angularVelocity+=n*(h*a.y-k*a.x+this.ub)):(this.Ga.o(),this.ub=
0)};ni.prototype.InitVelocityConstraints=ni.prototype.aa;
ni.prototype.X=function(a){var b,c,d=this.m_bodyA,e=this.m_bodyB,f=d.m_linearVelocity,g=d.m_angularVelocity,h=e.m_linearVelocity,k=e.m_angularVelocity,l=d.m_invMass,n=e.m_invMass,p=d.m_invI,u=e.m_invI;b=d.m_xf.R;var r=this.Ha.x-d.m_sweep.localCenter.x,x=this.Ha.y-d.m_sweep.localCenter.y;c=b.col1.x*r+b.col2.x*x;x=b.col1.y*r+b.col2.y*x;r=c;b=e.m_xf.R;var v=this.Ia.x-e.m_sweep.localCenter.x,B=this.Ia.y-e.m_sweep.localCenter.y;c=b.col1.x*v+b.col2.x*B;B=b.col1.y*v+b.col2.y*B;v=c;c=-this.m_angularMass*
(k-g);var K=this.ub;b=a.dt*this.Df;this.ub=Xg(this.ub+c,-b,b);c=this.ub-K;g-=p*c;k+=u*c;b=Lg(this.m_linearMass,new A(-(h.x-k*B-f.x+g*x),-(h.y+k*v-f.y-g*r)));c=this.Ga.G();this.Ga.nb(b);b=a.dt*this.oc;this.Ga.bc()>b*b&&(this.Ga.ra(),this.Ga.Sa(b));b=Pg(this.Ga,c);f.x-=l*b.x;f.y-=l*b.y;g-=p*(r*b.y-x*b.x);h.x+=n*b.x;h.y+=n*b.y;k+=u*(v*b.y-B*b.x);d.m_angularVelocity=g;e.m_angularVelocity=k};ni.prototype.SolveVelocityConstraints=ni.prototype.X;ni.prototype.W=w(!0);
ni.prototype.SolvePositionConstraints=ni.prototype.W;ni.prototype.i={names:[{name:'b2FrictionJoint',j:Lb}]};y(Lb,ni);function oi(){li.call(this);this.localAnchorA=new A;this.localAnchorB=new A;this.type=9;this.maxTorque=this.maxForce=0}dg(oi,li);oi.prototype.H=function(a,b,c){this.bodyA=a;this.bodyB=b;this.localAnchorA.l(this.bodyA.Ca(c));this.localAnchorB.l(this.bodyB.Ca(c))};oi.prototype.Initialize=oi.prototype.H;oi.prototype.i={names:[{name:'b2FrictionJointDef',j:Mb}]};y(Mb,oi);function pi(){this.linearA=new A;this.linearB=new A}pi.prototype.o=function(){this.linearA.o();this.angularA=0;this.linearB.o();this.angularB=0};pi.prototype.SetZero=pi.prototype.o;pi.prototype.Set=function(a,b,c,d){this.linearA.l(a);this.angularA=b;this.linearB.l(c);this.angularB=d};pi.prototype.Set=pi.prototype.Set;pi.prototype.eg=function(a,b,c,d){return this.linearA.x*a.x+this.linearA.y*a.y+this.angularA*b+(this.linearB.x*c.x+this.linearB.y*c.y)+this.angularB*d};pi.prototype.Compute=pi.prototype.eg;
pi.prototype.i={names:[{name:'b2Jacobian',j:Pb}]};y(Pb,pi);function qi(a,b,c){this.x='undefined'!==typeof a?a:0;this.y='undefined'!==typeof b?b:0;this.z='undefined'!==typeof c?c:0}qi.prototype.o=function(){this.x=this.y=this.z=0};qi.prototype.SetZero=qi.prototype.o;qi.prototype.Set=function(a,b,c){this.x=a;this.y=b;this.z=c};qi.prototype.Set=qi.prototype.Set;qi.prototype.l=function(a){this.x=a.x;this.y=a.y;this.z=a.z};qi.prototype.SetV=qi.prototype.l;qi.prototype.Bb=function(){return new qi(-this.x,-this.y,-this.z)};qi.prototype.GetNegative=qi.prototype.Bb;
qi.prototype.$d=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z};qi.prototype.NegativeSelf=qi.prototype.$d;qi.prototype.G=function(){return new qi(this.x,this.y,this.z)};qi.prototype.Copy=qi.prototype.G;qi.prototype.nb=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};qi.prototype.Add=qi.prototype.nb;qi.prototype.af=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};qi.prototype.Subtract=qi.prototype.af;qi.prototype.Sa=function(a){this.x*=a;this.y*=a;this.z*=a};qi.prototype.Multiply=qi.prototype.Sa;
qi.prototype.i={names:[{name:'b2Vec3',j:tb}]};y(tb,qi);function ri(a,b,c){a='undefined'!==typeof a?a:null;b='undefined'!==typeof b?b:null;c='undefined'!==typeof c?c:null;this.col1=new qi;this.col2=new qi;this.col3=new qi;a||b||c?(this.col1.l(a),this.col2.l(b),this.col3.l(c)):(this.col1.o(),this.col2.o(),this.col3.o())}ri.prototype.Dk=function(a,b,c){this.col1.l(a);this.col2.l(b);this.col3.l(c)};ri.prototype.SetVVV=ri.prototype.Dk;ri.prototype.G=function(){return new ri(this.col1,this.col2,this.col3)};ri.prototype.Copy=ri.prototype.G;
ri.prototype.Eb=function(a){this.col1.l(a.col1);this.col2.l(a.col2);this.col3.l(a.col3)};ri.prototype.SetM=ri.prototype.Eb;ri.prototype.wc=function(a){this.col1.x+=a.col1.x;this.col1.y+=a.col1.y;this.col1.z+=a.col1.z;this.col2.x+=a.col2.x;this.col2.y+=a.col2.y;this.col2.z+=a.col2.z;this.col3.x+=a.col3.x;this.col3.y+=a.col3.y;this.col3.z+=a.col3.z};ri.prototype.AddM=ri.prototype.wc;
ri.prototype.cc=function(){this.col1.x=1;this.col2.x=0;this.col3.x=0;this.col1.y=0;this.col2.y=1;this.col3.y=0;this.col1.z=0;this.col2.z=0;this.col3.z=1};ri.prototype.SetIdentity=ri.prototype.cc;ri.prototype.o=function(){this.col1.x=0;this.col2.x=0;this.col3.x=0;this.col1.y=0;this.col2.y=0;this.col3.y=0;this.col1.z=0;this.col2.z=0;this.col3.z=0};ri.prototype.SetZero=ri.prototype.o;
ri.prototype.dc=function(a,b,c){var d=this.col1.x,e=this.col2.x,f=this.col1.y,g=this.col2.y,h=d*g-e*f;0!=h&&(h=1/h);a.x=h*(g*b-e*c);a.y=h*(d*c-f*b);return a};ri.prototype.Solve22=ri.prototype.dc;
ri.prototype.zc=function(a,b,c,d){var e=this.col1.x,f=this.col1.y,g=this.col1.z,h=this.col2.x,k=this.col2.y,l=this.col2.z,n=this.col3.x,p=this.col3.y,u=this.col3.z,r=e*(k*u-l*p)+f*(l*n-h*u)+g*(h*p-k*n);0!=r&&(r=1/r);a.x=r*(b*(k*u-l*p)+c*(l*n-h*u)+d*(h*p-k*n));a.y=r*(e*(c*u-d*p)+f*(d*n-b*u)+g*(b*p-c*n));a.z=r*(e*(k*d-l*c)+f*(l*b-h*d)+g*(h*c-k*b));return a};ri.prototype.Solve33=ri.prototype.zc;ri.prototype.i={names:[{name:'b2Mat33',j:nb}]};y(nb,ri);function I(a){this.m_localAnchor1=new A;this.m_localAnchor2=new A;this.m_localXAxis1=new A;this.Nb=new A;this.m_axis=new A;this.u=new A;this.s=new ri;this.h=new qi;H.call(this,a);this.m_localAnchor1.l(a.localAnchorA);this.m_localAnchor2.l(a.localAnchorB);this.m_localXAxis1.l(a.localAxisA);this.Nb.x=-this.m_localXAxis1.y;this.Nb.y=this.m_localXAxis1.x;this.cm=a.referenceAngle;this.h.o();this.B=this.Aa=0;this.xa=a.lowerTranslation;this.ya=a.upperTranslation;this.Nc=a.maxMotorForce;this.mb=a.motorSpeed;
this.va=a.enableLimit;this.Na=a.enableMotor;this.C=0;this.m_axis.o();this.u.o()}dg(I,H);I.prototype.ha=function(){return this.m_bodyA.$(this.m_localAnchor1)};I.prototype.GetAnchorA=I.prototype.ha;I.prototype.ia=function(){return this.m_bodyB.$(this.m_localAnchor2)};I.prototype.GetAnchorB=I.prototype.ia;I.prototype.la=function(a){return new A(a*(this.h.x*this.u.x+(this.B+this.h.z)*this.m_axis.x),a*(this.h.x*this.u.y+(this.B+this.h.z)*this.m_axis.y))};I.prototype.GetReactionForce=I.prototype.la;
I.prototype.ma=function(a){return a*this.h.y};I.prototype.GetReactionTorque=I.prototype.ma;I.prototype.Yb=function(){var a=this.m_bodyA,b=this.m_bodyB,c=a.$(this.m_localAnchor1),d=b.$(this.m_localAnchor2),b=d.x-c.x,c=d.y-c.y,a=a.md(this.m_localXAxis1);return a.x*b+a.y*c};I.prototype.GetJointTranslation=I.prototype.Yb;
I.prototype.fd=function(){var a=this.m_bodyA,b=this.m_bodyB,c;c=a.m_xf.R;var d=this.m_localAnchor1.x-a.m_sweep.localCenter.x,e=this.m_localAnchor1.y-a.m_sweep.localCenter.y,f=c.col1.x*d+c.col2.x*e,e=c.col1.y*d+c.col2.y*e,d=f;c=b.m_xf.R;var g=this.m_localAnchor2.x-b.m_sweep.localCenter.x,h=this.m_localAnchor2.y-b.m_sweep.localCenter.y,f=c.col1.x*g+c.col2.x*h,h=c.col1.y*g+c.col2.y*h,g=f;c=b.m_sweep.c.x+g-(a.m_sweep.c.x+d);var f=b.m_sweep.c.y+h-(a.m_sweep.c.y+e),k=a.md(this.m_localXAxis1),l=a.m_linearVelocity,
n=b.m_linearVelocity,a=a.m_angularVelocity,b=b.m_angularVelocity;return c*-a*k.y+f*a*k.x+(k.x*(n.x+-b*h-l.x- -a*e)+k.y*(n.y+b*g-l.y-a*d))};I.prototype.GetJointSpeed=I.prototype.fd;I.prototype.pd=t(Sf);I.prototype.IsLimitEnabled=I.prototype.pd;I.prototype.Zc=function(a){this.m_bodyA.A(!0);this.m_bodyB.A(!0);this.va=a};I.prototype.EnableLimit=I.prototype.Zc;I.prototype.gd=t('xa');I.prototype.GetLowerLimit=I.prototype.gd;I.prototype.ld=t('ya');I.prototype.GetUpperLimit=I.prototype.ld;
I.prototype.vd=function(a,b){this.m_bodyA.A(!0);this.m_bodyB.A(!0);this.xa=a;this.ya=b};I.prototype.SetLimits=I.prototype.vd;I.prototype.qd=t('Na');I.prototype.IsMotorEnabled=I.prototype.qd;I.prototype.$c=function(a){this.m_bodyA.A(!0);this.m_bodyB.A(!0);this.Na=a};I.prototype.EnableMotor=I.prototype.$c;I.prototype.wd=function(a){this.m_bodyA.A(!0);this.m_bodyB.A(!0);this.mb=a};I.prototype.SetMotorSpeed=I.prototype.wd;I.prototype.hd=t('mb');I.prototype.GetMotorSpeed=I.prototype.hd;
I.prototype.Ze=function(a){this.m_bodyA.A(!0);this.m_bodyB.A(!0);this.Nc=a};I.prototype.SetMaxMotorForce=I.prototype.Ze;I.prototype.Pe=t('B');I.prototype.GetMotorForce=I.prototype.Pe;
I.prototype.aa=function(a){var b=this.m_bodyA,c=this.m_bodyB,d,e;this.m_localCenterA.l(b.m_sweep.localCenter);this.m_localCenterB.l(c.m_sweep.localCenter);var f=b.ja();c.ja();d=b.m_xf.R;var g=this.m_localAnchor1.x-this.m_localCenterA.x,h=this.m_localAnchor1.y-this.m_localCenterA.y;e=d.col1.x*g+d.col2.x*h;h=d.col1.y*g+d.col2.y*h;g=e;d=c.m_xf.R;var k=this.m_localAnchor2.x-this.m_localCenterB.x,l=this.m_localAnchor2.y-this.m_localCenterB.y;e=d.col1.x*k+d.col2.x*l;l=d.col1.y*k+d.col2.y*l;k=e;d=c.m_sweep.c.x+
k-b.m_sweep.c.x-g;e=c.m_sweep.c.y+l-b.m_sweep.c.y-h;this.m_invMassA=b.m_invMass;this.m_invMassB=c.m_invMass;this.m_invIA=b.m_invI;this.m_invIB=c.m_invI;this.m_axis.l(Lg(f.R,this.m_localXAxis1));this.J=(d+g)*this.m_axis.y-(e+h)*this.m_axis.x;this.L=k*this.m_axis.y-l*this.m_axis.x;this.Aa=this.m_invMassA+this.m_invMassB+this.m_invIA*this.J*this.J+this.m_invIB*this.L*this.L;this.Aa>Number.MIN_VALUE&&(this.Aa=1/this.Aa);this.u.l(Lg(f.R,this.Nb));this.N=(d+g)*this.u.y-(e+h)*this.u.x;this.O=k*this.u.y-
l*this.u.x;f=this.m_invMassA;g=this.m_invMassB;h=this.m_invIA;k=this.m_invIB;this.s.col1.x=f+g+h*this.N*this.N+k*this.O*this.O;this.s.col1.y=h*this.N+k*this.O;this.s.col1.z=h*this.N*this.J+k*this.O*this.L;this.s.col2.x=this.s.col1.y;this.s.col2.y=h+k;this.s.col2.z=h*this.J+k*this.L;this.s.col3.x=this.s.col1.z;this.s.col3.y=this.s.col2.z;this.s.col3.z=f+g+h*this.J*this.J+k*this.L*this.L;this.va?(d=this.m_axis.x*d+this.m_axis.y*e,.01>Rg(this.ya-this.xa)?this.C=3:d<=this.xa?1!=this.C&&(this.C=1,this.h.z=
0):d>=this.ya?2!=this.C&&(this.C=2,this.h.z=0):(this.C=0,this.h.z=0)):this.C=0;0==this.Na&&(this.B=0);a.warmStarting?(this.h.x*=a.dtRatio,this.h.y*=a.dtRatio,this.B*=a.dtRatio,a=this.h.x*this.u.x+(this.B+this.h.z)*this.m_axis.x,d=this.h.x*this.u.y+(this.B+this.h.z)*this.m_axis.y,e=this.h.x*this.N+this.h.y+(this.B+this.h.z)*this.J,f=this.h.x*this.O+this.h.y+(this.B+this.h.z)*this.L,b.m_linearVelocity.x-=this.m_invMassA*a,b.m_linearVelocity.y-=this.m_invMassA*d,b.m_angularVelocity-=this.m_invIA*e,c.m_linearVelocity.x+=
this.m_invMassB*a,c.m_linearVelocity.y+=this.m_invMassB*d,c.m_angularVelocity+=this.m_invIB*f):(this.h.o(),this.B=0)};I.prototype.InitVelocityConstraints=I.prototype.aa;
I.prototype.X=function(a){var b=this.m_bodyA,c=this.m_bodyB,d=b.m_linearVelocity,e=b.m_angularVelocity,f=c.m_linearVelocity,g=c.m_angularVelocity,h,k,l;this.Na&&3!=this.C&&(l=this.Aa*(this.mb-(this.m_axis.x*(f.x-d.x)+this.m_axis.y*(f.y-d.y)+this.L*g-this.J*e)),h=this.B,a=a.dt*this.Nc,this.B=Xg(this.B+l,-a,a),l=this.B-h,h=l*this.m_axis.x,a=l*this.m_axis.y,k=l*this.J,l*=this.L,d.x-=this.m_invMassA*h,d.y-=this.m_invMassA*a,e-=this.m_invIA*k,f.x+=this.m_invMassB*h,f.y+=this.m_invMassB*a,g+=this.m_invIB*
l);a=this.u.x*(f.x-d.x)+this.u.y*(f.y-d.y)+this.O*g-this.N*e;k=g-e;this.va&&0!=this.C?(l=this.m_axis.x*(f.x-d.x)+this.m_axis.y*(f.y-d.y)+this.L*g-this.J*e,h=this.h.G(),l=this.s.zc(new qi,-a,-k,-l),this.h.nb(l),1==this.C?this.h.z=Vg(this.h.z,0):2==this.C&&(this.h.z=Tg(this.h.z,0)),a=this.s.dc(new A,-a-(this.h.z-h.z)*this.s.col3.x,-k-(this.h.z-h.z)*this.s.col3.y),a.x+=h.x,a.y+=h.y,this.h.x=a.x,this.h.y=a.y,l.x=this.h.x-h.x,l.y=this.h.y-h.y,l.z=this.h.z-h.z,h=l.x*this.u.x+l.z*this.m_axis.x,a=l.x*this.u.y+
l.z*this.m_axis.y,k=l.x*this.N+l.y+l.z*this.J,l=l.x*this.O+l.y+l.z*this.L):(l=this.s.dc(new A,-a,-k),this.h.x+=l.x,this.h.y+=l.y,h=l.x*this.u.x,a=l.x*this.u.y,k=l.x*this.N+l.y,l=l.x*this.O+l.y);d.x-=this.m_invMassA*h;d.y-=this.m_invMassA*a;e-=this.m_invIA*k;f.x+=this.m_invMassB*h;f.y+=this.m_invMassB*a;g+=this.m_invIB*l;b.m_linearVelocity.l(d);b.m_angularVelocity=e;c.m_linearVelocity.l(f);c.m_angularVelocity=g};I.prototype.SolveVelocityConstraints=I.prototype.X;
I.prototype.W=function(){var a=this.m_bodyA,b=this.m_bodyB,c=a.m_sweep.c,d=a.m_sweep.a,e=b.m_sweep.c,f=b.m_sweep.a,g,h,k,l,n=0,p=0;k=!1;var u=0,r=Dg(d),x=Dg(f);g=r;var p=this.m_localAnchor1.x-this.m_localCenterA.x,v=this.m_localAnchor1.y-this.m_localCenterA.y;h=g.col1.x*p+g.col2.x*v;v=g.col1.y*p+g.col2.y*v;p=h;g=x;x=this.m_localAnchor2.x-this.m_localCenterB.x;l=this.m_localAnchor2.y-this.m_localCenterB.y;h=g.col1.x*x+g.col2.x*l;l=g.col1.y*x+g.col2.y*l;x=h;g=e.x+x-c.x-p;h=e.y+l-c.y-v;if(this.va){this.m_axis=
Lg(r,this.m_localXAxis1);this.J=(g+p)*this.m_axis.y-(h+v)*this.m_axis.x;this.L=x*this.m_axis.y-l*this.m_axis.x;var B=this.m_axis.x*g+this.m_axis.y*h;.01>Rg(this.ya-this.xa)?(u=Xg(B,-.2,.2),n=Rg(B),k=!0):B<=this.xa?(u=Xg(B-this.xa+.005,-.2,0),n=this.xa-B,k=!0):B>=this.ya&&(u=Xg(B-this.ya+.005,0,.2),n=B-this.ya,k=!0)}this.u=Lg(r,this.Nb);this.N=(g+p)*this.u.y-(h+v)*this.u.x;this.O=x*this.u.y-l*this.u.x;r=new qi;v=this.u.x*g+this.u.y*h;x=f-d-this.cm;n=Vg(n,Rg(v));p=Rg(x);k?(k=this.m_invMassA,l=this.m_invMassB,
g=this.m_invIA,h=this.m_invIB,this.s.col1.x=k+l+g*this.N*this.N+h*this.O*this.O,this.s.col1.y=g*this.N+h*this.O,this.s.col1.z=g*this.N*this.J+h*this.O*this.L,this.s.col2.x=this.s.col1.y,this.s.col2.y=g+h,this.s.col2.z=g*this.J+h*this.L,this.s.col3.x=this.s.col1.z,this.s.col3.y=this.s.col2.z,this.s.col3.z=k+l+g*this.J*this.J+h*this.L*this.L,this.s.zc(r,-v,-x,-u)):(k=this.m_invMassA,l=this.m_invMassB,g=this.m_invIA,h=this.m_invIB,u=g*this.N+h*this.O,B=g+h,this.s.col1.Set(k+l+g*this.N*this.N+h*this.O*
this.O,u,0),this.s.col2.Set(u,B,0),u=this.s.dc(new A,-v,-x),r.x=u.x,r.y=u.y,r.z=0);u=r.x*this.u.x+r.z*this.m_axis.x;k=r.x*this.u.y+r.z*this.m_axis.y;v=r.x*this.N+r.y+r.z*this.J;r=r.x*this.O+r.y+r.z*this.L;c.x-=this.m_invMassA*u;c.y-=this.m_invMassA*k;d-=this.m_invIA*v;e.x+=this.m_invMassB*u;e.y+=this.m_invMassB*k;f+=this.m_invIB*r;a.m_sweep.a=d;b.m_sweep.a=f;a.V();b.V();return.005>=n&&p<=sg};I.prototype.SolvePositionConstraints=I.prototype.W;I.prototype.i={names:[{name:'b2PrismaticJoint',j:cc}]};
y(cc,I);function J(a){this.K=new C;this.eb=new C;this.fb=new C;this.td=new C;this.ka=new qi;this.lb=new A;this.zb=new A;this.m_localAnchor1=new A;this.m_localAnchor2=new A;this.h=new qi;this.m_mass=new ri;H.call(this,a);this.m_localAnchor1.l(a.localAnchorA);this.m_localAnchor2.l(a.localAnchorB);this.Nd=a.referenceAngle;this.h.o();this.B=0;this.Mc=a.lowerAngle;this.Od=a.upperAngle;this.Cf=a.maxMotorTorque;this.mb=a.motorSpeed;this.va=a.enableLimit;this.Na=a.enableMotor;this.C=0}dg(J,H);J.prototype.ha=function(){return this.m_bodyA.$(this.m_localAnchor1)};
J.prototype.GetAnchorA=J.prototype.ha;J.prototype.ia=function(){return this.m_bodyB.$(this.m_localAnchor2)};J.prototype.GetAnchorB=J.prototype.ia;J.prototype.la=function(a){return new A(a*this.h.x,a*this.h.y)};J.prototype.GetReactionForce=J.prototype.la;J.prototype.ma=function(a){return a*this.h.z};J.prototype.GetReactionTorque=J.prototype.ma;J.prototype.ed=function(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a-this.Nd};J.prototype.GetJointAngle=J.prototype.ed;
J.prototype.fd=function(){return this.m_bodyB.m_angularVelocity-this.m_bodyA.m_angularVelocity};J.prototype.GetJointSpeed=J.prototype.fd;J.prototype.pd=t(Sf);J.prototype.IsLimitEnabled=J.prototype.pd;J.prototype.Zc=q(Sf);J.prototype.EnableLimit=J.prototype.Zc;J.prototype.gd=t('Mc');J.prototype.GetLowerLimit=J.prototype.gd;J.prototype.ld=t('Od');J.prototype.GetUpperLimit=J.prototype.ld;J.prototype.vd=function(a,b){this.Mc=a;this.Od=b};J.prototype.SetLimits=J.prototype.vd;
J.prototype.qd=function(){this.m_bodyA.A(!0);this.m_bodyB.A(!0);return this.Na};J.prototype.IsMotorEnabled=J.prototype.qd;J.prototype.$c=q('Na');J.prototype.EnableMotor=J.prototype.$c;J.prototype.wd=function(a){this.m_bodyA.A(!0);this.m_bodyB.A(!0);this.mb=a};J.prototype.SetMotorSpeed=J.prototype.wd;J.prototype.hd=t('mb');J.prototype.GetMotorSpeed=J.prototype.hd;J.prototype.rk=q('Cf');J.prototype.SetMaxMotorTorque=J.prototype.rk;J.prototype.pj=t('Cf');J.prototype.GetMotorTorque=J.prototype.pj;
J.prototype.aa=function(a){var b=this.m_bodyA,c=this.m_bodyB,d,e;d=b.m_xf.R;var f=this.m_localAnchor1.x-b.m_sweep.localCenter.x,g=this.m_localAnchor1.y-b.m_sweep.localCenter.y;e=d.col1.x*f+d.col2.x*g;g=d.col1.y*f+d.col2.y*g;f=e;d=c.m_xf.R;var h=this.m_localAnchor2.x-c.m_sweep.localCenter.x,k=this.m_localAnchor2.y-c.m_sweep.localCenter.y;e=d.col1.x*h+d.col2.x*k;k=d.col1.y*h+d.col2.y*k;h=e;d=b.m_invMass;e=c.m_invMass;var l=b.m_invI,n=c.m_invI;this.m_mass.col1.x=d+e+g*g*l+k*k*n;this.m_mass.col2.x=-g*
f*l-k*h*n;this.m_mass.col3.x=-g*l-k*n;this.m_mass.col1.y=this.m_mass.col2.x;this.m_mass.col2.y=d+e+f*f*l+h*h*n;this.m_mass.col3.y=f*l+h*n;this.m_mass.col1.z=this.m_mass.col3.x;this.m_mass.col2.z=this.m_mass.col3.y;this.m_mass.col3.z=l+n;this.Aa=1/(l+n);0==this.Na&&(this.B=0);if(this.va){var p=c.m_sweep.a-b.m_sweep.a-this.Nd;Rg(this.Od-this.Mc)<2*sg?this.C=3:p<=this.Mc?(1!=this.C&&(this.h.z=0),this.C=1):p>=this.Od?(2!=this.C&&(this.h.z=0),this.C=2):(this.C=0,this.h.z=0)}else this.C=0;a.warmStarting?
(this.h.x*=a.dtRatio,this.h.y*=a.dtRatio,this.B*=a.dtRatio,a=this.h.x,p=this.h.y,b.m_linearVelocity.x-=d*a,b.m_linearVelocity.y-=d*p,b.m_angularVelocity-=l*(f*p-g*a+this.B+this.h.z),c.m_linearVelocity.x+=e*a,c.m_linearVelocity.y+=e*p,c.m_angularVelocity+=n*(h*p-k*a+this.B+this.h.z)):(this.h.o(),this.B=0)};J.prototype.InitVelocityConstraints=J.prototype.aa;
J.prototype.X=function(a){var b=this.m_bodyA,c=this.m_bodyB,d,e,f,g,h,k=b.m_linearVelocity,l=b.m_angularVelocity,n=c.m_linearVelocity,p=c.m_angularVelocity,u=b.m_invMass,r=c.m_invMass,x=b.m_invI,v=c.m_invI;this.Na&&3!=this.C&&(f=this.Aa*-(p-l-this.mb),g=this.B,a=a.dt*this.Cf,this.B=Xg(this.B+f,-a,a),f=this.B-g,l-=x*f,p+=v*f);if(this.va&&0!=this.C){d=b.m_xf.R;f=this.m_localAnchor1.x-b.m_sweep.localCenter.x;g=this.m_localAnchor1.y-b.m_sweep.localCenter.y;e=d.col1.x*f+d.col2.x*g;g=d.col1.y*f+d.col2.y*
g;f=e;d=c.m_xf.R;a=this.m_localAnchor2.x-c.m_sweep.localCenter.x;h=this.m_localAnchor2.y-c.m_sweep.localCenter.y;e=d.col1.x*a+d.col2.x*h;h=d.col1.y*a+d.col2.y*h;a=e;e=n.x+-p*h-k.x- -l*g;var B=n.y+p*a-k.y-l*f;this.m_mass.zc(this.ka,-e,-B,-(p-l));3==this.C?this.h.nb(this.ka):1==this.C?(d=this.h.z+this.ka.z,0>d&&(this.m_mass.dc(this.zb,-e,-B),this.ka.x=this.zb.x,this.ka.y=this.zb.y,this.ka.z=-this.h.z,this.h.x+=this.zb.x,this.h.y+=this.zb.y,this.h.z=0)):2==this.C&&(d=this.h.z+this.ka.z,0<d&&(this.m_mass.dc(this.zb,
-e,-B),this.ka.x=this.zb.x,this.ka.y=this.zb.y,this.ka.z=-this.h.z,this.h.x+=this.zb.x,this.h.y+=this.zb.y,this.h.z=0));k.x-=u*this.ka.x;k.y-=u*this.ka.y;l-=x*(f*this.ka.y-g*this.ka.x+this.ka.z);n.x+=r*this.ka.x;n.y+=r*this.ka.y;p+=v*(a*this.ka.y-h*this.ka.x+this.ka.z)}else d=b.m_xf.R,f=this.m_localAnchor1.x-b.m_sweep.localCenter.x,g=this.m_localAnchor1.y-b.m_sweep.localCenter.y,e=d.col1.x*f+d.col2.x*g,g=d.col1.y*f+d.col2.y*g,f=e,d=c.m_xf.R,a=this.m_localAnchor2.x-c.m_sweep.localCenter.x,h=this.m_localAnchor2.y-
c.m_sweep.localCenter.y,e=d.col1.x*a+d.col2.x*h,h=d.col1.y*a+d.col2.y*h,a=e,this.m_mass.dc(this.lb,-(n.x+-p*h-k.x- -l*g),-(n.y+p*a-k.y-l*f)),this.h.x+=this.lb.x,this.h.y+=this.lb.y,k.x-=u*this.lb.x,k.y-=u*this.lb.y,l-=x*(f*this.lb.y-g*this.lb.x),n.x+=r*this.lb.x,n.y+=r*this.lb.y,p+=v*(a*this.lb.y-h*this.lb.x);b.m_linearVelocity.l(k);b.m_angularVelocity=l;c.m_linearVelocity.l(n);c.m_angularVelocity=p};J.prototype.SolveVelocityConstraints=J.prototype.X;var si=new A;
J.prototype.W=function(){var a,b,c=this.m_bodyA,d=this.m_bodyB,e=0;b=0;var f,g,h;if(this.va&&0!=this.C){a=d.m_sweep.a-c.m_sweep.a-this.Nd;var k=0;3==this.C?(a=Xg(a-this.Mc,-tg,tg),k=-this.Aa*a,e=Rg(a)):1==this.C?(a-=this.Mc,e=-a,a=Xg(a+sg,-tg,0),k=-this.Aa*a):2==this.C&&(e=a-=this.Od,a=Xg(a-sg,0,tg),k=-this.Aa*a);c.m_sweep.a-=c.m_invI*k;d.m_sweep.a+=d.m_invI*k;c.V();d.V()}b=c.m_xf.R;k=this.m_localAnchor1.x-c.m_sweep.localCenter.x;a=this.m_localAnchor1.y-c.m_sweep.localCenter.y;f=b.col1.x*k+b.col2.x*
a;a=b.col1.y*k+b.col2.y*a;k=f;b=d.m_xf.R;var l=this.m_localAnchor2.x-d.m_sweep.localCenter.x,n=this.m_localAnchor2.y-d.m_sweep.localCenter.y;f=b.col1.x*l+b.col2.x*n;n=b.col1.y*l+b.col2.y*n;l=f;g=d.m_sweep.c.x+l-c.m_sweep.c.x-k;h=d.m_sweep.c.y+n-c.m_sweep.c.y-a;var p=g*g+h*h;b=Math.sqrt(p);f=c.m_invMass;var u=d.m_invMass,r=c.m_invI,x=d.m_invI;p>.05*.05&&(p=1/(f+u),g=p*-g,h=p*-h,c.m_sweep.c.x-=.5*f*g,c.m_sweep.c.y-=.5*f*h,d.m_sweep.c.x+=.5*u*g,d.m_sweep.c.y+=.5*u*h,g=d.m_sweep.c.x+l-c.m_sweep.c.x-k,
h=d.m_sweep.c.y+n-c.m_sweep.c.y-a);this.eb.col1.x=f+u;this.eb.col2.x=0;this.eb.col1.y=0;this.eb.col2.y=f+u;this.fb.col1.x=r*a*a;this.fb.col2.x=-r*k*a;this.fb.col1.y=-r*k*a;this.fb.col2.y=r*k*k;this.td.col1.x=x*n*n;this.td.col2.x=-x*l*n;this.td.col1.y=-x*l*n;this.td.col2.y=x*l*l;this.K.Eb(this.eb);this.K.wc(this.fb);this.K.wc(this.td);this.K.rb(si,-g,-h);g=si.x;h=si.y;c.m_sweep.c.x-=c.m_invMass*g;c.m_sweep.c.y-=c.m_invMass*h;c.m_sweep.a-=c.m_invI*(k*h-a*g);d.m_sweep.c.x+=d.m_invMass*g;d.m_sweep.c.y+=
d.m_invMass*h;d.m_sweep.a+=d.m_invI*(l*h-n*g);c.V();d.V();return.005>=b&&e<=sg};J.prototype.SolvePositionConstraints=J.prototype.W;J.prototype.i={names:[{name:'b2RevoluteJoint',j:gc}]};y(gc,J);function ti(a){this.Wa=new A;this.Xa=new A;this.m_localAnchor1=new A;this.m_localAnchor2=new A;this.S=new pi;H.call(this,a);var b=a.joint1.m_type,c=a.joint2.m_type;this.Pc=this.sc=this.Oc=this.rc=null;this.$l=a.joint1.m_bodyA;this.m_bodyA=a.joint1.m_bodyB;1==b?(this.rc=z(a.joint1,J),this.Wa.l(this.rc.m_localAnchor1),this.m_localAnchor1.l(this.rc.m_localAnchor2),b=this.rc.ed()):(this.Oc=z(a.joint1,I),this.Wa.l(this.Oc.m_localAnchor1),this.m_localAnchor1.l(this.Oc.m_localAnchor2),b=this.Oc.Yb());this.am=
a.joint2.m_bodyA;this.m_bodyB=a.joint2.m_bodyB;1==c?(this.sc=z(a.joint2,J),this.Xa.l(this.sc.m_localAnchor1),this.m_localAnchor2.l(this.sc.m_localAnchor2),c=this.sc.ed()):(this.Pc=z(a.joint2,I),this.Xa.l(this.Pc.m_localAnchor1),this.m_localAnchor2.l(this.Pc.m_localAnchor2),c=this.Pc.Yb());this.U=a.ratio;this.Lc=b+this.U*c;this.h=0}dg(ti,H);ti.prototype.ha=function(){return this.m_bodyA.$(this.m_localAnchor1)};ti.prototype.GetAnchorA=ti.prototype.ha;ti.prototype.ia=function(){return this.m_bodyB.$(this.m_localAnchor2)};
ti.prototype.GetAnchorB=ti.prototype.ia;ti.prototype.la=function(a){return new A(a*this.h*this.S.linearB.x,a*this.h*this.S.linearB.y)};ti.prototype.GetReactionForce=ti.prototype.la;ti.prototype.ma=function(a){var b=this.m_bodyB.m_xf.R,c=this.m_localAnchor1.x-this.m_bodyB.m_sweep.localCenter.x,d=this.m_localAnchor1.y-this.m_bodyB.m_sweep.localCenter.y,e=b.col1.x*c+b.col2.x*d,d=b.col1.y*c+b.col2.y*d;return a*(this.h*this.S.angularB-e*this.h*this.S.linearB.y+d*this.h*this.S.linearB.x)};
ti.prototype.GetReactionTorque=ti.prototype.ma;ti.prototype.Qe=t('U');ti.prototype.GetRatio=ti.prototype.Qe;ti.prototype.xk=q('U');ti.prototype.SetRatio=ti.prototype.xk;
ti.prototype.aa=function(a){var b=this.$l,c=this.am,d=this.m_bodyA,e=this.m_bodyB,f,g,h,k,l,n=0;this.S.o();this.rc?(this.S.angularA=-1,n+=d.m_invI):(k=b.m_xf.R,f=this.Oc.m_localXAxis1,b=k.col1.x*f.x+k.col2.x*f.y,f=k.col1.y*f.x+k.col2.y*f.y,k=d.m_xf.R,g=this.m_localAnchor1.x-d.m_sweep.localCenter.x,h=this.m_localAnchor1.y-d.m_sweep.localCenter.y,l=k.col1.x*g+k.col2.x*h,h=k.col1.y*g+k.col2.y*h,k=l*f-h*b,this.S.linearA.Set(-b,-f),this.S.angularA=-k,n+=d.m_invMass+d.m_invI*k*k);this.sc?(this.S.angularB=
-this.U,n+=this.U*this.U*e.m_invI):(k=c.m_xf.R,f=this.Pc.m_localXAxis1,b=k.col1.x*f.x+k.col2.x*f.y,f=k.col1.y*f.x+k.col2.y*f.y,k=e.m_xf.R,g=this.m_localAnchor2.x-e.m_sweep.localCenter.x,h=this.m_localAnchor2.y-e.m_sweep.localCenter.y,l=k.col1.x*g+k.col2.x*h,h=k.col1.y*g+k.col2.y*h,k=l*f-h*b,this.S.linearB.Set(-this.U*b,-this.U*f),this.S.angularB=-this.U*k,n+=this.U*this.U*(e.m_invMass+e.m_invI*k*k));this.m_mass=0<n?1/n:0;a.warmStarting?(d.m_linearVelocity.x+=d.m_invMass*this.h*this.S.linearA.x,d.m_linearVelocity.y+=
d.m_invMass*this.h*this.S.linearA.y,d.m_angularVelocity+=d.m_invI*this.h*this.S.angularA,e.m_linearVelocity.x+=e.m_invMass*this.h*this.S.linearB.x,e.m_linearVelocity.y+=e.m_invMass*this.h*this.S.linearB.y,e.m_angularVelocity+=e.m_invI*this.h*this.S.angularB):this.h=0};ti.prototype.InitVelocityConstraints=ti.prototype.aa;
ti.prototype.X=function(){var a=this.m_bodyA,b=this.m_bodyB,c=this.S.eg(a.m_linearVelocity,a.m_angularVelocity,b.m_linearVelocity,b.m_angularVelocity),c=-this.m_mass*c;this.h+=c;a.m_linearVelocity.x+=a.m_invMass*c*this.S.linearA.x;a.m_linearVelocity.y+=a.m_invMass*c*this.S.linearA.y;a.m_angularVelocity+=a.m_invI*c*this.S.angularA;b.m_linearVelocity.x+=b.m_invMass*c*this.S.linearB.x;b.m_linearVelocity.y+=b.m_invMass*c*this.S.linearB.y;b.m_angularVelocity+=b.m_invI*c*this.S.angularB};
ti.prototype.SolveVelocityConstraints=ti.prototype.X;
ti.prototype.W=function(){var a=this.m_bodyA,b=this.m_bodyB,c,d;c=this.rc?this.rc.ed():this.Oc.Yb();d=this.sc?this.sc.ed():this.Pc.Yb();c=-this.m_mass*(this.Lc-(c+this.U*d));a.m_sweep.c.x+=a.m_invMass*c*this.S.linearA.x;a.m_sweep.c.y+=a.m_invMass*c*this.S.linearA.y;a.m_sweep.a+=a.m_invI*c*this.S.angularA;b.m_sweep.c.x+=b.m_invMass*c*this.S.linearB.x;b.m_sweep.c.y+=b.m_invMass*c*this.S.linearB.y;b.m_sweep.a+=b.m_invI*c*this.S.angularB;a.V();b.V();return!0};ti.prototype.SolvePositionConstraints=ti.prototype.W;
ti.prototype.i={names:[{name:'b2GearJoint',j:Nb}]};y(Nb,ti);function ui(){li.call(this);this.type=6;this.joint2=this.joint1=null;this.ratio=1}dg(ui,li);ui.prototype.i={names:[{name:'b2GearJointDef',j:Ob}]};y(Ob,ui);function L(a){this.m_localAnchor1=new A;this.m_localAnchor2=new A;this.m_localXAxis1=new A;this.Nb=new A;this.m_axis=new A;this.u=new A;this.s=new C;this.h=new A;H.call(this,a);this.m_localAnchor1.l(a.localAnchorA);this.m_localAnchor2.l(a.localAnchorB);this.m_localXAxis1.l(a.localAxisA);this.Nb.x=-this.m_localXAxis1.y;this.Nb.y=this.m_localXAxis1.x;this.h.o();this.B=this.Aa=0;this.xa=a.lowerTranslation;this.ya=a.upperTranslation;this.Nc=a.maxMotorForce;this.mb=a.motorSpeed;this.va=a.enableLimit;this.Na=
a.enableMotor;this.C=0;this.m_axis.o();this.u.o()}dg(L,H);L.prototype.ha=function(){return this.m_bodyA.$(this.m_localAnchor1)};L.prototype.GetAnchorA=L.prototype.ha;L.prototype.ia=function(){return this.m_bodyB.$(this.m_localAnchor2)};L.prototype.GetAnchorB=L.prototype.ia;L.prototype.la=function(a){return new A(a*(this.h.x*this.u.x+(this.B+this.h.y)*this.m_axis.x),a*(this.h.x*this.u.y+(this.B+this.h.y)*this.m_axis.y))};L.prototype.GetReactionForce=L.prototype.la;
L.prototype.ma=function(a){return a*this.h.y};L.prototype.GetReactionTorque=L.prototype.ma;L.prototype.Yb=function(){var a=this.m_bodyA,b=this.m_bodyB,c=a.$(this.m_localAnchor1),d=b.$(this.m_localAnchor2),b=d.x-c.x,c=d.y-c.y,a=a.md(this.m_localXAxis1);return a.x*b+a.y*c};L.prototype.GetJointTranslation=L.prototype.Yb;
L.prototype.fd=function(){var a=this.m_bodyA,b=this.m_bodyB,c;c=a.m_xf.R;var d=this.m_localAnchor1.x-a.m_sweep.localCenter.x,e=this.m_localAnchor1.y-a.m_sweep.localCenter.y,f=c.col1.x*d+c.col2.x*e,e=c.col1.y*d+c.col2.y*e,d=f;c=b.m_xf.R;var g=this.m_localAnchor2.x-b.m_sweep.localCenter.x,h=this.m_localAnchor2.y-b.m_sweep.localCenter.y,f=c.col1.x*g+c.col2.x*h,h=c.col1.y*g+c.col2.y*h,g=f;c=b.m_sweep.c.x+g-(a.m_sweep.c.x+d);var f=b.m_sweep.c.y+h-(a.m_sweep.c.y+e),k=a.md(this.m_localXAxis1),l=a.m_linearVelocity,
n=b.m_linearVelocity,a=a.m_angularVelocity,b=b.m_angularVelocity;return c*-a*k.y+f*a*k.x+(k.x*(n.x+-b*h-l.x- -a*e)+k.y*(n.y+b*g-l.y-a*d))};L.prototype.GetJointSpeed=L.prototype.fd;L.prototype.pd=t(Sf);L.prototype.IsLimitEnabled=L.prototype.pd;L.prototype.Zc=function(a){this.m_bodyA.A(!0);this.m_bodyB.A(!0);this.va=a};L.prototype.EnableLimit=L.prototype.Zc;L.prototype.gd=t('xa');L.prototype.GetLowerLimit=L.prototype.gd;L.prototype.ld=t('ya');L.prototype.GetUpperLimit=L.prototype.ld;
L.prototype.vd=function(a,b){this.m_bodyA.A(!0);this.m_bodyB.A(!0);this.xa=a;this.ya=b};L.prototype.SetLimits=L.prototype.vd;L.prototype.qd=t('Na');L.prototype.IsMotorEnabled=L.prototype.qd;L.prototype.$c=function(a){this.m_bodyA.A(!0);this.m_bodyB.A(!0);this.Na=a};L.prototype.EnableMotor=L.prototype.$c;L.prototype.wd=function(a){this.m_bodyA.A(!0);this.m_bodyB.A(!0);this.mb=a};L.prototype.SetMotorSpeed=L.prototype.wd;L.prototype.hd=t('mb');L.prototype.GetMotorSpeed=L.prototype.hd;
L.prototype.Ze=function(a){this.m_bodyA.A(!0);this.m_bodyB.A(!0);this.Nc=a};L.prototype.SetMaxMotorForce=L.prototype.Ze;L.prototype.nj=t('Nc');L.prototype.GetMaxMotorForce=L.prototype.nj;L.prototype.Pe=t('B');L.prototype.GetMotorForce=L.prototype.Pe;
L.prototype.aa=function(a){var b=this.m_bodyA,c=this.m_bodyB,d,e;this.m_localCenterA.l(b.m_sweep.localCenter);this.m_localCenterB.l(c.m_sweep.localCenter);var f=b.ja();c.ja();d=b.m_xf.R;var g=this.m_localAnchor1.x-this.m_localCenterA.x,h=this.m_localAnchor1.y-this.m_localCenterA.y;e=d.col1.x*g+d.col2.x*h;h=d.col1.y*g+d.col2.y*h;g=e;d=c.m_xf.R;var k=this.m_localAnchor2.x-this.m_localCenterB.x,l=this.m_localAnchor2.y-this.m_localCenterB.y;e=d.col1.x*k+d.col2.x*l;l=d.col1.y*k+d.col2.y*l;k=e;d=c.m_sweep.c.x+
k-b.m_sweep.c.x-g;e=c.m_sweep.c.y+l-b.m_sweep.c.y-h;this.m_invMassA=b.m_invMass;this.m_invMassB=c.m_invMass;this.m_invIA=b.m_invI;this.m_invIB=c.m_invI;this.m_axis.l(Lg(f.R,this.m_localXAxis1));this.J=(d+g)*this.m_axis.y-(e+h)*this.m_axis.x;this.L=k*this.m_axis.y-l*this.m_axis.x;this.Aa=this.m_invMassA+this.m_invMassB+this.m_invIA*this.J*this.J+this.m_invIB*this.L*this.L;this.Aa=this.Aa>Number.MIN_VALUE?1/this.Aa:0;this.u.l(Lg(f.R,this.Nb));this.N=(d+g)*this.u.y-(e+h)*this.u.x;this.O=k*this.u.y-l*
this.u.x;f=this.m_invMassA;g=this.m_invMassB;h=this.m_invIA;k=this.m_invIB;this.s.col1.x=f+g+h*this.N*this.N+k*this.O*this.O;this.s.col1.y=h*this.N*this.J+k*this.O*this.L;this.s.col2.x=this.s.col1.y;this.s.col2.y=f+g+h*this.J*this.J+k*this.L*this.L;this.va?(d=this.m_axis.x*d+this.m_axis.y*e,.01>Rg(this.ya-this.xa)?this.C=3:d<=this.xa?1!=this.C&&(this.C=1,this.h.y=0):d>=this.ya?2!=this.C&&(this.C=2,this.h.y=0):(this.C=0,this.h.y=0)):this.C=0;0==this.Na&&(this.B=0);a.warmStarting?(this.h.x*=a.dtRatio,
this.h.y*=a.dtRatio,this.B*=a.dtRatio,a=this.h.x*this.u.x+(this.B+this.h.y)*this.m_axis.x,d=this.h.x*this.u.y+(this.B+this.h.y)*this.m_axis.y,e=this.h.x*this.N+(this.B+this.h.y)*this.J,f=this.h.x*this.O+(this.B+this.h.y)*this.L,b.m_linearVelocity.x-=this.m_invMassA*a,b.m_linearVelocity.y-=this.m_invMassA*d,b.m_angularVelocity-=this.m_invIA*e,c.m_linearVelocity.x+=this.m_invMassB*a,c.m_linearVelocity.y+=this.m_invMassB*d,c.m_angularVelocity+=this.m_invIB*f):(this.h.o(),this.B=0)};
L.prototype.InitVelocityConstraints=L.prototype.aa;
L.prototype.X=function(a){var b=this.m_bodyA,c=this.m_bodyB,d=b.m_linearVelocity,e=b.m_angularVelocity,f=c.m_linearVelocity,g=c.m_angularVelocity,h,k,l;this.Na&&3!=this.C&&(l=this.Aa*(this.mb-(this.m_axis.x*(f.x-d.x)+this.m_axis.y*(f.y-d.y)+this.L*g-this.J*e)),h=this.B,a=a.dt*this.Nc,this.B=Xg(this.B+l,-a,a),l=this.B-h,h=l*this.m_axis.x,a=l*this.m_axis.y,k=l*this.J,l*=this.L,d.x-=this.m_invMassA*h,d.y-=this.m_invMassA*a,e-=this.m_invIA*k,f.x+=this.m_invMassB*h,f.y+=this.m_invMassB*a,g+=this.m_invIB*
l);a=this.u.x*(f.x-d.x)+this.u.y*(f.y-d.y)+this.O*g-this.N*e;this.va&&0!=this.C?(k=this.m_axis.x*(f.x-d.x)+this.m_axis.y*(f.y-d.y)+this.L*g-this.J*e,h=this.h.G(),l=this.s.rb(new A,-a,-k),this.h.nb(l),1==this.C?this.h.y=Vg(this.h.y,0):2==this.C&&(this.h.y=Tg(this.h.y,0)),a=-a-(this.h.y-h.y)*this.s.col2.x,this.h.x=0!=this.s.col1.x?a/this.s.col1.x+h.x:h.x,l.x=this.h.x-h.x,l.y=this.h.y-h.y,h=l.x*this.u.x+l.y*this.m_axis.x,a=l.x*this.u.y+l.y*this.m_axis.y,k=l.x*this.N+l.y*this.J,l=l.x*this.O+l.y*this.L):
(l=0!=this.s.col1.x?-a/this.s.col1.x:0,this.h.x+=l,h=l*this.u.x,a=l*this.u.y,k=l*this.N,l*=this.O);d.x-=this.m_invMassA*h;d.y-=this.m_invMassA*a;e-=this.m_invIA*k;f.x+=this.m_invMassB*h;f.y+=this.m_invMassB*a;g+=this.m_invIB*l;b.m_linearVelocity.l(d);b.m_angularVelocity=e;c.m_linearVelocity.l(f);c.m_angularVelocity=g};L.prototype.SolveVelocityConstraints=L.prototype.X;
L.prototype.W=function(){var a=this.m_bodyA,b=this.m_bodyB,c=a.m_sweep.c,d=a.m_sweep.a,e=b.m_sweep.c,f=b.m_sweep.a,g,h,k,l,n,p=0,u=0;k=!1;var r=0,x=Dg(d);l=Dg(f);g=x;var u=this.m_localAnchor1.x-this.m_localCenterA.x,v=this.m_localAnchor1.y-this.m_localCenterA.y;h=g.col1.x*u+g.col2.x*v;v=g.col1.y*u+g.col2.y*v;u=h;g=l;l=this.m_localAnchor2.x-this.m_localCenterB.x;n=this.m_localAnchor2.y-this.m_localCenterB.y;h=g.col1.x*l+g.col2.x*n;n=g.col1.y*l+g.col2.y*n;l=h;g=e.x+l-c.x-u;h=e.y+n-c.y-v;if(this.va){this.m_axis=
Lg(x,this.m_localXAxis1);this.J=(g+u)*this.m_axis.y-(h+v)*this.m_axis.x;this.L=l*this.m_axis.y-n*this.m_axis.x;var B=this.m_axis.x*g+this.m_axis.y*h;.01>Rg(this.ya-this.xa)?(r=Xg(B,-.2,.2),p=Rg(B),k=!0):B<=this.xa?(r=Xg(B-this.xa+.005,-.2,0),p=this.xa-B,k=!0):B>=this.ya&&(r=Xg(B-this.ya+.005,0,.2),p=B-this.ya,k=!0)}this.u=Lg(x,this.Nb);this.N=(g+u)*this.u.y-(h+v)*this.u.x;this.O=l*this.u.y-n*this.u.x;x=new A;v=this.u.x*g+this.u.y*h;p=Vg(p,Rg(v));u=0;k?(k=this.m_invMassA,l=this.m_invMassB,n=this.m_invIA,
g=this.m_invIB,this.s.col1.x=k+l+n*this.N*this.N+g*this.O*this.O,this.s.col1.y=n*this.N*this.J+g*this.O*this.L,this.s.col2.x=this.s.col1.y,this.s.col2.y=k+l+n*this.J*this.J+g*this.L*this.L,this.s.rb(x,-v,-r)):(k=this.m_invMassA,l=this.m_invMassB,n=this.m_invIA,g=this.m_invIB,r=k+l+n*this.N*this.N+g*this.O*this.O,x.x=0!=r?-v/r:0,x.y=0);r=x.x*this.u.x+x.y*this.m_axis.x;k=x.x*this.u.y+x.y*this.m_axis.y;v=x.x*this.N+x.y*this.J;x=x.x*this.O+x.y*this.L;c.x-=this.m_invMassA*r;c.y-=this.m_invMassA*k;d-=this.m_invIA*
v;e.x+=this.m_invMassB*r;e.y+=this.m_invMassB*k;f+=this.m_invIB*x;a.m_sweep.a=d;b.m_sweep.a=f;a.V();b.V();return.005>=p&&u<=sg};L.prototype.SolvePositionConstraints=L.prototype.W;L.prototype.i={names:[{name:'b2LineJoint',j:Zb}]};y(Zb,L);function vi(){li.call(this);this.localAnchorA=new A;this.localAnchorB=new A;this.localAxisA=new A;this.type=7;this.localAxisA.Set(1,0);this.enableLimit=!1;this.upperTranslation=this.lowerTranslation=0;this.enableMotor=!1;this.motorSpeed=this.maxMotorForce=0}dg(vi,li);vi.prototype.H=function(a,b,c,d){this.bodyA=a;this.bodyB=b;this.localAnchorA=this.bodyA.Ca(c);this.localAnchorB=this.bodyB.Ca(c);this.localAxisA=this.bodyA.Me(d)};vi.prototype.Initialize=vi.prototype.H;
vi.prototype.i={names:[{name:'b2LineJointDef',j:$b}]};y($b,vi);function M(a){this.K=new C;this.eb=new C;this.fb=new C;this.nc=new A;this.Wb=new A;this.h=new A;this.m_mass=new C;this.re=new A;H.call(this,a);this.Wb.l(a.target);var b=this.Wb.x-this.m_bodyB.m_xf.position.x,c=this.Wb.y-this.m_bodyB.m_xf.position.y,d=this.m_bodyB.m_xf.R;this.nc.x=b*d.col1.x+c*d.col1.y;this.nc.y=b*d.col2.x+c*d.col2.y;this.oc=a.maxForce;this.h.o();this.Lb=a.frequencyHz;this.lc=a.dampingRatio;this.wa=this.uf=0}dg(M,H);M.prototype.ha=t('Wb');M.prototype.GetAnchorA=M.prototype.ha;
M.prototype.ia=function(){return this.m_bodyB.$(this.nc)};M.prototype.GetAnchorB=M.prototype.ia;M.prototype.la=function(a){return new A(a*this.h.x,a*this.h.y)};M.prototype.GetReactionForce=M.prototype.la;M.prototype.ma=w(0);M.prototype.GetReactionTorque=M.prototype.ma;M.prototype.zj=t('Wb');M.prototype.GetTarget=M.prototype.zj;M.prototype.Ak=function(a){0==this.m_bodyB.Da()&&this.m_bodyB.A(!0);this.Wb=a};M.prototype.SetTarget=M.prototype.Ak;M.prototype.Ne=t('oc');M.prototype.GetMaxForce=M.prototype.Ne;
M.prototype.Ye=q('oc');M.prototype.SetMaxForce=M.prototype.Ye;M.prototype.Je=t('Lb');M.prototype.GetFrequency=M.prototype.Je;M.prototype.We=q('Lb');M.prototype.SetFrequency=M.prototype.We;M.prototype.He=t('lc');M.prototype.GetDampingRatio=M.prototype.He;M.prototype.Ue=q('lc');M.prototype.SetDampingRatio=M.prototype.Ue;
M.prototype.aa=function(a){var b=this.m_bodyB,c=b.m_mass,d=2*Math.PI*this.Lb,e=c*d*d;this.wa=a.dt*(2*c*this.lc*d+a.dt*e);this.wa=0!=this.wa?1/this.wa:0;this.uf=a.dt*e*this.wa;var e=b.m_xf.R,c=this.nc.x-b.m_sweep.localCenter.x,d=this.nc.y-b.m_sweep.localCenter.y,f=e.col1.x*c+e.col2.x*d,d=e.col1.y*c+e.col2.y*d,c=f,e=b.m_invMass,f=b.m_invI;this.eb.col1.x=e;this.eb.col2.x=0;this.eb.col1.y=0;this.eb.col2.y=e;this.fb.col1.x=f*d*d;this.fb.col2.x=-f*c*d;this.fb.col1.y=-f*c*d;this.fb.col2.y=f*c*c;this.K.Eb(this.eb);
this.K.wc(this.fb);this.K.col1.x+=this.wa;this.K.col2.y+=this.wa;this.K.Xd(this.m_mass);this.re.x=b.m_sweep.c.x+c-this.Wb.x;this.re.y=b.m_sweep.c.y+d-this.Wb.y;b.m_angularVelocity*=.98;this.h.x*=a.dtRatio;this.h.y*=a.dtRatio;b.m_linearVelocity.x+=e*this.h.x;b.m_linearVelocity.y+=e*this.h.y;b.m_angularVelocity+=f*(c*this.h.y-d*this.h.x)};M.prototype.InitVelocityConstraints=M.prototype.aa;
M.prototype.X=function(a){var b=this.m_bodyB,c,d,e;c=b.m_xf.R;var f=this.nc.x-b.m_sweep.localCenter.x,g=this.nc.y-b.m_sweep.localCenter.y;d=c.col1.x*f+c.col2.x*g;g=c.col1.y*f+c.col2.y*g;f=d;d=b.m_linearVelocity.x+-b.m_angularVelocity*g;var h=b.m_linearVelocity.y+b.m_angularVelocity*f;c=this.m_mass;d=d+this.uf*this.re.x+this.wa*this.h.x;e=h+this.uf*this.re.y+this.wa*this.h.y;h=-(c.col1.x*d+c.col2.x*e);e=-(c.col1.y*d+c.col2.y*e);c=this.h.x;d=this.h.y;this.h.x+=h;this.h.y+=e;a=a.dt*this.oc;this.h.bc()>
a*a&&this.h.Sa(a/this.h.qb());h=this.h.x-c;e=this.h.y-d;b.m_linearVelocity.x+=b.m_invMass*h;b.m_linearVelocity.y+=b.m_invMass*e;b.m_angularVelocity+=b.m_invI*(f*e-g*h)};M.prototype.SolveVelocityConstraints=M.prototype.X;M.prototype.W=w(!0);M.prototype.SolvePositionConstraints=M.prototype.W;M.prototype.i={names:[{name:'b2MouseJoint',j:ac}]};y(ac,M);function wi(){li.call(this);this.target=new A;this.type=5;this.maxForce=0;this.frequencyHz=5;this.dampingRatio=.7}dg(wi,li);wi.prototype.i={names:[{name:'b2MouseJointDef',j:bc}]};y(bc,wi);function xi(){li.call(this);this.localAnchorA=new A;this.localAnchorB=new A;this.localAxisA=new A;this.type=2;this.localAxisA.Set(1,0);this.referenceAngle=0;this.enableLimit=!1;this.upperTranslation=this.lowerTranslation=0;this.enableMotor=!1;this.motorSpeed=this.maxMotorForce=0}dg(xi,li);xi.prototype.H=function(a,b,c,d){this.bodyA=a;this.bodyB=b;this.localAnchorA=this.bodyA.Ca(c);this.localAnchorB=this.bodyB.Ca(c);this.localAxisA=this.bodyA.Me(d);this.referenceAngle=this.bodyB.Ma()-this.bodyA.Ma()};
xi.prototype.Initialize=xi.prototype.H;xi.prototype.i={names:[{name:'b2PrismaticJointDef',j:dc}]};y(dc,xi);function yi(a){this.Wa=new A;this.Xa=new A;this.m_localAnchor1=new A;this.m_localAnchor2=new A;this.T=new A;this.M=new A;H.call(this,a);this.ta=this.m_bodyA.m_world.m_groundBody;this.Wa.x=a.groundAnchorA.x-this.ta.m_xf.position.x;this.Wa.y=a.groundAnchorA.y-this.ta.m_xf.position.y;this.Xa.x=a.groundAnchorB.x-this.ta.m_xf.position.x;this.Xa.y=a.groundAnchorB.y-this.ta.m_xf.position.y;this.m_localAnchor1.l(a.localAnchorA);this.m_localAnchor2.l(a.localAnchorB);this.U=a.ratio;this.Lc=a.lengthA+this.U*
a.lengthB;this.Eh=Tg(a.maxLengthA,this.Lc-2*this.U);this.Fh=Tg(a.maxLengthB,(this.Lc-2)/this.U);this.wb=this.vb=this.h=0}dg(yi,H);yi.prototype.ha=function(){return this.m_bodyA.$(this.m_localAnchor1)};yi.prototype.GetAnchorA=yi.prototype.ha;yi.prototype.ia=function(){return this.m_bodyB.$(this.m_localAnchor2)};yi.prototype.GetAnchorB=yi.prototype.ia;yi.prototype.la=function(a){return new A(a*this.h*this.M.x,a*this.h*this.M.y)};yi.prototype.GetReactionForce=yi.prototype.la;yi.prototype.ma=w(0);
yi.prototype.GetReactionTorque=yi.prototype.ma;yi.prototype.pg=function(){var a=this.ta.m_xf.position.G();a.nb(this.Wa);return a};yi.prototype.GetGroundAnchorA=yi.prototype.pg;yi.prototype.qg=function(){var a=this.ta.m_xf.position.G();a.nb(this.Xa);return a};yi.prototype.GetGroundAnchorB=yi.prototype.qg;yi.prototype.cj=function(){var a=this.m_bodyA.$(this.m_localAnchor1),b=a.x-(this.ta.m_xf.position.x+this.Wa.x),a=a.y-(this.ta.m_xf.position.y+this.Wa.y);return Math.sqrt(b*b+a*a)};
yi.prototype.GetLength1=yi.prototype.cj;yi.prototype.dj=function(){var a=this.m_bodyB.$(this.m_localAnchor2),b=a.x-(this.ta.m_xf.position.x+this.Xa.x),a=a.y-(this.ta.m_xf.position.y+this.Xa.y);return Math.sqrt(b*b+a*a)};yi.prototype.GetLength2=yi.prototype.dj;yi.prototype.Qe=t('U');yi.prototype.GetRatio=yi.prototype.Qe;
yi.prototype.aa=function(a){var b=this.m_bodyA,c=this.m_bodyB,d;d=b.m_xf.R;var e=this.m_localAnchor1.x-b.m_sweep.localCenter.x,f=this.m_localAnchor1.y-b.m_sweep.localCenter.y,g=d.col1.x*e+d.col2.x*f,f=d.col1.y*e+d.col2.y*f,e=g;d=c.m_xf.R;var h=this.m_localAnchor2.x-c.m_sweep.localCenter.x,k=this.m_localAnchor2.y-c.m_sweep.localCenter.y,g=d.col1.x*h+d.col2.x*k,k=d.col1.y*h+d.col2.y*k,h=g;d=c.m_sweep.c.x+h;var g=c.m_sweep.c.y+k,l=this.ta.m_xf.position.x+this.Xa.x,n=this.ta.m_xf.position.y+this.Xa.y;
this.T.Set(b.m_sweep.c.x+e-(this.ta.m_xf.position.x+this.Wa.x),b.m_sweep.c.y+f-(this.ta.m_xf.position.y+this.Wa.y));this.M.Set(d-l,g-n);d=this.T.qb();g=this.M.qb();.005<d?this.T.Sa(1/d):this.T.o();.005<g?this.M.Sa(1/g):this.M.o();0<this.Lc-d-this.U*g?this.h=this.If=0:this.If=2;d<this.Eh?this.vb=this.Af=0:this.Af=2;g<this.Fh?this.wb=this.Bf=0:this.Bf=2;d=e*this.T.y-f*this.T.x;g=h*this.M.y-k*this.M.x;this.Kd=b.m_invMass+b.m_invI*d*d;this.Ld=c.m_invMass+c.m_invI*g*g;this.te=this.Kd+this.U*this.U*this.Ld;
this.Kd=1/this.Kd;this.Ld=1/this.Ld;this.te=1/this.te;a.warmStarting?(this.h*=a.dtRatio,this.vb*=a.dtRatio,this.wb*=a.dtRatio,a=(-this.h-this.vb)*this.T.x,d=(-this.h-this.vb)*this.T.y,g=(-this.U*this.h-this.wb)*this.M.x,l=(-this.U*this.h-this.wb)*this.M.y,b.m_linearVelocity.x+=b.m_invMass*a,b.m_linearVelocity.y+=b.m_invMass*d,b.m_angularVelocity+=b.m_invI*(e*d-f*a),c.m_linearVelocity.x+=c.m_invMass*g,c.m_linearVelocity.y+=c.m_invMass*l,c.m_angularVelocity+=c.m_invI*(h*l-k*g)):this.wb=this.vb=this.h=
0};yi.prototype.InitVelocityConstraints=yi.prototype.aa;
yi.prototype.X=function(){var a=this.m_bodyA,b=this.m_bodyB,c;c=a.m_xf.R;var d=this.m_localAnchor1.x-a.m_sweep.localCenter.x,e=this.m_localAnchor1.y-a.m_sweep.localCenter.y,f=c.col1.x*d+c.col2.x*e,e=c.col1.y*d+c.col2.y*e,d=f;c=b.m_xf.R;var g=this.m_localAnchor2.x-b.m_sweep.localCenter.x,h=this.m_localAnchor2.y-b.m_sweep.localCenter.y,f=c.col1.x*g+c.col2.x*h,h=c.col1.y*g+c.col2.y*h,g=f,k,l;2==this.If&&(c=a.m_linearVelocity.x+-a.m_angularVelocity*e,f=a.m_linearVelocity.y+a.m_angularVelocity*d,k=b.m_linearVelocity.x+
-b.m_angularVelocity*h,l=b.m_linearVelocity.y+b.m_angularVelocity*g,c=-(this.T.x*c+this.T.y*f)-this.U*(this.M.x*k+this.M.y*l),l=this.te*-c,c=this.h,this.h=Vg(0,this.h+l),l=this.h-c,c=-l*this.T.x,f=-l*this.T.y,k=-this.U*l*this.M.x,l=-this.U*l*this.M.y,a.m_linearVelocity.x+=a.m_invMass*c,a.m_linearVelocity.y+=a.m_invMass*f,a.m_angularVelocity+=a.m_invI*(d*f-e*c),b.m_linearVelocity.x+=b.m_invMass*k,b.m_linearVelocity.y+=b.m_invMass*l,b.m_angularVelocity+=b.m_invI*(g*l-h*k));2==this.Af&&(c=a.m_linearVelocity.x+
-a.m_angularVelocity*e,f=a.m_linearVelocity.y+a.m_angularVelocity*d,c=-(this.T.x*c+this.T.y*f),l=-this.Kd*c,c=this.vb,this.vb=Vg(0,this.vb+l),l=this.vb-c,c=-l*this.T.x,f=-l*this.T.y,a.m_linearVelocity.x+=a.m_invMass*c,a.m_linearVelocity.y+=a.m_invMass*f,a.m_angularVelocity+=a.m_invI*(d*f-e*c));2==this.Bf&&(k=b.m_linearVelocity.x+-b.m_angularVelocity*h,l=b.m_linearVelocity.y+b.m_angularVelocity*g,c=-(this.M.x*k+this.M.y*l),l=-this.Ld*c,c=this.wb,this.wb=Vg(0,this.wb+l),l=this.wb-c,k=-l*this.M.x,l=
-l*this.M.y,b.m_linearVelocity.x+=b.m_invMass*k,b.m_linearVelocity.y+=b.m_invMass*l,b.m_angularVelocity+=b.m_invI*(g*l-h*k))};yi.prototype.SolveVelocityConstraints=yi.prototype.X;
yi.prototype.W=function(){var a=this.m_bodyA,b=this.m_bodyB,c,d=this.ta.m_xf.position.x+this.Wa.x,e=this.ta.m_xf.position.y+this.Wa.y,f=this.ta.m_xf.position.x+this.Xa.x,g=this.ta.m_xf.position.y+this.Xa.y,h,k,l,n,p,u,r,x=0;2==this.If&&(c=a.m_xf.R,h=this.m_localAnchor1.x-a.m_sweep.localCenter.x,k=this.m_localAnchor1.y-a.m_sweep.localCenter.y,p=c.col1.x*h+c.col2.x*k,k=c.col1.y*h+c.col2.y*k,h=p,c=b.m_xf.R,l=this.m_localAnchor2.x-b.m_sweep.localCenter.x,n=this.m_localAnchor2.y-b.m_sweep.localCenter.y,
p=c.col1.x*l+c.col2.x*n,n=c.col1.y*l+c.col2.y*n,l=p,c=a.m_sweep.c.x+h,p=a.m_sweep.c.y+k,u=b.m_sweep.c.x+l,r=b.m_sweep.c.y+n,this.T.Set(c-d,p-e),this.M.Set(u-f,r-g),c=this.T.qb(),p=this.M.qb(),.005<c?this.T.Sa(1/c):this.T.o(),.005<p?this.M.Sa(1/p):this.M.o(),c=this.Lc-c-this.U*p,x=Vg(x,-c),c=Xg(c+.005,-.2,0),r=-this.te*c,c=-r*this.T.x,p=-r*this.T.y,u=-this.U*r*this.M.x,r=-this.U*r*this.M.y,a.m_sweep.c.x+=a.m_invMass*c,a.m_sweep.c.y+=a.m_invMass*p,a.m_sweep.a+=a.m_invI*(h*p-k*c),b.m_sweep.c.x+=b.m_invMass*
u,b.m_sweep.c.y+=b.m_invMass*r,b.m_sweep.a+=b.m_invI*(l*r-n*u),a.V(),b.V());2==this.Af&&(c=a.m_xf.R,h=this.m_localAnchor1.x-a.m_sweep.localCenter.x,k=this.m_localAnchor1.y-a.m_sweep.localCenter.y,p=c.col1.x*h+c.col2.x*k,k=c.col1.y*h+c.col2.y*k,h=p,c=a.m_sweep.c.x+h,p=a.m_sweep.c.y+k,this.T.Set(c-d,p-e),c=this.T.qb(),.005<c?(this.T.x*=1/c,this.T.y*=1/c):this.T.o(),c=this.Eh-c,x=Vg(x,-c),c=Xg(c+.005,-.2,0),r=-this.Kd*c,c=-r*this.T.x,p=-r*this.T.y,a.m_sweep.c.x+=a.m_invMass*c,a.m_sweep.c.y+=a.m_invMass*
p,a.m_sweep.a+=a.m_invI*(h*p-k*c),a.V());2==this.Bf&&(c=b.m_xf.R,l=this.m_localAnchor2.x-b.m_sweep.localCenter.x,n=this.m_localAnchor2.y-b.m_sweep.localCenter.y,p=c.col1.x*l+c.col2.x*n,n=c.col1.y*l+c.col2.y*n,l=p,u=b.m_sweep.c.x+l,r=b.m_sweep.c.y+n,this.M.Set(u-f,r-g),p=this.M.qb(),.005<p?(this.M.x*=1/p,this.M.y*=1/p):this.M.o(),c=this.Fh-p,x=Vg(x,-c),c=Xg(c+.005,-.2,0),r=-this.Ld*c,u=-r*this.M.x,r=-r*this.M.y,b.m_sweep.c.x+=b.m_invMass*u,b.m_sweep.c.y+=b.m_invMass*r,b.m_sweep.a+=b.m_invI*(l*r-n*
u),b.V());return.005>x};yi.prototype.SolvePositionConstraints=yi.prototype.W;y('Box2D.Dynamics.Joints.b2PulleyJoint.b2_minPulleyLength',2);yi.prototype.i={names:[{name:'b2PulleyJoint',j:ec}]};y(ec,yi);function zi(){li.call(this);this.groundAnchorA=new A;this.groundAnchorB=new A;this.localAnchorA=new A;this.localAnchorB=new A;this.type=4;this.groundAnchorA.Set(-1,1);this.groundAnchorB.Set(1,1);this.localAnchorA.Set(-1,0);this.localAnchorB.Set(1,0);this.maxLengthB=this.lengthB=this.maxLengthA=this.lengthA=0;this.ratio=1;this.collideConnected=!0}dg(zi,li);
zi.prototype.H=function(a,b,c,d,e,f,g){this.bodyA=a;this.bodyB=b;this.groundAnchorA.l(c);this.groundAnchorB.l(d);this.localAnchorA=this.bodyA.Ca(e);this.localAnchorB=this.bodyB.Ca(f);a=e.x-c.x;c=e.y-c.y;this.lengthA=Math.sqrt(a*a+c*c);c=f.x-d.x;d=f.y-d.y;this.lengthB=Math.sqrt(c*c+d*d);this.ratio=g;g=this.lengthA+this.ratio*this.lengthB;this.maxLengthA=g-2*this.ratio;this.maxLengthB=(g-2)/this.ratio};zi.prototype.Initialize=zi.prototype.H;zi.prototype.i={names:[{name:'b2PulleyJointDef',j:fc}]};
y(fc,zi);function Ai(){li.call(this);this.localAnchorA=new A;this.localAnchorB=new A;this.type=1;this.localAnchorA.Set(0,0);this.localAnchorB.Set(0,0);this.motorSpeed=this.maxMotorTorque=this.upperAngle=this.lowerAngle=this.referenceAngle=0;this.enableMotor=this.enableLimit=!1}dg(Ai,li);Ai.prototype.H=function(a,b,c){this.bodyA=a;this.bodyB=b;this.localAnchorA=this.bodyA.Ca(c);this.localAnchorB=this.bodyB.Ca(c);this.referenceAngle=this.bodyB.Ma()-this.bodyA.Ma()};Ai.prototype.Initialize=Ai.prototype.H;
Ai.prototype.i={names:[{name:'b2RevoluteJointDef',j:hc}]};y(hc,Ai);function Bi(a){this.Ha=new A;this.Ia=new A;this.h=new qi;this.m_mass=new ri;H.call(this,a);this.Ha.l(a.localAnchorA);this.Ia.l(a.localAnchorB);this.Nd=a.referenceAngle;this.h.o();this.m_mass=new ri}dg(Bi,H);Bi.prototype.ha=function(){return this.m_bodyA.$(this.Ha)};Bi.prototype.GetAnchorA=Bi.prototype.ha;Bi.prototype.ia=function(){return this.m_bodyB.$(this.Ia)};Bi.prototype.GetAnchorB=Bi.prototype.ia;Bi.prototype.la=function(a){return new A(a*this.h.x,a*this.h.y)};Bi.prototype.GetReactionForce=Bi.prototype.la;
Bi.prototype.ma=function(a){return a*this.h.z};Bi.prototype.GetReactionTorque=Bi.prototype.ma;
Bi.prototype.aa=function(a){var b,c,d=this.m_bodyA,e=this.m_bodyB;b=d.m_xf.R;var f=this.Ha.x-d.m_sweep.localCenter.x,g=this.Ha.y-d.m_sweep.localCenter.y;c=b.col1.x*f+b.col2.x*g;g=b.col1.y*f+b.col2.y*g;f=c;b=e.m_xf.R;var h=this.Ia.x-e.m_sweep.localCenter.x,k=this.Ia.y-e.m_sweep.localCenter.y;c=b.col1.x*h+b.col2.x*k;k=b.col1.y*h+b.col2.y*k;h=c;b=d.m_invMass;c=e.m_invMass;var l=d.m_invI,n=e.m_invI;this.m_mass.col1.x=b+c+g*g*l+k*k*n;this.m_mass.col2.x=-g*f*l-k*h*n;this.m_mass.col3.x=-g*l-k*n;this.m_mass.col1.y=
this.m_mass.col2.x;this.m_mass.col2.y=b+c+f*f*l+h*h*n;this.m_mass.col3.y=f*l+h*n;this.m_mass.col1.z=this.m_mass.col3.x;this.m_mass.col2.z=this.m_mass.col3.y;this.m_mass.col3.z=l+n;a.warmStarting?(this.h.x*=a.dtRatio,this.h.y*=a.dtRatio,this.h.z*=a.dtRatio,d.m_linearVelocity.x-=b*this.h.x,d.m_linearVelocity.y-=b*this.h.y,d.m_angularVelocity-=l*(f*this.h.y-g*this.h.x+this.h.z),e.m_linearVelocity.x+=c*this.h.x,e.m_linearVelocity.y+=c*this.h.y,e.m_angularVelocity+=n*(h*this.h.y-k*this.h.x+this.h.z)):
this.h.o()};Bi.prototype.InitVelocityConstraints=Bi.prototype.aa;
Bi.prototype.X=function(){var a,b,c=this.m_bodyA,d=this.m_bodyB,e=c.m_linearVelocity,f=c.m_angularVelocity,g=d.m_linearVelocity,h=d.m_angularVelocity,k=c.m_invMass,l=d.m_invMass,n=c.m_invI,p=d.m_invI;a=c.m_xf.R;var u=this.Ha.x-c.m_sweep.localCenter.x,r=this.Ha.y-c.m_sweep.localCenter.y;b=a.col1.x*u+a.col2.x*r;r=a.col1.y*u+a.col2.y*r;u=b;a=d.m_xf.R;var x=this.Ia.x-d.m_sweep.localCenter.x,v=this.Ia.y-d.m_sweep.localCenter.y;b=a.col1.x*x+a.col2.x*v;v=a.col1.y*x+a.col2.y*v;x=b;a=new qi;this.m_mass.zc(a,
-(g.x-h*v-e.x+f*r),-(g.y+h*x-e.y-f*u),-(h-f));this.h.nb(a);e.x-=k*a.x;e.y-=k*a.y;f-=n*(u*a.y-r*a.x+a.z);g.x+=l*a.x;g.y+=l*a.y;h+=p*(x*a.y-v*a.x+a.z);c.m_angularVelocity=f;d.m_angularVelocity=h};Bi.prototype.SolveVelocityConstraints=Bi.prototype.X;
Bi.prototype.W=function(){var a,b,c=this.m_bodyA,d=this.m_bodyB;a=c.m_xf.R;var e=this.Ha.x-c.m_sweep.localCenter.x,f=this.Ha.y-c.m_sweep.localCenter.y;b=a.col1.x*e+a.col2.x*f;f=a.col1.y*e+a.col2.y*f;e=b;a=d.m_xf.R;var g=this.Ia.x-d.m_sweep.localCenter.x,h=this.Ia.y-d.m_sweep.localCenter.y;b=a.col1.x*g+a.col2.x*h;h=a.col1.y*g+a.col2.y*h;g=b;a=c.m_invMass;b=d.m_invMass;var k=c.m_invI,l=d.m_invI,n=d.m_sweep.c.x+g-c.m_sweep.c.x-e,p=d.m_sweep.c.y+h-c.m_sweep.c.y-f,u=d.m_sweep.a-c.m_sweep.a-this.Nd,r=Math.sqrt(n*
n+p*p),x=Rg(u);.05<r&&(k*=1,l*=1);this.m_mass.col1.x=a+b+f*f*k+h*h*l;this.m_mass.col2.x=-f*e*k-h*g*l;this.m_mass.col3.x=-f*k-h*l;this.m_mass.col1.y=this.m_mass.col2.x;this.m_mass.col2.y=a+b+e*e*k+g*g*l;this.m_mass.col3.y=e*k+g*l;this.m_mass.col1.z=this.m_mass.col3.x;this.m_mass.col2.z=this.m_mass.col3.y;this.m_mass.col3.z=k+l;var v=new qi;this.m_mass.zc(v,-n,-p,-u);c.m_sweep.c.x-=a*v.x;c.m_sweep.c.y-=a*v.y;c.m_sweep.a-=k*(e*v.y-f*v.x+v.z);d.m_sweep.c.x+=b*v.x;d.m_sweep.c.y+=b*v.y;d.m_sweep.a+=l*(g*
v.y-h*v.x+v.z);c.V();d.V();return.005>=r&&x<=sg};Bi.prototype.SolvePositionConstraints=Bi.prototype.W;Bi.prototype.i={names:[{name:'b2WeldJoint',j:ic}]};y(ic,Bi);function Ci(){li.call(this);this.localAnchorA=new A;this.localAnchorB=new A;this.type=8;this.referenceAngle=0}dg(Ci,li);Ci.prototype.H=function(a,b,c){this.bodyA=a;this.bodyB=b;this.localAnchorA.l(this.bodyA.Ca(c));this.localAnchorB.l(this.bodyB.Ca(c));this.referenceAngle=this.bodyB.Ma()-this.bodyA.Ma()};Ci.prototype.Initialize=Ci.prototype.H;Ci.prototype.i={names:[{name:'b2WeldJointDef',j:jc}]};y(jc,Ci);function Di(){}y('Box2D.Dynamics.Joints.b2JointUtil.e_unknownJoint',0);y('Box2D.Dynamics.Joints.b2JointUtil.e_revoluteJoint',1);y('Box2D.Dynamics.Joints.b2JointUtil.e_prismaticJoint',2);y('Box2D.Dynamics.Joints.b2JointUtil.e_distanceJoint',3);y('Box2D.Dynamics.Joints.b2JointUtil.e_pulleyJoint',4);y('Box2D.Dynamics.Joints.b2JointUtil.e_mouseJoint',5);y('Box2D.Dynamics.Joints.b2JointUtil.e_gearJoint',6);y('Box2D.Dynamics.Joints.b2JointUtil.e_lineJoint',7);
y('Box2D.Dynamics.Joints.b2JointUtil.e_weldJoint',8);y('Box2D.Dynamics.Joints.b2JointUtil.e_frictionJoint',9);function Ei(a){var b=null;switch(a.type){case 3:b=new ki(z(a,mi));break;case 5:b=new M(z(a,wi));break;case 2:b=new I(z(a,xi));break;case 1:b=new J(z(a,Ai));break;case 4:b=new yi(z(a,zi));break;case 6:b=new ti(z(a,ui));break;case 7:b=new L(z(a,vi));break;case 8:b=new Bi(z(a,Ci));break;case 9:b=new ni(z(a,oi))}return b}y('Box2D.Dynamics.Joints.b2JointUtil.Create',Ei);
Di.prototype.i={names:[{name:'b2JointUtil',j:Tb}]};y(Tb,Di);function Fi(){this.position=new A;this.velocity=new A;this.normal=new A;this.id=new Eh}Fi.prototype.i={names:[{name:'b2ContactPoint',j:Ta}]};y(Ta,Fi);function Gi(){this.aabb=new hh}Gi.prototype.ac=function(){return null==this.child1};Gi.prototype.IsLeaf=Gi.prototype.ac;Gi.prototype.i={names:[{name:'b2DynamicTreeNode',j:$a}]};y($a,Gi);function Hi(){this.Kb=this.Oa=null;this.Gh=0}Hi.prototype.$a=function(a,b){var c=Ii(this);c.aabb.lowerBound.x=a.lowerBound.x-.1;c.aabb.lowerBound.y=a.lowerBound.y-.1;c.aabb.upperBound.x=a.upperBound.x+.1;c.aabb.upperBound.y=a.upperBound.y+.1;c.userData=b;Ji(this,c);return c};Hi.prototype.CreateProxy=Hi.prototype.$a;Hi.prototype.ab=function(a){Ki(this,a);a.parent=this.Kb;this.Kb=a};Hi.prototype.DestroyProxy=Hi.prototype.ab;
Hi.prototype.yc=function(a,b,c){zg(a.ac());if(a.aabb.Vd(b))return!1;Ki(this,a);var d=.1+2*(0<c.x?c.x:-c.x);c=.1+2*(0<c.y?c.y:-c.y);a.aabb.lowerBound.x=b.lowerBound.x-d;a.aabb.lowerBound.y=b.lowerBound.y-c;a.aabb.upperBound.x=b.upperBound.x+d;a.aabb.upperBound.y=b.upperBound.y+c;Ji(this,a);return!0};Hi.prototype.MoveProxy=Hi.prototype.yc;
Hi.prototype.ud=function(a){if(null!=this.Oa)for(var b=0;b<a;b++){for(var c=this.Oa,d=0;0==c.ac();)c=this.Gh>>d&1?c.child2:c.child1,d=d+1&31;++this.Gh;Ki(this,c);Ji(this,c)}};Hi.prototype.Rebalance=Hi.prototype.ud;Hi.prototype.pb=function(a){return a.aabb};Hi.prototype.GetFatAABB=Hi.prototype.pb;Hi.prototype.qa=function(a){return a.userData};Hi.prototype.GetUserData=Hi.prototype.qa;
Hi.prototype.Db=function(a,b){if(null!=this.Oa){var c=[],d=0;for(c[d++]=this.Oa;0<d;){var e=c[--d];if(e.aabb.Fb(b))if(e.ac()){if(!a(e))break}else c[d++]=e.child1,c[d++]=e.child2}}};Hi.prototype.Query=Hi.prototype.Db;
Hi.prototype.ba=function(a,b){if(null!=this.Oa){var c=b.p1,d=b.p2,e=Pg(c,d);e.ra();var e=Kg(1,e),f=Sg(e),g=b.maxFraction,h=new hh,k;k=c.x+g*(d.x-c.x);g=c.y+g*(d.y-c.y);h.lowerBound.x=Math.min(c.x,k);h.lowerBound.y=Math.min(c.y,g);h.upperBound.x=Math.max(c.x,k);h.upperBound.y=Math.max(c.y,g);var l=[],n=0;for(l[n++]=this.Oa;0<n;)if(k=l[--n],0!=k.aabb.Fb(h)){var g=k.aabb.dd(),p=k.aabb.og();if(!(0<Math.abs(e.x*(c.x-g.x)+e.y*(c.y-g.y))-f.x*p.x-f.y*p.y))if(k.ac()){g=new Ah;g.p1=b.p1;g.p2=b.p2;g.maxFraction=
b.maxFraction;g=a(g,k);if(0==g)break;k=c.x+g*(d.x-c.x);g=c.y+g*(d.y-c.y);h.lowerBound.x=Math.min(c.x,k);h.lowerBound.y=Math.min(c.y,g);h.upperBound.x=Math.max(c.x,k);h.upperBound.y=Math.max(c.y,g)}else l[n++]=k.child1,l[n++]=k.child2}}};Hi.prototype.RayCast=Hi.prototype.ba;function Ii(a){if(a.Kb){var b=a.Kb;a.Kb=b.parent;b.parent=null;b.child1=null;b.child2=null;return b}return new Gi}
function Ji(a,b){if(null==a.Oa)a.Oa=b,a.Oa.parent=null;else{var c=b.aabb.dd(),d=a.Oa;if(0==d.ac()){do var e=d.child1,d=d.child2,d=Math.abs((e.aabb.lowerBound.x+e.aabb.upperBound.x)/2-c.x)+Math.abs((e.aabb.lowerBound.y+e.aabb.upperBound.y)/2-c.y)<Math.abs((d.aabb.lowerBound.x+d.aabb.upperBound.x)/2-c.x)+Math.abs((d.aabb.lowerBound.y+d.aabb.upperBound.y)/2-c.y)?e:d;while(0==d.ac())}c=d.parent;e=Ii(a);e.parent=c;e.userData=null;e.aabb.Wc(b.aabb,d.aabb);if(c){d.parent.child1==d?c.child1=e:c.child2=e;
e.child1=d;e.child2=b;d.parent=e;b.parent=e;do{if(c.aabb.Vd(e.aabb))break;c.aabb.Wc(c.child1.aabb,c.child2.aabb);e=c;c=c.parent}while(c)}else e.child1=d,e.child2=b,d.parent=e,b.parent=e,a.Oa=e}}
function Ki(a,b){if(b==a.Oa)a.Oa=null;else{var c=b.parent,d=c.parent,e;e=c.child1==b?c.child2:c.child1;if(d)for(d.child1==c?d.child1=e:d.child2=e,e.parent=d,c.parent=a.Kb,a.Kb=c;d;){c=d.aabb;d.aabb=ih(d.child1.aabb,d.child2.aabb);if(c.Vd(d.aabb))break;d=d.parent}else a.Oa=e,e.parent=null,c.parent=a.Kb,a.Kb=c}}Hi.prototype.i={names:[{name:'b2DynamicTree',j:Ya}]};y(Ya,Hi);function Li(){}Li.prototype.i={names:[{name:'b2DynamicTreePair',j:ab}]};y(ab,Li);function Mi(){}Zf=Mi.prototype;Zf.$a=m();Zf.ab=m();Zf.yc=m();Zf.Fb=m();Zf.qa=m();Zf.pb=m();Zf.jd=m();Zf.cf=m();Zf.Db=m();Zf.ba=m();Zf.Cc=m();Zf.ud=m();Zf.i={names:[{name:'IBroadPhase',j:'Box2D.Collision.IBroadPhase'}]};function Ni(){this.Pa=new Hi;this.Vb=[];this.Md=[]}Ni.prototype.$a=function(a,b){var c=this.Pa.$a(a,b);++this.Ff;return this.Vb[this.Vb.length]=c};Ni.prototype.CreateProxy=Ni.prototype.$a;Ni.prototype.ab=function(a){this.Vb.splice(this.Vb.indexOf(a),1);--this.Ff;this.Pa.ab(a)};Ni.prototype.DestroyProxy=Ni.prototype.ab;Ni.prototype.yc=function(a,b,c){this.Pa.yc(a,b,c)&&(this.Vb[this.Vb.length]=a)};Ni.prototype.MoveProxy=Ni.prototype.yc;
Ni.prototype.Fb=function(a,b){var c=this.Pa.pb(a),d=this.Pa.pb(b);return c.Fb(d)};Ni.prototype.TestOverlap=Ni.prototype.Fb;Ni.prototype.qa=function(a){return this.Pa.qa(a)};Ni.prototype.GetUserData=Ni.prototype.qa;Ni.prototype.pb=function(a){return this.Pa.pb(a)};Ni.prototype.GetFatAABB=Ni.prototype.pb;Ni.prototype.jd=t('Ff');Ni.prototype.GetProxyCount=Ni.prototype.jd;
Ni.prototype.cf=function(a){function b(a){if(a==this.we)return!0;this.pc==this.Md.length&&(this.Md[this.pc]=new Li);var b=this.Md[this.pc];a<this.we?(b.proxyA=a,b.proxyB=this.we):(b.proxyB=a,b.proxyA=this.we);++this.pc;return!0}this.pc=0;var c=this.Vb,d;for(d in c){var e=c[d];this.we=e;e=this.Pa.pb(e);this.Pa.Db(mg(b,this,yc),e)}for(c=this.Vb.length=0;c<this.pc;){d=this.Md[c];var e=this.Pa.qa(d.proxyA),f=this.Pa.qa(d.proxyB);a(e,f);for(++c;c<this.pc;){e=this.Md[c];if(e.proxyA!=d.proxyA||e.proxyB!=
d.proxyB)break;++c}}};Ni.prototype.UpdatePairs=Ni.prototype.cf;Ni.prototype.Db=function(a,b){this.Pa.Db(a,b)};Ni.prototype.Query=Ni.prototype.Db;Ni.prototype.ba=function(a,b){this.Pa.ba(a,b)};Ni.prototype.RayCast=Ni.prototype.ba;Ni.prototype.Cc=m();Ni.prototype.Validate=Ni.prototype.Cc;Ni.prototype.ud=function(a){this.Pa.ud(a)};Ni.prototype.Rebalance=Ni.prototype.ud;Ni.prototype.Ff=0;Ni.prototype.pc=0;Ni.prototype.i={names:[{name:'b2DynamicTreeBroadPhase',j:Za}],Ta:[Mi]};y(Za,Ni);function Oi(){this.v=new A;this.id=new Eh}Oi.prototype.Set=function(a){this.v.l(a.v);this.id.Set(a.id)};Oi.prototype.Set=Oi.prototype.Set;Oi.prototype.i={names:[{name:'ClipVertex',j:Ea}]};y(Ea,Oi);function Pi(){}y('Box2D.Collision.b2Collision.b2_nullFeature',255);function Qi(a,b,c,d){var e,f=0;e=b[0];var g=e.v;e=b[1];var h=e.v,k=c.x*g.x+c.y*g.y-d;e=c.x*h.x+c.y*h.y-d;0>=k&&a[f++].Set(b[0]);0>=e&&a[f++].Set(b[1]);0>k*e&&(c=k/(k-e),e=a[f],e=e.v,e.x=g.x+c*(h.x-g.x),e.y=g.y+c*(h.y-g.y),e=a[f],e.id=(0<k?b[0]:b[1]).id,++f);return f}y('Box2D.Collision.b2Collision.ClipSegmentToLine',Qi);
function Ri(a,b,c,d,e){var f=a.m_vertices;a=a.m_normals;var g=d.m_vertexCount,h=d.m_vertices,k,l;k=b.R;l=a[c];a=k.col1.x*l.x+k.col2.x*l.y;d=k.col1.y*l.x+k.col2.y*l.y;k=e.R;var n=k.col1.x*a+k.col1.y*d;k=k.col2.x*a+k.col2.y*d;for(var p=0,u=Number.MAX_VALUE,r=0;r<g;++r)l=h[r],l=l.x*n+l.y*k,l<u&&(u=l,p=r);l=f[c];k=b.R;c=b.position.x+(k.col1.x*l.x+k.col2.x*l.y);b=b.position.y+(k.col1.y*l.x+k.col2.y*l.y);l=h[p];k=e.R;f=e.position.x+(k.col1.x*l.x+k.col2.x*l.y);e=e.position.y+(k.col1.y*l.x+k.col2.y*l.y);
return(f-c)*a+(e-b)*d}y('Box2D.Collision.b2Collision.EdgeSeparation',Ri);
function Si(a,b,c,d,e){var f=b.m_vertexCount,g=b.m_normals,h,k;k=e.R;h=d.m_centroid;var l=e.position.x+(k.col1.x*h.x+k.col2.x*h.y),n=e.position.y+(k.col1.y*h.x+k.col2.y*h.y);k=c.R;h=b.m_centroid;l-=c.position.x+(k.col1.x*h.x+k.col2.x*h.y);n-=c.position.y+(k.col1.y*h.x+k.col2.y*h.y);k=l*c.R.col1.x+n*c.R.col1.y;for(var n=l*c.R.col2.x+n*c.R.col2.y,l=0,p=-Number.MAX_VALUE,u=0;u<f;++u)h=g[u],h=h.x*k+h.y*n,h>p&&(p=h,l=u);g=Ri(b,c,l,d,e);p=0<=l-1?l-1:f-1;k=Ri(b,c,p,d,e);u=l+1<f?l+1:0;n=Ri(b,c,u,d,e);if(k>
g&&k>n)h=-1;else if(n>g)h=1,p=u,k=n;else return a[0]=l,g;for(;;)if(l=-1==h?0<=p-1?p-1:f-1:p+1<f?p+1:0,g=Ri(b,c,l,d,e),g>k)p=l,k=g;else break;a[0]=p;return k}y('Box2D.Collision.b2Collision.FindMaxSeparation',Si);
function Ti(a,b,c,d,e,f){var g=b.m_normals,h=e.m_vertexCount;b=e.m_vertices;e=e.m_normals;var k;k=c.R;c=g[d];var g=k.col1.x*c.x+k.col2.x*c.y,l=k.col1.y*c.x+k.col2.y*c.y;k=f.R;c=k.col1.x*g+k.col1.y*l;l=k.col2.x*g+k.col2.y*l;g=c;k=0;for(var n=Number.MAX_VALUE,p=0;p<h;++p)c=e[p],c=g*c.x+l*c.y,c<n&&(n=c,k=p);e=k;g=e+1<h?e+1:0;h=a[0];c=b[e];k=f.R;h.v.x=f.position.x+(k.col1.x*c.x+k.col2.x*c.y);h.v.y=f.position.y+(k.col1.y*c.x+k.col2.y*c.y);h.id.features.referenceEdge=d;h.id.features.incidentEdge=e;h.id.features.incidentVertex=
0;h=a[1];c=b[g];k=f.R;h.v.x=f.position.x+(k.col1.x*c.x+k.col2.x*c.y);h.v.y=f.position.y+(k.col1.y*c.x+k.col2.y*c.y);h.id.features.referenceEdge=d;h.id.features.incidentEdge=g;h.id.features.incidentVertex=1}y('Box2D.Collision.b2Collision.FindIncidentEdge',Ti);function Ui(){var a=Array(2);a[0]=new Oi;a[1]=new Oi;return a}var Vi=Ui(),Wi=Ui(),Xi=Ui(),Yi=Array(1),Zi=Array(1),$i=new A,aj=new A,bj=new A,cj=new A,dj=new A,ej=new A,fj=new A,gj=new A;
function hj(a,b,c,d,e){var f;a.Y=0;var g=b.m_radius+d.m_radius,h;Yi[0]=0;var k=Si(Yi,b,c,d,e);h=Yi[0];if(!(k>g)){Zi[0]=0;var l=Si(Zi,d,e,b,c);f=Zi[0];if(!(l>g||(l>.98*k+.001?(k=d,d=b,b=e,e=f,a.m_type=4,h=1):(k=b,b=c,c=e,e=h,a.m_type=2,h=0),Ti(Vi,k,b,e,d,c),d=k.m_vertices,f=d[e],e=e+1<k.m_vertexCount?d[e+1>>0]:d[0],$i.Set(e.x-f.x,e.y-f.y),$i.ra(),aj.x=$i.y,aj.y=-$i.x,bj.Set(.5*(f.x+e.x),.5*(f.y+e.y)),k=b.R,dj.x=k.col1.x*$i.x+k.col2.x*$i.y,dj.y=k.col1.y*$i.x+k.col2.y*$i.y,ej.x=-dj.x,ej.y=-dj.y,cj.x=
dj.y,cj.y=-dj.x,fj.x=b.position.x+(k.col1.x*f.x+k.col2.x*f.y),fj.y=b.position.y+(k.col1.y*f.x+k.col2.y*f.y),gj.x=b.position.x+(k.col1.x*e.x+k.col2.x*e.y),gj.y=b.position.y+(k.col1.y*e.x+k.col2.y*e.y),b=cj.x*fj.x+cj.y*fj.y,k=dj.x*gj.x+dj.y*gj.y+g,f=Qi(Wi,Vi,ej,-dj.x*fj.x-dj.y*fj.y+g),2>f||(f=Qi(Xi,Wi,dj,k),2>f)))){a.m_localPlaneNormal.l(aj);a.m_localPoint.l(bj);for(d=e=0;2>d;++d)if(f=Xi[d],cj.x*f.v.x+cj.y*f.v.y-b<=g){var l=a.m_points[e],k=c.R,n=f.v.x-c.position.x,p=f.v.y-c.position.y;l.m_localPoint.x=
n*k.col1.x+p*k.col1.y;l.m_localPoint.y=n*k.col2.x+p*k.col2.y;l.m_id.Set(f.id);l.m_id.features.flip=h;++e}a.Y=e}}}y('Box2D.Collision.b2Collision.CollidePolygons',hj);
function ij(a,b,c,d,e){a.Y=0;var f,g;f=c.R;g=b.m_p;var h=c.position.x+(f.col1.x*g.x+f.col2.x*g.y);c=c.position.y+(f.col1.y*g.x+f.col2.y*g.y);f=e.R;g=d.m_p;h=e.position.x+(f.col1.x*g.x+f.col2.x*g.y)-h;e=e.position.y+(f.col1.y*g.x+f.col2.y*g.y)-c;f=b.m_radius+d.m_radius;h*h+e*e>f*f||(a.m_type=1,a.m_localPoint.l(b.m_p),a.m_localPlaneNormal.o(),a.Y=1,a.m_points[0].m_localPoint.l(d.m_p),a.m_points[0].m_id.key=0)}y('Box2D.Collision.b2Collision.CollideCircles',ij);
function jj(a,b,c,d,e){a.Y=0;var f,g,h,k;k=e.R;h=d.m_p;var l=e.position.y+(k.col1.y*h.x+k.col2.y*h.y);f=e.position.x+(k.col1.x*h.x+k.col2.x*h.y)-c.position.x;g=l-c.position.y;k=c.R;c=f*k.col1.x+g*k.col1.y;k=f*k.col2.x+g*k.col2.y;var n=0;e=-Number.MAX_VALUE;var l=b.m_radius+d.m_radius,p=b.m_vertexCount,u=b.m_vertices;b=b.m_normals;for(var r=0;r<p;++r){h=u[r];f=c-h.x;g=k-h.y;h=b[r];h=h.x*f+h.y*g;if(h>l)return;h>e&&(e=h,n=r)}h=n;f=u[h];p=u[h+1<p?h+1:0];e<Number.MIN_VALUE?(a.Y=1,a.m_type=2,a.m_localPlaneNormal.l(b[n]),
a.m_localPoint.x=.5*(f.x+p.x),a.m_localPoint.y=.5*(f.y+p.y),a.m_points[0].m_localPoint.l(d.m_p),a.m_points[0].m_id.key=0):(e=(c-p.x)*(f.x-p.x)+(k-p.y)*(f.y-p.y),0>=(c-f.x)*(p.x-f.x)+(k-f.y)*(p.y-f.y)?(c-f.x)*(c-f.x)+(k-f.y)*(k-f.y)>l*l||(a.Y=1,a.m_type=2,a.m_localPlaneNormal.x=c-f.x,a.m_localPlaneNormal.y=k-f.y,a.m_localPlaneNormal.ra(),a.m_localPoint.l(f),a.m_points[0].m_localPoint.l(d.m_p),a.m_points[0].m_id.key=0):0>=e?(c-p.x)*(c-p.x)+(k-p.y)*(k-p.y)>l*l||(a.Y=1,a.m_type=2,a.m_localPlaneNormal.x=
c-p.x,a.m_localPlaneNormal.y=k-p.y,a.m_localPlaneNormal.ra(),a.m_localPoint.l(p),a.m_points[0].m_localPoint.l(d.m_p),a.m_points[0].m_id.key=0):(n=.5*(f.x+p.x),f=.5*(f.y+p.y),e=(c-n)*b[h].x+(k-f)*b[h].y,e>l||(a.Y=1,a.m_type=2,a.m_localPlaneNormal.x=b[h].x,a.m_localPlaneNormal.y=b[h].y,a.m_localPlaneNormal.ra(),a.m_localPoint.Set(n,f),a.m_points[0].m_localPoint.l(d.m_p),a.m_points[0].m_id.key=0)))}y('Box2D.Collision.b2Collision.CollidePolygonAndCircle',jj);
y('Box2D.Collision.b2Collision.TestOverlap',function(a,b){var c=b.lowerBound,d=a.upperBound,e=c.x-d.x,f=c.y-d.y,c=a.lowerBound,d=b.upperBound,g=c.y-d.y;return 0<e||0<f||0<c.x-d.x||0<g?!1:!0});Pi.prototype.i={names:[{name:'b2Collision',j:Ra}]};y(Ra,Pi);function kj(){G.call(this)}dg(kj,G);function lj(){return new kj}y('Box2D.Dynamics.Contacts.b2CircleContact.Create',lj);function mj(){}y('Box2D.Dynamics.Contacts.b2CircleContact.Destroy',mj);kj.prototype.ua=function(){var a=this.m_fixtureA.m_body,b=this.m_fixtureB.m_body;ij(this.m_manifold,z(this.m_fixtureA.m_shape,ah),a.m_xf,z(this.m_fixtureB.m_shape,ah),b.m_xf)};kj.prototype.Evaluate=kj.prototype.ua;kj.prototype.i={names:[{name:'b2CircleContact',j:wb}]};y(wb,kj);function nj(){}nj.prototype.Mf=0;nj.prototype.poolCount=nj.prototype.Mf;nj.prototype.i={names:[{name:'b2ContactRegister',j:Cb}]};y(Cb,nj);function oj(){G.call(this)}dg(oj,G);function pj(){return new oj}y('Box2D.Dynamics.Contacts.b2EdgeAndCircleContact.Create',pj);function qj(){}y('Box2D.Dynamics.Contacts.b2EdgeAndCircleContact.Destroy',qj);oj.prototype.ua=function(){z(this.m_fixtureA.m_shape,F);z(this.m_fixtureB.m_shape,ah)};oj.prototype.Evaluate=oj.prototype.ua;oj.prototype.i={names:[{name:'b2EdgeAndCircleContact',j:Eb}]};y(Eb,oj);function rj(){G.call(this)}dg(rj,G);function sj(){return new rj}y('Box2D.Dynamics.Contacts.b2PolyAndCircleContact.Create',sj);function tj(){}y('Box2D.Dynamics.Contacts.b2PolyAndCircleContact.Destroy',tj);rj.prototype.za=function(a,b){a='undefined'!==typeof a?a:null;b='undefined'!==typeof b?b:null;rj.Ka.za.call(this,a,b);zg(1==a.D());zg(0==b.D())};rj.prototype.Reset=rj.prototype.za;
rj.prototype.ua=function(){var a=this.m_fixtureA.m_body,b=this.m_fixtureB.m_body;jj(this.m_manifold,z(this.m_fixtureA.m_shape,D),a.m_xf,z(this.m_fixtureB.m_shape,ah),b.m_xf)};rj.prototype.Evaluate=rj.prototype.ua;rj.prototype.i={names:[{name:'b2PolyAndCircleContact',j:Fb}]};y(Fb,rj);function uj(){G.call(this)}dg(uj,G);function vj(){return new uj}y('Box2D.Dynamics.Contacts.b2PolyAndEdgeContact.Create',vj);function wj(){}y('Box2D.Dynamics.Contacts.b2PolyAndEdgeContact.Destroy',wj);uj.prototype.za=function(a,b){a='undefined'!==typeof a?a:null;b='undefined'!==typeof b?b:null;uj.Ka.za.call(this,a,b);zg(1==a.D());zg(2==b.D())};uj.prototype.Reset=uj.prototype.za;uj.prototype.ua=function(){z(this.m_fixtureA.m_shape,D);z(this.m_fixtureB.m_shape,F)};uj.prototype.Evaluate=uj.prototype.ua;
uj.prototype.i={names:[{name:'b2PolyAndEdgeContact',j:Gb}]};y(Gb,uj);function xj(){G.call(this)}dg(xj,G);function yj(){return new xj}y('Box2D.Dynamics.Contacts.b2PolygonContact.Create',yj);function zj(){}y('Box2D.Dynamics.Contacts.b2PolygonContact.Destroy',zj);xj.prototype.ua=function(){var a=this.m_fixtureA.m_body,b=this.m_fixtureB.m_body;hj(this.m_manifold,z(this.m_fixtureA.m_shape,D),a.m_xf,z(this.m_fixtureB.m_shape,D),b.m_xf)};xj.prototype.Evaluate=xj.prototype.ua;xj.prototype.i={names:[{name:'b2PolygonContact',j:Hb}]};y(Hb,xj);function Aj(a){this.m_allocator=a;this.tg()}Aj.prototype.xc=function(a,b,c,d){this.xb[c][d].createFcn=a;this.xb[c][d].destroyFcn=b;this.xb[c][d].primary=!0;c!=d&&(this.xb[d][c].createFcn=a,this.xb[d][c].destroyFcn=b,this.xb[d][c].primary=!1)};Aj.prototype.AddType=Aj.prototype.xc;Aj.prototype.tg=function(){this.xb=Array(3);for(var a=0;3>a;a++){this.xb[a]=Array(3);for(var b=0;3>b;b++)this.xb[a][b]=new nj}this.xc(lj,mj,0,0);this.xc(sj,tj,1,0);this.xc(yj,zj,1,1);this.xc(pj,qj,2,0);this.xc(vj,wj,1,2)};
Aj.prototype.InitializeRegisters=Aj.prototype.tg;Aj.prototype.Xc=function(a,b){var c=a.D(),d=b.D(),c=this.xb[c][d];if(c.pool)return d=c.pool,c.pool=d.m_next,c.Mf--,d.za(a,b),d;d=c.createFcn;return null!=d?(c.primary?(d=d(this.m_allocator),d.za(a,b)):(d=d(this.m_allocator),d.za(b,a)),d):null};Aj.prototype.Create=Aj.prototype.Xc;
Aj.prototype.La=function(a){0<a.m_manifold.Y&&(a.m_fixtureA.m_body.A(!0),a.m_fixtureB.m_body.A(!0));var b=a.m_fixtureA.D(),c=a.m_fixtureB.D(),b=this.xb[b][c];b.Mf++;a.m_next=b.pool;b.pool=a;b=b.destroyFcn;b(a,this.m_allocator)};Aj.prototype.Destroy=Aj.prototype.La;Aj.prototype.i={names:[{name:'b2ContactFactory',j:Bb}]};y(Bb,Aj);function Bj(){}Bj.prototype.Sb=function(a,b){var c=a.Ie(),d=b.Ie();return c.Ub==d.Ub&&0!=c.Ub?0<c.Ub:0!=(c.Rc&d.Fc)&&0!=(c.Fc&d.Rc)};Bj.prototype.ShouldCollide=Bj.prototype.Sb;Bj.prototype.Vj=function(a,b){return a?this.Sb(z(a,E),b):!0};Bj.prototype.RayCollide=Bj.prototype.Vj;var Cj=new Bj;y('Box2D.Dynamics.b2ContactFilter.b2_defaultFilter',Cj);Bj.prototype.i={names:[{name:'b2ContactFilter',j:mc}]};y(mc,Bj);function Dj(){}Dj.prototype.ki=m();Dj.prototype.BeginContact=Dj.prototype.ki;Dj.prototype.zi=m();Dj.prototype.EndContact=Dj.prototype.zi;Dj.prototype.Pj=m();Dj.prototype.PreSolve=Dj.prototype.Pj;Dj.prototype.Oj=m();Dj.prototype.PostSolve=Dj.prototype.Oj;var Ej=new Dj;y('Box2D.Dynamics.b2ContactListener.b2_defaultListener',Ej);Dj.prototype.i={names:[{name:'b2ContactListener',j:oc}]};y(oc,Dj);function Fj(){this.m_world=null;this.m_contactCount=0;this.m_contactFilter=Cj;this.m_contactListener=Ej;this.m_contactFactory=new Aj(this.m_allocator);this.m_broadPhase=new Ni}
Fj.prototype.cg=function(a,b){var c=z(a,E),d=z(b,E),e=c.m_body,f=d.m_body;if(e!=f){for(var g=f.m_contactList;g;){if(g.other==e){var h=g.contact.m_fixtureA,k=g.contact.m_fixtureB;if(h==c&&k==d||h==d&&k==c)return}g=g.next}0!=f.Sb(e)&&0!=this.m_contactFilter.Sb(c,d)&&(g=this.m_contactFactory.Xc(c,d),c=g.m_fixtureA,d=g.m_fixtureB,e=c.m_body,f=d.m_body,g.m_prev=null,g.m_next=this.m_world.m_contactList,null!=this.m_world.m_contactList&&(this.m_world.m_contactList.m_prev=g),this.m_world.m_contactList=g,
g.m_nodeA.contact=g,g.m_nodeA.other=f,g.m_nodeA.prev=null,g.m_nodeA.next=e.m_contactList,null!=e.m_contactList&&(e.m_contactList.prev=g.m_nodeA),e.m_contactList=g.m_nodeA,g.m_nodeB.contact=g,g.m_nodeB.other=e,g.m_nodeB.prev=null,g.m_nodeB.next=f.m_contactList,null!=f.m_contactList&&(f.m_contactList.prev=g.m_nodeB),f.m_contactList=g.m_nodeB,++this.m_world.m_contactCount)}};Fj.prototype.AddPair=Fj.prototype.cg;Fj.prototype.bd=function(){this.m_broadPhase.cf(mg(this.cg,this,Da))};
Fj.prototype.FindNewContacts=Fj.prototype.bd;new Fi;
Fj.prototype.La=function(a){var b=a.m_fixtureA.m_body,c=a.m_fixtureB.m_body;a.rd();a.m_prev&&(a.m_prev.m_next=a.m_next);a.m_next&&(a.m_next.m_prev=a.m_prev);a==this.m_world.m_contactList&&(this.m_world.m_contactList=a.m_next);a.m_nodeA.prev&&(a.m_nodeA.prev.next=a.m_nodeA.next);a.m_nodeA.next&&(a.m_nodeA.next.prev=a.m_nodeA.prev);a.m_nodeA==b.m_contactList&&(b.m_contactList=a.m_nodeA.next);a.m_nodeB.prev&&(a.m_nodeB.prev.next=a.m_nodeB.next);a.m_nodeB.next&&(a.m_nodeB.next.prev=a.m_nodeB.prev);a.m_nodeB==
c.m_contactList&&(c.m_contactList=a.m_nodeB.next);this.m_contactFactory.La(a);--this.m_contactCount};Fj.prototype.Destroy=Fj.prototype.La;
Fj.prototype.dg=function(){for(var a=this.m_world.m_contactList;a;){var b=a.m_fixtureA,c=a.m_fixtureB,d=b.m_body,e=c.m_body;if(0==d.Da()&&0==e.Da())a=a.m_next;else{if(a.m_flags&Zh){if(0==e.Sb(d)){b=a;a=b.m_next;this.La(b);continue}if(0==this.m_contactFilter.Sb(b,c)){b=a;a=b.m_next;this.La(b);continue}a.m_flags&=~Zh}0==this.m_broadPhase.Fb(b.m_proxy,c.m_proxy)?(b=a,a=b.m_next,this.La(b)):(a.Bc(this.m_contactListener),a=a.m_next)}}};Fj.prototype.Collide=Fj.prototype.dg;
Fj.prototype.i={names:[{name:'b2ContactManager',j:pc}]};y(pc,Fj);function N(){this.mc=0}y('Box2D.Dynamics.b2DebugDraw.e_shapeBit',1);y('Box2D.Dynamics.b2DebugDraw.e_jointBit',2);y('Box2D.Dynamics.b2DebugDraw.e_aabbBit',4);y('Box2D.Dynamics.b2DebugDraw.e_pairBit',8);y('Box2D.Dynamics.b2DebugDraw.e_centerOfMassBit',16);y('Box2D.Dynamics.b2DebugDraw.e_controllerBit',32);N.prototype.Ve=q('mc');N.prototype.SetFlags=N.prototype.Ve;N.prototype.Xi=t('mc');N.prototype.GetFlags=N.prototype.Xi;N.prototype.gi=function(a){this.mc|=a};N.prototype.AppendFlags=N.prototype.gi;
N.prototype.li=function(a){this.mc&=~a};N.prototype.ClearFlags=N.prototype.li;N.prototype.Dg=q('m_sprite');N.prototype.SetSprite=N.prototype.Dg;N.prototype.yj=t('m_sprite');N.prototype.GetSprite=N.prototype.yj;N.prototype.Ag=q('F');N.prototype.SetDrawScale=N.prototype.Ag;N.prototype.Ri=t('F');N.prototype.GetDrawScale=N.prototype.Ri;N.prototype.Cg=q('Mb');N.prototype.SetLineThickness=N.prototype.Cg;N.prototype.ej=t('Mb');N.prototype.GetLineThickness=N.prototype.ej;N.prototype.Yj=q('Jb');
N.prototype.SetAlpha=N.prototype.Yj;N.prototype.Bi=t('Jb');N.prototype.GetAlpha=N.prototype.Bi;N.prototype.Bg=q('se');N.prototype.SetFillAlpha=N.prototype.Bg;N.prototype.Si=t('se');N.prototype.GetFillAlpha=N.prototype.Si;N.prototype.Fk=q('Qc');N.prototype.SetXFormScale=N.prototype.Fk;N.prototype.Gj=t('Qc');N.prototype.GetXFormScale=N.prototype.Gj;
N.prototype.ig=function(a,b,c){this.m_sprite.graphics.Va(this.Mb,c.color,this.Jb);this.m_sprite.graphics.moveTo(a[0].x*this.F,a[0].y*this.F);for(c=1;c<b;c++)this.m_sprite.graphics.lineTo(a[c].x*this.F,a[c].y*this.F);this.m_sprite.graphics.lineTo(a[0].x*this.F,a[0].y*this.F)};N.prototype.DrawPolygon=N.prototype.ig;
N.prototype.lg=function(a,b,c){this.m_sprite.graphics.Va(this.Mb,c.color,this.Jb);this.m_sprite.graphics.moveTo(a[0].x*this.F,a[0].y*this.F);this.m_sprite.graphics.je(c.color,this.se);for(c=1;c<b;c++)this.m_sprite.graphics.lineTo(a[c].x*this.F,a[c].y*this.F);this.m_sprite.graphics.lineTo(a[0].x*this.F,a[0].y*this.F);this.m_sprite.graphics.Ed()};N.prototype.DrawSolidPolygon=N.prototype.lg;
N.prototype.yi=function(a,b,c){this.m_sprite.graphics.Va(this.Mb,c.color,this.Jb);this.m_sprite.graphics.qf(a.x*this.F,a.y*this.F,b*this.F)};N.prototype.DrawCircle=N.prototype.yi;
N.prototype.kg=function(a,b,c,d){this.m_sprite.graphics.Va(this.Mb,d.color,this.Jb);this.m_sprite.graphics.moveTo(0,0);this.m_sprite.graphics.je(d.color,this.se);this.m_sprite.graphics.qf(a.x*this.F,a.y*this.F,b*this.F);this.m_sprite.graphics.Ed();this.m_sprite.graphics.moveTo(a.x*this.F,a.y*this.F);this.m_sprite.graphics.lineTo((a.x+c.x*b)*this.F,(a.y+c.y*b)*this.F)};N.prototype.DrawSolidCircle=N.prototype.kg;
N.prototype.bb=function(a,b,c){this.m_sprite.graphics.Va(this.Mb,c.color,this.Jb);this.m_sprite.graphics.moveTo(a.x*this.F,a.y*this.F);this.m_sprite.graphics.lineTo(b.x*this.F,b.y*this.F)};N.prototype.DrawSegment=N.prototype.bb;
N.prototype.mg=function(a){this.m_sprite.graphics.Va(this.Mb,16711680,this.Jb);this.m_sprite.graphics.moveTo(a.position.x*this.F,a.position.y*this.F);this.m_sprite.graphics.lineTo((a.position.x+this.Qc*a.R.col1.x)*this.F,(a.position.y+this.Qc*a.R.col1.y)*this.F);this.m_sprite.graphics.Va(this.Mb,65280,this.Jb);this.m_sprite.graphics.moveTo(a.position.x*this.F,a.position.y*this.F);this.m_sprite.graphics.lineTo((a.position.x+this.Qc*a.R.col2.x)*this.F,(a.position.y+this.Qc*a.R.col2.y)*this.F)};
N.prototype.DrawTransform=N.prototype.mg;Zf=N.prototype;Zf.F=1;Zf.Mb=1;Zf.Jb=1;Zf.se=1;Zf.Qc=1;Zf.i={names:[{name:'b2DebugDraw',j:qc}]};y(qc,N);function Gj(){this.normalImpulses=Array(2);this.tangentImpulses=Array(2)}Gj.prototype.i={names:[{name:'b2ContactImpulse',j:nc}]};y(nc,Gj);function Hj(){this.m_bodies=[];this.m_contacts=[];this.m_joints=[]}Hj.prototype.H=function(a,b,c,d,e,f){this.m_contactCapacity=b;this.m_jointCapacity=c;this.m_jointCount=this.m_contactCount=this.m_bodyCount=0;this.m_allocator=d;this.bm=e;this.jc=f;for(d=this.m_bodies.length;d<a;d++)this.m_bodies[d]=null;for(d=this.m_contacts.length;d<b;d++)this.m_contacts[d]=null;for(d=this.m_joints.length;d<c;d++)this.m_joints[d]=null};Hj.prototype.Initialize=Hj.prototype.H;
Hj.prototype.Ud=function(){this.m_jointCount=this.m_contactCount=this.m_bodyCount=0};Hj.prototype.Clear=Hj.prototype.Ud;
Hj.prototype.rb=function(a,b,c){var d,e,f;for(d=0;d<this.m_bodyCount;++d)e=this.m_bodies[d],e.D()==$h&&(e.m_linearVelocity.x+=a.dt*(b.x+e.m_invMass*e.m_force.x),e.m_linearVelocity.y+=a.dt*(b.y+e.m_invMass*e.m_force.y),e.m_angularVelocity+=a.dt*e.m_invI*e.m_torque,e.m_linearVelocity.Sa(Xg(1-a.dt*e.m_linearDamping,0,1)),e.m_angularVelocity*=Xg(1-a.dt*e.m_angularDamping,0,1));this.jc.H(a,this.m_contacts,this.m_contactCount,this.m_allocator);b=this.jc;b.aa(a);for(d=0;d<this.m_jointCount;++d)f=this.m_joints[d],
f.aa(a);for(d=0;d<a.velocityIterations;++d){for(e=0;e<this.m_jointCount;++e)f=this.m_joints[e],f.X(a);b.X()}for(d=0;d<this.m_jointCount;++d)f=this.m_joints[d],f.ad();b.ad();for(d=0;d<this.m_bodyCount;++d)if(e=this.m_bodies[d],e.D()!=gh){var g=a.dt*e.m_linearVelocity.x,h=a.dt*e.m_linearVelocity.y;4<g*g+h*h&&(e.m_linearVelocity.ra(),e.m_linearVelocity.x=2*e.m_linearVelocity.x*a.inv_dt,e.m_linearVelocity.y=2*e.m_linearVelocity.y*a.inv_dt);g=a.dt*e.m_angularVelocity;g*g>vg&&(e.m_angularVelocity=0>e.m_angularVelocity?
-ug*a.inv_dt:ug*a.inv_dt);e.m_sweep.c0.l(e.m_sweep.c);e.m_sweep.a0=e.m_sweep.a;e.m_sweep.c.x+=a.dt*e.m_linearVelocity.x;e.m_sweep.c.y+=a.dt*e.m_linearVelocity.y;e.m_sweep.a+=a.dt*e.m_angularVelocity;e.V()}for(d=0;d<a.positionIterations;++d){g=b.W(.2);h=!0;for(e=0;e<this.m_jointCount;++e)f=this.m_joints[e],f=f.W(.2),h=h&&f;if(g&&h)break}this.Re(b.m_constraints);if(c){c=Number.MAX_VALUE;b=yg*yg;for(d=0;d<this.m_bodyCount;++d)e=this.m_bodies[d],e.D()!=gh&&(0==(e.m_flags&Ij)&&(c=e.m_sleepTime=0),0==(e.m_flags&
Ij)||e.m_angularVelocity*e.m_angularVelocity>b||1E-4<Hg(e.m_linearVelocity,e.m_linearVelocity)?c=e.m_sleepTime=0:(e.m_sleepTime+=a.dt,c=Tg(c,e.m_sleepTime)));if(.5<=c)for(d=0;d<this.m_bodyCount;++d)e=this.m_bodies[d],e.A(!1)}};Hj.prototype.Solve=Hj.prototype.rb;
Hj.prototype.yd=function(a){var b,c;this.jc.H(a,this.m_contacts,this.m_contactCount,this.m_allocator);var d=this.jc;for(b=0;b<this.m_jointCount;++b)this.m_joints[b].aa(a);for(b=0;b<a.velocityIterations;++b)for(d.X(),c=0;c<this.m_jointCount;++c)this.m_joints[c].X(a);for(b=0;b<this.m_bodyCount;++b)if(c=this.m_bodies[b],c.D()!=gh){var e=a.dt*c.m_linearVelocity.x,f=a.dt*c.m_linearVelocity.y;4<e*e+f*f&&(c.m_linearVelocity.ra(),c.m_linearVelocity.x=2*c.m_linearVelocity.x*a.inv_dt,c.m_linearVelocity.y=2*
c.m_linearVelocity.y*a.inv_dt);e=a.dt*c.m_angularVelocity;e*e>vg&&(c.m_angularVelocity=0>c.m_angularVelocity?-ug*a.inv_dt:ug*a.inv_dt);c.m_sweep.c0.l(c.m_sweep.c);c.m_sweep.a0=c.m_sweep.a;c.m_sweep.c.x+=a.dt*c.m_linearVelocity.x;c.m_sweep.c.y+=a.dt*c.m_linearVelocity.y;c.m_sweep.a+=a.dt*c.m_angularVelocity;c.V()}for(b=0;b<a.positionIterations;++b){e=d.W(.75);f=!0;for(c=0;c<this.m_jointCount;++c)var g=this.m_joints[c].W(.2),f=f&&g;if(e&&f)break}this.Re(d.m_constraints)};Hj.prototype.SolveTOI=Hj.prototype.yd;
var Jj=new Gj;Hj.prototype.Re=function(a){if(null!=this.bm)for(var b=0;b<this.m_contactCount;++b)for(var c=a[b],d=0;d<c.Ja;++d)Jj.normalImpulses[d]=c.points[d].normalImpulse,Jj.tangentImpulses[d]=c.points[d].tangentImpulse};Hj.prototype.Report=Hj.prototype.Re;Hj.prototype.Be=function(a){a.m_islandIndex=this.m_bodyCount;this.m_bodies[this.m_bodyCount++]=a};Hj.prototype.AddBody=Hj.prototype.Be;Hj.prototype.Ce=function(a){this.m_contacts[this.m_contactCount++]=a};Hj.prototype.AddContact=Hj.prototype.Ce;
Hj.prototype.De=function(a){this.m_joints[this.m_jointCount++]=a};Hj.prototype.AddJoint=Hj.prototype.De;Hj.prototype.i={names:[{name:'b2Island',j:uc}]};y(uc,Hj);function O(a,b){this.Gm=[];this.m_contactManager=new Fj;this.jc=new gi;this.Dh=new Hj;this.m_controllerList=this.m_jointList=this.m_contactList=this.m_bodyList=this.pa=this.Jd=null;this.m_controllerCount=this.m_jointCount=this.m_contactCount=this.m_bodyCount=0;Kj=Lj=!0;this.Zl=b;this.xf=a;this.Ch=0;this.m_contactManager.m_world=this;var c=new fh;this.m_groundBody=this.Yc(c)}var Lj,Kj;O.prototype.gk=q('Jd');O.prototype.SetDestructionListener=O.prototype.gk;
O.prototype.ck=function(a){this.m_contactManager.m_contactFilter=a};O.prototype.SetContactFilter=O.prototype.ck;O.prototype.dk=function(a){this.m_contactManager.m_contactListener=a};O.prototype.SetContactListener=O.prototype.dk;O.prototype.zg=q('pa');O.prototype.SetDebugDraw=O.prototype.zg;
O.prototype.ak=function(a){var b=this.m_contactManager.m_broadPhase;this.m_contactManager.m_broadPhase=a;for(var c=this.m_bodyList;c;c=c.m_next)for(var d=c.m_fixtureList;d;d=d.m_next)d.m_proxy=a.$a(b.pb(d.m_proxy),d)};O.prototype.SetBroadPhase=O.prototype.ak;O.prototype.Cc=function(){this.m_contactManager.m_broadPhase.Cc()};O.prototype.Validate=O.prototype.Cc;O.prototype.jd=function(){return this.m_contactManager.m_broadPhase.jd()};O.prototype.GetProxyCount=O.prototype.jd;
O.prototype.Yc=function(a){if(1==this.Qb())return null;a=new P(a,this);a.m_prev=null;if(a.m_next=this.m_bodyList)this.m_bodyList.m_prev=a;this.m_bodyList=a;++this.m_bodyCount;return a};O.prototype.CreateBody=O.prototype.Yc;
O.prototype.vi=function(a){if(1!=this.Qb()){for(var b=a.m_jointList;b;){var c=b,b=b.next;this.Jd&&this.Jd.tn(c.joint);this.gg(c.joint)}for(b=a.m_controllerList;b;)c=b,b=b.xn,c.controller.rn(a);for(b=a.m_contactList;b;)c=b,b=b.next,this.m_contactManager.La(c.contact);a.m_contactList=null;for(b=a.m_fixtureList;b;)c=b,b=b.m_next,this.Jd&&this.Jd.sn(c),c.ab(this.m_contactManager.m_broadPhase),c.La();a.m_fixtureList=null;a.m_fixtureCount=0;a.m_prev&&(a.m_prev.m_next=a.m_next);a.m_next&&(a.m_next.m_prev=
a.m_prev);a==this.m_bodyList&&(this.m_bodyList=a.m_next);--this.m_bodyCount}};O.prototype.DestroyBody=O.prototype.vi;
O.prototype.si=function(a){var b=Ei(a);b.m_prev=null;if(b.m_next=this.m_jointList)this.m_jointList.m_prev=b;this.m_jointList=b;++this.m_jointCount;b.m_edgeA.joint=b;b.m_edgeA.other=b.m_bodyB;b.m_edgeA.prev=null;if(b.m_edgeA.next=b.m_bodyA.m_jointList)b.m_bodyA.m_jointList.prev=b.m_edgeA;b.m_bodyA.m_jointList=b.m_edgeA;b.m_edgeB.joint=b;b.m_edgeB.other=b.m_bodyA;b.m_edgeB.prev=null;if(b.m_edgeB.next=b.m_bodyB.m_jointList)b.m_bodyB.m_jointList.prev=b.m_edgeB;b.m_bodyB.m_jointList=b.m_edgeB;var c=a.bodyA,
d=a.bodyB;if(0==a.collideConnected)for(a=d.m_contactList;a;)a.other==c&&a.contact.cd(),a=a.next;return b};O.prototype.CreateJoint=O.prototype.si;
O.prototype.gg=function(a){var b=a.m_collideConnected;a.m_prev&&(a.m_prev.m_next=a.m_next);a.m_next&&(a.m_next.m_prev=a.m_prev);a==this.m_jointList&&(this.m_jointList=a.m_next);var c=a.m_bodyA,d=a.m_bodyB;c.A(!0);d.A(!0);a.m_edgeA.prev&&(a.m_edgeA.prev.next=a.m_edgeA.next);a.m_edgeA.next&&(a.m_edgeA.next.prev=a.m_edgeA.prev);a.m_edgeA==c.m_jointList&&(c.m_jointList=a.m_edgeA.next);a.m_edgeA.prev=null;a.m_edgeA.next=null;a.m_edgeB.prev&&(a.m_edgeB.prev.next=a.m_edgeB.next);a.m_edgeB.next&&(a.m_edgeB.next.prev=
a.m_edgeB.prev);a.m_edgeB==d.m_jointList&&(d.m_jointList=a.m_edgeB.next);a.m_edgeB.prev=null;a.m_edgeB.next=null;--this.m_jointCount;if(0==b)for(a=d.m_contactList;a;)a.other==c&&a.contact.cd(),a=a.next};O.prototype.DestroyJoint=O.prototype.gg;O.prototype.fi=function(a){a.m_next=this.m_controllerList;a.m_prev=null;this.m_controllerList=a;a.m_world=this;this.m_controllerCount++;return a};O.prototype.AddController=O.prototype.fi;
O.prototype.Wj=function(a){a.m_prev&&(a.m_prev.m_next=a.m_next);a.m_next&&(a.m_next.m_prev=a.m_prev);this.m_controllerList==a&&(this.m_controllerList=a.m_next);this.m_controllerCount--};O.prototype.RemoveController=O.prototype.Wj;
O.prototype.pi=function(a){if(a.m_world!=this)throw Error('Controller can only be a member of one world');a.m_next=this.m_controllerList;a.m_prev=null;this.m_controllerList&&(this.m_controllerList.m_prev=a);this.m_controllerList=a;++this.m_controllerCount;a.m_world=this;return a};O.prototype.CreateController=O.prototype.pi;O.prototype.wi=function(a){a.Ud();a.m_next&&(a.m_next.m_prev=a.m_prev);a.m_prev&&(a.m_prev.m_next=a.m_next);a==this.m_controllerList&&(this.m_controllerList=a.m_next);--this.m_controllerCount};
O.prototype.DestroyController=O.prototype.wi;O.prototype.Ek=function(a){Lj=a};O.prototype.SetWarmStarting=O.prototype.Ek;O.prototype.ek=function(a){Kj=a};O.prototype.SetContinuousPhysics=O.prototype.ek;O.prototype.Hi=t('m_bodyCount');O.prototype.GetBodyCount=O.prototype.Hi;O.prototype.bj=t('m_jointCount');O.prototype.GetJointCount=O.prototype.bj;O.prototype.Ji=t('m_contactCount');O.prototype.GetContactCount=O.prototype.Ji;O.prototype.lk=q('xf');O.prototype.SetGravity=O.prototype.lk;
O.prototype.Zi=t('xf');O.prototype.GetGravity=O.prototype.Zi;O.prototype.$i=t('m_groundBody');O.prototype.GetGroundBody=O.prototype.$i;var Mj=new fi;O.prototype.$e=function(a,b,c){this.m_flags&1&&(this.m_contactManager.bd(),this.m_flags&=-2);this.m_flags|=2;Mj.dt=a;Mj.velocityIterations=b;Mj.positionIterations=c;Mj.inv_dt=0<a?1/a:0;Mj.dtRatio=this.Ch*a;Mj.warmStarting=Lj;this.m_contactManager.dg();0<Mj.dt&&this.rb(Mj);Kj&&0<Mj.dt&&this.yd(Mj);0<Mj.dt&&(this.Ch=Mj.inv_dt);this.m_flags&=-3};
O.prototype.Step=O.prototype.$e;O.prototype.mi=function(){for(var a=this.m_bodyList;a;a=a.m_next)a.m_force.o(),a.m_torque=0};O.prototype.ClearForces=O.prototype.mi;var Nj=new Fg;
O.prototype.Ee=function(){if(null!=this.pa){this.pa.m_sprite.graphics.clear();var a=this.pa.mc,b,c,d,e;e=[new A,new A,new A,new A];var f=new Ch(0,0,0);if(a&1)for(b=this.m_bodyList;b;b=b.m_next)for(e=b.m_xf,c=b.m_fixtureList;c;c=c.m_next)d=c.m_shape,0==b.Ra()?f.Set(.5,.5,.3):b.D()==gh?f.Set(.5,.9,.5):b.D()==Oj?f.Set(.5,.5,.9):0==b.Da()?f.Set(.6,.6,.6):f.Set(.9,.7,.7),this.jg(d,e,f);if(a&2)for(b=this.m_jointList;b;b=b.m_next)this.hg(b);if(a&32)for(b=this.m_controllerList;b;b=b.m_next)b.qn(this.pa);
if(a&8)for(f.Set(.3,.9,.9),b=this.m_contactManager.m_contactList;b;b=b.m_next)d=b.m_fixtureB,c=b.m_fixtureA.m_aabb.dd(),d=d.m_aabb.dd(),this.pa.bb(c,d,f);if(a&4)for(d=this.m_contactManager.m_broadPhase,e=[new A,new A,new A,new A],b=this.m_bodyList;b;b=b.m_next)if(0!=b.Ra())for(c=b.m_fixtureList;c;c=c.m_next){var g=d.pb(c.m_proxy);e[0].Set(g.lowerBound.x,g.lowerBound.y);e[1].Set(g.upperBound.x,g.lowerBound.y);e[2].Set(g.upperBound.x,g.upperBound.y);e[3].Set(g.lowerBound.x,g.upperBound.y);this.pa.ig(e,
4,f)}if(a&16)for(b=this.m_bodyList;b;b=b.m_next)e=Nj,e.R=b.m_xf.R,e.position=b.m_sweep.c,this.pa.mg(e)}};O.prototype.DrawDebugData=O.prototype.Ee;O.prototype.Qj=function(a,b){var c=this.m_contactManager.m_broadPhase;c.Db(mg(function(b){return a(c.qa(b))},this,Ic),b)};O.prototype.QueryAABB=O.prototype.Qj;
O.prototype.Sj=function(a,b,c){c='undefined'!==typeof c?c:null;null==c&&(c=new Fg,c.cc());var d=this.m_contactManager.m_broadPhase,e=new hh;b.Za(e,c);d.Db(mg(function(e){e=z(d.qa(e),E);return zh(b,c,e.m_shape,e.m_body.ja())?a(e):!0},this,Ic),e)};O.prototype.QueryShape=O.prototype.Sj;
O.prototype.Rj=function(a,b){var c=this.m_contactManager.m_broadPhase,d=new hh;d.lowerBound.Set(b.x-.005,b.y-.005);d.upperBound.Set(b.x+.005,b.y+.005);c.Db(mg(function(d){d=z(c.qa(d),E);return d.gb(b)?a(d):!0},this,Ic),d)};O.prototype.QueryPoint=O.prototype.Rj;
O.prototype.ba=function(a,b,c){var d=this.m_contactManager.m_broadPhase,e=new Bh,f=new Ah(b,c);d.ba(mg(function(f,h){var k=d.qa(h),k=z(k,E);if(k.ba(e,f)){var l=e.fraction;return a(k,new A((1-l)*b.x+l*c.x,(1-l)*b.y+l*c.y),e.normal,l)}return f.maxFraction},this,Bc),f)};O.prototype.RayCast=O.prototype.ba;O.prototype.Uj=function(a,b){var c;this.ba(mg(function(a,b,f,g){c=a;return g},this,Ac),a,b);return c};O.prototype.RayCastOne=O.prototype.Uj;
O.prototype.Tj=function(a,b){var c=[];this.ba(mg(function(a){c[c.length]=a;return 1},this,zc),a,b);return c};O.prototype.RayCastAll=O.prototype.Tj;O.prototype.Ii=t('m_bodyList');O.prototype.GetBodyList=O.prototype.Ii;O.prototype.Ke=t('m_jointList');O.prototype.GetJointList=O.prototype.Ke;O.prototype.Ge=t('m_contactList');O.prototype.GetContactList=O.prototype.Ge;O.prototype.Qb=function(){return 0<(this.m_flags&2)};O.prototype.IsLocked=O.prototype.Qb;
O.prototype.rb=function(a){for(var b,c=this.m_controllerList;c;c=c.m_next)c.$e(a);c=this.Dh;c.H(this.m_bodyCount,this.m_contactCount,this.m_jointCount,null,this.m_contactManager.m_contactListener,this.jc);for(b=this.m_bodyList;b;b=b.m_next)b.m_flags&=~Pj;for(var d=this.m_contactList;d;d=d.m_next)d.m_flags&=-5;for(d=this.m_jointList;d;d=d.m_next)d.m_islandFlag=!1;for(var d=this.Gm,e=this.m_bodyList;e;e=e.m_next)if(!(e.m_flags&Pj)&&0!=e.Da()&&0!=e.Ra()&&e.D()!=gh){c.Ud();var f=0;d[f++]=e;for(e.m_flags|=
Pj;0<f;)if(b=d[--f],c.Be(b),0==b.Da()&&b.A(!0),b.D()!=gh){for(var g,h=b.m_contactList;h;h=h.next)h.contact.m_flags&4||1==h.contact.cb()||0==h.contact.od()||0==h.contact.rd()||(c.Ce(h.contact),h.contact.m_flags|=4,g=h.other,g.m_flags&Pj||(d[f++]=g,g.m_flags|=Pj));for(b=b.m_jointList;b;b=b.next)1!=b.joint.m_islandFlag&&(g=b.other,0!=g.Ra()&&(c.De(b.joint),b.joint.m_islandFlag=!0,g.m_flags&Pj||(d[f++]=g,g.m_flags|=Pj)))}c.rb(a,this.xf,this.Zl);for(f=0;f<c.m_bodyCount;++f)b=c.m_bodies[f],b.D()==gh&&(b.m_flags&=
~Pj)}for(f=0;f<d.length&&d[f];++f)d[f]=null;for(b=this.m_bodyList;b;b=b.m_next)0!=b.Da()&&0!=b.Ra()&&b.D()!=gh&&b.Ac();this.m_contactManager.bd()};O.prototype.Solve=O.prototype.rb;var Qj=new eh,Rj=new eh,Sj=new fi,Tj=[];
O.prototype.yd=function(a){var b,c,d,e=this.Dh;e.H(this.m_bodyCount,32,32,null,this.m_contactManager.m_contactListener,this.jc);for(b=this.m_bodyList;b;b=b.m_next)b.m_flags&=~Pj,b.m_sweep.t0=0;for(d=this.m_contactList;d;d=d.m_next)d.m_flags&=-13;for(d=this.m_jointList;d;d=d.m_next)d.m_islandFlag=!1;for(;;){var f=null,g=1;for(d=this.m_contactList;d;d=d.m_next)if(1!=d.cb()&&0!=d.od()&&0!=d.ug()){b=1;if(d.m_flags&8)b=d.m_toi;else{b=d.m_fixtureA;c=d.m_fixtureB;b=b.m_body;c=c.m_body;if(!(b.D()==$h&&0!=
b.Da()||c.D()==$h&&0!=c.Da()))continue;var h=b.m_sweep.t0;b.m_sweep.t0<c.m_sweep.t0?(h=c.m_sweep.t0,b.m_sweep.ob(h)):c.m_sweep.t0<b.m_sweep.t0&&(h=b.m_sweep.t0,c.m_sweep.ob(h));b=d.fg(b.m_sweep,c.m_sweep);zg(0<=b&&1>=b);0<b&&1>b&&(b=(1-b)*h+b,1<b&&(b=1));d.m_toi=b;d.m_flags|=8}Number.MIN_VALUE<b&&b<g&&(f=d,g=b)}if(null==f||1-100*Number.MIN_VALUE<g)break;b=f.m_fixtureA;c=f.m_fixtureB;b=b.m_body;c=c.m_body;Qj.Set(b.m_sweep);Rj.Set(c.m_sweep);b.ob(g);c.ob(g);f.Bc(this.m_contactManager.m_contactListener);
f.m_flags&=-9;if(1==f.cb()||0==f.od())b.m_sweep.Set(Qj),c.m_sweep.Set(Rj),b.V(),c.V();else if(0!=f.rd()){b.D()!=$h&&(b=c);e.Ud();f=d=0;Tj[d+f++]=b;for(b.m_flags|=Pj;0<f;)if(b=Tj[d++],--f,e.Be(b),0==b.Da()&&b.A(!0),b.D()==$h){for(c=b.m_contactList;c&&e.m_contactCount!=e.m_contactCapacity;c=c.next)c.contact.m_flags&4||1==c.contact.cb()||0==c.contact.od()||0==c.contact.rd()||(e.Ce(c.contact),c.contact.m_flags|=4,h=c.other,h.m_flags&Pj||(h.D()!=gh&&(h.ob(g),h.A(!0)),Tj[d+f]=h,++f,h.m_flags|=Pj));for(b=
b.m_jointList;b;b=b.next)e.m_jointCount!=e.m_jointCapacity&&1!=b.joint.m_islandFlag&&(h=b.other,0!=h.Ra()&&(e.De(b.joint),b.joint.m_islandFlag=!0,h.m_flags&Pj||(h.D()!=gh&&(h.ob(g),h.A(!0)),Tj[d+f]=h,++f,h.m_flags|=Pj)))}d=Sj;d.warmStarting=!1;d.dt=(1-g)*a.dt;d.inv_dt=1/d.dt;d.dtRatio=0;d.velocityIterations=a.velocityIterations;d.positionIterations=a.positionIterations;e.yd(d);for(g=0;g<e.m_bodyCount;++g)if(b=e.m_bodies[g],b.m_flags&=~Pj,0!=b.Da()&&b.D()==$h)for(b.Ac(),c=b.m_contactList;c;c=c.next)c.contact.m_flags&=
-9;for(g=0;g<e.m_contactCount;++g)d=e.m_contacts[g],d.m_flags&=-13;for(g=0;g<e.m_jointCount;++g)d=e.m_joints[g],d.m_islandFlag=!1;this.m_contactManager.bd()}}};O.prototype.SolveTOI=O.prototype.yd;var Uj=new Ch(.5,.8,.8);
O.prototype.hg=function(a){var b=a.m_bodyA,c=a.m_bodyB,d=b.m_xf.position,e=c.m_xf.position,f=a.ha(),g=a.ia();switch(a.m_type){case 3:this.pa.bb(f,g,Uj);break;case 4:b=z(a,yi);a=b.pg();b=b.qg();this.pa.bb(a,f,Uj);this.pa.bb(b,g,Uj);this.pa.bb(a,b,Uj);break;case 5:this.pa.bb(f,g,Uj);break;default:b!=this.m_groundBody&&this.pa.bb(d,f,Uj),this.pa.bb(f,g,Uj),c!=this.m_groundBody&&this.pa.bb(e,g,Uj)}};O.prototype.DrawJoint=O.prototype.hg;
O.prototype.jg=function(a,b,c){switch(a.m_type){case 0:a=z(a,ah);var d=Ng(b,a.m_p);this.pa.kg(d,a.m_radius,b.R.col1,c);break;case 1:d=z(a,D);a=d.Zd();for(var e=d.m_vertices,f=Array(a),d=0;d<a;++d)f[d]=Ng(b,e[d]);this.pa.lg(f,a,c);break;case 2:a=z(a,F),this.pa.bb(Ng(b,a.m_v1),Ng(b,a.m_v2),c)}};O.prototype.DrawShape=O.prototype.jg;y('Box2D.Dynamics.b2World.e_newFixture',1);y('Box2D.Dynamics.b2World.e_locked',2);O.prototype.i={names:[{name:'b2World',j:wc}]};y(wc,O);function P(a,b){this.m_xf=new Fg;this.m_sweep=new eh;this.m_linearVelocity=new A;this.m_force=new A;this.m_flags=0;a.bullet&&(this.m_flags|=Vj);a.fixedRotation&&(this.m_flags|=Wj);a.allowSleep&&(this.m_flags|=Ij);a.awake&&(this.m_flags|=Xj);a.active&&(this.m_flags|=Yj);this.m_world=b;this.m_xf.position.l(a.position);this.m_xf.R.Set(a.angle);this.m_sweep.localCenter.o();this.m_sweep.t0=1;this.m_sweep.a0=this.m_sweep.a=a.angle;var c=this.m_xf.R,d=this.m_sweep.localCenter;this.m_sweep.c.x=c.col1.x*d.x+
c.col2.x*d.y;this.m_sweep.c.y=c.col1.y*d.x+c.col2.y*d.y;this.m_sweep.c.x+=this.m_xf.position.x;this.m_sweep.c.y+=this.m_xf.position.y;this.m_sweep.c0.l(this.m_sweep.c);this.m_contactList=this.m_controllerList=this.m_jointList=null;this.m_controllerCount=0;this.m_next=this.m_prev=null;this.m_linearVelocity.l(a.linearVelocity);this.m_angularVelocity=a.angularVelocity;this.m_linearDamping=a.linearDamping;this.m_angularDamping=a.angularDamping;this.m_force.Set(0,0);this.m_sleepTime=this.m_torque=0;this.m_type=
a.type;this.m_invMass=this.m_type==$h?this.m_mass=1:this.m_mass=0;this.m_invI=this.m_I=0;this.m_inertiaScale=a.inertiaScale;this.m_userData=a.userData;this.m_fixtureList=null;this.m_fixtureCount=0}
P.prototype.Wd=function(a){if(1==this.m_world.Qb())return null;var b=new E;b.Xc(this,this.m_xf,a);this.m_flags&Yj&&b.$a(this.m_world.m_contactManager.m_broadPhase,this.m_xf);b.m_next=this.m_fixtureList;this.m_fixtureList=b;++this.m_fixtureCount;b.m_body=this;0<b.m_density&&this.Rb();this.m_world.m_flags|=1;return b};P.prototype.CreateFixture=P.prototype.Wd;P.prototype.ri=function(a,b){b='undefined'!==typeof b?b:0;var c=new kh;c.shape=a;c.density=b;return this.Wd(c)};P.prototype.CreateFixture2=P.prototype.ri;
P.prototype.xi=function(a){if(1!=this.m_world.Qb()){for(var b=this.m_fixtureList,c=null;null!=b;){if(b==a){c?c.m_next=a.m_next:this.m_fixtureList=a.m_next;break}c=b;b=b.m_next}for(b=this.m_contactList;b;){var c=b.contact,b=b.next,d=c.m_fixtureB;a!=c.m_fixtureA&&a!=d||this.m_world.m_contactManager.La(c)}this.m_flags&Yj&&a.ab(this.m_world.m_contactManager.m_broadPhase);a.La();a.m_body=null;a.m_next=null;--this.m_fixtureCount;this.Rb()}};P.prototype.DestroyFixture=P.prototype.xi;
P.prototype.be=function(a,b){var c;if(1!=this.m_world.Qb()){this.m_xf.R.Set(b);this.m_xf.position.l(a);c=this.m_xf.R;var d=this.m_sweep.localCenter;this.m_sweep.c.x=c.col1.x*d.x+c.col2.x*d.y;this.m_sweep.c.y=c.col1.y*d.x+c.col2.y*d.y;this.m_sweep.c.x+=this.m_xf.position.x;this.m_sweep.c.y+=this.m_xf.position.y;this.m_sweep.c0.l(this.m_sweep.c);this.m_sweep.a0=this.m_sweep.a=b;d=this.m_world.m_contactManager.m_broadPhase;for(c=this.m_fixtureList;c;c=c.m_next)c.bf(d,this.m_xf,this.m_xf);this.m_world.m_contactManager.bd()}};
P.prototype.SetPositionAndAngle=P.prototype.be;P.prototype.Bk=function(a){this.be(a.position,a.Ma())};P.prototype.SetTransform=P.prototype.Bk;P.prototype.ja=t('m_xf');P.prototype.GetTransform=P.prototype.ja;P.prototype.tj=function(){return this.m_xf.position};P.prototype.GetPosition=P.prototype.tj;P.prototype.uk=function(a){this.be(a,this.Ma())};P.prototype.SetPosition=P.prototype.uk;P.prototype.Ma=function(){return this.m_sweep.a};P.prototype.GetAngle=P.prototype.Ma;
P.prototype.Zj=function(a){this.be(this.m_xf.position,a)};P.prototype.SetAngle=P.prototype.Zj;P.prototype.Ej=function(){return this.m_sweep.c};P.prototype.GetWorldCenter=P.prototype.Ej;P.prototype.jj=function(){return this.m_sweep.localCenter};P.prototype.GetLocalCenter=P.prototype.jj;P.prototype.Xe=function(a){this.m_type!=gh&&this.m_linearVelocity.l(a)};P.prototype.SetLinearVelocity=P.prototype.Xe;P.prototype.gj=t('m_linearVelocity');P.prototype.GetLinearVelocity=P.prototype.gj;
P.prototype.Se=function(a){this.m_type!=gh&&(this.m_angularVelocity=a)};P.prototype.SetAngularVelocity=P.prototype.Se;P.prototype.Di=t('m_angularVelocity');P.prototype.GetAngularVelocity=P.prototype.Di;
P.prototype.ng=function(){var a=new fh;a.type=this.D();a.allowSleep=(this.m_flags&Ij)==Ij;a.angle=this.Ma();a.angularDamping=this.m_angularDamping;a.angularVelocity=this.m_angularVelocity;a.fixedRotation=(this.m_flags&Wj)==Wj;a.bullet=(this.m_flags&Vj)==Vj;a.awake=(this.m_flags&Xj)==Xj;a.linearDamping=this.m_linearDamping;a.linearVelocity.l(this.m_linearVelocity);a.position=this.m_xf.position;a.userData=this.qa();return a};P.prototype.GetDefinition=P.prototype.ng;
P.prototype.hi=function(a,b){this.m_type==$h&&(0==this.Da()&&this.A(!0),this.m_force.x+=a.x,this.m_force.y+=a.y,this.m_torque+=(b.x-this.m_sweep.c.x)*a.y-(b.y-this.m_sweep.c.y)*a.x)};P.prototype.ApplyForce=P.prototype.hi;P.prototype.ji=function(a){this.m_type==$h&&(0==this.Da()&&this.A(!0),this.m_torque+=a)};P.prototype.ApplyTorque=P.prototype.ji;
P.prototype.ii=function(a,b){this.m_type==$h&&(0==this.Da()&&this.A(!0),this.m_linearVelocity.x+=this.m_invMass*a.x,this.m_linearVelocity.y+=this.m_invMass*a.y,this.m_angularVelocity+=this.m_invI*((b.x-this.m_sweep.c.x)*a.y-(b.y-this.m_sweep.c.y)*a.x))};P.prototype.ApplyImpulse=P.prototype.ii;
P.prototype.Gk=function(a){for(var b=this.m_linearVelocity.G(),c=this.m_angularVelocity,d=this.m_sweep.c,e=this.m_world.Yc(this.ng()),f,g=this.m_fixtureList;g;)if(a(g)){var h=g.m_next;f?f.m_next=h:this.m_fixtureList=h;this.m_fixtureCount--;g.m_next=e.m_fixtureList;e.m_fixtureList=g;e.m_fixtureCount++;g.m_body=e;g=h}else f=g,g=g.m_next;this.Rb();e.Rb();a=Qg(b,Kg(c,Pg(e.m_sweep.c,d)));this.Xe(Qg(b,Kg(c,Pg(this.m_sweep.c,d))));e.Xe(a);this.Se(c);e.Se(c);this.Ac();e.Ac();return e};P.prototype.Split=P.prototype.Gk;
P.prototype.Kj=function(a){var b;for(b=a.m_fixtureList;b;){var c=b.m_next;a.m_fixtureCount--;b.m_next=this.m_fixtureList;this.m_fixtureList=b;this.m_fixtureCount++;b.m_body=null;b=c}this.m_linearVelocity.G();a.m_linearVelocity.G();this.Rb();this.Ac()};P.prototype.Merge=P.prototype.Kj;P.prototype.mj=t('m_mass');P.prototype.GetMass=P.prototype.mj;P.prototype.aj=t('m_I');P.prototype.GetInertia=P.prototype.aj;P.prototype.Yd=function(a){a.Ya=this.m_mass;a.Cb=this.m_I;a.center.l(this.m_sweep.localCenter)};
P.prototype.GetMassData=P.prototype.Yd;
P.prototype.qk=function(a){zg(0==this.m_world.Qb());if(1!=this.m_world.Qb()&&this.m_type==$h){this.m_invI=this.m_I=this.m_invMass=0;this.m_mass=a.Ya;0>=this.m_mass&&(this.m_mass=1);this.m_invMass=1/this.m_mass;0<a.Cb&&0==(this.m_flags&Wj)&&(this.m_I=a.Cb-this.m_mass*(a.center.x*a.center.x+a.center.y*a.center.y),this.m_invI=1/this.m_I);var b=this.m_sweep.c.G();this.m_sweep.localCenter.l(a.center);this.m_sweep.c0.l(Ng(this.m_xf,this.m_sweep.localCenter));this.m_sweep.c.l(this.m_sweep.c0);this.m_linearVelocity.x+=
this.m_angularVelocity*-(this.m_sweep.c.y-b.y);this.m_linearVelocity.y+=this.m_angularVelocity*+(this.m_sweep.c.x-b.x)}};P.prototype.SetMassData=P.prototype.qk;
P.prototype.Rb=function(){this.m_invI=this.m_I=this.m_invMass=this.m_mass=0;this.m_sweep.localCenter.o();if(this.m_type!=gh&&this.m_type!=Oj){for(var a=Bg(0,0),b=this.m_fixtureList;b;b=b.m_next)if(0!=b.m_density){var c=b.Yd();this.m_mass+=c.Ya;a.x+=c.center.x*c.Ya;a.y+=c.center.y*c.Ya;this.m_I+=c.Cb}0<this.m_mass?(this.m_invMass=1/this.m_mass,a.x*=this.m_invMass,a.y*=this.m_invMass):this.m_invMass=this.m_mass=1;0<this.m_I&&0==(this.m_flags&Wj)?(this.m_I-=this.m_mass*(a.x*a.x+a.y*a.y),this.m_I*=this.m_inertiaScale,
zg(0<this.m_I),this.m_invI=1/this.m_I):this.m_invI=this.m_I=0;b=this.m_sweep.c.G();this.m_sweep.localCenter.l(a);this.m_sweep.c0.l(Ng(this.m_xf,this.m_sweep.localCenter));this.m_sweep.c.l(this.m_sweep.c0);this.m_linearVelocity.x+=this.m_angularVelocity*-(this.m_sweep.c.y-b.y);this.m_linearVelocity.y+=this.m_angularVelocity*+(this.m_sweep.c.x-b.x)}};P.prototype.ResetMassData=P.prototype.Rb;
P.prototype.$=function(a){var b=this.m_xf.R;a=new A(b.col1.x*a.x+b.col2.x*a.y,b.col1.y*a.x+b.col2.y*a.y);a.x+=this.m_xf.position.x;a.y+=this.m_xf.position.y;return a};P.prototype.GetWorldPoint=P.prototype.$;P.prototype.md=function(a){return Lg(this.m_xf.R,a)};P.prototype.GetWorldVector=P.prototype.md;P.prototype.Ca=function(a){return Og(this.m_xf,a)};P.prototype.GetLocalPoint=P.prototype.Ca;P.prototype.Me=function(a){return Mg(this.m_xf.R,a)};P.prototype.GetLocalVector=P.prototype.Me;
P.prototype.ij=function(a){return new A(this.m_linearVelocity.x-this.m_angularVelocity*(a.y-this.m_sweep.c.y),this.m_linearVelocity.y+this.m_angularVelocity*(a.x-this.m_sweep.c.x))};P.prototype.GetLinearVelocityFromWorldPoint=P.prototype.ij;
P.prototype.hj=function(a){var b=this.m_xf.R;a=new A(b.col1.x*a.x+b.col2.x*a.y,b.col1.y*a.x+b.col2.y*a.y);a.x+=this.m_xf.position.x;a.y+=this.m_xf.position.y;return new A(this.m_linearVelocity.x-this.m_angularVelocity*(a.y-this.m_sweep.c.y),this.m_linearVelocity.y+this.m_angularVelocity*(a.x-this.m_sweep.c.x))};P.prototype.GetLinearVelocityFromLocalPoint=P.prototype.hj;P.prototype.fj=t(Le);P.prototype.GetLinearDamping=P.prototype.fj;P.prototype.nk=q(Le);P.prototype.SetLinearDamping=P.prototype.nk;
P.prototype.Ci=t(Je);P.prototype.GetAngularDamping=P.prototype.Ci;P.prototype.$j=q(Je);P.prototype.SetAngularDamping=P.prototype.$j;P.prototype.Ck=function(a){if(this.m_type!=a)for(this.m_type=a,this.Rb(),this.m_type==gh&&(this.m_linearVelocity.o(),this.m_angularVelocity=0),this.A(!0),this.m_force.o(),this.m_torque=0,a=this.m_contactList;a;a=a.next)a.contact.cd()};P.prototype.SetType=P.prototype.Ck;P.prototype.D=t('m_type');P.prototype.GetType=P.prototype.D;
P.prototype.bk=function(a){this.m_flags=a?this.m_flags|Vj:this.m_flags&~Vj};P.prototype.SetBullet=P.prototype.bk;P.prototype.nd=function(){return(this.m_flags&Vj)==Vj};P.prototype.IsBullet=P.prototype.nd;P.prototype.zk=function(a){a?this.m_flags|=Ij:(this.m_flags&=~Ij,this.A(!0))};P.prototype.SetSleepingAllowed=P.prototype.zk;
P.prototype.A=function(a){a?(this.m_flags|=Xj,this.m_sleepTime=0):(this.m_flags&=~Xj,this.m_sleepTime=0,this.m_linearVelocity.o(),this.m_angularVelocity=0,this.m_force.o(),this.m_torque=0)};P.prototype.SetAwake=P.prototype.A;P.prototype.Da=function(){return(this.m_flags&Xj)==Xj};P.prototype.IsAwake=P.prototype.Da;P.prototype.jk=function(a){this.m_flags=a?this.m_flags|Wj:this.m_flags&~Wj;this.Rb()};P.prototype.SetFixedRotation=P.prototype.jk;P.prototype.Hj=function(){return(this.m_flags&Wj)==Wj};
P.prototype.IsFixedRotation=P.prototype.Hj;P.prototype.Xj=function(a){if(a!=this.Ra()){var b;if(a)for(this.m_flags|=Yj,a=this.m_world.m_contactManager.m_broadPhase,b=this.m_fixtureList;b;b=b.m_next)b.$a(a,this.m_xf);else{this.m_flags&=~Yj;a=this.m_world.m_contactManager.m_broadPhase;for(b=this.m_fixtureList;b;b=b.m_next)b.ab(a);for(a=this.m_contactList;a;)b=a,a=a.next,this.m_world.m_contactManager.La(b.contact);this.m_contactList=null}}};P.prototype.SetActive=P.prototype.Xj;
P.prototype.Ra=function(){return(this.m_flags&Yj)==Yj};P.prototype.IsActive=P.prototype.Ra;P.prototype.Ij=function(){return(this.m_flags&Ij)==Ij};P.prototype.IsSleepingAllowed=P.prototype.Ij;P.prototype.Wi=t('m_fixtureList');P.prototype.GetFixtureList=P.prototype.Wi;P.prototype.Ke=t('m_jointList');P.prototype.GetJointList=P.prototype.Ke;P.prototype.Ki=t('m_controllerList');P.prototype.GetControllerList=P.prototype.Ki;P.prototype.Ge=t('m_contactList');P.prototype.GetContactList=P.prototype.Ge;
P.prototype.Zb=t(Me);P.prototype.GetNext=P.prototype.Zb;P.prototype.qa=t(Ne);P.prototype.GetUserData=P.prototype.qa;P.prototype.xd=q(Ne);P.prototype.SetUserData=P.prototype.xd;P.prototype.Dj=t('m_world');P.prototype.GetWorld=P.prototype.Dj;var Zj=new Fg;
P.prototype.Ac=function(){Zj.R.Set(this.m_sweep.a0);var a=Zj.R,b=this.m_sweep.localCenter;Zj.position.x=this.m_sweep.c0.x-(a.col1.x*b.x+a.col2.x*b.y);Zj.position.y=this.m_sweep.c0.y-(a.col1.y*b.x+a.col2.y*b.y);b=this.m_world.m_contactManager.m_broadPhase;for(a=this.m_fixtureList;a;a=a.m_next)a.bf(b,Zj,this.m_xf)};P.prototype.SynchronizeFixtures=P.prototype.Ac;
P.prototype.V=function(){this.m_xf.R.Set(this.m_sweep.a);var a=this.m_xf.R,b=this.m_sweep.localCenter;this.m_xf.position.x=this.m_sweep.c.x-(a.col1.x*b.x+a.col2.x*b.y);this.m_xf.position.y=this.m_sweep.c.y-(a.col1.y*b.x+a.col2.y*b.y)};P.prototype.SynchronizeTransform=P.prototype.V;P.prototype.Sb=function(a){if(this.m_type!=$h&&a.m_type!=$h)return!1;for(var b=this.m_jointList;b;b=b.next)if(b.other==a&&0==b.joint.m_collideConnected)return!1;return!0};P.prototype.ShouldCollide=P.prototype.Sb;
P.prototype.ob=function(a){this.m_sweep.ob(a);this.m_sweep.c.l(this.m_sweep.c0);this.m_sweep.a=this.m_sweep.a0;this.V()};P.prototype.Advance=P.prototype.ob;var Pj=1;y('Box2D.Dynamics.b2Body.e_islandFlag',Pj);var Xj=2;y('Box2D.Dynamics.b2Body.e_awakeFlag',Xj);var Ij=4;y('Box2D.Dynamics.b2Body.e_allowSleepFlag',Ij);var Vj=8;y('Box2D.Dynamics.b2Body.e_bulletFlag',Vj);var Wj=16;y('Box2D.Dynamics.b2Body.e_fixedRotationFlag',Wj);var Yj=32;y('Box2D.Dynamics.b2Body.e_activeFlag',Yj);var gh=0;
y('Box2D.Dynamics.b2Body.b2_staticBody',gh);var Oj=1;y('Box2D.Dynamics.b2Body.b2_kinematicBody',Oj);var $h=2;y('Box2D.Dynamics.b2Body.b2_dynamicBody',$h);P.prototype.i={names:[{name:'b2Body',j:kc}]};y(kc,P);function ak(){}ak.prototype.Bd=w(null);ak.prototype.createPath=ak.prototype.Bd;ak.prototype.Gd=w(null);ak.prototype.getCssColor=ak.prototype.Gd;ak.prototype.xe=m();ak.prototype.renderGraphics=ak.prototype.xe;ak.prototype.Sc=m();ak.prototype.renderImage=ak.prototype.Sc;ak.prototype.Pf=m();ak.prototype.renderText=ak.prototype.Pf;ak.prototype.i={names:[{name:'IRenderer',j:zd}]};y(zd,ak);function bk(){}bk.prototype.fa=m();bk.prototype.i={names:[{name:'IGraphicsData',j:'flash.display.IGraphicsData'}]};function ck(){}ck.prototype.i={names:[{name:'IGraphicsFill',j:'flash.display.IGraphicsFill'}]};function dk(a,b,c,d){this.bitmapData='undefined'!==typeof a?a:null;this.matrix='undefined'!==typeof b?b:null;this.repeat='undefined'!==typeof c?c:!0;this.smooth='undefined'!==typeof d?d:!1}dk.prototype.fa=function(a){null==this.pattern&&this.bitmapData&&(this.pattern=a.createPattern(this.bitmapData.image,this.repeat?wf:df));a.fillStyle=this.pattern};dk.prototype.draw=dk.prototype.fa;dk.prototype.i={names:[{name:'GraphicsBitmapFill',j:Gd}],Ta:[ck,bk]};y(Gd,dk);function ek(){}ek.prototype.fa=function(a,b){if(this.fill){if(jg(this.fill,dk)){var c=z(this.fill,dk);if(c.matrix)var d=c.matrix;a.globalAlpha=b.alphaMultiplier}else a.globalAlpha=1;d&&(a.save(),a.transform(d.a,d.b,d.c,d.d,d.tx,d.ty));a.fill();d&&a.restore()}};ek.prototype.draw=ek.prototype.fa;ek.prototype.i={names:[{name:'GraphicsEndFill',j:Hd}],Ta:[ck,bk]};y(Hd,ek);function fk(){}y('flash.display.GraphicsPathCommand.NO_OP',0);y('flash.display.GraphicsPathCommand.MOVE_TO',1);y('flash.display.GraphicsPathCommand.LINE_TO',2);y('flash.display.GraphicsPathCommand.CURVE_TO',3);y('flash.display.GraphicsPathCommand.WIDE_MOVE_TO',4);y('flash.display.GraphicsPathCommand.WIDE_LINE_TO',5);y('flash.display.GraphicsPathCommand.CUBIC_CURVE_TO',6);y('flash.display.GraphicsPathCommand.ARC',7);y('flash.display.GraphicsPathCommand.CLOSE_PATH',8);
fk.prototype.i={names:[{name:'GraphicsPathCommand',j:Kd}]};y(Kd,fk);function gk(){}gk.prototype.i={names:[{name:'IGraphicsPath',j:'flash.display.IGraphicsPath'}]};function hk(a,b,c){this.commands=[];this.data=[];this.commands='undefined'!==typeof a?a:null;this.data='undefined'!==typeof b?b:null;null==this.commands&&(this.commands=[]);null==this.data&&(this.data=[]);this.$g='undefined'!==typeof c?c:md}hk.prototype.pe=!0;hk.prototype.gpuPath2DDirty=hk.prototype.pe;hk.prototype.clear=function(){this.commands.length=0;this.data.length=0};hk.prototype.clear=hk.prototype.clear;hk.prototype.moveTo=function(a,b){this.commands.push(1);this.data.push(a,b)};
hk.prototype.moveTo=hk.prototype.moveTo;hk.prototype.lineTo=function(a,b){this.commands.push(2);this.data.push(a,b)};hk.prototype.lineTo=hk.prototype.lineTo;hk.prototype.Fa=function(a,b,c,d){this.commands.push(3);this.data.push(a,b,c,d)};hk.prototype.curveTo=hk.prototype.Fa;hk.prototype.jb=function(a,b,c,d,e,f){this.commands.push(6);this.data.push(a,b,c,d,e,f)};hk.prototype.cubicCurveTo=hk.prototype.jb;hk.prototype.$f=function(a,b){this.commands.push(5);this.data.push(0,0,a,b)};
hk.prototype.wideLineTo=hk.prototype.$f;hk.prototype.ag=function(a,b){this.commands.push(4);this.data.push(0,0,a,b)};hk.prototype.wideMoveTo=hk.prototype.ag;hk.prototype.arc=function(a,b,c,d,e){this.commands.push(7);this.data.push(a,b,c,d,e)};hk.prototype.arc=hk.prototype.arc;
hk.prototype.fa=function(a){if(this.commands.length){a.beginPath();for(var b=0,c=this.commands.length,d=0;d<c;d++)switch(this.commands[d]){case 1:a.moveTo(this.data[b++],this.data[b++]);break;case 2:a.lineTo(this.data[b++],this.data[b++]);break;case 3:a.quadraticCurveTo(this.data[b++],this.data[b++],this.data[b++],this.data[b++]);break;case 6:a.bezierCurveTo(this.data[b++],this.data[b++],this.data[b++],this.data[b++],this.data[b++],this.data[b++]);break;case 4:b+=2;a.moveTo(this.data[b++],this.data[b++]);
break;case 5:b+=2;a.lineTo(this.data[b++],this.data[b++]);break;case 7:a.arc(this.data[b++],this.data[b++],this.data[b++],this.data[b++],this.data[b++]);break;case 8:a.closePath()}}};hk.prototype.draw=hk.prototype.fa;hk.prototype.closePath=function(){this.commands.push(8)};hk.prototype.closePath=hk.prototype.closePath;Object.defineProperties(hk.prototype,{winding:{get:t('$g'),set:q('$g')}});hk.prototype.i={names:[{name:'GraphicsPath',j:Jd}],Ta:[gk,bk]};y(Jd,hk);function ik(){this.sh=new ek}dg(ik,ak);ik.prototype.Gd=function(a,b,c){return zf+((a>>16&255)*c.redMultiplier+c.redOffset>>0)+ia+((a>>8&255)*c.greenMultiplier+c.greenOffset>>0)+ia+((a&255)*c.greenMultiplier+c.greenOffset>>0)+ia+(b*c.alphaMultiplier+c.alphaOffset)+ha};ik.prototype.getCssColor=ik.prototype.Gd;ik.prototype.Bd=function(){return new hk};ik.prototype.createPath=ik.prototype.Bd;
ik.prototype.xe=function(a,b,c,d,e){a.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);a.globalCompositeOperation=d;c=b.graphicsData.length;for(d=0;d<c;d++)b.graphicsData[d].fa(a,e);b.lastFill&&(this.sh.fill=b.lastFill,this.sh.fa(a,e));b.lastStroke&&a.stroke();a.fillStyle=null;a.strokeStyle=null};ik.prototype.renderGraphics=ik.prototype.xe;ik.prototype.Sc=function(a,b,c,d,e){a.globalAlpha=e.alphaMultiplier;a.globalCompositeOperation=d;a.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);a.drawImage(b.image,0,0)};
ik.prototype.renderImage=ik.prototype.Sc;ik.prototype.Pf=function(a,b,c,d,e,f,g,h){a.globalAlpha=f.alphaMultiplier;a.globalCompositeOperation=e;a.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty);a.font=c.vn;a.fillStyle=c.wn;a.textBaseline=Hf;a.fillText(b,g,h)};ik.prototype.renderText=ik.prototype.Pf;ik.prototype.i={names:[{name:'BaseRenderer',j:pd}]};y(pd,ik);function jk(){}var kk,lk,mk=0;y('SpriteFlexjs.startTime',mk);y('SpriteFlexjs.debug',!1);y('SpriteFlexjs.wmode','direct');var nk=new ik;y('SpriteFlexjs.renderer',nk);var ok=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,1E3/60)};y('SpriteFlexjs.requestAnimationFrame',ok);jk.prototype.i={names:[{name:Cc,j:Cc}]};y(Cc,jk);function pk(){}pk.prototype.i={names:[{name:'BitmapTexture',j:qd}]};y(qd,pk);function qk(a,b){this.repetition=b;this.image=a}qk.prototype.i={names:[{name:'GLCanvasPattern',j:rd}]};y(rd,qk);function rk(a,b){this.x='undefined'!==typeof a?a:0;this.y='undefined'!==typeof b?b:0}y('flash.geom.Point.interpolate',function(a,b,c){return new rk(b.x+c*(a.x-b.x),b.y+c*(a.y-b.y))});y('flash.geom.Point.distance',function(a,b){return a.uc(b).length});y('flash.geom.Point.polar',function(a,b){return new rk(a*Math.cos(b),a*Math.sin(b))});rk.prototype.clone=function(){return new rk(this.x,this.y)};rk.prototype.clone=rk.prototype.clone;rk.prototype.offset=function(a,b){this.x+=a;this.y+=b};
rk.prototype.offset=rk.prototype.offset;rk.prototype.Fd=function(a){return a.x==this.x&&a.y==this.y};rk.prototype.equals=rk.prototype.Fd;rk.prototype.uc=function(a){return new rk(this.x-a.x,this.y-a.y)};rk.prototype.subtract=rk.prototype.uc;rk.prototype.add=function(a){return new rk(this.x+a.x,this.y+a.y)};rk.prototype.add=rk.prototype.add;rk.prototype.normalize=function(a){var b=this.length;0<b&&(b=a/b,this.x*=b,this.y*=b)};rk.prototype.normalize=rk.prototype.normalize;
rk.prototype.toString=function(){return fa+this.x+Aa+this.y+ha};rk.prototype.toString=rk.prototype.toString;rk.prototype.ea=function(a){this.x=a.x;this.y=a.y};rk.prototype.copyFrom=rk.prototype.ea;rk.prototype.Ob=function(a,b){this.x=a;this.y=b};rk.prototype.setTo=rk.prototype.Ob;Object.defineProperties(rk.prototype,{length:{get:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}}});rk.prototype.i={names:[{name:'Point',j:oe}]};y(oe,rk);function Q(a,b,c,d,e,f){this.a='undefined'!==typeof a?a:1;this.b='undefined'!==typeof b?b:0;this.c='undefined'!==typeof c?c:0;this.d='undefined'!==typeof d?d:1;this.tx='undefined'!==typeof e?e:0;this.ty='undefined'!==typeof f?f:0}Q.prototype.clone=function(){return new Q(this.a,this.b,this.c,this.d,this.tx,this.ty)};Q.prototype.clone=Q.prototype.clone;
Q.prototype.concat=function(a){var b=this.a*a.a,c=0,d=0,e=this.d*a.d,f=this.tx*a.a+a.tx,g=this.ty*a.d+a.ty;if(0!=this.b||0!=this.c||0!=a.b||0!=a.c)b+=this.b*a.c,e+=this.c*a.b,c+=this.a*a.b+this.b*a.d,d+=this.c*a.a+this.d*a.c,f+=this.ty*a.c,g+=this.tx*a.b;this.a=b;this.b=c;this.c=d;this.d=e;this.tx=f;this.ty=g};Q.prototype.concat=Q.prototype.concat;
Q.prototype.Kc=function(){var a=NaN,b=NaN,c=NaN,d=NaN,e=NaN,a=NaN;0==this.b&&0==this.c?(this.a=1/this.a,this.d=1/this.d,this.b=this.c=0,this.tx*=-this.a,this.ty*=-this.d):(a=this.a,b=this.b,c=this.c,d=this.d,e=a*d-b*c,0==e?this.Ic():(e=1/e,this.a=d*e,this.b=-b*e,this.c=-c*e,this.d=a*e,a=-(this.b*this.tx+this.d*this.ty),this.tx=-(this.a*this.tx+this.c*this.ty),this.ty=a))};Q.prototype.invert=Q.prototype.Kc;Q.prototype.Ic=function(){this.a=this.d=1;this.tx=this.ty=this.b=this.c=0};
Q.prototype.identity=Q.prototype.Ic;Q.prototype.kh=function(a,b,c,d,e){c='undefined'!==typeof c?c:0;var f=Math.cos(c);c=Math.sin(c);this.a=f*a;this.b=c*b;this.c=-c*a;this.d=f*b;this.tx='undefined'!==typeof d?d:0;this.ty='undefined'!==typeof e?e:0};Q.prototype.createBox=Q.prototype.kh;Q.prototype.kl=function(a,b,c,d,e){this.kh(a/1638.4,b/1638.4,'undefined'!==typeof c?c:0,('undefined'!==typeof d?d:0)+a/2,('undefined'!==typeof e?e:0)+b/2)};Q.prototype.createGradientBox=Q.prototype.kl;
Q.prototype.rotate=function(a){var b=Math.cos(a);a=Math.sin(a);var c=a*this.a+b*this.b,d=b*this.c-a*this.d,e=a*this.c+b*this.d,f=b*this.tx-a*this.ty,g=a*this.tx+b*this.ty;this.a=b*this.a-a*this.b;this.b=c;this.c=d;this.d=e;this.tx=f;this.ty=g};Q.prototype.rotate=Q.prototype.rotate;Q.prototype.translate=function(a,b){this.tx+=a;this.ty+=b};Q.prototype.translate=Q.prototype.translate;Q.prototype.scale=function(a,b){this.a*=a;this.b*=b;this.c*=a;this.d*=b;this.tx*=a;this.ty*=b};Q.prototype.scale=Q.prototype.scale;
Q.prototype.ql=function(a){return new rk(this.a*a.x+this.c*a.y,this.d*a.y+this.b*a.x)};Q.prototype.deltaTransformPoint=Q.prototype.ql;Q.prototype.Td=function(a){return new rk(this.a*a.x+this.c*a.y+this.tx,this.d*a.y+this.b*a.x+this.ty)};Q.prototype.transformPoint=Q.prototype.Td;Q.prototype.toString=function(){return da+this.a+ma+this.b+pa+this.c+qa+this.d+xa+this.tx+ya+this.ty+ha};Q.prototype.toString=Q.prototype.toString;
Q.prototype.ea=function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.d=a.d;this.tx=a.tx;this.ty=a.ty};Q.prototype.copyFrom=Q.prototype.ea;Q.prototype.Ob=function(a,b,c,d,e,f){this.a=a;this.b=b;this.c=c;this.d=d;this.tx=e;this.ty=f};Q.prototype.setTo=Q.prototype.Ob;Q.prototype.pf=function(a,b){switch(a){case 0:break;case 1:b.x=this.b;b.y=this.d;b.z=this.ty;break;case 2:case 3:b.x=0;b.y=0;b.z=1;break;default:b.x=this.a,b.y=this.c,b.z=this.tx}};Q.prototype.copyRowTo=Q.prototype.pf;
Q.prototype.nf=function(a,b){switch(a){case 0:break;case 1:b.x=this.c;b.y=this.d;b.z=0;break;case 2:case 3:b.x=this.tx;b.y=this.ty;b.z=1;break;default:b.x=this.a,b.y=this.b,b.z=0}};Q.prototype.copyColumnTo=Q.prototype.nf;Q.prototype.of=function(a,b){switch(a){case 0:break;case 1:case 2:this.b=b.x;this.d=b.y;this.ty=b.z;break;default:this.a=b.x,this.c=b.y,this.tx=b.z}};Q.prototype.copyRowFrom=Q.prototype.of;
Q.prototype.mf=function(a,b){switch(a){case 0:break;case 1:case 2:this.b=b.x;this.d=b.y;this.ty=b.z;break;default:this.a=b.x,this.c=b.y,this.tx=b.z}};Q.prototype.copyColumnFrom=Q.prototype.mf;Q.prototype.i={names:[{name:'Matrix',j:le}]};y(le,Q);function sk(){this.matr=new Q}sk.prototype.i={names:[{name:'GLCanvasState',j:td}]};y(td,sk);function tk(a){this.data=a}tk.prototype.oa=!0;tk.prototype.dirty=tk.prototype.oa;tk.prototype.fc=function(a){null==this.buff&&(this.buff=a.lh(this.data.length));this.oa&&(this.buff.gl.bindBuffer(this.buff.gl.ELEMENT_ARRAY_BUFFER,this.buff.buff),this.buff.gl.bufferData(this.buff.gl.ELEMENT_ARRAY_BUFFER,this.data,this.buff.gl.STATIC_DRAW),this.oa=!1);return this.buff};tk.prototype.getBuff=tk.prototype.fc;tk.prototype.i={names:[{name:'GLIndexBufferSet',j:wd}]};y(wd,tk);function uk(a,b,c){this.name=c;this.data32PerVertex=b;this.data=a}uk.prototype.oa=!0;uk.prototype.dirty=uk.prototype.oa;uk.prototype.fc=function(a){null==this.buff&&(this.buff=a.mh());this.oa&&(this.buff.gl.bindBuffer(this.buff.gl.ARRAY_BUFFER,this.buff.buff),this.buff.gl.bufferData(this.buff.gl.ARRAY_BUFFER,this.data,this.buff.gl.STATIC_DRAW),this.oa=!1);return this.buff};uk.prototype.getBuff=uk.prototype.fc;uk.prototype.i={names:[{name:'GLVertexBufferSet',j:yd}]};y(yd,uk);function vk(a,b,c){this.pos=new uk(a,2,qf);this.uv=new uk(b,2,Rf);this.index=new tk(c)}vk.prototype.Lf=-1;vk.prototype.numTriangles=vk.prototype.Lf;Object.defineProperties(vk.prototype,{color:{get:function(){if(null==this.ee||this.ee.data.length/4!=this.pos.data.length/2)this.ee=new uk(new Float32Array(2*this.pos.data.length),4,bd);return this.ee},set:q('ee')}});vk.prototype.i={names:[{name:'GLDrawable',j:ud}]};y(ud,vk);function wk(){this.array=[]}wk.prototype.length=0;wk.prototype.length=wk.prototype.length;wk.prototype.push=function(a){this.array[this.length++]=a};wk.prototype.push=wk.prototype.push;wk.prototype.i={names:[{name:'MemArray',j:Ad}]};y(Ad,wk);function xk(){hk.call(this);this.polys=new wk}dg(xk,hk);xk.prototype.clear=function(){for(var a=this.polys.array.length,b=0;b<a;b++)this.polys.array[b].length=0;this.polys.length=0};xk.prototype.clear=xk.prototype.clear;xk.prototype.moveTo=function(a,b){this.Ba=this.polys.array[this.polys.length];null==this.Ba&&(this.Ba=this.polys.array[this.polys.length]=new wk);this.polys.length++;this.Ba.push(a);this.Ba.push(b)};xk.prototype.moveTo=xk.prototype.moveTo;
xk.prototype.lineTo=function(a,b){this.Ba.push(a);this.Ba.push(b)};xk.prototype.lineTo=xk.prototype.lineTo;xk.prototype.Fa=function(a,b,c,d){this.Ba.push(a);this.Ba.push(b);this.Ba.push(c);this.Ba.push(d)};xk.prototype.curveTo=xk.prototype.Fa;xk.prototype.jb=function(a,b,c,d,e,f){this.Ba.push(a);this.Ba.push(b);this.Ba.push(c);this.Ba.push(d);this.Ba.push(e);this.Ba.push(f)};xk.prototype.cubicCurveTo=xk.prototype.jb;xk.prototype.$f=function(a,b){this.lineTo(a,b)};xk.prototype.wideLineTo=xk.prototype.$f;
xk.prototype.ag=function(a,b){this.moveTo(a,b)};xk.prototype.wideMoveTo=xk.prototype.ag;xk.prototype.arc=function(a,b,c){this.rect(a-c,b-c,2*c,2*c)};xk.prototype.arc=xk.prototype.arc;xk.prototype.rect=function(a,b,c,d){this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d)};xk.prototype.i={names:[{name:'GLGraphicsPath',j:vd}]};y(vd,xk);function yk(){this.matr=new Q}
Object.defineProperties(yk.prototype,{drawable:{get:function(){if(this.path.pe){this.path.pe=!1;for(var a=this.path.polys,b=0,c=0,d=this.path.polys.length,e=0;e<d;e++)var f=this.path.polys.array[e].length,b=b+f,c=c+3*(f/2-2);if(null==this.pos||this.pos.length!=b)this.pos=new Float32Array(b);if(null==this.index||this.index.length!=c)this.index=new Uint16Array(c);for(var g=c=b=0,e=0;e<d;e++){for(var h=a.array[e],f=h.length,f=f/2,k=0;k<f;k++){var l=h.array[2*k],n=h.array[2*k+1];this.pos[c++]=l;this.pos[c++]=
n;2<=k&&(this.index[g++]=b,this.index[g++]=b+k-1,this.index[g++]=b+k)}b+=k}null==this._drawable?this._drawable=new vk(this.pos,this.pos,this.index):(this._drawable.pos.data=this.pos,this._drawable.uv.data=this.pos,this._drawable.index.data=this.index,this._drawable.pos.oa=!0,this._drawable.uv.oa=!0,this._drawable.index.oa=!0)}return this._drawable}}});yk.prototype.i={names:[{name:'GLPath2D',j:xd}]};y(xd,yk);function R(a,b,c,d){this.x='undefined'!==typeof a?a:0;this.y='undefined'!==typeof b?b:0;this.width='undefined'!==typeof c?c:0;this.height='undefined'!==typeof d?d:0}R.prototype.clone=function(){return new R(this.x,this.y,this.width,this.height)};R.prototype.clone=R.prototype.clone;R.prototype.gc=function(){return 0>=this.width||0>=this.height};R.prototype.isEmpty=R.prototype.gc;R.prototype.Qf=function(){this.height=this.width=this.y=this.x=0};R.prototype.setEmpty=R.prototype.Qf;
R.prototype.Hd=function(a,b){this.x-=a;this.width+=2*a;this.y-=b;this.height+=2*b};R.prototype.inflate=R.prototype.Hd;R.prototype.Ol=function(a){this.x-=a.x;this.width+=2*a.x;this.y-=a.y;this.height+=2*a.y};R.prototype.inflatePoint=R.prototype.Ol;R.prototype.offset=function(a,b){this.x+=a;this.y+=b};R.prototype.offset=R.prototype.offset;R.prototype.hm=function(a){this.x+=a.x;this.y+=a.y};R.prototype.offsetPoint=R.prototype.hm;
R.prototype.contains=function(a,b){return a>=this.x&&a<this.x+this.width&&b>=this.y&&b<this.y+this.height};R.prototype.contains=R.prototype.contains;R.prototype.jh=function(a){return a.x>=this.x&&a.x<this.x+this.width&&a.y>=this.y&&a.y<this.y+this.height};R.prototype.containsPoint=R.prototype.jh;R.prototype.bl=function(a){var b=a.x+a.width,c=a.y+a.height,d=this.x+this.width,e=this.y+this.height;return a.x>=this.x&&a.x<d&&a.y>=this.y&&a.y<e&&b>this.x&&b<=d&&c>this.y&&c<=e};
R.prototype.containsRect=R.prototype.bl;R.prototype.Ql=function(a){var b=new R;if(this.gc()||a.gc())return b.Qf(),b;b.x=Math.max(this.x,a.x);b.y=Math.max(this.y,a.y);b.width=Math.min(this.x+this.width,a.x+a.width)-b.x;b.height=Math.min(this.y+this.height,a.y+a.height)-b.y;(0>=b.width||0>=b.height)&&b.Qf();return b};R.prototype.intersection=R.prototype.Ql;
R.prototype.Rl=function(a){if(this.gc()||a.gc())return!1;var b=Math.min(this.y+this.height,a.y+a.height)-Math.max(this.y,a.y);return 0>=Math.min(this.x+this.width,a.x+a.width)-Math.max(this.x,a.x)||0>=b?!1:!0};R.prototype.intersects=R.prototype.Rl;
R.prototype.fn=function(a){var b=null;if(this.gc())return a.clone();if(a.gc())return this.clone();b=new R;b.x=Math.min(this.x,a.x);b.y=Math.min(this.y,a.y);b.width=Math.max(this.x+this.width,a.x+a.width)-b.x;b.height=Math.max(this.y+this.height,a.y+a.height)-b.y;return b};R.prototype.union=R.prototype.fn;R.prototype.Fd=function(a){return a.x==this.x&&a.y==this.y&&a.width==this.width&&a.height==this.height};R.prototype.equals=R.prototype.Fd;
R.prototype.toString=function(){return fa+this.x+Aa+this.y+za+this.width+ua+this.height+ha};R.prototype.toString=R.prototype.toString;R.prototype.ea=function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height};R.prototype.copyFrom=R.prototype.ea;R.prototype.Ob=function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d};R.prototype.setTo=R.prototype.Ob;
Object.defineProperties(R.prototype,{left:{get:t('x'),set:function(a){this.width+=this.x-a;this.x=a}},right:{get:function(){return this.x+this.width},set:function(a){this.width=a-this.x}},top:{get:t('y'),set:function(a){this.height+=this.y-a;this.y=a}},bottom:{get:function(){return this.y+this.height},set:function(a){this.height=a-this.y}},topLeft:{get:function(){return new rk(this.x,this.y)},set:function(a){this.width+=this.x-a.x;this.height+=this.y-a.y;this.x=a.x;this.y=a.y}},bottomRight:{get:function(){return new rk(this.right,
this.bottom)},set:function(a){this.width=a.x-this.x;this.height=a.y-this.y}},size:{get:function(){return new rk(this.width,this.height)},set:function(a){this.width=a.x;this.height=a.y}}});R.prototype.i={names:[{name:'Rectangle',j:pe}]};y(pe,R);function S(a,b,c,d){this.ec(a,b,'undefined'!==typeof c?c:!0,'undefined'!==typeof d?d:4294967295)}S.prototype.ge=!1;S.prototype.ec=function(a,b,c,d){d='undefined'!==typeof d?d:4294967295;this.Rk='undefined'!==typeof c?c:!0;this.image=z(document.createElement(Yc),HTMLCanvasElement);this.image.width=this.Sk=a;this.image.height=this.Nk=b;this.ctx=z(this.image.getContext(Ca),CanvasRenderingContext2D);this.Jc=this.ctx.getImageData(0,0,a,b);this.data=this.Jc.data;this.fillRect(this.rect,d)};
S.prototype.rf=function(a,b,c){this.ctx.drawImage(a,'undefined'!==typeof b?b:0,'undefined'!==typeof c?c:0);this.Jc=this.ctx.getImageData(0,0,this.width,this.height);this.data=this.Jc.data};S.prototype.fromImage=S.prototype.rf;S.prototype.clone=w(null);S.prototype.clone=S.prototype.clone;S.prototype.Fl=function(a,b){var c=4*(b*this.width+a);return this.data[c]<<16|this.data[c+1]<<8|this.data[c+2]};S.prototype.getPixel=S.prototype.Fl;
S.prototype.th=function(a,b){var c=4*(b*this.width+a);return this.data[c+3]<<24|this.data[c]<<16|this.data[c+1]<<8|this.data[c+2]};S.prototype.getPixel32=S.prototype.th;S.prototype.Km=function(a,b,c){a=4*(b*this.width+a);this.data[a]=c>>16&255;this.data[a+1]=c>>8&255;this.data[a+2]=c&255;this.ge||this.ctx.putImageData(this.Jc,0,0)};S.prototype.setPixel=S.prototype.Km;
S.prototype.ye=function(a,b,c){a=4*(b*this.width+a);this.data[a]=c>>16&255;this.data[a+1]=c>>8&255;this.data[a+2]=c&255;this.data[a+3]=c>>>24;this.ge||this.ctx.putImageData(this.Jc,0,0)};S.prototype.setPixel32=S.prototype.ye;S.prototype.colorTransform=m();S.prototype.colorTransform=S.prototype.colorTransform;S.prototype.compare=w(null);S.prototype.compare=S.prototype.compare;S.prototype.cl=m();S.prototype.copyChannel=S.prototype.cl;
S.prototype.dl=function(a,b,c){this.qe();for(var d=0;d<b.width;d++)for(var e=0;e<b.height;e++)this.ye(d+c.x,e+c.y,a.th(d+b.x,e+b.y));this.Ae()};S.prototype.copyPixels=S.prototype.dl;S.prototype.kb=m();S.prototype.dispose=S.prototype.kb;S.prototype.fa=function(a){this.rh(a)};S.prototype.draw=S.prototype.fa;S.prototype.rh=function(a){jg(a,S)&&(a=z(a,S),this.rf(a.ctx))};S.prototype.drawWithQuality=S.prototype.rh;
S.prototype.fillRect=function(a,b){this.qe();for(var c=0;c<this.width;++c)for(var d=0;d<this.height;++d)this.ye(d,c,this.transparent?b:4278190080|b);this.Ae()};S.prototype.fillRect=S.prototype.fillRect;S.prototype.zl=m();S.prototype.floodFill=S.prototype.zl;S.prototype.Dl=w(null);S.prototype.getColorBoundsRect=S.prototype.Dl;S.prototype.Gl=w(null);S.prototype.getPixels=S.prototype.Gl;S.prototype.el=m();S.prototype.copyPixelsToByteArray=S.prototype.el;S.prototype.Il=w(null);S.prototype.getVector=S.prototype.Il;
S.prototype.Ll=w(!1);S.prototype.hitTest=S.prototype.Ll;S.prototype.em=m();S.prototype.merge=S.prototype.em;S.prototype.Jh=function(){this.qe();for(var a=0;a<this.width;++a)for(var b=0;b<this.height;++b)this.ye(b,a,4278190080|16777215*Math.random());this.Ae()};S.prototype.noise=S.prototype.Jh;S.prototype.im=m();S.prototype.paletteMap=S.prototype.im;S.prototype.jm=function(){this.Jh()};S.prototype.perlinNoise=S.prototype.jm;S.prototype.km=w(0);S.prototype.pixelDissolve=S.prototype.km;
S.prototype.scroll=m();S.prototype.scroll=S.prototype.scroll;S.prototype.Lm=m();S.prototype.setPixels=S.prototype.Lm;S.prototype.Vm=m();S.prototype.setVector=S.prototype.Vm;S.prototype.threshold=w(0);S.prototype.threshold=S.prototype.threshold;S.prototype.qe=function(){this.ge=!0};S.prototype.lock=S.prototype.qe;S.prototype.Ae=function(){this.ge=!1;this.ctx.putImageData(this.Jc,0,0)};S.prototype.unlock=S.prototype.Ae;S.prototype.Kl=w(null);S.prototype.histogram=S.prototype.Kl;S.prototype.encode=w(null);
S.prototype.encode=S.prototype.encode;Object.defineProperties(S.prototype,{width:{get:t('Sk')},height:{get:t('Nk')},transparent:{get:t('Rk')},rect:{get:function(){return new R(0,0,this.width,this.height)}}});S.prototype.i={names:[{name:'BitmapData',j:Bd}]};y(Bd,S);function zk(){}y('flash.display3D.Context3DBlendFactor.ONE',jf);y('flash.display3D.Context3DBlendFactor.ZERO',Yf);y('flash.display3D.Context3DBlendFactor.SOURCE_ALPHA',Cf);y('flash.display3D.Context3DBlendFactor.SOURCE_COLOR',Df);y('flash.display3D.Context3DBlendFactor.ONE_MINUS_SOURCE_ALPHA',mf);y('flash.display3D.Context3DBlendFactor.ONE_MINUS_SOURCE_COLOR',nf);y('flash.display3D.Context3DBlendFactor.DESTINATION_ALPHA',gd);y('flash.display3D.Context3DBlendFactor.DESTINATION_COLOR',hd);
y('flash.display3D.Context3DBlendFactor.ONE_MINUS_DESTINATION_ALPHA',kf);y('flash.display3D.Context3DBlendFactor.ONE_MINUS_DESTINATION_COLOR',lf);function Ak(a,b){switch(b){case jf:return a.ONE;case Yf:return a.ZERO;case Cf:return a.SRC_ALPHA;case Df:return a.SRC_COLOR;case mf:return a.ONE_MINUS_SRC_ALPHA;case nf:return a.ONE_MINUS_SRC_COLOR;case gd:return a.DST_ALPHA;case hd:return a.DST_COLOR;case kf:return a.ONE_MINUS_DST_ALPHA;case lf:return a.ONE_MINUS_DST_COLOR}return 0}
y('flash.display3D.Context3DBlendFactor.getGLVal',Ak);zk.prototype.i={names:[{name:'Context3DBlendFactor',j:Td}]};y(Td,zk);function Bk(){}y('flash.display3D.Context3DCompareMode.ALWAYS',Oc);y('flash.display3D.Context3DCompareMode.NEVER',cf);y('flash.display3D.Context3DCompareMode.LESS',Fe);y('flash.display3D.Context3DCompareMode.LESS_EQUAL',Ge);y('flash.display3D.Context3DCompareMode.EQUAL',kd);y('flash.display3D.Context3DCompareMode.GREATER_EQUAL',De);y('flash.display3D.Context3DCompareMode.GREATER',Ce);y('flash.display3D.Context3DCompareMode.NOT_EQUAL',gf);
function Ck(a,b){switch(b){case Oc:return a.ALWAYS;case cf:return a.NEAREST;case Fe:return a.LESS;case Ge:return a.LESS|a.EQUAL;case kd:return a.EQUAL;case De:return a.GREATER|a.EQUAL;case Ce:return a.GREATER;case gf:return a.NOTEQUAL}return 0}y('flash.display3D.Context3DCompareMode.getGLVal',Ck);Bk.prototype.i={names:[{name:'Context3DCompareMode',j:Ud}]};y(Ud,Bk);function Dk(){}y('flash.display3D.Context3DProgramType.VERTEX',Vf);y('flash.display3D.Context3DProgramType.FRAGMENT','fragment');Dk.prototype.i={names:[{name:'Context3DProgramType',j:Vd}]};y(Vd,Dk);function Ek(){}y('flash.display3D.Context3DTriangleFace.NONE',ef);y('flash.display3D.Context3DTriangleFace.BACK',Sc);y('flash.display3D.Context3DTriangleFace.FRONT',ye);y('flash.display3D.Context3DTriangleFace.FRONT_AND_BACK',ze);function Fk(a,b){switch(b){case ef:return a.NONE;case Sc:return a.FRONT;case ye:return a.BACK;case ze:return a.FRONT_AND_BACK}return 0}y('flash.display3D.Context3DTriangleFace.getGLVal',Fk);Ek.prototype.i={names:[{name:'Context3DTriangleFace',j:Xd}]};y(Xd,Ek);function Gk(){}y('flash.display3D.Context3DVertexBufferFormat.FLOAT_1',ue);y('flash.display3D.Context3DVertexBufferFormat.FLOAT_2',ve);y('flash.display3D.Context3DVertexBufferFormat.FLOAT_3',we);y('flash.display3D.Context3DVertexBufferFormat.FLOAT_4',xe);y('flash.display3D.Context3DVertexBufferFormat.BYTES_4','bytes4');Gk.prototype.i={names:[{name:'Context3DVertexBufferFormat',j:Yd}]};y(Yd,Gk);function Hk(){}Hk.prototype.Zf=function(a){this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.buff);this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,new Uint16Array(a),this.gl.STATIC_DRAW)};Hk.prototype.uploadFromVector=Hk.prototype.Zf;Hk.prototype.Pb=m();Hk.prototype.uploadFromByteArray=Hk.prototype.Pb;Hk.prototype.kb=m();Hk.prototype.dispose=Hk.prototype.kb;Hk.prototype.i={names:[{name:'IndexBuffer3D',j:Zd}]};y(Zd,Hk);function Ik(){this.$h={};this.ah={}}
Ik.prototype.upload=function(a,b){this.fshader=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.vshader=this.gl.createShader(this.gl.VERTEX_SHADER);a.position=b.position=0;this.gl.shaderSource(this.vshader,a.Qd(a.length));this.gl.compileShader(this.vshader);if(!this.gl.getShaderParameter(this.vshader,this.gl.COMPILE_STATUS))throw this.vshader+'\n'+a+'\n'+this.gl.getShaderInfoLog(this.vshader);this.gl.shaderSource(this.fshader,b.Qd(b.length));this.gl.compileShader(this.fshader);if(!this.gl.getShaderParameter(this.fshader,
this.gl.COMPILE_STATUS))throw b+'\n'+this.gl.getShaderInfoLog(this.fshader);this.gl.attachShader(this.program,this.vshader);this.gl.attachShader(this.program,this.fshader);this.gl.linkProgram(this.program);if(!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))throw this.gl.getProgramInfoLog(this.program);};Ik.prototype.upload=Ik.prototype.upload;Ik.prototype.kb=function(){this.gl.deleteShader(this.fshader);this.gl.deleteShader(this.vshader);this.gl.deleteProgram(this.program)};
Ik.prototype.dispose=Ik.prototype.kb;Ik.prototype.getUniformLocation=function(a){var b=this.$h[a];null==b&&(b=this.$h[a]=this.gl.getUniformLocation(this.program,a));return b};Ik.prototype.getUniformLocation=Ik.prototype.getUniformLocation;Ik.prototype.getAttribLocation=function(a){var b=this.ah[a];null==b&&(b=this.ah[a]=this.gl.getAttribLocation(this.program,a));a=Number(b);this.gl.enableVertexAttribArray(a);return a};Ik.prototype.getAttribLocation=Ik.prototype.getAttribLocation;
Ik.prototype.i={names:[{name:'Program3D',j:$d}]};y($d,Ik);function Jk(){}Jk.prototype.Zf=function(a){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buff);this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(a),this.gl.STATIC_DRAW)};Jk.prototype.uploadFromVector=Jk.prototype.Zf;Jk.prototype.Pb=m();Jk.prototype.uploadFromByteArray=Jk.prototype.Pb;Jk.prototype.kb=m();Jk.prototype.dispose=Jk.prototype.kb;Jk.prototype.i={names:[{name:'VertexBuffer3D',j:ae}]};y(ae,Jk);function Kk(a){this.hc={};this.ec('undefined'!==typeof a?a:null)}Kk.prototype.ec=m();Kk.prototype.addEventListener=function(a,b){var c=this.hc[a]=this.hc[a]||[],d=c.indexOf(b);-1!=d&&c.splice(d,1);c.push(b)};Kk.prototype.addEventListener=Kk.prototype.addEventListener;Kk.prototype.removeEventListener=function(a,b){var c=this.hc[a];if(c){var d=c.indexOf(b);-1!=d&&c.splice(d,1);0==c.length&&(this.hc[a]=null,delete this.hc[a])}};Kk.prototype.removeEventListener=Kk.prototype.removeEventListener;
Kk.prototype.dispatchEvent=function(a){return a.target?Lk(this,a.clone()):Lk(this,a)};Kk.prototype.dispatchEvent=Kk.prototype.dispatchEvent;Kk.prototype.Hc=function(a){return null!=this.hc[a]};Kk.prototype.hasEventListener=Kk.prototype.Hc;Kk.prototype.gn=w(!1);Kk.prototype.willTrigger=Kk.prototype.gn;function Lk(a,b){b.target=a;b.currentTarget=a;var c=a.hc[b.type];if(c)for(var d=c.length,e=0;e<d;e++)(0,c[e])(b);return!1}Kk.prototype.i={names:[{name:'EventDispatcher',j:he}]};y(he,Kk);function Mk(){Kk.call(this)}dg(Mk,Kk);Mk.prototype.kb=m();Mk.prototype.dispose=Mk.prototype.kb;Mk.prototype.i={names:[{name:'TextureBase',j:ee}]};y(ee,Mk);function Nk(){Kk.call(this)}dg(Nk,Mk);Nk.prototype.Tc=m();Nk.prototype.uploadFromBitmapData=Nk.prototype.Tc;Nk.prototype.Pb=m();Nk.prototype.uploadFromByteArray=Nk.prototype.Pb;Nk.prototype.Yf=m();Nk.prototype.uploadCompressedTextureFromByteArray=Nk.prototype.Yf;Nk.prototype.i={names:[{name:'CubeTexture',j:be}]};y(be,Nk);function Ok(){Kk.call(this)}dg(Ok,Mk);Ok.prototype.Tc=m();Ok.prototype.uploadFromBitmapData=Ok.prototype.Tc;Ok.prototype.Pb=m();Ok.prototype.uploadFromByteArray=Ok.prototype.Pb;Ok.prototype.i={names:[{name:'RectangleTexture',j:ce}]};y(ce,Ok);function Pk(){Kk.call(this)}dg(Pk,Mk);Pk.prototype.repeat=!0;Pk.prototype.repeat=Pk.prototype.repeat;Pk.prototype.Tc=function(a,b){this.ai(a.image,'undefined'!==typeof b?b:0)};Pk.prototype.uploadFromBitmapData=Pk.prototype.Tc;
Pk.prototype.ai=function(a,b){b='undefined'!==typeof b?b:0;this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture);this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,a);this.repeat?(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.REPEAT)):(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,
this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE));0<b?(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_NEAREST),this.gl.generateMipmap(this.gl.TEXTURE_2D)):(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST));this.gl.bindTexture(this.gl.TEXTURE_2D,null)};
Pk.prototype.uploadFromImg=Pk.prototype.ai;Pk.prototype.Pb=m();Pk.prototype.uploadFromByteArray=Pk.prototype.Pb;Pk.prototype.Yf=m();Pk.prototype.uploadCompressedTextureFromByteArray=Pk.prototype.Yf;Pk.prototype.i={names:[{name:'Texture',j:de}]};y(de,Pk);function Qk(){Kk.call(this)}dg(Qk,Mk);Qk.prototype.$k=m();Qk.prototype.attachCamera=Qk.prototype.$k;Object.defineProperties(Qk.prototype,{videoWidth:{get:w(0)},videoHeight:{get:w(0)}});Qk.prototype.i={names:[{name:'VideoTexture',j:fe}]};y(fe,Qk);function T(){this.oh={};this.ph={};Kk.call(this)}dg(T,Kk);T.prototype.kb=m();T.prototype.dispose=T.prototype.kb;T.prototype.ih=function(a,b,c,d){d='undefined'!==typeof d?d:!0;this.canvas.width=a;this.canvas.height=b;this.gl.viewport(0,0,a,b);d?(this.gl.enable(this.gl.DEPTH_TEST),this.gl.enable(this.gl.STENCIL_TEST)):(this.gl.disable(this.gl.DEPTH_TEST),this.gl.disable(this.gl.STENCIL_TEST))};T.prototype.configureBackBuffer=T.prototype.ih;
T.prototype.clear=function(a,b,c,d,e,f){e='undefined'!==typeof e?e:1;f='undefined'!==typeof f?f:0;this.gl.clearColor('undefined'!==typeof a?a:0,'undefined'!==typeof b?b:0,'undefined'!==typeof c?c:0,'undefined'!==typeof d?d:1);this.gl.clearDepth(e);this.gl.clearStencil(f);this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)};T.prototype.clear=T.prototype.clear;
T.prototype.Dd=function(a,b,c){b='undefined'!==typeof b?b:0;c='undefined'!==typeof c?c:-1;this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,a.buff);this.gl.drawElements(this.gl.TRIANGLES,0>c?a.count:3*c,this.gl.UNSIGNED_SHORT,2*b)};T.prototype.drawTriangles=T.prototype.Dd;T.prototype.pm=m();T.prototype.present=T.prototype.pm;T.prototype.Rf=function(a){this.le!=a&&(this.le=a,this.gl.useProgram(a.program))};T.prototype.setProgram=T.prototype.Rf;T.prototype.Om=function(a,b,c){this.Uh(Vf==a?Uf+b:od+b,c)};
T.prototype.setProgramConstantsFromVector=T.prototype.Om;T.prototype.Sf=function(a,b,c,d){this.Th(Vf==a?Uf+b:od+b,c,'undefined'!==typeof d?d:!1)};T.prototype.setProgramConstantsFromMatrix=T.prototype.Sf;T.prototype.Mm=m();T.prototype.setProgramConstantsFromByteArray=T.prototype.Mm;T.prototype.Uh=function(a,b){this.gl.uniform4fv(this.getUniformLocation(a),b)};T.prototype.setProgramConstantsFromVectorGL=T.prototype.Uh;
T.prototype.Th=function(a,b,c){(c='undefined'!==typeof c?c:!1)&&b.vc();this.gl.uniformMatrix4fv(this.getUniformLocation(a),!1,b.rawData);c&&b.vc()};T.prototype.setProgramConstantsFromMatrixGL=T.prototype.Th;T.prototype.Nm=m();T.prototype.setProgramConstantsFromByteArrayGL=T.prototype.Nm;T.prototype.getUniformLocation=function(a){return this.le.getUniformLocation(a)};T.prototype.ze=function(a,b,c,d){this.Wh(Sf+a,b,'undefined'!==typeof c?c:0,'undefined'!==typeof d?d:xe)};
T.prototype.setVertexBufferAt=T.prototype.ze;T.prototype.Wh=function(a,b,c,d){c='undefined'!==typeof c?c:0;d='undefined'!==typeof d?d:xe;if(this.ph[a]!=b){this.ph[a]=b;a=this.le.getAttribLocation(a);this.gl.bindBuffer(this.gl.ARRAY_BUFFER,b.buff);b=0;switch(d){case ue:b=1;break;case ve:b=2;break;case we:b=3;break;case xe:b=4}this.gl.vertexAttribPointer(a,b,this.gl.FLOAT,!1,0,c)}};T.prototype.setVertexBufferAtGL=T.prototype.Wh;
T.prototype.Rh=function(a,b){this.gl.enable(this.gl.BLEND);this.gl.blendEquation(this.gl.FUNC_ADD);this.gl.blendFunc(Ak(this.gl,a),Ak(this.gl,b))};T.prototype.setBlendFactors=T.prototype.Rh;T.prototype.Im=function(a,b,c,d){this.gl.colorMask(a,b,c,d)};T.prototype.setColorMask=T.prototype.Im;T.prototype.Jm=function(a,b){this.gl.depthFunc(Ck(this.gl,b));this.gl.depthMask(a)};T.prototype.setDepthTest=T.prototype.Jm;
T.prototype.Vh=function(a,b){if(null==b)this.Tf(Ae+a,a,null);else if(jg(b,Pk)){var c=z(b,Pk);this.Tf(Ae+a,a,c)}else jg(b,Nk)?z(b,Nk):jg(b,Ok)?z(b,Ok):jg(b,Qk)&&z(b,Qk)};T.prototype.setTextureAt=T.prototype.Vh;T.prototype.Qm=function(a){if(!jg(a,Pk)&&!jg(a,Nk)&&!jg(a,Ok)&&null!=a)throw'texture argument not derived from TextureBase (can be Texture, CubeTexture, or if supported, RectangleTexture)';};T.prototype.setRenderToTexture=T.prototype.Qm;T.prototype.Pm=m();T.prototype.setRenderToBackBuffer=T.prototype.Pm;
T.prototype.Sh=function(a){a==ef?this.gl.disable(this.gl.CULL_FACE):(this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(Fk(this.gl,a)))};T.prototype.setCulling=T.prototype.Sh;T.prototype.Tm=m();T.prototype.setStencilActions=T.prototype.Tm;T.prototype.Um=m();T.prototype.setStencilReferenceValue=T.prototype.Um;T.prototype.Sm=function(a){null==a?this.gl.disable(this.gl.SCISSOR_TEST):(this.gl.enable(this.gl.SCISSOR_TEST),this.gl.scissor(a.x,a.y,a.width,a.height))};T.prototype.setScissorRectangle=T.prototype.Sm;
T.prototype.mh=function(){var a=new Jk;a.buff=this.gl.createBuffer();a.gl=this.gl;return a};T.prototype.createVertexBuffer=T.prototype.mh;T.prototype.lh=function(a){var b=new Hk;b.buff=this.gl.createBuffer();b.gl=this.gl;b.count=a;return b};T.prototype.createIndexBuffer=T.prototype.lh;T.prototype.createTexture=function(){var a=new Pk;a.gl=this.gl;a.texture=this.gl.createTexture();return a};T.prototype.createTexture=T.prototype.createTexture;T.prototype.jl=w(null);T.prototype.createCubeTexture=T.prototype.jl;
T.prototype.ll=w(null);T.prototype.createRectangleTexture=T.prototype.ll;T.prototype.createProgram=function(){var a=new Ik;a.gl=this.gl;a.program=this.gl.createProgram();return a};T.prototype.createProgram=T.prototype.createProgram;T.prototype.xl=m();T.prototype.drawToBitmapData=T.prototype.xl;T.prototype.Rm=m();T.prototype.setSamplerStateAt=T.prototype.Rm;
T.prototype.Tf=function(a,b,c){this.oh[a]!=c&&(this.oh[a]=c)&&(this.gl.activeTexture(WebGLRenderingContext[Dc+b]),this.gl.bindTexture(this.gl.TEXTURE_2D,c.texture),this.gl.uniform1i(this.le.getUniformLocation(a),b))};T.prototype.setTextureAtGL=T.prototype.Tf;T.prototype.ml=w(null);T.prototype.createVideoTexture=T.prototype.ml;
Object.defineProperties(T.prototype,{driverInfo:{get:w(null)},enableErrorChecking:{get:w(!1),set:m()},profile:{get:w(null)},backBufferWidth:{get:w(0)},backBufferHeight:{get:w(0)},maxBackBufferWidth:{get:w(0),set:m()},maxBackBufferHeight:{get:w(0),set:m()}});Object.defineProperties(T,{supportsVideoTexture:{get:w(!1)}});T.prototype.i={names:[{name:'Context3D',j:Sd}]};y(Sd,T);function Rk(){}y('flash.display3D.Context3DTextureFormat.BGRA',Vc);y('flash.display3D.Context3DTextureFormat.RGBA_HALF_FLOAT','rgbaHalfFloat');y('flash.display3D.Context3DTextureFormat.COMPRESSED','compressed');y('flash.display3D.Context3DTextureFormat.COMPRESSED_ALPHA','compressedAlpha');y('flash.display3D.Context3DTextureFormat.BGR_PACKED','bgrPacked565');y('flash.display3D.Context3DTextureFormat.BGRA_PACKED','bgraPacked4444');Rk.prototype.i={names:[{name:'Context3DTextureFormat',j:Wd}]};y(Wd,Rk);function Sk(a,b,c){this.ec(a,'undefined'!==typeof b?b:!1,'undefined'!==typeof c?c:!1)}y('flash.events.Event.ACTIVATE','activate');y('flash.events.Event.ADDED','added');y('flash.events.Event.ADDED_TO_STAGE',Nc);y('flash.events.Event.BROWSER_ZOOM_CHANGE','browserZoomChange');y('flash.events.Event.CANCEL','cancel');y('flash.events.Event.CHANGE','change');y('flash.events.Event.CLEAR','clear');y('flash.events.Event.CLOSE','close');y('flash.events.Event.COMPLETE','complete');
y('flash.events.Event.CONNECT','connect');y('flash.events.Event.COPY','copy');y('flash.events.Event.CUT','cut');y('flash.events.Event.DEACTIVATE','deactivate');y('flash.events.Event.ENTER_FRAME',jd);y('flash.events.Event.FRAME_CONSTRUCTED','frameConstructed');y('flash.events.Event.EXIT_FRAME','exitFrame');y('flash.events.Event.FRAME_LABEL','frameLabel');y('flash.events.Event.ID3','id3');y('flash.events.Event.INIT','init');y('flash.events.Event.MOUSE_LEAVE','mouseLeave');
y('flash.events.Event.OPEN','open');y('flash.events.Event.PASTE','paste');y('flash.events.Event.REMOVED','removed');y('flash.events.Event.REMOVED_FROM_STAGE',vf);y('flash.events.Event.RENDER','render');y('flash.events.Event.RESIZE',xf);y('flash.events.Event.SCROLL','scroll');y('flash.events.Event.TEXT_INTERACTION_MODE_CHANGE','textInteractionModeChange');y('flash.events.Event.SELECT','select');y('flash.events.Event.SELECT_ALL','selectAll');y('flash.events.Event.SOUND_COMPLETE','soundComplete');
y('flash.events.Event.TAB_CHILDREN_CHANGE','tabChildrenChange');y('flash.events.Event.TAB_ENABLED_CHANGE','tabEnabledChange');y('flash.events.Event.TAB_INDEX_CHANGE','tabIndexChange');y('flash.events.Event.UNLOAD','unload');y('flash.events.Event.FULLSCREEN','fullScreen');y('flash.events.Event.CONTEXT3D_CREATE',cd);y('flash.events.Event.TEXTURE_READY','textureReady');y('flash.events.Event.VIDEO_FRAME','videoFrame');y('flash.events.Event.SUSPEND','suspend');y('flash.events.Event.CHANNEL_MESSAGE','channelMessage');
y('flash.events.Event.CHANNEL_STATE','channelState');y('flash.events.Event.WORKER_STATE','workerState');Sk.prototype.oe=w(null);Sk.prototype.formatToString=Sk.prototype.oe;Sk.prototype.ec=function(a,b,c){this.ie=a;this.Kk=b;this.Lk=c};Sk.prototype.clone=function(){return new Sk(this.type,this.bubbles,this.cancelable)};Sk.prototype.clone=Sk.prototype.clone;Sk.prototype.toString=function(){return this.oe()};Sk.prototype.toString=Sk.prototype.toString;Sk.prototype.stopPropagation=m();
Sk.prototype.stopPropagation=Sk.prototype.stopPropagation;Sk.prototype.stopImmediatePropagation=m();Sk.prototype.stopImmediatePropagation=Sk.prototype.stopImmediatePropagation;Sk.prototype.preventDefault=m();Sk.prototype.preventDefault=Sk.prototype.preventDefault;Sk.prototype.Ul=w(!1);Sk.prototype.isDefaultPrevented=Sk.prototype.Ul;Object.defineProperties(Sk.prototype,{type:{get:t('ie')},bubbles:{get:t('Kk')},cancelable:{get:t('Lk')},eventPhase:{get:w(0)}});Sk.prototype.i={names:[{name:'Event',j:ge}]};
y(ge,Sk);function Tk(){}y('flash.geom.Orientation3D.EULER_ANGLES',ld);y('flash.geom.Orientation3D.AXIS_ANGLE',Rc);y('flash.geom.Orientation3D.QUATERNION',uf);Tk.prototype.i={names:[{name:'Orientation3D',j:ne}]};y(ne,Tk);function U(a,b,c,d){this.x='undefined'!==typeof a?a:0;this.y='undefined'!==typeof b?b:0;this.z='undefined'!==typeof c?c:0;this.w='undefined'!==typeof d?d:0}y('flash.geom.Vector3D.X_AXIS',new U(1,0,0));y('flash.geom.Vector3D.Y_AXIS',new U(0,1,0));y('flash.geom.Vector3D.Z_AXIS',new U(0,0,1));y('flash.geom.Vector3D.angleBetween',function(a,b){var c=a.x*b.x+a.y*b.y+a.z*b.z,c=c/(a.length*b.length);return Math.acos(c)});y('flash.geom.Vector3D.distance',function(a,b){return a.uc(b).length});
U.prototype.clone=function(){return new U(this.x,this.y,this.z,this.w)};U.prototype.clone=U.prototype.clone;U.prototype.qh=function(a){return this.x*a.x+this.y*a.y+this.z*a.z};U.prototype.dotProduct=U.prototype.qh;U.prototype.nh=function(a){return new U(this.y*a.z-this.z*a.y,this.z*a.x-this.x*a.z,this.x*a.y-this.y*a.x,1)};U.prototype.crossProduct=U.prototype.nh;U.prototype.normalize=function(){var a=this.length,b=0!=a?1/a:0;this.x*=b;this.y*=b;this.z*=b;return a};U.prototype.normalize=U.prototype.normalize;
U.prototype.Qh=function(a){this.x*=a;this.y*=a;this.z*=a};U.prototype.scaleBy=U.prototype.Qh;U.prototype.Nl=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};U.prototype.incrementBy=U.prototype.Nl;U.prototype.ol=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};U.prototype.decrementBy=U.prototype.ol;U.prototype.add=function(a){return new U(this.x+a.x,this.y+a.y,this.z+a.z)};U.prototype.add=U.prototype.add;U.prototype.uc=function(a){return new U(this.x-a.x,this.y-a.y,this.z-a.z)};
U.prototype.subtract=U.prototype.uc;U.prototype.gm=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z};U.prototype.negate=U.prototype.gm;U.prototype.Fd=function(a,b){return this.x==a.x&&this.y==a.y&&this.z==a.z&&('undefined'!==typeof b&&b?this.w==a.w:!0)};U.prototype.equals=U.prototype.Fd;U.prototype.fm=function(a,b,c){var d=this.x-a.x;if(d=(0>d?0-d:d)<b)if(d=this.y-a.y,d=0>d?0-d:d,d=d<b)d=this.z-a.z,d=0>d?0-d:d,(d=d<b)&&'undefined'!==typeof c&&c&&(d=this.w=a.w,d=0>d?0-d:d,d=d<b);return d};
U.prototype.nearEquals=U.prototype.fm;U.prototype.qm=function(){var a=1/this.w;this.x*=a;this.y*=a;this.z*=a};U.prototype.project=U.prototype.qm;U.prototype.toString=function(){var a=Hc+this.x+ja+this.y+ja+this.z;return a+ha};U.prototype.toString=U.prototype.toString;U.prototype.ea=function(a){this.x=a.x;this.y=a.y;this.z=a.z};U.prototype.copyFrom=U.prototype.ea;U.prototype.Ob=function(a,b,c){this.x=a;this.y=b;this.z=c};U.prototype.setTo=U.prototype.Ob;
Object.defineProperties(U.prototype,{length:{get:function(){var a=this.x*this.x+this.y*this.y+this.z*this.z;return 0>=a?0:Math.sqrt(a)}},lengthSquared:{get:function(){return this.x*this.x+this.y*this.y+this.z*this.z}}});U.prototype.i={names:[{name:'Vector3D',j:re}]};y(re,U);function V(a){a='undefined'!==typeof a?a:null;this.rawData=null!=a&&16==a.length?a:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1].slice()}var Uk=new V;
V.prototype.append=function(a){var b=this.rawData[0],c=this.rawData[4],d=this.rawData[8],e=this.rawData[12],f=this.rawData[1],g=this.rawData[5],h=this.rawData[9],k=this.rawData[13],l=this.rawData[2],n=this.rawData[6],p=this.rawData[10],u=this.rawData[14],r=this.rawData[3],x=this.rawData[7],v=this.rawData[11],B=this.rawData[15],K=a.rawData[0],La=a.rawData[4],va=a.rawData[8],Ha=a.rawData[12],ga=a.rawData[1],sa=a.rawData[5],ca=a.rawData[9],Ia=a.rawData[13],Qa=a.rawData[2],pb=a.rawData[6],Ub=a.rawData[10],
Vb=a.rawData[14],Wb=a.rawData[3],Xb=a.rawData[7],Yb=a.rawData[11];a=a.rawData[15];this.rawData[0]=b*K+f*La+l*va+r*Ha;this.rawData[1]=b*ga+f*sa+l*ca+r*Ia;this.rawData[2]=b*Qa+f*pb+l*Ub+r*Vb;this.rawData[3]=b*Wb+f*Xb+l*Yb+r*a;this.rawData[4]=c*K+g*La+n*va+x*Ha;this.rawData[5]=c*ga+g*sa+n*ca+x*Ia;this.rawData[6]=c*Qa+g*pb+n*Ub+x*Vb;this.rawData[7]=c*Wb+g*Xb+n*Yb+x*a;this.rawData[8]=d*K+h*La+p*va+v*Ha;this.rawData[9]=d*ga+h*sa+p*ca+v*Ia;this.rawData[10]=d*Qa+h*pb+p*Ub+v*Vb;this.rawData[11]=d*Wb+h*Xb+
p*Yb+v*a;this.rawData[12]=e*K+k*La+u*va+B*Ha;this.rawData[13]=e*ga+k*sa+u*ca+B*Ia;this.rawData[14]=e*Qa+k*pb+u*Ub+B*Vb;this.rawData[15]=e*Wb+k*Xb+u*Yb+B*a};V.prototype.append=V.prototype.append;V.prototype.Uk=function(a,b,c){c='undefined'!==typeof c?c:null;a=Vk(b.x,b.y,b.z,a);null!=c&&a.kf(c.x,c.y,c.z);this.append(a)};V.prototype.appendRotation=V.prototype.Uk;
V.prototype.Vk=function(a,b,c){this.rawData[0]*=a;this.rawData[1]*=a;this.rawData[2]*=a;this.rawData[3]*=a;this.rawData[4]*=b;this.rawData[5]*=b;this.rawData[6]*=b;this.rawData[7]*=b;this.rawData[8]*=c;this.rawData[9]*=c;this.rawData[10]*=c;this.rawData[11]*=c};V.prototype.appendScale=V.prototype.Vk;V.prototype.kf=function(a,b,c){this.rawData[12]+=a;this.rawData[13]+=b;this.rawData[14]+=c};V.prototype.appendTranslation=V.prototype.kf;V.prototype.clone=function(){return new V(this.rawData.concat())};
V.prototype.clone=V.prototype.clone;V.prototype.mf=function(a,b){switch(a){case 0:this.rawData[0]=b.x;this.rawData[1]=b.y;this.rawData[2]=b.z;this.rawData[3]=b.w;break;case 1:this.rawData[4]=b.x;this.rawData[5]=b.y;this.rawData[6]=b.z;this.rawData[7]=b.w;break;case 2:this.rawData[8]=b.x;this.rawData[9]=b.y;this.rawData[10]=b.z;this.rawData[11]=b.w;break;case 3:this.rawData[12]=b.x;this.rawData[13]=b.y;this.rawData[14]=b.z;this.rawData[15]=b.w;break;default:throw Error(xc+a+ba);}};
V.prototype.copyColumnFrom=V.prototype.mf;V.prototype.nf=function(a,b){switch(a){case 0:b.x=this.rawData[0];b.y=this.rawData[1];b.z=this.rawData[2];b.w=this.rawData[3];break;case 1:b.x=this.rawData[4];b.y=this.rawData[5];b.z=this.rawData[6];b.w=this.rawData[7];break;case 2:b.x=this.rawData[8];b.y=this.rawData[9];b.z=this.rawData[10];b.w=this.rawData[11];break;case 3:b.x=this.rawData[12];b.y=this.rawData[13];b.z=this.rawData[14];b.w=this.rawData[15];break;default:throw Error(xc+a+ba);}};
V.prototype.copyColumnTo=V.prototype.nf;V.prototype.ea=function(a){this.rawData=a.rawData.concat()};V.prototype.copyFrom=V.prototype.ea;V.prototype.fl=function(a,b,c){b='undefined'!==typeof b?b:0;(c='undefined'!==typeof c?c:!1)&&this.vc();for(var d=a.length-b,e=0;e<d>>0;){var f=e++;this.rawData[f]=a[f+b]}c&&this.vc()};V.prototype.copyRawDataFrom=V.prototype.fl;
V.prototype.hl=function(a,b,c){b='undefined'!==typeof b?b:0;(c='undefined'!==typeof c?c:!1)&&this.vc();for(var d=this.rawData.length,e=0;e<d>>0;){var f=e++;a[f+b]=this.rawData[f]}c&&this.vc()};V.prototype.copyRawDataTo=V.prototype.hl;
V.prototype.of=function(a,b){switch(a){case 0:this.rawData[0]=b.x;this.rawData[4]=b.y;this.rawData[8]=b.z;this.rawData[12]=b.w;break;case 1:this.rawData[1]=b.x;this.rawData[5]=b.y;this.rawData[9]=b.z;this.rawData[13]=b.w;break;case 2:this.rawData[2]=b.x;this.rawData[6]=b.y;this.rawData[10]=b.z;this.rawData[14]=b.w;break;case 3:this.rawData[3]=b.x;this.rawData[7]=b.y;this.rawData[11]=b.z;this.rawData[15]=b.w;break;default:throw Error('Error, Row '+a+ba);}};V.prototype.copyRowFrom=V.prototype.of;
V.prototype.pf=function(a,b){switch(a){case 0:b.x=this.rawData[0];b.y=this.rawData[4];b.z=this.rawData[8];b.w=this.rawData[12];break;case 1:b.x=this.rawData[1];b.y=this.rawData[5];b.z=this.rawData[9];b.w=this.rawData[13];break;case 2:b.x=this.rawData[2];b.y=this.rawData[6];b.z=this.rawData[10];b.w=this.rawData[14];break;case 3:b.x=this.rawData[3];b.y=this.rawData[7];b.z=this.rawData[11];b.w=this.rawData[15];break;default:throw Error('Error, Row '+a+ba);}};V.prototype.copyRowTo=V.prototype.pf;
V.prototype.il=function(a){a.rawData=this.rawData.concat()};V.prototype.copyToMatrix3D=V.prototype.il;
V.prototype.nl=function(a){a='undefined'!==typeof a?a:null;null==a&&(a=ld);var b=[],c=this.clone().rawData.concat(),d=new U(c[12],c[13],c[14]),e=new U;e.x=Math.sqrt(c[0]*c[0]+c[1]*c[1]+c[2]*c[2]);e.y=Math.sqrt(c[4]*c[4]+c[5]*c[5]+c[6]*c[6]);e.z=Math.sqrt(c[8]*c[8]+c[9]*c[9]+c[10]*c[10]);0>c[0]*(c[5]*c[10]-c[6]*c[9])-c[1]*(c[4]*c[10]-c[6]*c[8])+c[2]*(c[4]*c[9]-c[5]*c[8])&&(e.z=-e.z);c[0]/=e.x;c[1]/=e.x;c[2]/=e.x;c[4]/=e.y;c[5]/=e.y;c[6]/=e.y;c[8]/=e.z;c[9]/=e.z;c[10]/=e.z;var f=new U;switch(a){case Rc:f.w=
Math.acos((c[0]+c[5]+c[10]-1)/2);a=Math.sqrt((c[6]-c[9])*(c[6]-c[9])+(c[8]-c[2])*(c[8]-c[2])+(c[1]-c[4])*(c[1]-c[4]));0!=a?(f.x=(c[6]-c[9])/a,f.y=(c[8]-c[2])/a,f.z=(c[1]-c[4])/a):f.x=f.y=f.z=0;break;case uf:a=c[0]+c[5]+c[10];0<a?(f.w=Math.sqrt(1+a)/2,f.x=(c[6]-c[9])/(4*f.w),f.y=(c[8]-c[2])/(4*f.w),f.z=(c[1]-c[4])/(4*f.w)):c[0]>c[5]&&c[0]>c[10]?(f.x=Math.sqrt(1+c[0]-c[5]-c[10])/2,f.w=(c[6]-c[9])/(4*f.x),f.y=(c[1]+c[4])/(4*f.x),f.z=(c[8]+c[2])/(4*f.x)):c[5]>c[10]?(f.y=Math.sqrt(1+c[5]-c[0]-c[10])/2,
f.x=(c[1]+c[4])/(4*f.y),f.w=(c[8]-c[2])/(4*f.y),f.z=(c[6]+c[9])/(4*f.y)):(f.z=Math.sqrt(1+c[10]-c[0]-c[5])/2,f.x=(c[8]+c[2])/(4*f.z),f.y=(c[6]+c[9])/(4*f.z),f.w=(c[1]-c[4])/(4*f.z));break;case ld:f.y=Math.asin(-c[2]),1!=c[2]&&-1!=c[2]?(f.x=Math.atan2(c[6],c[10]),f.z=Math.atan2(c[1],c[0])):(f.z=0,f.x=Math.atan2(c[4],c[5]))}b.push(d);b.push(f);b.push(e);return b};V.prototype.decompose=V.prototype.nl;
V.prototype.rl=function(a){var b=a.x,c=a.y;a=a.z;return new U(b*this.rawData[0]+c*this.rawData[4]+a*this.rawData[8]+this.rawData[3],b*this.rawData[1]+c*this.rawData[5]+a*this.rawData[9]+this.rawData[7],b*this.rawData[2]+c*this.rawData[6]+a*this.rawData[10]+this.rawData[11],0)};V.prototype.deltaTransformVector=V.prototype.rl;
V.prototype.Ic=function(){this.rawData[0]=1;this.rawData[1]=0;this.rawData[2]=0;this.rawData[3]=0;this.rawData[4]=0;this.rawData[5]=1;this.rawData[6]=0;this.rawData[7]=0;this.rawData[8]=0;this.rawData[9]=0;this.rawData[10]=1;this.rawData[11]=0;this.rawData[12]=0;this.rawData[13]=0;this.rawData[14]=0;this.rawData[15]=1};V.prototype.identity=V.prototype.Ic;V.prototype.Pl=function(a,b){for(var c=0;16>c;){var d=c++;this.rawData[d]+=(a.rawData[d]-this.rawData[d])*b}};V.prototype.interpolateTo=V.prototype.Pl;
V.prototype.Kc=function(){var a=this.determinant,b=1E-11<Math.abs(a);if(b){var a=1/a,c=this.rawData[0],d=this.rawData[4],e=this.rawData[8],f=this.rawData[12],g=this.rawData[1],h=this.rawData[5],k=this.rawData[9],l=this.rawData[13],n=this.rawData[2],p=this.rawData[6],u=this.rawData[10],r=this.rawData[14],x=this.rawData[3],v=this.rawData[7],B=this.rawData[11],K=this.rawData[15];this.rawData[0]=a*(h*(u*K-r*B)-k*(p*K-r*v)+l*(p*B-u*v));this.rawData[1]=-a*(g*(u*K-r*B)-k*(n*K-r*x)+l*(n*B-u*x));this.rawData[2]=
a*(g*(p*K-r*v)-h*(n*K-r*x)+l*(n*v-p*x));this.rawData[3]=-a*(g*(p*B-u*v)-h*(n*B-u*x)+k*(n*v-p*x));this.rawData[4]=-a*(d*(u*K-r*B)-e*(p*K-r*v)+f*(p*B-u*v));this.rawData[5]=a*(c*(u*K-r*B)-e*(n*K-r*x)+f*(n*B-u*x));this.rawData[6]=-a*(c*(p*K-r*v)-d*(n*K-r*x)+f*(n*v-p*x));this.rawData[7]=a*(c*(p*B-u*v)-d*(n*B-u*x)+e*(n*v-p*x));this.rawData[8]=a*(d*(k*K-l*B)-e*(h*K-l*v)+f*(h*B-k*v));this.rawData[9]=-a*(c*(k*K-l*B)-e*(g*K-l*x)+f*(g*B-k*x));this.rawData[10]=a*(c*(h*K-l*v)-d*(g*K-l*x)+f*(g*v-h*x));this.rawData[11]=
-a*(c*(h*B-k*v)-d*(g*B-k*x)+e*(g*v-h*x));this.rawData[12]=-a*(d*(k*r-l*u)-e*(h*r-l*p)+f*(h*u-k*p));this.rawData[13]=a*(c*(k*r-l*u)-e*(g*r-l*n)+f*(g*u-k*n));this.rawData[14]=-a*(c*(h*r-l*p)-d*(g*r-l*n)+f*(g*p-h*n));this.rawData[15]=a*(c*(h*u-k*p)-d*(g*u-k*n)+e*(g*p-h*n))}return b};V.prototype.invert=V.prototype.Kc;
V.prototype.lm=function(a,b,c){b='undefined'!==typeof b?b:null;c='undefined'!==typeof c?c:null;null==b&&(b=new U(0,0,-1));null==c&&(c=new U(0,-1,0));b=b.uc(a);c=c.clone();var d;b.normalize();c.normalize();d=b.clone();d.Qh(c.qh(b));c=c.uc(d);0<c.length?c.normalize():c=0!=b.x?new U(-b.y,b.x,0):new U(1,0,0);d=c.nh(b);d.normalize();this.rawData[0]=d.x;this.rawData[4]=d.y;this.rawData[8]=d.z;this.rawData[12]=0;this.rawData[1]=c.x;this.rawData[5]=c.y;this.rawData[9]=c.z;this.rawData[13]=0;this.rawData[2]=
b.x;this.rawData[6]=b.y;this.rawData[10]=b.z;this.rawData[14]=0;this.rawData[3]=a.x;this.rawData[7]=a.y;this.rawData[11]=a.z;this.rawData[15]=1};V.prototype.pointAt=V.prototype.lm;
V.prototype.Nf=function(a){var b=a.rawData[0],c=a.rawData[4],d=a.rawData[8],e=a.rawData[12],f=a.rawData[1],g=a.rawData[5],h=a.rawData[9],k=a.rawData[13],l=a.rawData[2],n=a.rawData[6],p=a.rawData[10],u=a.rawData[14],r=a.rawData[3],x=a.rawData[7],v=a.rawData[11];a=a.rawData[15];var B=this.rawData[0],K=this.rawData[4],La=this.rawData[8],va=this.rawData[12],Ha=this.rawData[1],ga=this.rawData[5],sa=this.rawData[9],ca=this.rawData[13],Ia=this.rawData[2],Qa=this.rawData[6],pb=this.rawData[10],Ub=this.rawData[14],
Vb=this.rawData[3],Wb=this.rawData[7],Xb=this.rawData[11],Yb=this.rawData[15];this.rawData[0]=b*B+f*K+l*La+r*va;this.rawData[1]=b*Ha+f*ga+l*sa+r*ca;this.rawData[2]=b*Ia+f*Qa+l*pb+r*Ub;this.rawData[3]=b*Vb+f*Wb+l*Xb+r*Yb;this.rawData[4]=c*B+g*K+n*La+x*va;this.rawData[5]=c*Ha+g*ga+n*sa+x*ca;this.rawData[6]=c*Ia+g*Qa+n*pb+x*Ub;this.rawData[7]=c*Vb+g*Wb+n*Xb+x*Yb;this.rawData[8]=d*B+h*K+p*La+v*va;this.rawData[9]=d*Ha+h*ga+p*sa+v*ca;this.rawData[10]=d*Ia+h*Qa+p*pb+v*Ub;this.rawData[11]=d*Vb+h*Wb+p*Xb+
v*Yb;this.rawData[12]=e*B+k*K+u*La+a*va;this.rawData[13]=e*Ha+k*ga+u*sa+a*ca;this.rawData[14]=e*Ia+k*Qa+u*pb+a*Ub;this.rawData[15]=e*Vb+k*Wb+u*Xb+a*Yb};V.prototype.prepend=V.prototype.Nf;V.prototype.mm=function(a,b,c){c='undefined'!==typeof c?c:null;a=Vk(b.x,b.y,b.z,a);null!=c&&a.kf(c.x,c.y,c.z);this.Nf(a)};V.prototype.prependRotation=V.prototype.mm;
V.prototype.nm=function(a,b,c){this.rawData[0]*=a;this.rawData[1]*=b;this.rawData[2]*=c;this.rawData[4]*=a;this.rawData[5]*=b;this.rawData[6]*=c;this.rawData[8]*=a;this.rawData[9]*=b;this.rawData[10]*=c;this.rawData[12]*=a;this.rawData[13]*=b;this.rawData[14]*=c};V.prototype.prependScale=V.prototype.nm;V.prototype.om=function(a,b,c){Uk.Ic();Uk.position=new U(a,b,c);this.Nf(Uk)};V.prototype.prependTranslation=V.prototype.om;
V.prototype.Cm=function(a,b){b='undefined'!==typeof b?b:null;if(3>a.length||0==a[2].x||0==a[2].y||0==a[2].z)return!1;null==b&&(b=ld);this.Ic();var c=[];c[0]=c[1]=c[2]=a[2].x;c[4]=c[5]=c[6]=a[2].y;c[8]=c[9]=c[10]=a[2].z;switch(b){case ld:var d=Math.cos(a[1].x),e=Math.cos(a[1].y),f=Math.cos(a[1].z),g=Math.sin(a[1].x),h=Math.sin(a[1].y),k=Math.sin(a[1].z);this.rawData[0]=e*f*c[0];this.rawData[1]=e*k*c[1];this.rawData[2]=-h*c[2];this.rawData[3]=0;this.rawData[4]=(g*h*f-d*k)*c[4];this.rawData[5]=(g*h*
k+d*f)*c[5];this.rawData[6]=g*e*c[6];this.rawData[7]=0;this.rawData[8]=(d*h*f+g*k)*c[8];this.rawData[9]=(d*h*k-g*f)*c[9];this.rawData[10]=d*e*c[10];this.rawData[11]=0;this.rawData[12]=a[0].x;this.rawData[13]=a[0].y;this.rawData[14]=a[0].z;this.rawData[15]=1;break;default:d=a[1].x,e=a[1].y,f=a[1].z,g=a[1].w,b==Rc&&(d*=Math.sin(g/2),e*=Math.sin(g/2),f*=Math.sin(g/2),g=Math.cos(g/2)),this.rawData[0]=(1-2*e*e-2*f*f)*c[0],this.rawData[1]=(2*d*e+2*g*f)*c[1],this.rawData[2]=(2*d*f-2*g*e)*c[2],this.rawData[3]=
0,this.rawData[4]=(2*d*e-2*g*f)*c[4],this.rawData[5]=(1-2*d*d-2*f*f)*c[5],this.rawData[6]=(2*e*f+2*g*d)*c[6],this.rawData[7]=0,this.rawData[8]=(2*d*f+2*g*e)*c[8],this.rawData[9]=(2*e*f-2*g*d)*c[9],this.rawData[10]=(1-2*d*d-2*e*e)*c[10],this.rawData[11]=0,this.rawData[12]=a[0].x,this.rawData[13]=a[0].y,this.rawData[14]=a[0].z,this.rawData[15]=1}0==a[2].x&&(this.rawData[0]=1E-15);0==a[2].y&&(this.rawData[5]=1E-15);0==a[2].z&&(this.rawData[10]=1E-15);return!(0==a[2].x||0==a[2].y||0==a[2].y)};
V.prototype.recompose=V.prototype.Cm;V.prototype.cn=function(a){var b=a.x,c=a.y;a=a.z;return new U(b*this.rawData[0]+c*this.rawData[4]+a*this.rawData[8]+this.rawData[12],b*this.rawData[1]+c*this.rawData[5]+a*this.rawData[9]+this.rawData[13],b*this.rawData[2]+c*this.rawData[6]+a*this.rawData[10]+this.rawData[14],b*this.rawData[3]+c*this.rawData[7]+a*this.rawData[11]+this.rawData[15])};V.prototype.transformVector=V.prototype.cn;
V.prototype.dn=function(a,b){for(var c=0;c+3<=a.length;){var d=a[c],e=a[c+1],f=a[c+2];b[c]=d*this.rawData[0]+e*this.rawData[4]+f*this.rawData[8]+this.rawData[12];b[c+1]=d*this.rawData[1]+e*this.rawData[5]+f*this.rawData[9]+this.rawData[13];b[c+2]=d*this.rawData[2]+e*this.rawData[6]+f*this.rawData[10]+this.rawData[14];c+=3}};V.prototype.transformVectors=V.prototype.dn;
V.prototype.vc=function(){var a=this.rawData.concat();this.rawData[1]=a[4];this.rawData[2]=a[8];this.rawData[3]=a[12];this.rawData[4]=a[1];this.rawData[6]=a[9];this.rawData[7]=a[13];this.rawData[8]=a[2];this.rawData[9]=a[6];this.rawData[11]=a[14];this.rawData[12]=a[3];this.rawData[13]=a[7];this.rawData[14]=a[11]};V.prototype.transpose=V.prototype.vc;y('flash.geom.Matrix3D.interpolate',function(a,b,c){for(var d=new V,e=0;16>e;){var f=e++;d.rawData[f]=a.rawData[f]+(b.rawData[f]-a.rawData[f])*c}return d});
function Vk(a,b,c,d){var e;e=('undefined'!==typeof e?e:null)||new V;d=Math.PI/180*-d;var f=Math.cos(d);d=Math.sin(d);var g=1-f;e.rawData[0]=f+a*a*g;e.rawData[5]=f+b*b*g;e.rawData[10]=f+c*c*g;var f=a*b*g,h=c*d;e.rawData[4]=f+h;e.rawData[1]=f-h;f=a*c*g;h=b*d;e.rawData[8]=f-h;e.rawData[2]=f+h;f=b*c*g;h=a*d;e.rawData[9]=f+h;e.rawData[6]=f-h;return e}
Object.defineProperties(V.prototype,{determinant:{get:function(){return(this.rawData[0]*this.rawData[5]-this.rawData[4]*this.rawData[1])*(this.rawData[10]*this.rawData[15]-this.rawData[14]*this.rawData[11])-(this.rawData[0]*this.rawData[9]-this.rawData[8]*this.rawData[1])*(this.rawData[6]*this.rawData[15]-this.rawData[14]*this.rawData[7])+(this.rawData[0]*this.rawData[13]-this.rawData[12]*this.rawData[1])*(this.rawData[6]*this.rawData[11]-this.rawData[10]*this.rawData[7])+(this.rawData[4]*this.rawData[9]-
this.rawData[8]*this.rawData[5])*(this.rawData[2]*this.rawData[15]-this.rawData[14]*this.rawData[3])-(this.rawData[4]*this.rawData[13]-this.rawData[12]*this.rawData[5])*(this.rawData[2]*this.rawData[11]-this.rawData[10]*this.rawData[3])+(this.rawData[8]*this.rawData[13]-this.rawData[12]*this.rawData[9])*(this.rawData[2]*this.rawData[7]-this.rawData[6]*this.rawData[3])}},position:{get:function(){return new U(this.rawData[12],this.rawData[13],this.rawData[14])},set:function(a){this.rawData[12]=a.x;
this.rawData[13]=a.y;this.rawData[14]=a.z}}});V.prototype.i={names:[{name:'Matrix3D',j:me}]};y(me,V);function Wk(){}y('flash.utils.Endian.BIG_ENDIAN',Wc);y('flash.utils.Endian.LITTLE_ENDIAN',Ie);Wk.prototype.i={names:[{name:'Endian',j:te}]};y(te,Wk);function W(){this.Ng=Wc;this.dataView=new DataView(new ArrayBuffer(0))}W.prototype.Ua=!1;W.prototype.m=0;W.prototype.Qg=0;W.prototype.sm=function(a,b,c){a.position='undefined'!==typeof b?b:0;a.ci(this,this.position,'undefined'!==typeof c?c:0)};W.prototype.readBytes=W.prototype.sm;W.prototype.ci=function(a,b,c){b='undefined'!==typeof b?b:0;c='undefined'!==typeof c?c:0;0==c&&(c=a.length-b);Xk(this,c);a.position=b;for(b=0;b<c;b++)this.bg(a.Mh())};W.prototype.writeBytes=W.prototype.ci;
W.prototype.jn=function(a){Xk(this,1);this.dataView.setInt8(this.m,a?1:0);this.m++};W.prototype.writeBoolean=W.prototype.jn;W.prototype.bg=function(a){Xk(this,1);this.dataView.setInt8(this.m,a);this.m++};W.prototype.writeByte=W.prototype.bg;W.prototype.ei=function(a){Xk(this,2);this.dataView.setInt16(this.m,a,this.Ua);this.m+=2};W.prototype.writeShort=W.prototype.ei;W.prototype.mn=function(a){Xk(this,4);this.dataView.setInt32(this.m,a,this.Ua);this.m+=4};W.prototype.writeInt=W.prototype.mn;
W.prototype.pn=function(a){Xk(this,4);this.dataView.setUint32(this.m,a,this.Ua);this.m+=4};W.prototype.writeUnsignedInt=W.prototype.pn;W.prototype.ln=function(a){Xk(this,4);this.dataView.setFloat32(this.m,a,this.Ua);this.m+=4};W.prototype.writeFloat=W.prototype.ln;W.prototype.kn=function(a){Xk(this,8);this.dataView.setFloat64(this.m,a,this.Ua);this.m+=8};W.prototype.writeDouble=W.prototype.kn;
W.prototype.di=function(a,b){function c(a){return a.charCodeAt(0)}try{var d=(new TextEncoder(b)).encode(a)}catch(f){d=new Uint8Array(a.split(aa).map(c))}for(var e=0;e<d.length;e++)this.bg(d[e])};W.prototype.writeMultiByte=W.prototype.di;W.prototype.on=function(a){var b=this.m+=2;this.Uc(a);a=this.m;this.m=b-2;this.ei(b-a);this.m=a};W.prototype.writeUTF=W.prototype.on;W.prototype.Uc=function(a){this.di(a,Qf)};W.prototype.writeUTFBytes=W.prototype.Uc;
W.prototype.rm=function(){var a=0!=this.dataView.getInt8(this.m);this.m++;return a};W.prototype.readBoolean=W.prototype.rm;W.prototype.Mh=function(){var a=this.dataView.getInt8(this.m);this.m++;return a};W.prototype.readByte=W.prototype.Mh;W.prototype.Am=function(){var a=this.dataView.getUint8(this.m);this.m++;return a};W.prototype.readUnsignedByte=W.prototype.Am;W.prototype.ym=function(){var a=this.dataView.getInt16(this.m,this.Ua);this.m+=2;return a};W.prototype.readShort=W.prototype.ym;
W.prototype.Oh=function(){var a=this.dataView.getUint16(this.m,this.Ua);this.m+=2;return a};W.prototype.readUnsignedShort=W.prototype.Oh;W.prototype.wm=function(){var a=this.dataView.getInt32(this.m,this.Ua);this.m+=4;return a};W.prototype.readInt=W.prototype.wm;W.prototype.Bm=function(){var a=this.dataView.getUint32(this.m,this.Ua);this.m+=4;return a};W.prototype.readUnsignedInt=W.prototype.Bm;W.prototype.um=function(){var a=this.dataView.getFloat32(this.m,this.Ua);this.m+=4;return a};
W.prototype.readFloat=W.prototype.um;W.prototype.tm=function(){var a=this.dataView.getFloat64(this.m,this.Ua);this.m+=8;return a};W.prototype.readDouble=W.prototype.tm;W.prototype.Nh=function(a,b){var c=new Uint8Array(a);c.set(new Uint8Array(this.dataView.buffer.slice(this.m,this.m+a)));this.m+=a;try{var d=(new TextDecoder(b)).decode(c)}catch(e){d=String.fromCharCode.apply(null,c)}return d};W.prototype.readMultiByte=W.prototype.Nh;W.prototype.zm=function(){return this.Qd(this.Oh())};
W.prototype.readUTF=W.prototype.zm;W.prototype.Qd=function(a){return this.Nh(a,Qf)};W.prototype.readUTFBytes=W.prototype.Qd;function Xk(a,b){a.m+b>a.length&&(a.length=a.m+b)}W.prototype.nn=m();W.prototype.writeObject=W.prototype.nn;W.prototype.xm=w(null);W.prototype.readObject=W.prototype.xm;W.prototype.pl=m();W.prototype.deflate=W.prototype.pl;W.prototype.al=m();W.prototype.compress=W.prototype.al;W.prototype.Hd=m();W.prototype.inflate=W.prototype.Hd;W.prototype.en=m();W.prototype.uncompress=W.prototype.en;
W.prototype.toString=function(){this.position=0;return this.Qd(this.length)};W.prototype.toString=W.prototype.toString;W.prototype.clear=function(){this.length=this.position=0};W.prototype.clear=W.prototype.clear;W.prototype.Yk=w(0);W.prototype.atomicCompareAndSwapIntAt=W.prototype.Yk;W.prototype.Zk=w(0);W.prototype.atomicCompareAndSwapLength=W.prototype.Zk;
Object.defineProperties(W.prototype,{length:{get:t('Qg'),set:function(a){this.Qg=a;var b=new Uint8Array(a);b.set(new Uint8Array(this.dataView.buffer.byteLength>a?this.dataView.buffer.slice(0,a):this.dataView.buffer));this.dataView=new DataView(b.buffer)}},bytesAvailable:{get:function(){return this.length-this.position}},position:{get:t('m'),set:q('m')},objectEncoding:{get:w(0),set:m()},endian:{get:t('Ng'),set:function(a){this.Ng=a;this.Ua=a==Ie}},shareable:{get:w(!1),set:m()}});
Object.defineProperties(W,{defaultObjectEncoding:{get:w(0),set:m()}});W.prototype.i={names:[{name:'ByteArray',j:se}]};y(se,W);function X(a,b){b='undefined'!==typeof b?b:!1;this.Zh={};this.ga=new V;this.Z=new V;this.matr=new Q;this.P=new Q;this.Ad=[];this.Uf=[];this.Lh={};this.bi={};this.gh={};this.xh={};this.yb=new vk(null,null,null);this.Tl=b;this.stage=a;this.canvas=a.canvas;this.ctx=new T;this.ctx.canvas=this.canvas;this.ctx.gl=z(this.canvas.getContext(Wf,{alpha:!1})||this.canvas.getContext(nd,{alpha:!1}),WebGLRenderingContext);this.Xh();this.ctx.Rh(Cf,mf);this.ctx.Sh(ef);var c=new Float32Array([0,0,1,0,0,1,1,1]),d=new Uint16Array([0,
2,1,2,1,3]);this.eh=new vk(c,c,d);var e=Pc,c=rf;this.fh=this.ctx.createProgram();d=new W;d.Uc(e);e=new W;e.Uc(c);this.fh.upload(d,e);e=Qc;c=sf;this.hh=this.ctx.createProgram();d=new W;d.Uc(e);e=new W;e.Uc(c);this.hh.upload(d,e);a.addEventListener(xf,mg(this.Xh,this,Ff));b&&a.addEventListener(jd,mg(this.Wm,this,Ef))}X.prototype.Vf=-1;X.prototype.Xh=function(){this.ctx.ih(this.stage.stageWidth,this.stage.stageHeight,0,!1)};X.prototype.arc=function(a,b,c,d,e){this.currentPath.path.arc(a,b,c,d,e);return null};
X.prototype.arc=X.prototype.arc;X.prototype.arcTo=w(null);X.prototype.arcTo=X.prototype.arcTo;X.prototype.beginPath=function(){this.currentPath=new yk;this.currentPath.path=z(nk.Bd(),xk);this.currentPath.matr.ea(this.matr);return null};X.prototype.beginPath=X.prototype.beginPath;X.prototype.bezierCurveTo=function(a,b,c,d,e,f){this.currentPath.path.jb(a,b,c,d,e,f);return null};X.prototype.bezierCurveTo=X.prototype.bezierCurveTo;
X.prototype.clearRect=function(){this.ctx.clear(1,1,1);this.Ad.length=0;return null};X.prototype.clearRect=X.prototype.clearRect;X.prototype.clip=w(null);X.prototype.clip=X.prototype.clip;X.prototype.closePath=w(null);X.prototype.closePath=X.prototype.closePath;X.prototype.createImageData=w(null);X.prototype.createImageData=X.prototype.createImageData;X.prototype.createLinearGradient=w(null);X.prototype.createLinearGradient=X.prototype.createLinearGradient;
X.prototype.createPattern=function(a,b){return new qk(a,b)};X.prototype.createPattern=X.prototype.createPattern;X.prototype.createRadialGradient=w(null);X.prototype.createRadialGradient=X.prototype.createRadialGradient;X.prototype.drawImage=function(a){this.Cd(a,this.eh,this.matr,null,!0,[this.globalRed,this.globalGreen,this.globalBlue,this.globalAlpha]);return null};X.prototype.drawImage=X.prototype.drawImage;
X.prototype.ne=function(a){this.currentPath=a.glpath2d;null==a.glpath2d&&(this.currentPath=a.glpath2d=new yk);this.currentPath.path=z(a,xk);this.currentPath.matr.ea(this.matr);return null};X.prototype.drawPath=X.prototype.ne;X.prototype.Cd=function(a,b,c,d,e,f){if(this.Tl)this.Ad.push([a,b,c?c.clone():null,d?d.clone():null,e,f]);else{var g=b.color;g.oa=!0;for(var g=g.data,h=g.length,k=0;k<h;k+=4)g[k]=f[0],g[k+1]=f[1],g[k+2]=f[2],g[k+3]=f[3];this.Sc(a,b,c,d,e)}};X.prototype.drawImageInternal=X.prototype.Cd;
X.prototype.Sc=function(a,b,c,d,e){lk++;if(jg(a,Array))this.ctx.Rf(this.hh);else{var f,g=a.Qk;if(null==g){f=Yk(a.width);var h=Yk(a.height),g=new S(f,h,!0,0);g.rf(a);var k=this.ctx.createTexture(f,h,Vc,!1);k.Tc(g,1);g=new pk;g.img=a;g.texture=k;g.width=f;g.height=h;a.Qk=g}f=g;this.ctx.Rf(this.fh);this.ctx.Vh(0,f.texture);this.ctx.ze(2,b.uv.fc(this.ctx),0,ve)}this.ctx.ze(0,b.pos.fc(this.ctx),0,ve);this.ctx.ze(1,b.color.fc(this.ctx),0,xe);c?(this.ga.rawData[0]=2*c.a/this.stage.stageWidth,this.ga.rawData[1]=
2*-c.b/this.stage.stageHeight,this.ga.rawData[4]=2*c.c/this.stage.stageWidth,this.ga.rawData[5]=2*-c.d/this.stage.stageHeight,this.ga.rawData[12]=2*c.tx/this.stage.stageWidth-1,this.ga.rawData[13]=1-2*c.ty/this.stage.stageHeight):(this.ga.rawData[0]=2/this.stage.stageWidth,this.ga.rawData[1]=0,this.ga.rawData[4]=0,this.ga.rawData[5]=-2/this.stage.stageHeight,this.ga.rawData[12]=-1,this.ga.rawData[13]=1);e&&(this.ga.rawData[0]*=a.width,this.ga.rawData[1]*=a.width,this.ga.rawData[4]*=a.height,this.ga.rawData[5]*=
a.height);this.ctx.Sf(Vf,0,this.ga);jg(a,Array)||(d?(c?(this.P.ea(c),this.P.Kc(),this.P.concat(d)):this.P.ea(d),this.Z.rawData[0]=this.P.a/f.width,this.Z.rawData[1]=-this.P.b/f.width,this.Z.rawData[4]=-this.P.c/f.height,this.Z.rawData[5]=this.P.d/f.height,this.Z.rawData[12]=-this.P.tx/f.width,this.Z.rawData[13]=-this.P.ty/f.height,e&&(this.Z.rawData[0]*=a.width,this.Z.rawData[1]*=a.width,this.Z.rawData[4]*=a.height,this.Z.rawData[5]*=a.height)):(this.Z.rawData[0]=1/f.width,this.Z.rawData[1]=0,this.Z.rawData[4]=
0,this.Z.rawData[5]=1/f.height,this.Z.rawData[12]=0,this.Z.rawData[13]=0,e&&(this.Z.rawData[0]*=a.width,this.Z.rawData[5]*=a.height)),this.ctx.Sf(Vf,4,this.Z));this.ctx.Dd(b.index.fc(this.ctx),0,b.Lf)};
X.prototype.Wm=function(){lk=0;for(var a=this.Ad.length,b=[],c,d,e=0;e<=a;e++){var f=this.Ad[e]||[],g=f[0],h=f[1];jg(d,Array)&&jg(g,Array)||d==g||(c&&(c[1]=e-1),g&&(c=[e,-1,0,0,g],b.push(c),d=g));h&&(c[2]+=h.pos.data.length/2,c[3]+=h.index.data.length/3)}a=b.length;for(e=0;e<a;e++){c=b[e];g=c[4];d=!jg(g,Array);var k=c[3],l=Yk(c[2]),n=Yk(k),p=this.Lh[l],u=this.bi[l],h=this.gh[l],f=this.xh[n];null==p&&(p=this.Lh[l]=new uk(new Float32Array(2*l),2,qf),lg(Uc,l));null==u&&d&&(u=this.bi[l]=new uk(new Float32Array(2*
l),2,Rf));null==h&&(h=this.gh[l]=new uk(new Float32Array(4*l),4,bd));null==f&&(f=this.xh[n]=new tk(new Uint16Array(3*n)),lg(Tc,n));l=p.data;if(d)var r=u.data;var n=h.data,x=f.data;this.yb.index=f;this.yb.pos=p;this.yb.uv=u;this.yb.color=h;this.yb.Lf=k;p=k=0;if(d)var v=g.width,B=g.height;for(u=c[0];u<=c[1];u++){var f=this.Ad[u],h=f[1],K=f[2],La=f[4],va=f[5];if(d){var Ha=f[3];Ha&&(this.P.ea(K),this.P.Kc(),this.P.concat(Ha),this.P.b*=-1,this.P.c*=-1,this.P.tx*=-1,this.P.ty*=-1)}var ga=h.pos.data;if(d)var sa=
h.uv.data;for(var f=ga.length/2,ca=0;ca<f;ca++){var Ia=ga[2*ca],Qa=ga[2*ca+1];La&&(Ia*=v,Qa*=B);var pb=K.a*Ia+K.c*Qa+K.tx,Ia=K.d*Qa+K.b*Ia+K.ty;l[2*(k+ca)]=pb;l[2*(k+ca)+1]=Ia;d&&(Ia=sa[2*ca],Qa=sa[2*ca+1],La&&(Ia*=v,Qa*=B),Ha?(pb=this.P.a*Ia+this.P.c*Qa+this.P.tx,Ia=this.P.d*Qa+this.P.b*Ia+this.P.ty,r[2*(k+ca)]=pb,r[2*(k+ca)+1]=Ia):(r[2*(k+ca)]=Ia,r[2*(k+ca)+1]=Qa));n[4*(k+ca)]=va[0];n[4*(k+ca)+1]=va[1];n[4*(k+ca)+2]=va[2];n[4*(k+ca)+3]=va[3]}h=h.index.data;K=h.length;for(ca=0;ca<K;ca++)x[p+ca]=
h[ca]+k;k+=f;p+=K}this.yb.index.oa=!0;this.yb.pos.oa=!0;d&&(this.yb.uv.oa=!0);this.yb.color.oa=!0;this.Sc(g,this.yb,null,null,!1)}};X.prototype.fill=function(){if(jg(this.fillStyle,qk)){var a=z(this.fillStyle,qk);this.Cd(a.image,this.currentPath.drawable,this.currentPath.matr,this.matr,!1,[this.globalRed,this.globalGreen,this.globalBlue,this.globalAlpha])}else this.Cd(this.fillStyle,this.currentPath.drawable,this.currentPath.matr,null,!1,this.fillStyle);return null};X.prototype.fill=X.prototype.fill;
X.prototype.fillRect=w(null);X.prototype.fillRect=X.prototype.fillRect;
X.prototype.fillText=function(a,b,c){var d=this.Zh[a];if(null==d){var d=this.Zh[a]=z(document.createElement(Yc),HTMLCanvasElement),e=z(d.getContext(Ca),CanvasRenderingContext2D);e.font=this.font;var f=e.measureText(a);d.width=f.width;d.height=this.font.substr(0,this.font.indexOf(tf))>>0;e.font=this.font;e.textBaseline=Hf;e.fillStyle=this.fillStyle;e.fillText(a,0,0)}this.P.ea(this.matr);this.P.translate(b,c);this.Cd(d,this.eh,this.P,null,!0,[this.globalRed,this.globalGreen,this.globalBlue,this.globalAlpha]);
return null};X.prototype.fillText=X.prototype.fillText;X.prototype.getImageData=w(null);X.prototype.getImageData=X.prototype.getImageData;X.prototype.isPointInPath=w(!1);X.prototype.isPointInPath=X.prototype.isPointInPath;X.prototype.lineTo=function(a,b){this.currentPath.path.lineTo(a,b);return null};X.prototype.lineTo=X.prototype.lineTo;X.prototype.measureText=w(null);X.prototype.measureText=X.prototype.measureText;X.prototype.moveTo=function(a,b){this.currentPath.path.moveTo(a,b);return null};
X.prototype.moveTo=X.prototype.moveTo;X.prototype.putImageData=w(null);X.prototype.putImageData=X.prototype.putImageData;X.prototype.quadraticCurveTo=function(a,b,c,d){this.currentPath.path.Fa(a,b,c,d);return null};X.prototype.quadraticCurveTo=X.prototype.quadraticCurveTo;X.prototype.rect=function(a,b,c,d){this.currentPath.path.moveTo(a,b);this.currentPath.path.lineTo(a+c,b);this.currentPath.path.lineTo(a+c,b+d);this.currentPath.path.lineTo(a,b+d);this.currentPath.path.closePath();return null};
X.prototype.rect=X.prototype.rect;X.prototype.restore=function(){var a=this.Uf[this.Vf--];this.matr.ea(a.matr);return null};X.prototype.restore=X.prototype.restore;X.prototype.rotate=function(a){this.matr.rotate(a);return null};X.prototype.rotate=X.prototype.rotate;X.prototype.save=function(){var a=this.Uf[++this.Vf];null==a&&(a=this.Uf[this.Vf]=new sk);a.matr.ea(this.matr);return null};X.prototype.save=X.prototype.save;X.prototype.scale=function(a,b){this.matr.scale(a,b);return null};
X.prototype.scale=X.prototype.scale;X.prototype.setTransform=function(a,b,c,d,e,f){this.matr.Ob(a,b,c,d,e,f);return null};X.prototype.setTransform=X.prototype.setTransform;X.prototype.stroke=w(null);X.prototype.stroke=X.prototype.stroke;X.prototype.strokeRect=w(null);X.prototype.strokeRect=X.prototype.strokeRect;X.prototype.strokeText=w(null);X.prototype.strokeText=X.prototype.strokeText;X.prototype.transform=function(a,b,c,d,e,f){this.P.Ob(a,b,c,d,e,f);this.matr.concat(this.P);return null};
X.prototype.transform=X.prototype.transform;X.prototype.translate=function(a,b){this.matr.translate(a,b);return null};X.prototype.translate=X.prototype.translate;function Yk(a){for(var b=1;b<a;)b*=2;return b}X.prototype.i={names:[{name:'GLCanvasRenderingContext2D',j:sd}]};y(sd,X);function Zk(){Kk.call(this)}dg(Zk,Kk);Zk.prototype.Ph=function(){this.ef=new T;var a=z(document.createElement(Yc),HTMLCanvasElement);this.ef.canvas=a;a.style.position=Mc;a.style.left=0;a.style.top=0;a.style.zIndex=0;document.body.appendChild(a);this.ef.gl=z(a.getContext(Wf,{alpha:!1})||a.getContext(nd,{alpha:!1}),WebGLRenderingContext);this.dispatchEvent(new Sk(cd))};Zk.prototype.requestContext3D=Zk.prototype.Ph;Zk.prototype.Em=function(){this.Ph()};Zk.prototype.requestContext3DMatchingProfiles=Zk.prototype.Em;
Object.defineProperties(Zk.prototype,{context3D:{get:t('ef')},x:{get:w(0),set:m()},y:{get:w(0),set:m()},visible:{get:w(!1),set:m()}});Zk.prototype.i={names:[{name:'Stage3D',j:Rd}]};y(Rd,Zk);function $k(a,b,c,d,e,f,g,h,k,l,n){d='undefined'!==typeof d?d:void 0;e='undefined'!==typeof e?e:void 0;f='undefined'!==typeof f?f:null;g='undefined'!==typeof g?g:!1;h='undefined'!==typeof h?h:!1;k='undefined'!==typeof k?k:!1;l='undefined'!==typeof l?l:!1;n='undefined'!==typeof n?n:0;Sk.call(this,a,'undefined'!==typeof b?b:!0,'undefined'!==typeof c?c:!1);this.gf=d;this.hf=e;this.qc=f;this.kc=g;this.ic=h;this.tc=k;this.vf=l;this.wf=n}dg($k,Sk);y('flash.events.MouseEvent.CLICK',ad);
y('flash.events.MouseEvent.DOUBLE_CLICK',id);y('flash.events.MouseEvent.MOUSE_DOWN',Oe);y('flash.events.MouseEvent.MOUSE_MOVE',Pe);y('flash.events.MouseEvent.MOUSE_OUT',Qe);y('flash.events.MouseEvent.MOUSE_OVER',Re);y('flash.events.MouseEvent.MOUSE_UP',Se);y('flash.events.MouseEvent.RELEASE_OUTSIDE','releaseOutside');y('flash.events.MouseEvent.MOUSE_WHEEL',Te);y('flash.events.MouseEvent.ROLL_OUT','rollOut');y('flash.events.MouseEvent.ROLL_OVER',Af);y('flash.events.MouseEvent.MIDDLE_CLICK','middleClick');
y('flash.events.MouseEvent.MIDDLE_MOUSE_DOWN','middleMouseDown');y('flash.events.MouseEvent.MIDDLE_MOUSE_UP','middleMouseUp');y('flash.events.MouseEvent.RIGHT_CLICK','rightClick');y('flash.events.MouseEvent.RIGHT_MOUSE_DOWN','rightMouseDown');y('flash.events.MouseEvent.RIGHT_MOUSE_UP','rightMouseUp');y('flash.events.MouseEvent.CONTEXT_MENU',dd);$k.prototype.gf=0;$k.prototype.hf=0;
$k.prototype.clone=function(){return new $k(this.type,this.bubbles,this.cancelable,this.localX,this.localY,this.qc,this.kc,this.ic,this.tc,this.vf,this.wf)};$k.prototype.clone=$k.prototype.clone;$k.prototype.toString=function(){return this.oe()};$k.prototype.toString=$k.prototype.toString;$k.prototype.Wf=m();$k.prototype.updateAfterEvent=$k.prototype.Wf;
Object.defineProperties($k.prototype,{localX:{get:t('gf'),set:q('gf')},localY:{get:t('hf'),set:q('hf')},relatedObject:{get:t('qc'),set:q('qc')},ctrlKey:{get:t('kc'),set:q('kc')},altKey:{get:t('ic'),set:q('ic')},shiftKey:{get:t('tc'),set:q('tc')},buttonDown:{get:t('vf'),set:q('vf')},delta:{get:t('wf'),set:q('wf')},stageX:{get:function(){return isNaN(this.localX)||isNaN(this.localY)?Number.NaN:0}},stageY:{get:function(){return isNaN(this.localX)||isNaN(this.localY)?Number.NaN:0}},isRelatedObjectInaccessible:{get:t('zf'),
set:q('zf')},movementX:{get:w(0),set:m()},movementY:{get:w(0),set:m()}});$k.prototype.i={names:[{name:'MouseEvent',j:ie}]};y(ie,$k);function al(a,b,c,d,e,f,g,h,k,l,n,p,u,r){d='undefined'!==typeof d?d:0;e='undefined'!==typeof e?e:!1;f='undefined'!==typeof f?f:NaN;g='undefined'!==typeof g?g:NaN;h='undefined'!==typeof h?h:NaN;k='undefined'!==typeof k?k:NaN;l='undefined'!==typeof l?l:NaN;n='undefined'!==typeof n?n:null;p='undefined'!==typeof p?p:!1;u='undefined'!==typeof u?u:!1;r='undefined'!==typeof r?r:!1;Sk.call(this,a,'undefined'!==typeof b?b:!0,'undefined'!==typeof c?c:!1);this.Jf=d;this.yf=e;this.localX=f;this.localY=g;this.Gf=
h;this.Hf=k;this.Ef=l;this.qc=n;this.kc=p;this.ic=u;this.tc=r}dg(al,Sk);y('flash.events.TouchEvent.TOUCH_BEGIN',If);y('flash.events.TouchEvent.TOUCH_END',Jf);y('flash.events.TouchEvent.TOUCH_MOVE',Kf);y('flash.events.TouchEvent.TOUCH_OVER','touchOver');y('flash.events.TouchEvent.TOUCH_OUT','touchOut');y('flash.events.TouchEvent.TOUCH_ROLL_OVER','touchRollOver');y('flash.events.TouchEvent.TOUCH_ROLL_OUT','touchRollOut');y('flash.events.TouchEvent.TOUCH_TAP','touchTap');
y('flash.events.TouchEvent.PROXIMITY_BEGIN','proximityBegin');y('flash.events.TouchEvent.PROXIMITY_END','proximityEnd');y('flash.events.TouchEvent.PROXIMITY_MOVE','proximityMove');y('flash.events.TouchEvent.PROXIMITY_OUT','proximityOut');y('flash.events.TouchEvent.PROXIMITY_OVER','proximityOver');y('flash.events.TouchEvent.PROXIMITY_ROLL_OUT','proximityRollOut');y('flash.events.TouchEvent.PROXIMITY_ROLL_OVER','proximityRollOver');
al.prototype.clone=function(){return new al(this.type,this.bubbles,this.cancelable,this.Jf,this.yf,this.localX,this.localY,this.Gf,this.Hf,this.Ef,this.qc,this.kc,this.ic,this.tc)};al.prototype.clone=al.prototype.clone;al.prototype.toString=function(){return this.oe()};al.prototype.toString=al.prototype.toString;al.prototype.Wf=m();al.prototype.updateAfterEvent=al.prototype.Wf;
Object.defineProperties(al.prototype,{localX:{get:w(0),set:m()},localY:{get:w(0),set:m()},touchPointID:{get:t('Jf'),set:q('Jf')},isPrimaryTouchPoint:{get:t('yf'),set:q('yf')},sizeX:{get:t('Gf'),set:q('Gf')},sizeY:{get:t('Hf'),set:q('Hf')},pressure:{get:t('Ef'),set:q('Ef')},relatedObject:{get:t('qc'),set:q('qc')},ctrlKey:{get:t('kc'),set:q('kc')},altKey:{get:t('ic'),set:q('ic')},shiftKey:{get:t('tc'),set:q('tc')},stageX:{get:function(){return isNaN(this.localX)||isNaN(this.localY)?Number.NaN:0}},stageY:{get:function(){return isNaN(this.localX)||
isNaN(this.localY)?Number.NaN:0}},isRelatedObjectInaccessible:{get:t('zf'),set:q('zf')}});al.prototype.i={names:[{name:'TouchEvent',j:je}]};y(je,al);function bl(){Kk.call(this);this.Yg=window.innerWidth;this.Xg=window.innerHeight;0==mk&&(mk=Date.now());this.frameRate=60;this.hb();this.Pk=[new Zk,new Zk,new Zk,new Zk].slice();window.addEventListener(xf,mg(this.hn,this,Xf),!1)}dg(bl,Kk);Zf=bl.prototype;Zf.Gb=0;Zf.Hb=0;Zf.ue=!1;Zf.Kf=!1;Zf.hn=function(){this.Yg=window.innerWidth;this.Xg=window.innerHeight;this.dispatchEvent(new Sk(xf))};
Zf.hb=function(){ok.call(window,mg(this.hb,this,Lc));this.ue&&(this.dispatchEvent(new $k(Pe,!0,!1,this.Gb,this.Hb)),this.ue=!1);this.Kf&&(this.dispatchEvent(new al(Kf,!0,!1,0,!0,this.Gb,this.Hb)),this.Kf=!1);this.dispatchEvent(new Sk(jd))};Zf.Sl=m();bl.prototype.invalidate=bl.prototype.Sl;bl.prototype.Vl=w(!1);bl.prototype.isFocusInaccessible=bl.prototype.Vl;
bl.prototype.ke=function(a){var b,c;switch(a.type){case Lf:b=Jf;c=Se;break;case Mf:b=Jf;c=Se;break;case Nf:b=Kf;c=Pe;break;case Of:b=If,c=Oe,a.preventDefault()}b&&(a.targetTouches.length&&(this.Gb=a.targetTouches[0].pageX-this.canvas.offsetLeft,this.Hb=a.targetTouches[0].pageY-this.canvas.offsetTop),this.Hc(b)&&(b!=Kf?this.dispatchEvent(new al(b,!0,!1,0,!0,this.Gb,this.Hb)):this.Kf=!0),this.Hc(c)&&(c!=Pe?this.dispatchEvent(new $k(c,!0,!1,this.Gb,this.Hb)):this.ue=!0),b==Jf&&this.Hc(ad)&&this.dispatchEvent(new $k(ad,
!0,!1,this.Gb,this.Hb)))};bl.prototype.ib=function(a){var b;switch(a.type){case ad:b=ad;break;case ed:b=dd;break;case fd:b=id;break;case Ue:b=Oe;break;case Ve:b=Af;break;case We:b=Qe;break;case Xe:b=Pe;break;case Ze:b=Re;break;case Ye:b=Qe;break;case $e:b=Se;break;case af:b=Te}b&&(this.Gb=a.pageX-this.canvas.offsetLeft,this.Hb=a.pageY-this.canvas.offsetTop,this.Hc(b)&&(b!=Pe?this.dispatchEvent(new $k(b,!0,!1,this.Gb,this.Hb,null,a.ctrlKey,a.altKey,a.shiftKey,0<a.button,a.wheelDelta)):this.ue=!0))};
Object.defineProperties(bl.prototype,{frameRate:{get:t('Mk'),set:q('Mk')},scaleMode:{get:w(null),set:m()},align:{get:w(null),set:m()},stageWidth:{get:t('Yg'),set:m()},stageHeight:{get:t('Xg'),set:m()},showDefaultContextMenu:{get:w(!1),set:m()},colorCorrection:{get:w(null),set:m()},colorCorrectionSupport:{get:w(null)},stageFocusRect:{get:w(!1),set:m()},quality:{get:w(null),set:m()},displayState:{get:w(null),set:m()},fullScreenSourceRect:{get:w(null),set:m()},mouseLock:{get:w(!1),set:m()},stage3Ds:{get:t('Pk')},
color:{get:w(0),set:m()},fullScreenWidth:{get:w(0)},fullScreenHeight:{get:w(0)},wmodeGPU:{get:w(!1)},softKeyboardRect:{get:w(null)},allowsFullScreen:{get:w(!1)},allowsFullScreenInteractive:{get:w(!1)},contentsScaleFactor:{get:w(0)},browserZoomFactor:{get:w(0)},canvas:{get:function(){this.ca||(this.ca=z(document.createElement(Yc),HTMLCanvasElement),this.ca.addEventListener(ad,mg(this.ib,this,Zc),!1),this.ca.addEventListener(ed,mg(this.ib,this,Zc),!1),this.ca.addEventListener(fd,mg(this.ib,this,Zc),
!1),this.ca.addEventListener(Ue,mg(this.ib,this,Zc),!1),this.ca.addEventListener(Ve,mg(this.ib,this,Zc),!1),this.ca.addEventListener(We,mg(this.ib,this,Zc),!1),this.ca.addEventListener(Xe,mg(this.ib,this,Zc),!1),this.ca.addEventListener(Ze,mg(this.ib,this,Zc),!1),this.ca.addEventListener(Ye,mg(this.ib,this,Zc),!1),this.ca.addEventListener($e,mg(this.ib,this,Zc),!1),this.ca.addEventListener(af,mg(this.ib,this,Zc),!1),this.ca.addEventListener(Lf,mg(this.ke,this,$c),!1),this.ca.addEventListener(Mf,mg(this.ke,
this,$c),!1),this.ca.addEventListener(Nf,mg(this.ke,this,$c),!1),this.ca.addEventListener(Of,mg(this.ke,this,$c),!1),this.ca.width=this.stageWidth,this.ca.height=this.stageHeight,this.ca.style.position=Mc,this.ca.style.left=0,this.ca.style.top=0,this.ca.style.zIndex=1,document.body.appendChild(z(this.ca,HTMLCanvasElement)));return this.ca}},ctx:{get:function(){this.Jg||(this.Jg=this.canvas.getContext(Ca));return this.Jg}},ctx2d:{get:function(){if(!this.Kg){var a=z(document.createElement(Yc),HTMLCanvasElement);
this.Kg=z(a.getContext(Ca),CanvasRenderingContext2D)}return this.Kg}},displayContextInfo:{get:w(null)},mouseX:{get:t('Gb')},mouseY:{get:t('Hb')}});bl.prototype.i={names:[{name:'Stage',j:Qd}]};y(Qd,bl);function cl(a,b,c,d,e,f,g,h){this.redMultiplier='undefined'!==typeof a?a:1;this.greenMultiplier='undefined'!==typeof b?b:1;this.blueMultiplier='undefined'!==typeof c?c:1;this.alphaMultiplier='undefined'!==typeof d?d:1;this.redOffset='undefined'!==typeof e?e:0;this.greenOffset='undefined'!==typeof f?f:0;this.blueOffset='undefined'!==typeof g?g:0;this.alphaOffset='undefined'!==typeof h?h:0}
cl.prototype.concat=function(a){this.alphaOffset+=this.alphaMultiplier*a.alphaOffset;this.alphaMultiplier*=a.alphaMultiplier;this.redOffset+=this.redMultiplier*a.redOffset;this.redMultiplier*=a.redMultiplier;this.greenOffset+=this.greenMultiplier*a.greenOffset;this.greenMultiplier*=a.greenMultiplier;this.blueOffset+=this.blueMultiplier*a.blueOffset;this.blueMultiplier*=a.blueMultiplier};cl.prototype.concat=cl.prototype.concat;
cl.prototype.toString=function(){return ea+this.redMultiplier+ra+this.greenMultiplier+na+this.blueMultiplier+ka+this.alphaMultiplier+wa+this.redOffset+ta+this.greenOffset+oa+this.blueOffset+la+this.alphaOffset+ha};cl.prototype.toString=cl.prototype.toString;
Object.defineProperties(cl.prototype,{color:{get:function(){return this.redOffset<<16|this.greenOffset<<8|this.blueOffset},set:function(a){this.redMultiplier=this.greenMultiplier=this.blueMultiplier=0;this.redOffset=a>>16&255;this.greenOffset=a>>8&255;this.blueOffset=a&255}}});cl.prototype.i={names:[{name:'ColorTransform',j:ke}]};y(ke,cl);function dl(a){this.Rg=new Q;this.sb=new cl;this.tb=new cl;this.df=new Q;this.ff=new Q;this.ec(a)}Zf=dl.prototype;Zf.lf=!0;Zf.oa=!0;Zf.tf=!0;Zf.ec=q('me');Zf.Hl=w(null);dl.prototype.getRelativeMatrix3D=dl.prototype.Hl;dl.prototype.Qa=function(){this.tf=this.oa=!0};dl.prototype.updateTransforms=dl.prototype.Qa;dl.prototype.Xf=function(){this.lf=!0};dl.prototype.updateColorTransforms=dl.prototype.Xf;
Object.defineProperties(dl.prototype,{matrix:{get:t('Rg'),set:function(a){this.Rg=a;this.Qa()}},colorTransform:{get:t('sb'),set:function(a){this.sb=a;this.Xf()}},concatenatedMatrix:{get:function(){this.oa&&(this.df.ea(this.matrix),this.me.parent&&this.df.concat(this.me.parent.transform.concatenatedMatrix),this.oa=!1);return this.df}},concatenatedColorTransform:{get:function(){this.lf&&(this.tb.alphaOffset=this.sb.alphaOffset,this.tb.alphaMultiplier=this.sb.alphaMultiplier,this.tb.redOffset=this.sb.redOffset,
this.tb.redMultiplier=this.sb.redMultiplier,this.tb.greenOffset=this.sb.greenOffset,this.tb.greenMultiplier=this.sb.greenMultiplier,this.tb.blueOffset=this.sb.blueOffset,this.tb.blueMultiplier=this.sb.blueMultiplier,this.me.parent&&this.tb.concat(this.me.parent.transform.concatenatedColorTransform),this.lf=!1);return this.tb}},pixelBounds:{get:w(null)},matrix3D:{get:w(null),set:m()},perspectiveProjection:{get:w(null),set:m()},invMatrix:{get:function(){this.tf&&(this.ff.ea(this.concatenatedMatrix),
this.ff.Kc(),this.tf=!1);return this.ff}}});dl.prototype.i={names:[{name:'Transform',j:qe}]};y(qe,dl);y('flash.utils.getTimer',function(){return Date.now()-mk});function el(){}el.prototype.i={names:[{name:'IBitmapDrawable',j:'flash.display.IBitmapDrawable'}]};function fl(){Kk.call(this);this.transform=new dl(this);this.innerID=gl++;this.name=Ee+this.innerID;0==this.innerID&&(this.Ea=new bl,this.Ea.addEventListener(jd,mg(this.Ik,this,Jc)),this.Ea.addEventListener(ad,mg(this.Ec,this,Kc)),this.Ea.addEventListener(dd,mg(this.Ec,this,Kc)),this.Ea.addEventListener(id,mg(this.Ec,this,Kc)),this.Ea.addEventListener(Oe,mg(this.Ec,this,Kc)),this.Ea.addEventListener(Pe,mg(this.Ec,this,Kc)),this.Ea.addEventListener(Se,mg(this.Ec,this,Kc)))}dg(fl,Kk);var gl=0;Zf=fl.prototype;
Zf.Ug=0;Zf.Rd=0;Zf.Pd=1;Zf.Zg=!0;Zf.Qa=function(){this.transform.Qa()};fl.prototype.updateTransforms=fl.prototype.Qa;fl.prototype.uh=function(a){return this.transform.invMatrix.Td(a)};fl.prototype.globalToLocal=fl.prototype.uh;fl.prototype.Yl=function(a){return this.transform.concatenatedMatrix.Td(a)};fl.prototype.localToGlobal=fl.prototype.Yl;fl.prototype.Al=function(a){return this.Tb(a)};fl.prototype.getBounds=fl.prototype.Al;
fl.prototype.Tb=function(a){var b=this.Dc();return!b||null!=a&&a!=this?this.Dc():b};fl.prototype.getRect=fl.prototype.Tb;fl.prototype.Dc=w(null);fl.prototype.__getRect=fl.prototype.Dc;fl.prototype.Ml=w(!1);fl.prototype.hitTestObject=fl.prototype.Ml;fl.prototype.wh=function(a,b){var c=this.Dc();return c?c.jh(this.uh(new rk(a,b))):!1};fl.prototype.hitTestPoint=fl.prototype.wh;fl.prototype.Jl=w(null);fl.prototype.globalToLocal3D=fl.prototype.Jl;fl.prototype.Xl=w(null);fl.prototype.local3DToGlobal=fl.prototype.Xl;
fl.prototype.hb=m();fl.prototype.__update=fl.prototype.hb;fl.prototype.Ik=function(){this.stage.canvas.width!=this.stage.stageWidth&&(this.stage.canvas.width=this.stage.stageWidth);this.stage.canvas.height!=this.stage.stageHeight&&(this.stage.canvas.height=this.stage.stageHeight);var a=this.stage.ctx;a.globalAlpha=1;a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,this.stage.stageWidth,this.stage.stageHeight);kk=0;this.hb()};
fl.prototype.Ec=function(a){var b=this.zd(a);if(a.type==Pe){for(var c=this.Wl;c&&c!=b;)c.dispatchEvent(new $k(Qe,!1,!1,a.localX,a.localY)),c.dispatchEvent(new $k(Af,!1,!1,a.localX,a.localY)),c=c.parent;var d=new $k(Re,!0,!1,a.localX,a.localY),e=new $k(Af,!0,!1,a.localX,a.localY);b&&b!=c&&(b.dispatchEvent(d),b.dispatchEvent(e));this.Wl=b}b&&b.dispatchEvent(a)};fl.prototype.zd=w(null);
fl.prototype.dispatchEvent=function(a){var b=fl.Ka.dispatchEvent.call(this,a);a.bubbles&&this.parent&&this.parent.dispatchEvent(a);return b};fl.prototype.dispatchEvent=fl.prototype.dispatchEvent;
Object.defineProperties(fl.prototype,{stage:{get:t('Ea'),set:function(a){this.Ea!=a&&((this.Ea=a)?this.dispatchEvent(new Sk(Nc)):this.dispatchEvent(new Sk(vf)))}},root:{get:w(null)},name:{get:t('Ok'),set:q('Ok')},parent:{get:t('_parent')},mask:{get:w(null),set:m()},visible:{get:t('Zg'),set:q('Zg')},x:{get:function(){return this.transform.matrix.tx},set:function(a){this.transform.matrix.tx=a;this.Qa()}},y:{get:function(){return this.transform.matrix.ty},set:function(a){this.transform.matrix.ty=a;this.Qa()}},
z:{get:w(0),set:m()},scaleX:{get:function(){var a=this.transform.matrix;return 0==a.b?a.a:Math.sqrt(a.a*a.a+a.b*a.b)},set:function(a){var b=this.transform.matrix;0==b.c?b.a=a:(b.a=this.Pd*a,b.b=this.Rd*a);this.Qa()}},scaleY:{get:function(){var a=this.transform.matrix;return 0==a.c?a.d:Math.sqrt(a.c*a.c+a.d*a.d)},set:function(a){var b=this.transform.matrix;0==b.c?b.d=a:(b.c=-this.Rd*a,b.d=this.Pd*a);this.Qa()}},scaleZ:{get:w(1),set:m()},mouseX:{get:function(){return this.stage?this.transform.invMatrix.Td(new rk(this.stage.mouseX,
this.stage.mouseY)).x:0}},mouseY:{get:function(){return this.stage?this.transform.invMatrix.Td(new rk(this.stage.mouseX,this.stage.mouseY)).y:0}},rotation:{get:t('Ug'),set:function(a){this.Ug=a;var b=this.transform.matrix;a=a*Math.PI/180;this.Rd=Math.sin(a);this.Pd=Math.cos(a);a=this.scaleX;var c=this.scaleY;b.a=this.Pd*a;b.b=this.Rd*a;b.c=-this.Rd*c;b.d=this.Pd*c;this.Qa()}},rotationX:{get:w(0),set:m()},rotationY:{get:w(0),set:m()},rotationZ:{get:w(0),set:m()},alpha:{get:function(){return this.transform.colorTransform.alphaMultiplier},
set:function(a){this.transform.colorTransform.alphaMultiplier=a;this.transform.Xf()}},width:{get:function(){var a=this.Tb(this.parent);return a?a.width:0},set:m()},height:{get:function(){var a=this.Tb(this.parent);return a?a.height:0},set:m()},cacheAsBitmap:{get:w(!1),set:m()},opaqueBackground:{get:w(null),set:m()},scrollRect:{get:w(null),set:m()},filters:{get:w(null),set:m()},blendMode:{get:t('Jk'),set:q('Jk')},scale9Grid:{get:w(null),set:m()},metaData:{get:w(null),set:m()}});
fl.prototype.i={names:[{name:'DisplayObject',j:Cd}],Ta:[el]};y(Cd,fl);function hl(){fl.call(this)}dg(hl,fl);hl.prototype.Tg=!0;hl.prototype.Mg=!1;hl.prototype.Fm=w(!1);hl.prototype.requestSoftKeyboard=hl.prototype.Fm;Object.defineProperties(hl.prototype,{tabEnabled:{get:w(!0),set:m()},tabIndex:{get:w(0),set:m()},focusRect:{get:w(null),set:m()},mouseEnabled:{get:t('Tg'),set:q('Tg')},doubleClickEnabled:{get:t('Mg'),set:q('Mg')},softKeyboardInputAreaOfInterest:{get:w(null),set:m()},needsSoftKeyboard:{get:w(!1),set:m()}});
hl.prototype.i={names:[{name:'InteractiveObject',j:Od}]};y(Od,hl);function Y(){this.children=[];fl.call(this)}dg(Y,hl);Y.prototype.Sg=!0;Y.prototype.Tk=function(a){return this.jf(a,this.children.length)};Y.prototype.addChild=Y.prototype.Tk;Y.prototype.jf=function(a,b){var c=this.children.indexOf(a);-1!=c&&this.children.splice(c,1);this.children.splice(b,0,a);a.stage=this.stage;a._parent=this;return a};Y.prototype.addChildAt=Y.prototype.jf;Y.prototype.removeChild=function(a){var b=this.children.indexOf(a);return-1!=b?this.Of(b):a};Y.prototype.removeChild=Y.prototype.removeChild;
Y.prototype.Of=function(a){var b=this.children[a];b&&(b._parent=null,b.stage=null);this.children.splice(a,1);return b};Y.prototype.removeChildAt=Y.prototype.Of;Y.prototype.sf=function(a){return this.children.indexOf(a)};Y.prototype.getChildIndex=Y.prototype.sf;Y.prototype.Hm=function(a,b){this.removeChild(a);this.jf(a,b)};Y.prototype.setChildIndex=Y.prototype.Hm;Y.prototype.Bl=function(a){return this.children[a]};Y.prototype.getChildAt=Y.prototype.Bl;
Y.prototype.Cl=function(a){for(var b=this.children.length,c=0;c<b;c++){var d=this.children[c];if(d.name==a)return d}return null};Y.prototype.getChildByName=Y.prototype.Cl;Y.prototype.El=w(null);Y.prototype.getObjectsUnderPoint=Y.prototype.El;Y.prototype.Wk=w(!1);Y.prototype.areInaccessibleObjectsUnderPoint=Y.prototype.Wk;Y.prototype.contains=function(a){return-1!=this.children.indexOf(a)};Y.prototype.contains=Y.prototype.contains;
Y.prototype.Yh=function(a,b){var c=this.children[a];this.children[a]=this.children[b];this.children[b]=c};Y.prototype.swapChildrenAt=Y.prototype.Yh;Y.prototype.bn=function(a,b){this.Yh(this.sf(a),this.sf(b))};Y.prototype.swapChildren=Y.prototype.bn;Y.prototype.Dm=function(a,b){a='undefined'!==typeof a?a:0;for(var c=Math.min(this.numChildren-1,a+('undefined'!==typeof b?b:2147483647)-1);c>=a;c--)this.Of(c)};Y.prototype.removeChildren=Y.prototype.Dm;Y.prototype.Zm=m();Y.prototype.stopAllMovieClips=Y.prototype.Zm;
Y.prototype.hb=function(){if(this.stage&&this.visible)for(var a=this.children.length,b=0;b<a;b++)this.children[b].hb()};Y.prototype.__update=Y.prototype.hb;Y.prototype.Qa=function(){Y.Ka.Qa.call(this);for(var a=this.children.length,b=0;b<a;b++)this.children[b].Qa()};Y.prototype.updateTransforms=Y.prototype.Qa;Y.prototype.zd=function(a){if(this.mouseEnabled&&this.mouseChildren&&this.visible)for(var b=this.children.length-1;0<=b;b--){var c=this.children[b].zd(a);if(c)return c}return null};
Y.prototype.Tb=function(a){for(var b=Y.Ka.Tb.call(this,a),c=this.children.length,d=0;d<c;d++){var e=this.children[d].Tb(a);null==b?b=e:e&&(b.Hd(e.x,e.y),b.Hd(e.right,e.bottom))}return b};Y.prototype.getRect=Y.prototype.Tb;
Object.defineProperties(Y.prototype,{numChildren:{get:function(){return this.children.length}},stage:{get:t('Ea'),set:function(a){this.Ea!=a&&((this.Ea=a)?this.dispatchEvent(new Sk(Nc)):this.dispatchEvent(new Sk(vf)));for(var b=this.children.length,c=0;c<b;c++)this.children[c].stage=a}},tabChildren:{get:w(!1),set:m()},mouseChildren:{get:t('Sg'),set:q('Sg')}});Y.prototype.i={names:[{name:'DisplayObjectContainer',j:Dd}]};y(Dd,Y);function il(){}y('flash.display.GradientType.LINEAR',He);y('flash.display.GradientType.RADIAL','radial');il.prototype.i={names:[{name:'GradientType',j:Ed}]};y(Ed,il);function jl(a,b,c,d,e,f,g,h){this.ie='undefined'!==typeof a?a:He;this.colors='undefined'!==typeof b?b:null;this.alphas='undefined'!==typeof c?c:null;this.ratios='undefined'!==typeof d?d:null;this.matrix='undefined'!==typeof e?e:null;this.Wg='undefined'!==typeof f?f:pf;this.Og='undefined'!==typeof g?g:yf;this.focalPointRatio='undefined'!==typeof h?h:0}jl.prototype.fa=function(a){null==this.vh&&(this.vh=this.type==He?a.createLinearGradient(0,0,1,1):a.createRadialGradient(0,0,1,0,0,1));a.fillStyle=this.vh};
jl.prototype.draw=jl.prototype.fa;Object.defineProperties(jl.prototype,{type:{get:t('ie'),set:q('ie')},spreadMethod:{get:t('Wg'),set:q('Wg')},interpolationMethod:{get:t('Og'),set:q('Og')}});jl.prototype.i={names:[{name:'GraphicsGradientFill',j:Id}],Ta:[ck,bk]};y(Id,jl);function kl(a,b){this.color='undefined'!==typeof a?a:0;this.alpha='undefined'!==typeof b?b:1}kl.prototype.color=0;kl.prototype.color=kl.prototype.color;kl.prototype.alpha=1;kl.prototype.alpha=kl.prototype.alpha;kl.prototype.fa=function(a,b){a.fillStyle=nk.Gd(this.color,this.alpha,b)};kl.prototype.draw=kl.prototype.fa;kl.prototype.i={names:[{name:'GraphicsSolidFill',j:Ld}],Ta:[ck,bk]};y(Ld,kl);function ll(){}ll.prototype.i={names:[{name:'IGraphicsStroke',j:'flash.display.IGraphicsStroke'}]};function ml(a,b,c,d,e,f,g){this.thickness=a='undefined'!==typeof a?a:NaN;this.pixelHinting='undefined'!==typeof b?b:!1;this.Ig='undefined'!==typeof d?d:ef;this.Pg='undefined'!==typeof e?e:Bf;this.miterLimit='undefined'!==typeof f?f:3;this.Vg='undefined'!==typeof c?c:ff;this.fill='undefined'!==typeof g?g:null}ml.prototype.fa=function(a,b){if(isNaN(this.thickness))a.stroke();else if(a.lineWidth=this.thickness,jg(this.fill,kl)){var c=z(this.fill,kl);a.strokeStyle=nk.Gd(c.color,c.alpha,b)}};
ml.prototype.draw=ml.prototype.fa;Object.defineProperties(ml.prototype,{caps:{get:t('Ig'),set:q('Ig')},joints:{get:t('Pg'),set:q('Pg')},scaleMode:{get:t('Vg'),set:q('Vg')}});ml.prototype.i={names:[{name:'GraphicsStroke',j:Md}],Ta:[ll,bk]};y(Md,ml);function nl(a,b,c,d){this.vertices='undefined'!==typeof a?a:null;this.indices='undefined'!==typeof b?b:null;this.uvtData='undefined'!==typeof c?c:null;this.Lg='undefined'!==typeof d?d:ef}nl.prototype.fa=function(){lg(Pf)};nl.prototype.draw=nl.prototype.fa;Object.defineProperties(nl.prototype,{culling:{get:t('Lg'),set:q('Lg')}});nl.prototype.i={names:[{name:'GraphicsTrianglePath',j:Nd}],Ta:[gk,bk]};y(Nd,nl);function Z(){this.graphicsData=[];this.Kh=[]}Z.prototype.ve=0;Z.prototype.Ib=!1;y('flash.display.Graphics.debug',!1);Z.prototype.clear=function(){this.sa=this.lastStroke=null;this.ve=0;this.graphicsData=[];this.bound=null};Z.prototype.clear=Z.prototype.clear;Z.prototype.je=function(a,b){b='undefined'!==typeof b?b:1;this.Gc();this.lastFill=new kl(a,b);this.graphicsData.push(this.lastFill)};Z.prototype.beginFill=Z.prototype.je;
Z.prototype.dh=function(a,b,c,d,e,f,g,h){e='undefined'!==typeof e?e:null;f='undefined'!==typeof f?f:pf;g='undefined'!==typeof g?g:yf;h='undefined'!==typeof h?h:0;this.Gc();this.lastFill=new jl(a,b,c,d,e,f,g,h);this.graphicsData.push(this.lastFill)};Z.prototype.beginGradientFill=Z.prototype.dh;Z.prototype.bh=function(a,b,c,d){b='undefined'!==typeof b?b:null;c='undefined'!==typeof c?c:!0;d='undefined'!==typeof d?d:!1;this.Gc();this.lastFill=new dk(a,b,c,d);this.graphicsData.push(this.lastFill)};
Z.prototype.beginBitmapFill=Z.prototype.bh;Z.prototype.Gc=function(){if(this.sa){if(this.lastFill){var a=new ek;a.fill=this.lastFill;this.graphicsData.push(a);this.lastFill=null}this.lastStroke&&!isNaN(this.lastStroke.thickness)&&(this.lastStroke=new ml(NaN),this.graphicsData.push(this.lastStroke));this.sa=null}};Z.prototype.endStrokAndFill=Z.prototype.Gc;
Z.prototype.Ah=function(a,b,c,d,e,f,g,h){this.lastStroke&&(this.lastStroke.fill=new jl(a,b,c,d,'undefined'!==typeof e?e:null,'undefined'!==typeof f?f:pf,'undefined'!==typeof g?g:yf,'undefined'!==typeof h?h:0))};Z.prototype.lineGradientStyle=Z.prototype.Ah;
Z.prototype.Va=function(a,b,c,d,e,f,g,h){a='undefined'!==typeof a?a:NaN;b='undefined'!==typeof b?b:0;c='undefined'!==typeof c?c:1;d='undefined'!==typeof d?d:!1;e='undefined'!==typeof e?e:ff;f='undefined'!==typeof f?f:null;g='undefined'!==typeof g?g:null;h='undefined'!==typeof h?h:3;this.Gc();isNaN(a)||(this.lastStroke=new ml(0==a?1:a,d,e,f,g,h,new kl(b,c)),this.graphicsData.push(this.lastStroke))};Z.prototype.lineStyle=Z.prototype.Va;
Z.prototype.ul=function(a,b,c,d){this.Ib=!0;this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d);this.sa.closePath();this.Ib=!1;ol(this,a,b);ol(this,a+c,b+d)};Z.prototype.drawRect=Z.prototype.ul;
Z.prototype.vl=function(a,b,c,d,e,f){f='undefined'!==typeof f?f:NaN;this.Ib=!0;isNaN(f)&&(f=e);this.moveTo(a+e,b);this.lineTo(a+c-e,b);this.Fa(a+c,b,a+c,b+f);this.lineTo(a+c,b+d-f);this.Fa(a+c,b+d,a+c-e,b+d);this.lineTo(a+e,b+d);this.Fa(a,b+d,a,b+d-f);this.lineTo(a,b+f);this.Fa(a,b,a+e,b);this.Ib=!1;ol(this,a,b);ol(this,a+c,b+d)};Z.prototype.drawRoundRect=Z.prototype.vl;
Z.prototype.wl=function(a,b,c,d,e,f,g,h){this.Ib=!0;this.moveTo(a+e,b);this.lineTo(a+c-f,b);this.Fa(a+c,b,a+c,b+f);this.lineTo(a+c,b+d-h);this.Fa(a+c,b+d,a+c-h,b+d);this.lineTo(a+g,b+d);this.Fa(a,b+d,a,b+d-g);this.lineTo(a,b+e);this.Fa(a,b,a+e,b);this.Ib=!1;ol(this,a,b);ol(this,a+c,b+d)};Z.prototype.drawRoundRectComplex=Z.prototype.wl;Z.prototype.qf=function(a,b,c){pl(this);this.sa.moveTo(a+c,b);this.sa.arc(a,b,c,0,2*Math.PI);ol(this,a-c,b-c);ol(this,a+c,b+c)};Z.prototype.drawCircle=Z.prototype.qf;
Z.prototype.sl=function(a,b,c,d){this.Ib=!0;var e=c/2*.5522848,f=d/2*.5522848,g=a+c,h=b+d,k=a+c/2,l=b+d/2;this.moveTo(a,l);this.jb(a,l-f,k-e,b,k,b);this.jb(k+e,b,g,l-f,g,l);this.jb(g,l+f,k+e,h,k,h);this.jb(k-e,h,a,l+f,a,l);this.Ib=!1;ol(this,a,b);ol(this,a+c,b+d)};Z.prototype.drawEllipse=Z.prototype.sl;Z.prototype.moveTo=function(a,b){pl(this);this.sa.moveTo(a,b);ol(this,a,b)};Z.prototype.moveTo=Z.prototype.moveTo;Z.prototype.lineTo=function(a,b){pl(this);this.sa.lineTo(a,b);ol(this,a,b)};
Z.prototype.lineTo=Z.prototype.lineTo;Z.prototype.Fa=function(a,b,c,d){pl(this);this.sa.Fa(a,b,c,d);ol(this,a,b);ol(this,c,d)};Z.prototype.curveTo=Z.prototype.Fa;Z.prototype.jb=function(a,b,c,d,e,f){pl(this);this.sa.jb(a,b,c,d,e,f);ol(this,a,b);ol(this,c,d);ol(this,e,f)};Z.prototype.cubicCurveTo=Z.prototype.jb;
function ol(a,b,c){a.Ib||(null==a.bound&&(a.bound=new R(Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE)),a.bound.left>b&&(a.bound.left=b),a.bound.right<b&&(a.bound.right=b),a.bound.top>c&&(a.bound.top=c),a.bound.bottom<c&&(a.bound.bottom=c))}function pl(a){null==a.sa&&(a.sa=a.Kh[a.ve],null==a.sa&&(a.sa=a.Kh[a.ve]=nk.Bd()),a.sa.clear(),a.sa.pe=!0,a.ve++,a.graphicsData.push(a.sa))}Z.prototype.Ed=function(){this.Gc()};Z.prototype.endFill=Z.prototype.Ed;
Z.prototype.ea=function(a){this.graphicsData=a.graphicsData.slice()};Z.prototype.copyFrom=Z.prototype.ea;Z.prototype.zh=function(a,b,c,d){b='undefined'!==typeof b?b:null;c='undefined'!==typeof c?c:!0;d='undefined'!==typeof d?d:!1;this.lastStroke&&jg(this.lastStroke,ml)&&(z(this.lastStroke,ml).fill=new dk(a,b,c,d))};Z.prototype.lineBitmapStyle=Z.prototype.zh;Z.prototype.ne=function(a,b){pl(this);this.sa.commands.push.apply(null,a);this.sa.data.push.apply(null,b)};Z.prototype.drawPath=Z.prototype.ne;
Z.prototype.Dd=m();Z.prototype.drawTriangles=Z.prototype.Dd;
Z.prototype.tl=function(a){var b=null,b=b=b=null;if(null!=a)for(var c=0;c<a.length;c++)if(b=a[c],jg(b,gk)){var b=z(b,gk,!0),d=null,d=null;jg(b,hk)?(d=z(b,hk,!0),this.ne(d.commands,d.data,d.winding)):jg(b,nl)&&(d=z(b,nl,!0),this.Dd(d.vertices,d.indices,d.uvtData,d.culling))}else if(jg(b,ck))b=z(b,ck,!0),d=d=d=null,null==b?this.Ed():jg(b,ek)?this.Ed():jg(b,kl)?(d=z(b,kl,!0),this.je(d.color,d.alpha)):jg(b,jl)?(d=z(b,jl,!0),this.dh(d.type,d.colors,d.alphas,d.ratios,d.matrix,d.spreadMethod,d.interpolationMethod,
d.focalPointRatio)):jg(b,dk)&&(d=z(b,dk,!0),this.bh(d.bitmapData,d.matrix,d.repeat,d.smooth));else if(jg(b,ll)){var b=z(b,ll,!0),e=null,e=d=e=e=null;null!=b&&jg(b,ml)&&(d=z(b,ml));d&&d.fill&&jg(d.fill,ck)&&(e=d.fill);null==d||null==e?this.Va():jg(e,kl)?(e=z(e,kl,!0),this.Va(d.thickness,e.color,e.alpha,d.pixelHinting,d.scaleMode,d.caps,d.joints,d.miterLimit)):jg(e,jl)?(e=z(e,jl,!0),this.Va(d.thickness,0,1,d.pixelHinting,d.scaleMode,d.caps,d.joints,d.miterLimit),this.Ah(e.type,e.colors,e.alphas,e.ratios,
e.matrix,e.spreadMethod,e.interpolationMethod,e.focalPointRatio)):jg(e,dk)&&(e=z(e,dk,!0),this.Va(d.thickness,0,1,d.pixelHinting,d.scaleMode,d.caps,d.joints,d.miterLimit),this.zh(e.bitmapData,e.matrix,e.repeat,e.smooth))}};Z.prototype.drawGraphicsData=Z.prototype.tl;Z.prototype.vm=function(){return this.graphicsData.slice()};Z.prototype.readGraphicsData=Z.prototype.vm;Z.prototype.fa=function(a,b,c,d){this.graphicsData.length&&(nk.xe(a,this,b,c,d),kk++)};Z.prototype.draw=Z.prototype.fa;
Z.prototype.i={names:[{name:'Graphics',j:Fd}]};y(Fd,Z);function ql(){Y.call(this);this.graphics=new Z}dg(ql,Y);ql.prototype.Xm=m();ql.prototype.startDrag=ql.prototype.Xm;ql.prototype.$m=m();ql.prototype.stopDrag=ql.prototype.$m;ql.prototype.Ym=m();ql.prototype.startTouchDrag=ql.prototype.Ym;ql.prototype.an=m();ql.prototype.stopTouchDrag=ql.prototype.an;ql.prototype.Dc=function(){return this.graphics.bound};ql.prototype.__getRect=ql.prototype.Dc;
ql.prototype.hb=function(){this.stage&&this.visible&&this.graphics.graphicsData.length&&this.graphics.fa(this.stage.ctx,this.transform.concatenatedMatrix,this.blendMode,this.transform.concatenatedColorTransform);this.Hc(jd)&&this.dispatchEvent(new Sk(jd));ql.Ka.hb.call(this)};ql.prototype.__update=ql.prototype.hb;ql.prototype.zd=function(a){if(this.stage&&this.mouseEnabled&&this.visible){if(a=ql.Ka.zd.call(this,a))return a;if(this.wh(this.stage.mouseX,this.stage.mouseY))return this}return null};
Object.defineProperties(ql.prototype,{buttonMode:{get:w(!1),set:m()},dropTarget:{get:w(null)},hitArea:{get:w(null),set:m()},useHandCursor:{get:w(!1),set:m()}});ql.prototype.i={names:[{name:'Sprite',j:Pd}]};y(Pd,ql);function rl(){ql.call(this);this.m_timeStep=1/30;this.addEventListener(jd,mg(this.Bc,this,Gc),!1,0,!0);this.m_world=new O(new A(0,10),!0);var a=new N;a.Dg(this);a.Ag(30);a.Bg(.3);a.Cg(1);a.Ve(3);a.Ve(4294967295);this.m_world.zg(a);this.m_world.Ee();var b,c;b=new fh;b.position.Set(10,12);c=new D;c.ae(30,3);a=new kh;a.shape=c;a.friction=.3;a.density=0;b=this.m_world.Yc(b);b.Wd(a);for(var d=1;10>d;d++){b=new fh;b.type=$h;b.position.x=15*Math.random()+5;b.position.y=10*Math.random();var e=Math.random()+
.5,f=Math.random()+.5;b=this.m_world.Yc(b);.5>Math.random()?(c=new D,c.ae(e,f)):c=new ah(e);a.shape=c;a.density=1;a.friction=.5;a.restitution=.2;b.Wd(a)}}dg(rl,ql);rl.prototype.Bc=function(){this.m_world.$e(this.m_timeStep,this.Ih,this.Hh);this.m_world.Ee()};rl.prototype.Update=rl.prototype.Bc;rl.prototype.Ih=10;rl.prototype.m_velocityIterations=rl.prototype.Ih;rl.prototype.Hh=10;rl.prototype.m_positionIterations=rl.prototype.Hh;rl.prototype.i={names:[{name:Ec,j:Ec}]};y(Ec,rl);
//# sourceMappingURL=./TestBox2D.js.map