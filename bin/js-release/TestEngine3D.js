'use strict';var aa='',ba='\t',ca='\t//',ea='\n',fa=' ',ga='    bias: ',ha='    bits: ',ia='    opt: ',ja='  emit argcode\x3d',la='  emit sampler',ma=' (',na=' \x3d ',oa=' offset\x3d',qa=' out of bounds [0, ..., 3]',ra=' out of bounds. [0..255]',ta='", emitCode\x3d',va='", flag\x3d"',wa='", longName\x3d"',xa='", mask\x3d',ya='", numRegister\x3d',za='(',Ba='(a\x3d',Ca='(redMultiplier\x3d',Fa='(x\x3d',Ga=')',Ia=') index exceeds limit of ',Ja=') only allowed in fragment programs.',Ka=') only allowed in vertex programs.',
La=') relative adressing not allowed in fragment programs.',Ma=').',Na=');',Pa='*',Qa='+',Ra=',',Sa=', ',Ta=', alphaMultiplier\x3d',Ua=', alphaOffset\x3d',Va=', b\x3d',Wa=', blueMultiplier\x3d',Xa=', blueOffset\x3d',Ya=', c\x3d',Za=', d\x3d',$a=', emitCode\x3d',ab=', flags\x3d',bb=', greenMultiplier\x3d',cb=', greenOffset\x3d',db=', h\x3d',eb=', range\x3d',fb=', redOffset\x3d',gb=', tx\x3d',hb=', ty\x3d',ib=', w\x3d',jb=', y\x3d',lb=',0,1)',mb=',\x3c',nb='-',ob='.',pb='/',rb='//',sb='1/',tb='2d',
ub='3d',vb=':',wb=': ',xb=';',yb=';\n',zb='\x3d\x3d idx\x3d',Ab='\x3d\x3d sel\x3d',Bb='\x3e',Cb='ATF',Db='Disposed',Eb='Error, Column ',Fb='EventDispatcher',Gb='IEventDispatcher',Hb='IS REL',Ib='JOINT',Jb='RELATIVE: type\x3d',Kb='SpriteFlexjs',Lb='TEXTURE',Mb='TestEngine3D',Nb='Type Coercion failed',Ob='Vector3D(',Pb='[',Qb='[OpCode name\x3d"',Rb='[Register name\x3d"',Sb='[Sampler name\x3d"',Ub='[object Array]',Vb='[object Function]',Wb='[object Window]',Xb=']',Yb='][',Zb='__enterFrame',$b='__mouseevent',
ac='__update',bc='a',cc='abs',dc='absolute',ec='add',fc='addedToStage',gc='alpha',hc='always',ic='anisotropic16x',jc='anisotropic2x',kc='anisotropic4x',lc='anisotropic8x',mc='array',nc='as3Shader.AGALByteCreator',oc='as3Shader.AGALByteCreator.OpCode',pc='as3Shader.AGALByteCreator.Register',qc='as3Shader.AGALByteCreator.Sampler',rc='as3Shader.AGALCodeCreator',sc='as3Shader.AS3Shader',tc='as3Shader.Creator',uc='as3Shader.GLCodeCreator',vc='as3Shader.NativeOp',wc='attribute ',xc='attribute vec2 va0;attribute vec4 va1;attribute vec2 va2;varying vec4 vColor;varying vec2 vUV;uniform mat4 vc0;uniform mat4 vc4;void main(void) {vColor\x3dva1;vUV\x3d(vc4*vec4(va2,0.0,1.0)).xy;gl_Position \x3dvc0*vec4(va0, 0.0,1.0);}',
yc='attribute vec2 va0;attribute vec4 va1;varying vec4 vColor;uniform mat4 vc0;void main(void) {vColor\x3dva1;gl_Position \x3dvc0*vec4(va0, 0.0,1.0);}',zc='axisAngle',Ac='back',Bc='baseline',Cc='baselineConstrained',Dc='baselineExtended',Ec='bat new index',Fc='bat new pos',Gc='bgra',Hc='bigEndian',Ic='bindAmbientUniform',Jc='bindCameraPosUniform',Kc='bindDiffSampler',Lc='bindJointsBuff',Mc='bindJointsMatrixUniform',Nc='bindJointsQuatUniform',Oc='bindLightColorUniform',Pc='bindLightColorVar',Qc='bindLightPosUniform',
Rc='bindLightShadowCameraWorld',Sc='bindLightmapSampler',Tc='bindMaterialColorUniform',Uc='bindModelUniform',Vc='bindNormBuff',Wc='bindNormalmapSampler',Xc='bindPerspectiveUniform',Yc='bindPixelSizeUniform',Zc='bindPosBuff',$c='bindRandomBuff',ad='bindReflectSampler',bd='bindShadowmapsSampler',cd='bindSpecularUniform',dd='bindSphereRandomBuff',ed='bindTangentBuff',fd='bindTargetPositionBuff',gd='bindTerrainsSampler',hd='bindTextureSizeUniform',id='bindTimeUniform',jd='bindUV2Buff',kd='bindUVBuff',
ld='bindUVMulAddUniform',md='bindViewUniform',nd='bindWeightsBuff',od='bindWireframeColorUniform',pd='bindWorld2localUniform',qd='bjoints',rd='bnorm',sd='boolean',td='bpos',ud='brandom',vd='bsrandom',wd='btangent',xd='btp',yd='buv',zd='buv2',Ad='bweights',Bd='bytes4',Cd='c',Dd='call',Ed='canvas',Fd='canvas_keyevent',Gd='canvas_mouseevent',Hd='canvas_touchevent',Id='centroid',Jd='clamp',Kd='clamp(',Ld='clamp_u_repeat_v',Md='click',Nd='com.adobe.utils.PerspectiveMatrix3D',Od='compressed',Pd='compressedAlpha',
Qd='consts',Rd='consts index',Sd='context3DCreate',Td='contextMenu',Ud='contextmenu',Vd='cos',Wd='cross',Xd='crs',Yd='cube',Zd='dblclick',$d='ddx',ae='ddy',be='destinationAlpha',ce='destinationColor',de='div',ee='dot',fe='doubleClick',ge='dp3',he='dp4',ie='dxt1',je='dxt5',ke='eif',le='els',me='emit opcode\x3d',ne='enterFrame',oe='equal',pe='error',qe='error: bad index register',re='error: could not find register name for operand ',se='error: index offset ',te='error: opcode is only allowed in fragment programs.',
ue='error: opcode is only allowed in vertex programs.',ve='error: opcode requires version 2.',we='error: register operand ',xe='error: relative can not be destination',ye='error: too many opcodes. maximum is 2048.',ze='eulerAngles',Ae='evenOdd',Be='event',Ce='exp',De='experimental-webgl',Ee='f',Fe='fc',Ge='flash.__native.BaseRenderer',He='flash.__native.BitmapTexture',Ie='flash.__native.GLCanvasPattern',Je='flash.__native.GLCanvasRenderingContext2D',Ke='flash.__native.GLDrawable',Le='flash.__native.GLGraphicsPath',
Me='flash.__native.GLIndexBufferSet',Ne='flash.__native.GLPath2D',Oe='flash.__native.GLVertexBufferSet',Pe='flash.__native.IRenderer',Qe='flash.__native.MemArray',Re='flash.__native.WebGLRenderer',Se='flash.display.BitmapData',Te='flash.display.BlendMode',Ue='flash.display.DisplayObject',Ve='flash.display.DisplayObjectContainer',We='flash.display.GradientType',Xe='flash.display.Graphics',Ye='flash.display.GraphicsBitmapFill',Ze='flash.display.GraphicsEndFill',$e='flash.display.GraphicsGradientFill',
af='flash.display.GraphicsPath',bf='flash.display.GraphicsPathCommand',cf='flash.display.GraphicsSolidFill',df='flash.display.GraphicsStroke',ef='flash.display.GraphicsTrianglePath',ff='flash.display.InteractiveObject',gf='flash.display.LoaderInfo',hf='flash.display.Sprite',jf='flash.display.Stage',kf='flash.display.Stage3D',lf='flash.display3D.Context3D',mf='flash.display3D.Context3DBlendFactor',nf='flash.display3D.Context3DCompareMode',of='flash.display3D.Context3DProfile',pf='flash.display3D.Context3DProgramType',
qf='flash.display3D.Context3DRenderMode',rf='flash.display3D.Context3DTextureFormat',sf='flash.display3D.Context3DTriangleFace',tf='flash.display3D.Context3DVertexBufferFormat',uf='flash.display3D.IndexBuffer3D',vf='flash.display3D.Program3D',wf='flash.display3D.VertexBuffer3D',xf='flash.display3D.textures.CubeTexture',yf='flash.display3D.textures.RectangleTexture',zf='flash.display3D.textures.Texture',Af='flash.display3D.textures.TextureBase',Bf='flash.display3D.textures.VideoTexture',Cf='flash.events.ErrorEvent',
Df='flash.events.Event',Ef='flash.events.EventDispatcher',Ff='flash.events.KeyboardEvent',Gf='flash.events.MouseEvent',Hf='flash.events.TextEvent',If='flash.events.TouchEvent',Jf='flash.geom.ColorTransform',Kf='flash.geom.Matrix',Lf='flash.geom.Matrix3D',Mf='flash.geom.Orientation3D',Nf='flash.geom.Point',Of='flash.geom.Rectangle',Pf='flash.geom.Transform',Qf='flash.geom.Vector3D',Rf='flash.media.Camera',Sf='flash.system.Capabilities',Tf='flash.utils.ByteArray',Uf='flash.utils.Dictionary',Vf='flash.utils.Endian',
Wf='flash.utils.Proxy',Xf='float1',Yf='float2',Zf='float3',$f='float4',ag='fo',bg='fract',cg='fragment',dg='fragment constant',eg='fragment output',fg='fragment temporary',gg='frc',hg='front',ig='frontAndBack',jg='fs',kg='ft',lg='fullScreen',mg='function',ng='gl3d.core.Camera3D',og='gl3d.core.Drawable',pg='gl3d.core.IndexBufferSet',qg='gl3d.core.Light',rg='gl3d.core.Material',sg='gl3d.core.MaterialBase',tg='gl3d.core.Node3D',ug='gl3d.core.ProgramSet',vg='gl3d.core.TextureSet',wg='gl3d.core.VertexBufferSet',
xg='gl3d.core.View3D',yg='gl3d.core.renders.GL',zg='gl3d.core.renders.Render',Ag='gl3d.core.renders.Stage3DRender',Bg='gl3d.core.shaders.GLAS3Shader',Cg='gl3d.core.shaders.GLBinder',Dg='gl3d.core.shaders.GLShader',Eg='gl3d.meshs.Meshs',Fg='gl3d.meshs.Teapot',Gg='gl3d.pick.AS3Picking',Hg='gl3d.pick.Picking',Ig='gl3d.shaders.PhongFragmentShader',Jg='gl3d.shaders.PhongGLShader',Kg='gl3d.shaders.PhongVertexShader',Lg='gl3d.util.MathUtil',Mg='gl3d.util.Matrix3DUtils',Ng='gl_FragColor',Og='gl_Position',
Pg='greater',Qg='greaterEqual',Rg='i_add',Sg='i_div',Tg='i_max',Ug='i_min',Vg='i_mul',Wg='i_pow',Xg='i_sub',Yg='ife',Zg='ifg',$g='ifl',ah='ignoresampler',bh='ine',ch='init',dh='instance',eh='inversesqrt',fh='joint',gh='keyDown',hh='keyUp',ih='keydown',jh='keypress',kh='keyup',lh='kil',mh='layer',nh='less',oh='lessEqual',ph='light',qh='linear',rh='littleEndian',sh='log',th='m33',uh='m34',vh='m44',wh='mat',xh='max',yh='min',zh='miplinear',Ah='mipnearest',Bh='mipnone',Ch='mouseDown',Dh='mouseMove',Eh=
'mouseOut',Fh='mouseOver',Gh='mouseUp',Hh='mouseWheel',Ih='mousedown',Jh='mouseenter',Kh='mouseleave',Lh='mousemove',Mh='mouseout',Nh='mouseover',Oh='mouseup',Ph='mousewheel',Qh='mov',Rh='mul',Sh='multiply',Th='native code',Uh='nearest',Vh='neg',Wh='never',Xh='no imp',Yh='no-repeat',Zh='nomip',$h='none',ai='norm',bi='normal',ci='normalize',di='notEqual',ei='nrm',fi='null',gi='number',hi='object',ii='oc',ji='on',ki='one',li='oneMinusDestinationAlpha',mi='oneMinusDestinationColor',ni='oneMinusSourceAlpha',
oi='oneMinusSourceColor',pi='op',qi='org.apache.flex.events.EventDispatcher',ri='org.apache.flex.utils.Language',si='org.apache.flex.utils.Proxy',ti='pad',ui='pos',vi='pow',wi='precision lowp float;varying vec4 vColor;varying vec2 vUV;uniform sampler2D fs0;void main(void) {gl_FragColor \x3d texture2D(fs0,vUV)*vColor;}',xi='precision lowp float;varying vec4 vColor;void main(void) {gl_FragColor \x3d vColor;}',yi='precision mediump float;\n',zi='px',Ai='quaternion',Bi='rcp',Ci='removedFromStage',Di=
'repeat',Ei='repeat_u_clamp_v',Fi='resize',Gi='rgb',Hi='rgba',Ii='rgba(',Ji='rgbaHalfFloat',Ki='rollOver',Li='round',Mi='rsq',Ni='s',Oi='sampler2D',Pi='sat',Qi='scene',Ri='sdiff',Si='seq',Ti='sge',Ui='sgn',Vi='shadowend',Wi='shadowstart',Xi='sin',Yi='single',Zi='slightmap',$i='slt',aj='sne',bj='snormlmap',cj='sourceAlpha',dj='sourceColor',ej='splice',fj='spriteflexjs',gj='sqrt',hj='sqt',ij='sreflect',jj='sshadowmap',kj='stage3Ds_error',lj='stage_context3dCreate',mj='stage_resize',nj='standard',oj=
'standardConstrained',pj='sterrain',qj='stopImmediatePropagation',rj='string',sj='sub',tj='t',uj='ted',vj='tex',wj='texture sampler',xj='textureReady',yj='top',zj='touchBegin',Aj='touchEnd',Bj='touchMove',Cj='touchcancel',Dj='touchend',Ej='touchmove',Fj='touchstart',Gj='tripath',Hj='uambient',Ij='ucamerapos',Jj='ujointsmatrix',Kj='ujointsquat',Lj='ulightCameraWorld',Mj='ulightcolor',Nj='ulightpos',Oj='ulightvar',Pj='umaterialcolor',Qj='umodel',Rj='uniform ',Sj='uperspective',Tj='upixelsize',Uj='uspecular',
Vj='utexturesize',Wj='utf-8',Xj='utime',Yj='uv',Zj='uview',ak='uvmuladd',bk='uwireframecolor',ck='uworld2local',dk='v',ek='va',fk='var ',gk='varying',hk='varying ',ik='vc',jk='vec4',kk='vertex',lk='vertex attribute',mk='vertex constant',nk='vertex output',ok='vertex temporary',pk='vi',qk='video',rk='visible',sk='vo',tk='void main(){\n',uk='vt',vk='vt_textureReady',wk='w',xk='warning: bad line ',yk='webgl',zk='weight',Ak='window',Bk='window_resize',Ck='wrap',Dk='x',Ek='xyz',Fk='y',Gk='zero',Hk='}';
function h(){return function(){}}function k(a){return function(b){this[a]=b}}function m(a){return function(){return this[a]}}function p(a){return function(){return a}}var q,Ik=this;
function Jk(a){var b=typeof a;if(b==hi)if(a){if(a instanceof Array)return mc;if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(c==Wb)return hi;if(c==Ub||typeof a.length==gi&&'undefined'!=typeof a.splice&&'undefined'!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(ej))return mc;if(c==Vb||'undefined'!=typeof a.call&&'undefined'!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(Dd))return mg}else return fi;else if(b==mg&&'undefined'==typeof a.call)return hi;return b}
var Kk='closure_uid_'+(1E9*Math.random()>>>0),Lk=0;function Mk(a,b,c){return a.call.apply(a.bind,arguments)}function Nk(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function Ok(a,b,c){Ok=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(Th)?Mk:Nk;return Ok.apply(null,arguments)}function r(a,b){var c=a.split(ob),d=Ik;c[0]in d||!d.execScript||d.execScript(fk+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}
function Pk(a,b){function c(){}c.prototype=b.prototype;a.Z=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Lm=function(a,c,f){for(var g=Array(arguments.length-2),l=2;l<arguments.length;l++)g[l-2]=arguments[l];return b.prototype[c].apply(a,g)}};function Qk(){}var Rk,Sk,Tk=[],Uk=String.fromCharCode(0);function w(a,b,c){c='undefined'!==typeof c?c:null;b=x(a,b);if(!b&&void 0!==c&&c)throw a=TypeError?new TypeError(Nb):Error(Nb),a;return b?a:null}r('org.apache.flex.utils.Language.as',w);function Vk(a){return a>>0}r('org.apache.flex.utils.Language._int',Vk);
function x(a,b){var c;if(null==a||null==b)return!1;if(a instanceof b||b===Object)return!0;if(typeof a===rj)return b===String;if(typeof a===gi)return b===Number;if(typeof a===sd)return b===Boolean;if(b===Array)return Array.isArray(a);if(void 0===a.g)return!1;if(a.g.ja&&Wk(a,b))return!0;c=a.constructor;if(c=c.Z)for(;c&&c.g;){if(c.g.ja&&Wk(c,b))return!0;c=c.constructor;c=c.Z}return!1}r('org.apache.flex.utils.Language.is',x);
function Wk(a,b){var c,d;d=a.g.ja;for(c=d.length-1;-1<c;c--)if(d[c]===b||d[c].prototype.g.ja&&Wk(d[c].prototype,b))return!0;return!1}Qk.prototype.Vh=function(a){return typeof a===mg&&a.prototype&&a.prototype.constructor===a};Qk.prototype.isClass=Qk.prototype.Vh;Qk.prototype.Gj=function(a){return this.Vh(a)?a:null};Qk.prototype.asClass=Qk.prototype.Gj;r('org.apache.flex.utils.Language.postdecrement',function(a,b){var c=a[b];a[b]=c-1;return c});
r('org.apache.flex.utils.Language.postincrement',function(a,b){var c=a[b];a[b]=c+1;return c});r('org.apache.flex.utils.Language.predecrement',function(a,b){var c=a[b]-1;return a[b]=c});r('org.apache.flex.utils.Language.preincrement',function(a,b){var c=a[b]+1;return a[b]=c});function Xk(a,b,c){a=a.Z;for(var d=Object.getOwnPropertyDescriptor(a,c);null==d;)a=a.constructor,a=a.Z,d=Object.getOwnPropertyDescriptor(a,c);return d.get.call(b)}r('org.apache.flex.utils.Language.superGetter',Xk);
function Yk(a,b,c,d){a=a.Z;for(var e=Object.getOwnPropertyDescriptor(a,c);null==e;)a=a.constructor,a=a.Z,e=Object.getOwnPropertyDescriptor(a,c);e.set.apply(b,[d])}r('org.apache.flex.utils.Language.superSetter',Yk);function Zk(a){a=Array.prototype.slice.call(arguments,0);var b;b=Ik.console;void 0===b&&('undefined'!==typeof window?b=window.console:'undefined'!==typeof console&&(b=console));try{b&&b.log&&b.log.apply(b,a)}catch(c){}}r('org.apache.flex.utils.Language.trace',Zk);
r('org.apache.flex.utils.Language.uint',function(a){return a>>>0});function y(a,b,c){if(b.hasOwnProperty(c))return b[c];a=Ok(a,b);Object.defineProperty(b,c,{value:a});return a}r('org.apache.flex.utils.Language.closure',y);r('org.apache.flex.utils.Language.sortOn',function(a,b,c){c='undefined'!==typeof c?c:0;x(b,Array)?Rk=w(b,Array):(Tk[0]=b,Rk=Tk);if(x(c,Array)){b=0;for(var d in c)b|=c[d]}else b=w(c,Number);Sk=0<(2&b)?-1:1;b&16?a.sort($k):b&1?a.sort(al):a.sort(bl)});
function al(a,b){var c=Rk,d;for(d in c){var e=c[d],e=(a[e]||Uk).toString().toLowerCase().localeCompare((b[e]||Uk).toString().toLowerCase());if(0!=e)return e*Sk}return 0}function bl(a,b){var c=Rk,d;for(d in c){var e=c[d],e=(a[e]||Uk).toString().localeCompare((b[e]||Uk).toString());if(0!=e)return e*Sk}return 0}function $k(a,b){var c=Rk,d;for(d in c){var e=c[d];if(a[e]>b[e])return Sk;if(a[e]<b[e])return-Sk}return 0}Qk.prototype.g={names:[{name:'Language',h:ri}]};r(ri,Qk);function cl(){}cl.prototype.qb=p(null);cl.prototype.createPath=cl.prototype.qb;cl.prototype.Sa=p(null);cl.prototype.getCssColor=cl.prototype.Sa;cl.prototype.dc=h();cl.prototype.renderGraphics=cl.prototype.dc;cl.prototype.lb=h();cl.prototype.renderImage=cl.prototype.lb;cl.prototype.Oc=h();cl.prototype.renderText=cl.prototype.Oc;cl.prototype.finish=h();cl.prototype.finish=cl.prototype.finish;cl.prototype.start=h();cl.prototype.start=cl.prototype.start;cl.prototype.g={names:[{name:'IRenderer',h:Pe}]};
r(Pe,cl);function dl(){}dl.prototype.G=h();dl.prototype.aa=h();dl.prototype.g={names:[{name:'IGraphicsData',h:'flash.display.IGraphicsData'}]};function el(){}el.prototype.g={names:[{name:'IGraphicsFill',h:'flash.display.IGraphicsFill'}]};function fl(a,b,c,d){this.bitmapData='undefined'!==typeof a?a:null;this.matrix='undefined'!==typeof b?b:null;this.repeat='undefined'!==typeof c?c:!0;this.smooth='undefined'!==typeof d?d:!1}fl.prototype.G=function(a){null==this.pattern&&this.bitmapData&&(this.pattern=a.createPattern(this.bitmapData.image,this.repeat?Di:Yh));a.fillStyle=this.pattern};fl.prototype.draw=fl.prototype.G;
fl.prototype.aa=function(a){null==this.pattern&&this.bitmapData&&(this.pattern=a.createPattern(this.bitmapData.image,this.repeat?Di:Yh));a.fillStyleIsImage=!0;a.fillStyle=this.pattern};fl.prototype.gldraw=fl.prototype.aa;fl.prototype.g={names:[{name:'GraphicsBitmapFill',h:Ye}],ja:[el,dl]};r(Ye,fl);function gl(a,b){this.x='undefined'!==typeof a?a:0;this.y='undefined'!==typeof b?b:0}r('flash.geom.Point.interpolate',function(a,b,c){return new gl(b.x+c*(a.x-b.x),b.y+c*(a.y-b.y))});r('flash.geom.Point.distance',function(a,b){return a.bb(b).length});r('flash.geom.Point.polar',function(a,b){return new gl(a*Math.cos(b),a*Math.sin(b))});gl.prototype.clone=function(){return new gl(this.x,this.y)};gl.prototype.clone=gl.prototype.clone;gl.prototype.offset=function(a,b){this.x+=a;this.y+=b};
gl.prototype.offset=gl.prototype.offset;gl.prototype.Bc=function(a){return a.x===this.x&&a.y===this.y};gl.prototype.equals=gl.prototype.Bc;gl.prototype.bb=function(a){return new gl(this.x-a.x,this.y-a.y)};gl.prototype.subtract=gl.prototype.bb;gl.prototype.add=function(a){return new gl(this.x+a.x,this.y+a.y)};gl.prototype.add=gl.prototype.add;gl.prototype.normalize=function(a){var b=this.length;0<b&&(b=a/b,this.x*=b,this.y*=b)};gl.prototype.normalize=gl.prototype.normalize;
gl.prototype.toString=function(){return Fa+this.x+jb+this.y+Ga};gl.prototype.toString=gl.prototype.toString;gl.prototype.J=function(a){this.x=a.x;this.y=a.y};gl.prototype.copyFrom=gl.prototype.J;gl.prototype.qa=function(a,b){this.x=a;this.y=b};gl.prototype.setTo=gl.prototype.qa;Object.defineProperties(gl.prototype,{length:{get:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}}});gl.prototype.g={names:[{name:'Point',h:Nf}]};r(Nf,gl);function z(a,b,c,d,e,f){this.a='undefined'!==typeof a?a:1;this.b='undefined'!==typeof b?b:0;this.c='undefined'!==typeof c?c:0;this.d='undefined'!==typeof d?d:1;this.tx='undefined'!==typeof e?e:0;this.ty='undefined'!==typeof f?f:0}z.prototype.clone=function(){return new z(this.a,this.b,this.c,this.d,this.tx,this.ty)};z.prototype.clone=z.prototype.clone;
z.prototype.concat=function(a){this.xa=this.a;this.a=this.a*a.a+this.b*a.c;this.b=this.xa*a.b+this.b*a.d;this.xa=this.c;this.c=this.c*a.a+this.d*a.c;this.d=this.xa*a.b+this.d*a.d;this.xa=this.tx;this.tx=this.tx*a.a+this.ty*a.c+a.tx;this.ty=this.xa*a.b+this.ty*a.d+a.ty};z.prototype.concat=z.prototype.concat;
z.prototype.Ta=function(){if(0===this.b&&0===this.c)this.a=1/this.a,this.d=1/this.d,this.tx*=-this.a,this.ty*=-this.d;else{var a=this.a*this.d-this.b*this.c;0===a?(this.a=this.d=1,this.tx=this.ty=this.b=this.c=0):(a=1/a,this.xa=this.a,this.zf=this.b,this.Af=this.c,this.wm=this.d,this.a=this.wm*a,this.b=-this.zf*a,this.c=-this.Af*a,this.d=this.xa*a,this.xa=-(this.b*this.tx+this.d*this.ty),this.tx=-(this.a*this.tx+this.c*this.ty),this.ty=this.xa)}};z.prototype.invert=z.prototype.Ta;
z.prototype.Wb=function(){this.a=this.d=1;this.tx=this.ty=this.b=this.c=0};z.prototype.identity=z.prototype.Wb;z.prototype.vh=function(a,b,c){c='undefined'!==typeof c?c:0;var d=Math.cos(c);c=Math.sin(c);this.a=d*a;this.b=c*b;this.c=-c*a;this.d=d*b};z.prototype.createBox=z.prototype.vh;z.prototype.Wj=function(a,b,c){this.vh(a/1638.4,b/1638.4,'undefined'!==typeof c?c:0)};z.prototype.createGradientBox=z.prototype.Wj;
z.prototype.rotate=function(a){var b=Math.cos(a);a=Math.sin(a);this.xa=this.a;this.zf=this.c;this.Af=this.tx;this.a=b*this.a-a*this.b;this.b=a*this.xa+b*this.b;this.c=b*this.c-a*this.d;this.d=a*this.zf+b*this.d;this.tx=b*this.tx-a*this.ty;this.ty=a*this.Af+b*this.ty};z.prototype.rotate=z.prototype.rotate;z.prototype.translate=function(a,b){this.tx+=a;this.ty+=b};z.prototype.translate=z.prototype.translate;
z.prototype.scale=function(a,b){this.a*=a;this.b*=b;this.c*=a;this.d*=b;this.tx*=a;this.ty*=b};z.prototype.scale=z.prototype.scale;z.prototype.ak=function(a){return new gl(this.a*a.x+this.c*a.y,this.d*a.y+this.b*a.x)};z.prototype.deltaTransformPoint=z.prototype.ak;z.prototype.Uc=function(a){return new gl(this.a*a.x+this.c*a.y+this.tx,this.d*a.y+this.b*a.x+this.ty)};z.prototype.transformPoint=z.prototype.Uc;
z.prototype.toString=function(){return Ba+this.a+Va+this.b+Ya+this.c+Za+this.d+gb+this.tx+hb+this.ty+Ga};z.prototype.toString=z.prototype.toString;z.prototype.J=function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.d=a.d;this.tx=a.tx;this.ty=a.ty};z.prototype.copyFrom=z.prototype.J;z.prototype.qa=function(a,b,c,d,e,f){this.a=a;this.b=b;this.c=c;this.d=d;this.tx=e;this.ty=f};z.prototype.setTo=z.prototype.qa;
z.prototype.ve=function(a,b){switch(a){case 0:break;case 1:b.x=this.b;b.y=this.d;b.z=this.ty;break;case 2:case 3:b.x=0;b.y=0;b.z=1;break;default:b.x=this.a,b.y=this.c,b.z=this.tx}};z.prototype.copyRowTo=z.prototype.ve;z.prototype.A=function(a,b){switch(a){case 0:break;case 1:b.x=this.c;b.y=this.d;b.z=0;break;case 2:case 3:b.x=this.tx;b.y=this.ty;b.z=1;break;default:b.x=this.a,b.y=this.b,b.z=0}};z.prototype.copyColumnTo=z.prototype.A;
z.prototype.ua=function(a,b){switch(a){case 0:break;case 1:case 2:this.b=b.x;this.d=b.y;this.ty=b.z;break;default:this.a=b.x,this.c=b.y,this.tx=b.z}};z.prototype.copyRowFrom=z.prototype.ua;z.prototype.Y=function(a,b){switch(a){case 0:break;case 1:case 2:this.b=b.x;this.d=b.y;this.ty=b.z;break;default:this.a=b.x,this.c=b.y,this.tx=b.z}};z.prototype.copyColumnFrom=z.prototype.Y;z.prototype.g={names:[{name:'Matrix',h:Kf}]};r(Kf,z);function hl(){this._worldMatrix=new z}hl.prototype.G=function(a,b){if(this.fill){if(x(this.fill,fl)){var c=w(this.fill,fl);if(c.matrix)var d=c.matrix;a.globalAlpha=b.alphaMultiplier}else a.globalAlpha=1;d&&(a.save(),a.transform(d.a,d.b,d.c,d.d,d.tx,d.ty));a.fill();d&&a.restore()}};hl.prototype.draw=hl.prototype.G;hl.prototype.aa=function(a){if(this.fill){var b=this.fill.matrix;b?this._worldMatrix.J(b):this._worldMatrix.Wb();b=a.matr;a.Hi(this._worldMatrix);a.fill();a.matr=b}};
hl.prototype.gldraw=hl.prototype.aa;hl.prototype.g={names:[{name:'GraphicsEndFill',h:Ze}],ja:[el,dl]};r(Ze,hl);function il(){}r('flash.display.GraphicsPathCommand.NO_OP',0);r('flash.display.GraphicsPathCommand.MOVE_TO',1);r('flash.display.GraphicsPathCommand.LINE_TO',2);r('flash.display.GraphicsPathCommand.CURVE_TO',3);r('flash.display.GraphicsPathCommand.WIDE_MOVE_TO',4);r('flash.display.GraphicsPathCommand.WIDE_LINE_TO',5);r('flash.display.GraphicsPathCommand.CUBIC_CURVE_TO',6);r('flash.display.GraphicsPathCommand.ARC',7);r('flash.display.GraphicsPathCommand.CLOSE_PATH',8);
r('flash.display.GraphicsPathCommand.DRAW_TRIANGLES',9);il.prototype.g={names:[{name:'GraphicsPathCommand',h:bf}]};r(bf,il);function jl(){}jl.prototype.g={names:[{name:'IGraphicsPath',h:'flash.display.IGraphicsPath'}]};function B(a,b,c){this.commands=[];this.data=[];this.tris=[];this.commands='undefined'!==typeof a?a:null;this.data='undefined'!==typeof b?b:null;null==this.commands&&(this.commands=[]);null==this.data&&(this.data=[]);this.qg='undefined'!==typeof c?c:Ae}B.prototype.xd=!0;B.prototype.gpuPath2DDirty=B.prototype.xd;B.prototype.clear=function(){this.commands.length=0;this.data.length=0;this.tris.length=0};B.prototype.clear=B.prototype.clear;
B.prototype.moveTo=function(a,b){this.commands.push(1);this.data.push(a,b)};B.prototype.moveTo=B.prototype.moveTo;B.prototype.lineTo=function(a,b){this.commands.push(2);this.data.push(a,b)};B.prototype.lineTo=B.prototype.lineTo;B.prototype.ea=function(a,b,c,d){this.commands.push(3);this.data.push(a,b,c,d)};B.prototype.curveTo=B.prototype.ea;B.prototype.va=function(a,b,c,d,e,f){this.commands.push(6);this.data.push(a,b,c,d,e,f)};B.prototype.cubicCurveTo=B.prototype.va;
B.prototype.Qf=function(a,b){this.commands.push(5);this.data.push(0,0,a,b)};B.prototype.wideLineTo=B.prototype.Qf;B.prototype.Rf=function(a,b){this.commands.push(4);this.data.push(0,0,a,b)};B.prototype.wideMoveTo=B.prototype.Rf;B.prototype.arc=function(a,b,c,d,e){this.commands.push(7);this.data.push(a,b,c,d,e)};B.prototype.arc=B.prototype.arc;
B.prototype.G=function(a){if(this.commands.length){a.beginPath();for(var b=0,c=0,d=this.commands.length,e=0;e<d;e++)switch(this.commands[e]){case 1:a.moveTo(this.data[b++],this.data[b++]);break;case 2:a.lineTo(this.data[b++],this.data[b++]);break;case 3:a.quadraticCurveTo(this.data[b++],this.data[b++],this.data[b++],this.data[b++]);break;case 6:a.bezierCurveTo(this.data[b++],this.data[b++],this.data[b++],this.data[b++],this.data[b++],this.data[b++]);break;case 4:b+=2;a.moveTo(this.data[b++],this.data[b++]);
break;case 5:b+=2;a.lineTo(this.data[b++],this.data[b++]);break;case 7:a.arc(this.data[b++],this.data[b++],this.data[b++],this.data[b++],this.data[b++]);break;case 9:for(var f=this.tris[c++],g=a,l=f[0],f=f[1],n=f.length,t=0;t<n;){var u=f[t++],v=f[t++],G=f[t++],E=l[2*u],u=l[2*u+1],A=l[2*v],v=l[2*v+1],K=l[2*G],G=l[2*G+1];g.moveTo(E,u);g.lineTo(A,v);g.lineTo(K,G);g.lineTo(E,u)}break;case 8:a.closePath()}}};B.prototype.draw=B.prototype.G;B.prototype.aa=function(a,b){a.Ac(this,b)};B.prototype.gldraw=B.prototype.aa;
B.prototype.closePath=function(){this.commands.push(8)};B.prototype.closePath=B.prototype.closePath;B.prototype.na=function(a,b,c){this.tris.push([a,b,c]);this.commands.push(9)};B.prototype.drawTriangles=B.prototype.na;Object.defineProperties(B.prototype,{winding:{get:m('qg'),set:k('qg')}});B.prototype.g={names:[{name:'GraphicsPath',h:af}],ja:[jl,dl]};r(af,B);function kl(){this.Ub=new hl}Pk(kl,cl);kl.prototype.Sa=function(a,b,c){return Ii+((a>>16&255)*c.redMultiplier+c.redOffset>>0)+Ra+((a>>8&255)*c.greenMultiplier+c.greenOffset>>0)+Ra+((a&255)*c.greenMultiplier+c.greenOffset>>0)+Ra+(b*c.alphaMultiplier+c.alphaOffset)+Ga};kl.prototype.getCssColor=kl.prototype.Sa;kl.prototype.qb=function(){return new B};kl.prototype.createPath=kl.prototype.qb;
kl.prototype.dc=function(a,b,c,d,e){a.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);a.globalCompositeOperation=d;c=b.graphicsData.length;for(d=0;d<c;d++)b.graphicsData[d].G(a,e);b.lastFill&&(this.Ub.fill=b.lastFill,this.Ub.G(a,e));b.lastStroke&&a.stroke();a.fillStyle=null;a.strokeStyle=null};kl.prototype.renderGraphics=kl.prototype.dc;kl.prototype.lb=function(a,b,c,d,e){a.globalAlpha=e.alphaMultiplier;a.globalCompositeOperation=d;a.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);a.drawImage(b.image,0,0)};
kl.prototype.renderImage=kl.prototype.lb;kl.prototype.Oc=function(a,b,c,d,e,f,g,l){a.globalAlpha=f.alphaMultiplier;a.globalCompositeOperation=e;a.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty);a.font=c.Xj;a.fillStyle=c.Yj;a.textBaseline=yj;a.fillText(b,g,l)};kl.prototype.renderText=kl.prototype.Oc;kl.prototype.g={names:[{name:'BaseRenderer',h:Ge}]};r(Ge,kl);function ll(){}var ml,nl,ol=0;r('SpriteFlexjs.startTime',ol);r('SpriteFlexjs.debug',!1);r('SpriteFlexjs.wmode','direct');var pl=new kl;r('SpriteFlexjs.renderer',pl);var ql=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,1E3/60)};r('SpriteFlexjs.requestAnimationFrame',ql);ll.prototype.g={names:[{name:Kb,h:Kb}]};r(Kb,ll);function rl(){}rl.prototype.g={names:[{name:'BitmapTexture',h:He}]};r(He,rl);function sl(a,b){this.repetition=b;this.image=a}sl.prototype.g={names:[{name:'GLCanvasPattern',h:Ie}]};r(Ie,sl);function tl(a,b){this.usage=b;this.data=a}tl.prototype.N=!0;tl.prototype.dirty=tl.prototype.N;
tl.prototype.wb=function(a){null==this.buff&&(this.buff=a.Pb(this.data.length),this.buff.gl.bindBuffer(this.buff.gl.ELEMENT_ARRAY_BUFFER,this.buff.buff),this.buff.gl.bufferData(this.buff.gl.ELEMENT_ARRAY_BUFFER,this.data,this.usage),this.N=!1);this.N&&(this.buff.gl.bindBuffer(this.buff.gl.ELEMENT_ARRAY_BUFFER,this.buff.buff),this.buff.gl.bufferSubData(this.buff.gl.ELEMENT_ARRAY_BUFFER,0,this.data),this.N=!1);return this.buff};tl.prototype.getBuff=tl.prototype.wb;
tl.prototype.g={names:[{name:'GLIndexBufferSet',h:Me}]};r(Me,tl);function ul(a,b,c){this.usage=c;this.data32PerVertex=b;this.data=a}ul.prototype.N=!0;ul.prototype.dirty=ul.prototype.N;
ul.prototype.wb=function(a){null==this.buff&&(this.buff=a.Rb(this.data.length/this.data32PerVertex,this.data32PerVertex),this.buff.gl.bindBuffer(this.buff.gl.ARRAY_BUFFER,this.buff.buff),this.buff.gl.bufferData(this.buff.gl.ARRAY_BUFFER,this.data,this.usage),this.N=!1);this.N&&(this.buff.gl.bindBuffer(this.buff.gl.ARRAY_BUFFER,this.buff.buff),this.buff.gl.bufferSubData(this.buff.gl.ARRAY_BUFFER,0,this.data),this.N=!1);return this.buff};ul.prototype.getBuff=ul.prototype.wb;
ul.prototype.g={names:[{name:'GLVertexBufferSet',h:Oe}]};r(Oe,ul);function vl(a,b,c,d){this.usage=d;this.pos=new ul(a,2,d);this.uv=new ul(b,2,d);this.index=new tl(c,d)}vl.prototype.ac=-1;vl.prototype.numTriangles=vl.prototype.ac;Object.defineProperties(vl.prototype,{color:{get:function(){if(null==this.cd||this.cd.data.length!=this.pos.data.length/2)this.cd=new ul(new Uint32Array(this.pos.data.length/2),4,this.usage);return this.cd},set:k('cd')}});vl.prototype.g={names:[{name:'GLDrawable',h:Ke}]};r(Ke,vl);function wl(){this.matr=new z}
Object.defineProperties(wl.prototype,{drawable:{get:function(){if(this.path.xd){this.path.xd=!1;for(var a=this.path.polys,b=0,c=0,d=this.path.polys.length,e=0;e<d;e++){var f=this.path.polys.array[e].length,b=b+f;6<=f&&(c+=3*(f/2-2))}for(var g=this.path.tris.length,l=!1,e=0;e<g;e++)f=this.path.tris[e],b+=f[0].length,c+=f[1].length,f[2]&&(l=!0);if(null==this.pos||this.pos.length!=b)this.pos=new Float32Array(b);if(null==this.index||this.index.length!=c)this.index=new Uint16Array(c);!l||null!=this.uv&&
this.uv.length==b||(this.uv=new Float32Array(b));for(var n=c=b=0,e=0;e<d;e++){for(var t=a.array[e],f=t.length,u=f/2,f=0;f<u;f++){var v=t.array[2*f],G=t.array[2*f+1];this.pos[c++]=v;this.pos[c++]=G;2<=f&&(this.index[n++]=b,this.index[n++]=b+f-1,this.index[n++]=b+f)}b+=f}for(e=0;e<g;e++){f=this.path.tris[e];a=f[0];d=f[1];t=f[2];u=a.length;for(f=0;f<u;f++)this.pos[c]=a[f],t&&(this.uv[c]=t[f]),c++;u=d.length;for(f=0;f<u;f++)this.index[n++]=b+d[f];b+=a.length/2}null==this._drawable?this._drawable=new vl(this.pos,
this.pos,this.index,WebGLRenderingContext.STATIC_DRAW):(this._drawable.pos.data=this.pos,this._drawable.uv.data=l?this.uv:this.pos,this._drawable.index.data=this.index,this._drawable.pos.N=!0,this._drawable.uv.N=!0,this._drawable.index.N=!0)}return this._drawable}}});wl.prototype.g={names:[{name:'GLPath2D',h:Ne}]};r(Ne,wl);function C(a,b,c,d){this.x='undefined'!==typeof a?a:0;this.y='undefined'!==typeof b?b:0;this.width='undefined'!==typeof c?c:0;this.height='undefined'!==typeof d?d:0}C.prototype.clone=function(){return new C(this.x,this.y,this.width,this.height)};C.prototype.clone=C.prototype.clone;C.prototype.xb=function(){return 0>=this.width||0>=this.height};C.prototype.isEmpty=C.prototype.xb;C.prototype.sf=function(){this.height=this.width=this.y=this.x=0};C.prototype.setEmpty=C.prototype.sf;
C.prototype.Se=function(a,b){this.x-=a;this.width+=2*a;this.y-=b;this.height+=2*b};C.prototype.inflate=C.prototype.Se;C.prototype.el=function(a){this.x-=a.x;this.width+=2*a.x;this.y-=a.y;this.height+=2*a.y};C.prototype.inflatePoint=C.prototype.el;C.prototype.offset=function(a,b){this.x+=a;this.y+=b};C.prototype.offset=C.prototype.offset;C.prototype.Bl=function(a){this.x+=a.x;this.y+=a.y};C.prototype.offsetPoint=C.prototype.Bl;
C.prototype.contains=function(a,b){return a>=this.x&&a<this.x+this.width&&b>=this.y&&b<this.y+this.height};C.prototype.contains=C.prototype.contains;C.prototype.th=function(a){return a.x>=this.x&&a.x<this.x+this.width&&a.y>=this.y&&a.y<this.y+this.height};C.prototype.containsPoint=C.prototype.th;C.prototype.Qj=function(a){var b=a.x+a.width,c=a.y+a.height,d=this.x+this.width,e=this.y+this.height;return a.x>=this.x&&a.x<d&&a.y>=this.y&&a.y<e&&b>this.x&&b<=d&&c>this.y&&c<=e};
C.prototype.containsRect=C.prototype.Qj;C.prototype.fl=function(a){var b=new C;if(this.xb()||a.xb())return b.sf(),b;b.x=Math.max(this.x,a.x);b.y=Math.max(this.y,a.y);b.width=Math.min(this.x+this.width,a.x+a.width)-b.x;b.height=Math.min(this.y+this.height,a.y+a.height)-b.y;(0>=b.width||0>=b.height)&&b.sf();return b};C.prototype.intersection=C.prototype.fl;
C.prototype.hl=function(a){if(this.xb()||a.xb())return!1;var b=Math.min(this.y+this.height,a.y+a.height)-Math.max(this.y,a.y);return 0>=Math.min(this.x+this.width,a.x+a.width)-Math.max(this.x,a.x)||0>=b?!1:!0};C.prototype.intersects=C.prototype.hl;
C.prototype.Vi=function(a){var b=null;if(this.xb())return a.clone();if(a.xb())return this.clone();b=new C;b.x=Math.min(this.x,a.x);b.y=Math.min(this.y,a.y);b.width=Math.max(this.x+this.width,a.x+a.width)-b.x;b.height=Math.max(this.y+this.height,a.y+a.height)-b.y;return b};C.prototype.union=C.prototype.Vi;C.prototype.Bc=function(a){return a.x===this.x&&a.y===this.y&&a.width===this.width&&a.height===this.height};C.prototype.equals=C.prototype.Bc;
C.prototype.toString=function(){return Fa+this.x+jb+this.y+ib+this.width+db+this.height+Ga};C.prototype.toString=C.prototype.toString;C.prototype.J=function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height};C.prototype.copyFrom=C.prototype.J;C.prototype.qa=function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d};C.prototype.setTo=C.prototype.qa;
Object.defineProperties(C.prototype,{left:{get:m(Dk),set:function(a){this.width+=this.x-a;this.x=a}},right:{get:function(){return this.x+this.width},set:function(a){this.width=a-this.x}},top:{get:m(Fk),set:function(a){this.height+=this.y-a;this.y=a}},bottom:{get:function(){return this.y+this.height},set:function(a){this.height=a-this.y}},topLeft:{get:function(){return new gl(this.x,this.y)},set:function(a){this.width+=this.x-a.x;this.height+=this.y-a.y;this.x=a.x;this.y=a.y}},bottomRight:{get:function(){return new gl(this.right,
this.bottom)},set:function(a){this.width=a.x-this.x;this.height=a.y-this.y}},size:{get:function(){return new gl(this.width,this.height)},set:function(a){this.width=a.x;this.height=a.y}}});C.prototype.g={names:[{name:'Rectangle',h:Of}]};r(Of,C);function xl(){}xl.prototype.g={names:[{name:'IBitmapDrawable',h:'flash.display.IBitmapDrawable'}]};function D(a,b,c,d){this.rb(a,b,'undefined'!==typeof c?c:!0,'undefined'!==typeof d?d:4294967295)}D.prototype.ed=!1;D.prototype.rb=function(a,b,c,d){d='undefined'!==typeof d?d:4294967295;this.Bj='undefined'!==typeof c?c:!0;this.image=w(document.createElement(Ed),HTMLCanvasElement);this.image.width=this.Cj=a;this.image.height=this.uj=b;this.ctx=w(this.image.getContext(tb),CanvasRenderingContext2D);this.Xb=this.ctx.getImageData(0,0,a,b);this.data=this.Xb.data;this.fillRect(this.rect,d)};
D.prototype.He=function(a,b,c){this.ctx.drawImage(a,'undefined'!==typeof b?b:0,'undefined'!==typeof c?c:0);this.Xb=this.ctx.getImageData(0,0,this.width,this.height);this.data=this.Xb.data};D.prototype.fromImage=D.prototype.He;D.prototype.clone=p(null);D.prototype.clone=D.prototype.clone;D.prototype.Le=function(a,b){var c=4*(b*this.width+a);return this.data[c]<<16|this.data[c+1]<<8|this.data[c+2]};D.prototype.getPixel=D.prototype.Le;
D.prototype.Fh=function(a,b){var c=4*(b*this.width+a);return this.data[c+3]<<24|this.data[c]<<16|this.data[c+1]<<8|this.data[c+2]};D.prototype.getPixel32=D.prototype.Fh;D.prototype.hm=function(a,b,c){a=4*(b*this.width+a);this.data[a]=c>>16&255;this.data[a+1]=c>>8&255;this.data[a+2]=c&255;this.ed||this.ctx.putImageData(this.Xb,0,0)};D.prototype.setPixel=D.prototype.hm;
D.prototype.Md=function(a,b,c){a=4*(b*this.width+a);this.data[a]=c>>16&255;this.data[a+1]=c>>8&255;this.data[a+2]=c&255;this.data[a+3]=c>>>24;this.ed||this.ctx.putImageData(this.Xb,0,0)};D.prototype.setPixel32=D.prototype.Md;D.prototype.colorTransform=h();D.prototype.colorTransform=D.prototype.colorTransform;D.prototype.compare=p(null);D.prototype.compare=D.prototype.compare;D.prototype.Rj=h();D.prototype.copyChannel=D.prototype.Rj;
D.prototype.Sj=function(a,b,c){this.Gc();for(var d=0;d<b.width;d++)for(var e=0;e<b.height;e++)this.Md(d+c.x,e+c.y,a.Fh(d+b.x,e+b.y));this.Yc()};D.prototype.copyPixels=D.prototype.Sj;D.prototype.D=h();D.prototype.dispose=D.prototype.D;D.prototype.G=function(a){this.Ah(a)};D.prototype.draw=D.prototype.G;D.prototype.Ah=function(a){x(a,D)&&(a=w(a,D),this.He(a.ctx))};D.prototype.drawWithQuality=D.prototype.Ah;
D.prototype.fillRect=function(a,b){this.Gc();for(var c=0;c<this.width;++c)for(var d=0;d<this.height;++d)this.Md(d,c,this.transparent?b:4278190080|b);this.Yc()};D.prototype.fillRect=D.prototype.fillRect;D.prototype.kk=h();D.prototype.floodFill=D.prototype.kk;D.prototype.pk=p(null);D.prototype.getColorBoundsRect=D.prototype.pk;D.prototype.rk=p(null);D.prototype.getPixels=D.prototype.rk;D.prototype.Tj=h();D.prototype.copyPixelsToByteArray=D.prototype.Tj;D.prototype.uk=p(null);D.prototype.getVector=D.prototype.uk;
D.prototype.xk=p(!1);D.prototype.hitTest=D.prototype.xk;D.prototype.wl=h();D.prototype.merge=D.prototype.wl;D.prototype.ci=function(){this.Gc();for(var a=0;a<this.width;++a)for(var b=0;b<this.height;++b)this.Md(b,a,4278190080|16777215*Math.random());this.Yc()};D.prototype.noise=D.prototype.ci;D.prototype.Fl=h();D.prototype.paletteMap=D.prototype.Fl;D.prototype.hf=function(){this.ci()};D.prototype.perlinNoise=D.prototype.hf;D.prototype.Ll=p(0);D.prototype.pixelDissolve=D.prototype.Ll;
D.prototype.scroll=h();D.prototype.scroll=D.prototype.scroll;D.prototype.im=h();D.prototype.setPixels=D.prototype.im;D.prototype.mm=h();D.prototype.setVector=D.prototype.mm;D.prototype.threshold=p(0);D.prototype.threshold=D.prototype.threshold;D.prototype.Gc=function(){this.ed=!0};D.prototype.lock=D.prototype.Gc;D.prototype.Yc=function(){this.ed=!1;this.ctx.putImageData(this.Xb,0,0)};D.prototype.unlock=D.prototype.Yc;D.prototype.wk=p(null);D.prototype.histogram=D.prototype.wk;D.prototype.encode=p(null);
D.prototype.encode=D.prototype.encode;Object.defineProperties(D.prototype,{width:{get:m('Cj')},height:{get:m('uj')},transparent:{get:m('Bj')},rect:{get:function(){return new C(0,0,this.width,this.height)}}});D.prototype.g={names:[{name:'BitmapData',h:Se}],ja:[xl]};r(Se,D);function yl(){}r('flash.display3D.Context3DBlendFactor.ONE',ki);r('flash.display3D.Context3DBlendFactor.ZERO',Gk);r('flash.display3D.Context3DBlendFactor.SOURCE_ALPHA',cj);r('flash.display3D.Context3DBlendFactor.SOURCE_COLOR',dj);r('flash.display3D.Context3DBlendFactor.ONE_MINUS_SOURCE_ALPHA',ni);r('flash.display3D.Context3DBlendFactor.ONE_MINUS_SOURCE_COLOR',oi);r('flash.display3D.Context3DBlendFactor.DESTINATION_ALPHA',be);r('flash.display3D.Context3DBlendFactor.DESTINATION_COLOR',ce);
r('flash.display3D.Context3DBlendFactor.ONE_MINUS_DESTINATION_ALPHA',li);r('flash.display3D.Context3DBlendFactor.ONE_MINUS_DESTINATION_COLOR',mi);function zl(a,b){switch(b){case ki:return a.ONE;case Gk:return a.ZERO;case cj:return a.SRC_ALPHA;case dj:return a.SRC_COLOR;case ni:return a.ONE_MINUS_SRC_ALPHA;case oi:return a.ONE_MINUS_SRC_COLOR;case be:return a.DST_ALPHA;case ce:return a.DST_COLOR;case li:return a.ONE_MINUS_DST_ALPHA;case mi:return a.ONE_MINUS_DST_COLOR}return 0}
r('flash.display3D.Context3DBlendFactor.getGLVal',zl);yl.prototype.g={names:[{name:'Context3DBlendFactor',h:mf}]};r(mf,yl);function Al(){}r('flash.display3D.Context3DCompareMode.ALWAYS',hc);r('flash.display3D.Context3DCompareMode.NEVER',Wh);r('flash.display3D.Context3DCompareMode.LESS',nh);r('flash.display3D.Context3DCompareMode.LESS_EQUAL',oh);r('flash.display3D.Context3DCompareMode.EQUAL',oe);r('flash.display3D.Context3DCompareMode.GREATER_EQUAL',Qg);r('flash.display3D.Context3DCompareMode.GREATER',Pg);r('flash.display3D.Context3DCompareMode.NOT_EQUAL',di);
function Bl(a,b){switch(b){case hc:return a.ALWAYS;case Wh:return a.NEAREST;case nh:return a.LESS;case oh:return a.LESS|a.EQUAL;case oe:return a.EQUAL;case Qg:return a.GREATER|a.EQUAL;case Pg:return a.GREATER;case di:return a.NOTEQUAL}return 0}r('flash.display3D.Context3DCompareMode.getGLVal',Bl);Al.prototype.g={names:[{name:'Context3DCompareMode',h:nf}]};r(nf,Al);function Cl(){}r('flash.display3D.Context3DProgramType.VERTEX',kk);r('flash.display3D.Context3DProgramType.FRAGMENT',cg);Cl.prototype.g={names:[{name:'Context3DProgramType',h:pf}]};r(pf,Cl);function Dl(){}r('flash.display3D.Context3DTriangleFace.NONE',$h);r('flash.display3D.Context3DTriangleFace.BACK',Ac);r('flash.display3D.Context3DTriangleFace.FRONT',hg);r('flash.display3D.Context3DTriangleFace.FRONT_AND_BACK',ig);function El(a,b){switch(b){case $h:return a.NONE;case Ac:return a.FRONT;case hg:return a.BACK;case ig:return a.FRONT_AND_BACK}return 0}r('flash.display3D.Context3DTriangleFace.getGLVal',El);Dl.prototype.g={names:[{name:'Context3DTriangleFace',h:sf}]};r(sf,Dl);function Fl(){}r('flash.display3D.Context3DVertexBufferFormat.FLOAT_1',Xf);r('flash.display3D.Context3DVertexBufferFormat.FLOAT_2',Yf);r('flash.display3D.Context3DVertexBufferFormat.FLOAT_3',Zf);r('flash.display3D.Context3DVertexBufferFormat.FLOAT_4',$f);r('flash.display3D.Context3DVertexBufferFormat.BYTES_4',Bd);Fl.prototype.g={names:[{name:'Context3DVertexBufferFormat',h:tf}]};r(tf,Fl);function Gl(){}Gl.prototype.ad=function(a){this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.buff);this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,new Uint16Array(a),this.gl.STATIC_DRAW)};Gl.prototype.uploadFromVector=Gl.prototype.ad;Gl.prototype.ra=h();Gl.prototype.uploadFromByteArray=Gl.prototype.ra;Gl.prototype.D=h();Gl.prototype.dispose=Gl.prototype.D;Gl.prototype.g={names:[{name:'IndexBuffer3D',h:uf}]};r(uf,Gl);function Hl(){this.Mi={};this.ug={}}
Hl.prototype.upload=function(a,b){this.fshader=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.vshader=this.gl.createShader(this.gl.VERTEX_SHADER);a.position=b.position=0;this.gl.shaderSource(this.vshader,a.bc(a.length));this.gl.compileShader(this.vshader);if(!this.gl.getShaderParameter(this.vshader,this.gl.COMPILE_STATUS))throw this.vshader+ea+a+ea+this.gl.getShaderInfoLog(this.vshader);this.gl.shaderSource(this.fshader,b.bc(b.length));this.gl.compileShader(this.fshader);if(!this.gl.getShaderParameter(this.fshader,
this.gl.COMPILE_STATUS))throw b+ea+this.gl.getShaderInfoLog(this.fshader);this.gl.attachShader(this.program,this.vshader);this.gl.attachShader(this.program,this.fshader);this.gl.linkProgram(this.program);if(!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))throw this.gl.getProgramInfoLog(this.program);};Hl.prototype.upload=Hl.prototype.upload;Hl.prototype.D=function(){this.gl.deleteShader(this.fshader);this.gl.deleteShader(this.vshader);this.gl.deleteProgram(this.program)};
Hl.prototype.dispose=Hl.prototype.D;Hl.prototype.getUniformLocation=function(a){var b=this.Mi[a];null==b&&(b=this.Mi[a]=this.gl.getUniformLocation(this.program,a));return b};Hl.prototype.getUniformLocation=Hl.prototype.getUniformLocation;Hl.prototype.getAttribLocation=function(a){var b=this.ug[a];null==b&&(b=this.ug[a]=this.gl.getAttribLocation(this.program,a));a=Number(b);this.gl.enableVertexAttribArray(a);return a};Hl.prototype.getAttribLocation=Hl.prototype.getAttribLocation;
Hl.prototype.g={names:[{name:'Program3D',h:vf}]};r(vf,Hl);function Il(){}Il.prototype.ad=function(a){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buff);this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(a),this.gl.STATIC_DRAW)};Il.prototype.uploadFromVector=Il.prototype.ad;Il.prototype.ra=h();Il.prototype.uploadFromByteArray=Il.prototype.ra;Il.prototype.D=h();Il.prototype.dispose=Il.prototype.D;Il.prototype.g={names:[{name:'VertexBuffer3D',h:wf}]};r(wf,Il);function Jl(){}q=Jl.prototype;q.addEventListener=h();q.dispatchEvent=h();q.Ea=h();q.removeEventListener=h();q.fj=h();q.g={names:[{name:Gb,h:'flash.events.IEventDispatcher'}]};function Kl(a){this.P={};this.rb('undefined'!==typeof a?a:null)}Kl.prototype.rb=h();Kl.prototype.addEventListener=function(a,b){var c=this.P[a]=this.P[a]||[],d=c.indexOf(b);-1!=d&&c.splice(d,1);c.push(b)};Kl.prototype.addEventListener=Kl.prototype.addEventListener;Kl.prototype.removeEventListener=function(a,b){var c=this.P[a];if(c){var d=c.indexOf(b);-1!=d&&c.splice(d,1);0===c.length&&(this.P[a]=null,delete this.P[a])}};Kl.prototype.removeEventListener=Kl.prototype.removeEventListener;
Kl.prototype.dispatchEvent=function(a){return a.target?Ll(this,a.clone()):Ll(this,a)};Kl.prototype.dispatchEvent=Kl.prototype.dispatchEvent;Kl.prototype.Ea=function(a){return null!=this.P[a]};Kl.prototype.hasEventListener=Kl.prototype.Ea;Kl.prototype.fj=p(!1);Kl.prototype.willTrigger=Kl.prototype.fj;function Ll(a,b){b.target=a;b.currentTarget=a;var c=a.P[b.type];if(c)for(var d=c.length,e=0;e<d;e++)(0,c[e])(b);return!1}Kl.prototype.g={names:[{name:Fb,h:Ef}],ja:[Jl]};r(Ef,Kl);function Ml(){Kl.call(this)}Pk(Ml,Kl);Ml.prototype.D=h();Ml.prototype.dispose=Ml.prototype.D;Ml.prototype.g={names:[{name:'TextureBase',h:Af}]};r(Af,Ml);function Nl(){Kl.call(this)}Pk(Nl,Ml);Nl.prototype.Ia=h();Nl.prototype.uploadFromBitmapData=Nl.prototype.Ia;Nl.prototype.ra=h();Nl.prototype.uploadFromByteArray=Nl.prototype.ra;Nl.prototype.$c=h();Nl.prototype.uploadCompressedTextureFromByteArray=Nl.prototype.$c;Nl.prototype.g={names:[{name:'CubeTexture',h:xf}]};r(xf,Nl);function Ol(){Kl.call(this)}Pk(Ol,Ml);Ol.prototype.Ia=h();Ol.prototype.uploadFromBitmapData=Ol.prototype.Ia;Ol.prototype.ra=h();Ol.prototype.uploadFromByteArray=Ol.prototype.ra;Ol.prototype.g={names:[{name:'RectangleTexture',h:yf}]};r(yf,Ol);function Pl(){Kl.call(this)}Pk(Pl,Ml);Pl.prototype.repeat=!0;Pl.prototype.repeat=Pl.prototype.repeat;Pl.prototype.Ia=function(a,b){this.$i(a.image,'undefined'!==typeof b?b:0)};Pl.prototype.uploadFromBitmapData=Pl.prototype.Ia;
Pl.prototype.$i=function(a,b){b='undefined'!==typeof b?b:0;this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture);this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,a);this.repeat?(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.REPEAT)):(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,
this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE));0<b?(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_NEAREST),this.gl.generateMipmap(this.gl.TEXTURE_2D)):(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST));this.gl.bindTexture(this.gl.TEXTURE_2D,null)};
Pl.prototype.uploadFromImg=Pl.prototype.$i;Pl.prototype.ra=h();Pl.prototype.uploadFromByteArray=Pl.prototype.ra;Pl.prototype.$c=h();Pl.prototype.uploadCompressedTextureFromByteArray=Pl.prototype.$c;Pl.prototype.g={names:[{name:'Texture',h:zf}]};r(zf,Pl);function Ql(){Kl.call(this)}Pk(Ql,Ml);Ql.prototype.Jj=h();Ql.prototype.attachCamera=Ql.prototype.Jj;Object.defineProperties(Ql.prototype,{videoWidth:{get:p(0)},videoHeight:{get:p(0)}});Ql.prototype.g={names:[{name:'VideoTexture',h:Bf}]};r(Bf,Ql);function F(){this.xc={};this.yc={};Kl.call(this)}Pk(F,Kl);F.prototype.D=h();F.prototype.dispose=F.prototype.D;F.prototype.Mb=function(a,b,c,d){d='undefined'!==typeof d?d:!0;this.canvas.width=a;this.canvas.height=b;this.canvas.style.width=a+zi;this.canvas.style.height=b+zi;this.gl.viewport(0,0,a,b);d?(this.gl.enable(this.gl.DEPTH_TEST),this.gl.enable(this.gl.STENCIL_TEST)):(this.gl.disable(this.gl.DEPTH_TEST),this.gl.disable(this.gl.STENCIL_TEST))};F.prototype.configureBackBuffer=F.prototype.Mb;
F.prototype.clear=function(a,b,c,d,e,f){e='undefined'!==typeof e?e:1;f='undefined'!==typeof f?f:0;this.gl.clearColor('undefined'!==typeof a?a:0,'undefined'!==typeof b?b:0,'undefined'!==typeof c?c:0,'undefined'!==typeof d?d:1);this.gl.clearDepth(e);this.gl.clearStencil(f);this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)};F.prototype.clear=F.prototype.clear;
F.prototype.na=function(a,b,c){b='undefined'!==typeof b?b:0;c='undefined'!==typeof c?c:-1;this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,a.buff);this.gl.drawElements(this.gl.TRIANGLES,0>c?a.count:3*c,this.gl.UNSIGNED_SHORT,2*b)};F.prototype.drawTriangles=F.prototype.na;F.prototype.Kc=h();F.prototype.present=F.prototype.Kc;F.prototype.Db=function(a){this.pd!=a&&(this.pd=a,this.gl.useProgram(a.program))};F.prototype.setProgram=F.prototype.Db;
F.prototype.ab=function(a,b,c){this.zi(kk===a?ik+b:Fe+b,c)};F.prototype.setProgramConstantsFromVector=F.prototype.ab;F.prototype.pa=function(a,b,c,d){this.yi(kk===a?ik+b:Fe+b,c,'undefined'!==typeof d?d:!1)};F.prototype.setProgramConstantsFromMatrix=F.prototype.pa;F.prototype.Nd=h();F.prototype.setProgramConstantsFromByteArray=F.prototype.Nd;F.prototype.zi=function(a,b){this.gl.uniform4fv(this.getUniformLocation(a),b)};F.prototype.setProgramConstantsFromVectorGL=F.prototype.zi;
F.prototype.yi=function(a,b,c){(c='undefined'!==typeof c?c:!1)&&b.Gb();this.gl.uniformMatrix4fv(this.getUniformLocation(a),!1,b.rawData);c&&b.Gb()};F.prototype.setProgramConstantsFromMatrixGL=F.prototype.yi;F.prototype.jm=h();F.prototype.setProgramConstantsFromByteArrayGL=F.prototype.jm;F.prototype.getUniformLocation=function(a){return this.pd.getUniformLocation(a)};F.prototype.mb=function(a,b,c,d){this.Bi(ek+a,b,'undefined'!==typeof c?c:0,'undefined'!==typeof d?d:$f)};
F.prototype.setVertexBufferAt=F.prototype.mb;F.prototype.Bi=function(a,b,c,d){c='undefined'!==typeof c?c:0;d='undefined'!==typeof d?d:$f;if(this.yc[a]!=b){this.yc[a]=b;a=this.pd.getAttribLocation(a);this.gl.bindBuffer(this.gl.ARRAY_BUFFER,b.buff);b=this.gl.FLOAT;var e=0,f=!1;switch(d){case Xf:e=1;break;case Yf:e=2;break;case Zf:e=3;break;case $f:e=4;break;case Bd:e=4,b=this.gl.UNSIGNED_BYTE,f=!0}this.gl.vertexAttribPointer(a,e,b,f,c,c)}};F.prototype.setVertexBufferAtGL=F.prototype.Bi;
F.prototype.ec=function(a,b){this.gl.enable(this.gl.BLEND);this.gl.blendEquation(this.gl.FUNC_ADD);this.gl.blendFunc(zl(this.gl,a),zl(this.gl,b))};F.prototype.setBlendFactors=F.prototype.ec;F.prototype.Ld=function(a,b,c,d){this.gl.colorMask(a,b,c,d)};F.prototype.setColorMask=F.prototype.Ld;F.prototype.Qc=function(a,b){this.gl.depthFunc(Bl(this.gl,b));this.gl.depthMask(a)};F.prototype.setDepthTest=F.prototype.Qc;
F.prototype.hc=function(a,b){null==b?this.Sc(a,null):x(b,Pl)?this.Sc(a,w(b,Pl)):x(b,Nl)?w(b,Nl):x(b,Ol)?w(b,Ol):x(b,Ql)&&w(b,Ql)};F.prototype.setTextureAt=F.prototype.hc;F.prototype.gc=function(a){if(!x(a,Pl)&&!x(a,Nl)&&!x(a,Ol)&&null!=a)throw'texture argument not derived from TextureBase (can be Texture, CubeTexture, or if supported, RectangleTexture)';};F.prototype.setRenderToTexture=F.prototype.gc;F.prototype.Rc=h();F.prototype.setRenderToBackBuffer=F.prototype.Rc;
F.prototype.fc=function(a){a===$h?this.gl.disable(this.gl.CULL_FACE):(this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(El(this.gl,a)))};F.prototype.setCulling=F.prototype.fc;F.prototype.Pd=h();F.prototype.setStencilActions=F.prototype.Pd;F.prototype.Qd=h();F.prototype.setStencilReferenceValue=F.prototype.Qd;F.prototype.Od=function(a){null==a?this.gl.disable(this.gl.SCISSOR_TEST):(this.gl.enable(this.gl.SCISSOR_TEST),this.gl.scissor(a.x,a.y,a.width,a.height))};F.prototype.setScissorRectangle=F.prototype.Od;
F.prototype.Rb=function(){var a=new Il;a.buff=this.gl.createBuffer();a.gl=this.gl;return a};F.prototype.createVertexBuffer=F.prototype.Rb;F.prototype.Pb=function(a){var b=new Gl;b.buff=this.gl.createBuffer();b.gl=this.gl;b.count=a;return b};F.prototype.createIndexBuffer=F.prototype.Pb;F.prototype.createTexture=function(){var a=new Pl;a.gl=this.gl;a.texture=this.gl.createTexture();return a};F.prototype.createTexture=F.prototype.createTexture;F.prototype.Ob=p(null);F.prototype.createCubeTexture=F.prototype.Ob;
F.prototype.Qb=p(null);F.prototype.createRectangleTexture=F.prototype.Qb;F.prototype.createProgram=function(){var a=new Hl;a.gl=this.gl;a.program=this.gl.createProgram();return a};F.prototype.createProgram=F.prototype.createProgram;F.prototype.tb=h();F.prototype.drawToBitmapData=F.prototype.tb;F.prototype.tf=h();F.prototype.setSamplerStateAt=F.prototype.tf;F.prototype.Sc=function(a,b){this.Ai(jg+a,a,b)};
F.prototype.Ai=function(a,b,c){this.xc[a]!=c&&(this.xc[a]=c)&&(this.gl.activeTexture(WebGLRenderingContext[Lb+b]),this.gl.bindTexture(this.gl.TEXTURE_2D,c.texture),this.gl.uniform1i(this.pd.getUniformLocation(a),b))};F.prototype.setTextureAtGL=F.prototype.Ai;F.prototype.wc=p(null);F.prototype.createVideoTexture=F.prototype.wc;
Object.defineProperties(F.prototype,{driverInfo:{get:p(null)},enableErrorChecking:{get:p(!1),set:h()},profile:{get:p(null)},backBufferWidth:{get:p(0)},backBufferHeight:{get:p(0)},maxBackBufferWidth:{get:p(0),set:h()},maxBackBufferHeight:{get:p(0),set:h()}});Object.defineProperties(F,{supportsVideoTexture:{get:p(!1)}});F.prototype.g={names:[{name:'Context3D',h:lf}]};r(lf,F);function Rl(){}r('flash.display3D.Context3DTextureFormat.BGRA',Gc);r('flash.display3D.Context3DTextureFormat.RGBA_HALF_FLOAT',Ji);r('flash.display3D.Context3DTextureFormat.COMPRESSED',Od);r('flash.display3D.Context3DTextureFormat.COMPRESSED_ALPHA',Pd);r('flash.display3D.Context3DTextureFormat.BGR_PACKED','bgrPacked565');r('flash.display3D.Context3DTextureFormat.BGRA_PACKED','bgraPacked4444');Rl.prototype.g={names:[{name:'Context3DTextureFormat',h:rf}]};r(rf,Rl);function Sl(a,b,c){this.rb(a,'undefined'!==typeof b?b:!1,'undefined'!==typeof c?c:!1)}r('flash.events.Event.ACTIVATE','activate');r('flash.events.Event.ADDED','added');r('flash.events.Event.ADDED_TO_STAGE',fc);r('flash.events.Event.BROWSER_ZOOM_CHANGE','browserZoomChange');r('flash.events.Event.CANCEL','cancel');r('flash.events.Event.CHANGE','change');r('flash.events.Event.CLEAR','clear');r('flash.events.Event.CLOSE','close');r('flash.events.Event.COMPLETE','complete');
r('flash.events.Event.CONNECT','connect');r('flash.events.Event.COPY','copy');r('flash.events.Event.CUT','cut');r('flash.events.Event.DEACTIVATE','deactivate');r('flash.events.Event.ENTER_FRAME',ne);r('flash.events.Event.FRAME_CONSTRUCTED','frameConstructed');r('flash.events.Event.EXIT_FRAME','exitFrame');r('flash.events.Event.FRAME_LABEL','frameLabel');r('flash.events.Event.ID3','id3');r('flash.events.Event.INIT',ch);r('flash.events.Event.MOUSE_LEAVE','mouseLeave');r('flash.events.Event.OPEN','open');
r('flash.events.Event.PASTE','paste');r('flash.events.Event.REMOVED','removed');r('flash.events.Event.REMOVED_FROM_STAGE',Ci);r('flash.events.Event.RENDER','render');r('flash.events.Event.RESIZE',Fi);r('flash.events.Event.SCROLL','scroll');r('flash.events.Event.TEXT_INTERACTION_MODE_CHANGE','textInteractionModeChange');r('flash.events.Event.SELECT','select');r('flash.events.Event.SELECT_ALL','selectAll');r('flash.events.Event.SOUND_COMPLETE','soundComplete');
r('flash.events.Event.TAB_CHILDREN_CHANGE','tabChildrenChange');r('flash.events.Event.TAB_ENABLED_CHANGE','tabEnabledChange');r('flash.events.Event.TAB_INDEX_CHANGE','tabIndexChange');r('flash.events.Event.UNLOAD','unload');r('flash.events.Event.FULLSCREEN',lg);r('flash.events.Event.CONTEXT3D_CREATE',Sd);r('flash.events.Event.TEXTURE_READY',xj);r('flash.events.Event.VIDEO_FRAME','videoFrame');r('flash.events.Event.SUSPEND','suspend');r('flash.events.Event.CHANNEL_MESSAGE','channelMessage');
r('flash.events.Event.CHANNEL_STATE','channelState');r('flash.events.Event.WORKER_STATE','workerState');Sl.prototype.vb=p(null);Sl.prototype.formatToString=Sl.prototype.vb;Sl.prototype.rb=function(a,b,c){this.hd=a;this.pj=b;this.qj=c};Sl.prototype.clone=function(){return new Sl(this.type,this.bubbles,this.cancelable)};Sl.prototype.clone=Sl.prototype.clone;Sl.prototype.toString=function(){return this.vb()};Sl.prototype.toString=Sl.prototype.toString;Sl.prototype.stopPropagation=h();
Sl.prototype.stopPropagation=Sl.prototype.stopPropagation;Sl.prototype.stopImmediatePropagation=h();Sl.prototype.stopImmediatePropagation=Sl.prototype.stopImmediatePropagation;Sl.prototype.preventDefault=h();Sl.prototype.preventDefault=Sl.prototype.preventDefault;Sl.prototype.kl=p(!1);Sl.prototype.isDefaultPrevented=Sl.prototype.kl;
Object.defineProperties(Sl.prototype,{type:{get:m('hd')},bubbles:{get:m('pj')},cancelable:{get:m('qj')},target:{get:m('zj'),set:k('zj')},currentTarget:{get:m('sj'),set:k('sj')},eventPhase:{get:p(0)}});Sl.prototype.g={names:[{name:'Event',h:Df}]};r(Df,Sl);function Tl(){}r('flash.geom.Orientation3D.EULER_ANGLES',ze);r('flash.geom.Orientation3D.AXIS_ANGLE',zc);r('flash.geom.Orientation3D.QUATERNION',Ai);Tl.prototype.g={names:[{name:'Orientation3D',h:Mf}]};r(Mf,Tl);function H(a,b,c,d){this.x='undefined'!==typeof a?a:0;this.y='undefined'!==typeof b?b:0;this.z='undefined'!==typeof c?c:0;this.w='undefined'!==typeof d?d:0}var Ul=new H(1,0,0);r('flash.geom.Vector3D.X_AXIS',Ul);var Vl=new H(0,1,0);r('flash.geom.Vector3D.Y_AXIS',Vl);var Wl=new H(0,0,1);r('flash.geom.Vector3D.Z_AXIS',Wl);r('flash.geom.Vector3D.angleBetween',function(a,b){var c=a.x*b.x+a.y*b.y+a.z*b.z,c=c/(a.length*b.length);return Math.acos(c)});r('flash.geom.Vector3D.distance',function(a,b){return a.bb(b).length});
H.prototype.clone=function(){return new H(this.x,this.y,this.z,this.w)};H.prototype.clone=H.prototype.clone;H.prototype.Qa=function(a){return this.x*a.x+this.y*a.y+this.z*a.z};H.prototype.dotProduct=H.prototype.Qa;H.prototype.Sb=function(a){return new H(this.y*a.z-this.z*a.y,this.z*a.x-this.x*a.z,this.x*a.y-this.y*a.x,1)};H.prototype.crossProduct=H.prototype.Sb;H.prototype.normalize=function(){var a=this.length,b=0!=a?1/a:0;this.x*=b;this.y*=b;this.z*=b;return a};H.prototype.normalize=H.prototype.normalize;
H.prototype.wa=function(a){this.x*=a;this.y*=a;this.z*=a};H.prototype.scaleBy=H.prototype.wa;H.prototype.dl=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};H.prototype.incrementBy=H.prototype.dl;H.prototype.Zj=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};H.prototype.decrementBy=H.prototype.Zj;H.prototype.add=function(a){return new H(this.x+a.x,this.y+a.y,this.z+a.z)};H.prototype.add=H.prototype.add;H.prototype.bb=function(a){return new H(this.x-a.x,this.y-a.y,this.z-a.z)};
H.prototype.subtract=H.prototype.bb;H.prototype.Ed=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z};H.prototype.negate=H.prototype.Ed;H.prototype.Bc=function(a,b){return this.x===a.x&&this.y===a.y&&this.z===a.z&&('undefined'!==typeof b&&b?this.w===a.w:!0)};H.prototype.equals=H.prototype.Bc;H.prototype.zl=function(a,b,c){var d=this.x-a.x;if(d=(0>d?0-d:d)<b)if(d=this.y-a.y,d=0>d?0-d:d,d=d<b)d=this.z-a.z,d=0>d?0-d:d,(d=d<b)&&'undefined'!==typeof c&&c&&(d=this.w=a.w,d=0>d?0-d:d,d=d<b);return d};
H.prototype.nearEquals=H.prototype.zl;H.prototype.ki=function(){var a=1/this.w;this.x*=a;this.y*=a;this.z*=a};H.prototype.project=H.prototype.ki;H.prototype.toString=function(){var a=Ob+this.x+Sa+this.y+Sa+this.z;return a+Ga};H.prototype.toString=H.prototype.toString;H.prototype.J=function(a){this.x=a.x;this.y=a.y;this.z=a.z};H.prototype.copyFrom=H.prototype.J;H.prototype.qa=function(a,b,c){this.x=a;this.y=b;this.z=c};H.prototype.setTo=H.prototype.qa;
Object.defineProperties(H.prototype,{length:{get:function(){var a=this.x*this.x+this.y*this.y+this.z*this.z;return 0>=a?0:Math.sqrt(a)}},lengthSquared:{get:function(){return this.x*this.x+this.y*this.y+this.z*this.z}}});H.prototype.g={names:[{name:'Vector3D',h:Qf}]};r(Qf,H);function I(a){a='undefined'!==typeof a?a:null;this.rawData=null!=a&&16===a.length?a:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1].slice()}var Xl=new I;
I.prototype.append=function(a){var b=this.rawData[0],c=this.rawData[4],d=this.rawData[8],e=this.rawData[12],f=this.rawData[1],g=this.rawData[5],l=this.rawData[9],n=this.rawData[13],t=this.rawData[2],u=this.rawData[6],v=this.rawData[10],G=this.rawData[14],E=this.rawData[3],A=this.rawData[7],K=this.rawData[11],J=this.rawData[15],O=a.rawData[0],W=a.rawData[4],ka=a.rawData[8],pa=a.rawData[12],ua=a.rawData[1],Aa=a.rawData[5],sa=a.rawData[9],Da=a.rawData[13],Ea=a.rawData[2],kb=a.rawData[6],da=a.rawData[10],
Ha=a.rawData[14],Oa=a.rawData[3],qb=a.rawData[7],Tb=a.rawData[11];a=a.rawData[15];this.rawData[0]=b*O+f*W+t*ka+E*pa;this.rawData[1]=b*ua+f*Aa+t*sa+E*Da;this.rawData[2]=b*Ea+f*kb+t*da+E*Ha;this.rawData[3]=b*Oa+f*qb+t*Tb+E*a;this.rawData[4]=c*O+g*W+u*ka+A*pa;this.rawData[5]=c*ua+g*Aa+u*sa+A*Da;this.rawData[6]=c*Ea+g*kb+u*da+A*Ha;this.rawData[7]=c*Oa+g*qb+u*Tb+A*a;this.rawData[8]=d*O+l*W+v*ka+K*pa;this.rawData[9]=d*ua+l*Aa+v*sa+K*Da;this.rawData[10]=d*Ea+l*kb+v*da+K*Ha;this.rawData[11]=d*Oa+l*qb+v*Tb+
K*a;this.rawData[12]=e*O+n*W+G*ka+J*pa;this.rawData[13]=e*ua+n*Aa+G*sa+J*Da;this.rawData[14]=e*Ea+n*kb+G*da+J*Ha;this.rawData[15]=e*Oa+n*qb+G*Tb+J*a};I.prototype.append=I.prototype.append;I.prototype.kd=function(a,b,c){c='undefined'!==typeof c?c:null;a=Yl(b.x,b.y,b.z,a);null!=c&&a.ld(c.x,c.y,c.z);this.append(a)};I.prototype.appendRotation=I.prototype.kd;
I.prototype.Ej=function(a,b,c){this.rawData[0]*=a;this.rawData[1]*=a;this.rawData[2]*=a;this.rawData[3]*=a;this.rawData[4]*=b;this.rawData[5]*=b;this.rawData[6]*=b;this.rawData[7]*=b;this.rawData[8]*=c;this.rawData[9]*=c;this.rawData[10]*=c;this.rawData[11]*=c};I.prototype.appendScale=I.prototype.Ej;I.prototype.ld=function(a,b,c){this.rawData[12]+=a;this.rawData[13]+=b;this.rawData[14]+=c};I.prototype.appendTranslation=I.prototype.ld;I.prototype.clone=function(){return new I(this.rawData.concat())};
I.prototype.clone=I.prototype.clone;I.prototype.Y=function(a,b){switch(a){case 0:this.rawData[0]=b.x;this.rawData[1]=b.y;this.rawData[2]=b.z;this.rawData[3]=b.w;break;case 1:this.rawData[4]=b.x;this.rawData[5]=b.y;this.rawData[6]=b.z;this.rawData[7]=b.w;break;case 2:this.rawData[8]=b.x;this.rawData[9]=b.y;this.rawData[10]=b.z;this.rawData[11]=b.w;break;case 3:this.rawData[12]=b.x;this.rawData[13]=b.y;this.rawData[14]=b.z;this.rawData[15]=b.w;break;default:throw Error(Eb+a+qa);}};
I.prototype.copyColumnFrom=I.prototype.Y;I.prototype.A=function(a,b){switch(a){case 0:b.x=this.rawData[0];b.y=this.rawData[1];b.z=this.rawData[2];b.w=this.rawData[3];break;case 1:b.x=this.rawData[4];b.y=this.rawData[5];b.z=this.rawData[6];b.w=this.rawData[7];break;case 2:b.x=this.rawData[8];b.y=this.rawData[9];b.z=this.rawData[10];b.w=this.rawData[11];break;case 3:b.x=this.rawData[12];b.y=this.rawData[13];b.z=this.rawData[14];b.w=this.rawData[15];break;default:throw Error(Eb+a+qa);}};
I.prototype.copyColumnTo=I.prototype.A;I.prototype.J=function(a){this.rawData=a.rawData.concat()};I.prototype.copyFrom=I.prototype.J;I.prototype.ha=function(a,b,c){b='undefined'!==typeof b?b:0;(c='undefined'!==typeof c?c:!1)&&this.Gb();for(var d=a.length-b,e=0;e<d>>0;){var f=e++;this.rawData[f]=a[f+b]}c&&this.Gb()};I.prototype.copyRawDataFrom=I.prototype.ha;
I.prototype.Nb=function(a,b,c){b='undefined'!==typeof b?b:0;(c='undefined'!==typeof c?c:!1)&&this.Gb();for(var d=this.rawData.length,e=0;e<d>>0;){var f=e++;a[f+b]=this.rawData[f]}c&&this.Gb()};I.prototype.copyRawDataTo=I.prototype.Nb;
I.prototype.ua=function(a,b){switch(a){case 0:this.rawData[0]=b.x;this.rawData[4]=b.y;this.rawData[8]=b.z;this.rawData[12]=b.w;break;case 1:this.rawData[1]=b.x;this.rawData[5]=b.y;this.rawData[9]=b.z;this.rawData[13]=b.w;break;case 2:this.rawData[2]=b.x;this.rawData[6]=b.y;this.rawData[10]=b.z;this.rawData[14]=b.w;break;case 3:this.rawData[3]=b.x;this.rawData[7]=b.y;this.rawData[11]=b.z;this.rawData[15]=b.w;break;default:throw Error('Error, Row '+a+qa);}};I.prototype.copyRowFrom=I.prototype.ua;
I.prototype.ve=function(a,b){switch(a){case 0:b.x=this.rawData[0];b.y=this.rawData[4];b.z=this.rawData[8];b.w=this.rawData[12];break;case 1:b.x=this.rawData[1];b.y=this.rawData[5];b.z=this.rawData[9];b.w=this.rawData[13];break;case 2:b.x=this.rawData[2];b.y=this.rawData[6];b.z=this.rawData[10];b.w=this.rawData[14];break;case 3:b.x=this.rawData[3];b.y=this.rawData[7];b.z=this.rawData[11];b.w=this.rawData[15];break;default:throw Error('Error, Row '+a+qa);}};I.prototype.copyRowTo=I.prototype.ve;
I.prototype.uh=function(a){a.rawData=this.rawData.concat()};I.prototype.copyToMatrix3D=I.prototype.uh;
I.prototype.we=function(a){a='undefined'!==typeof a?a:null;null==a&&(a=ze);var b=[],c=this.clone().rawData.concat(),d=new H(c[12],c[13],c[14]),e=new H;e.x=Math.sqrt(c[0]*c[0]+c[1]*c[1]+c[2]*c[2]);e.y=Math.sqrt(c[4]*c[4]+c[5]*c[5]+c[6]*c[6]);e.z=Math.sqrt(c[8]*c[8]+c[9]*c[9]+c[10]*c[10]);0>c[0]*(c[5]*c[10]-c[6]*c[9])-c[1]*(c[4]*c[10]-c[6]*c[8])+c[2]*(c[4]*c[9]-c[5]*c[8])&&(e.z=-e.z);c[0]/=e.x;c[1]/=e.x;c[2]/=e.x;c[4]/=e.y;c[5]/=e.y;c[6]/=e.y;c[8]/=e.z;c[9]/=e.z;c[10]/=e.z;var f=new H;switch(a){case zc:f.w=
Math.acos((c[0]+c[5]+c[10]-1)/2);a=Math.sqrt((c[6]-c[9])*(c[6]-c[9])+(c[8]-c[2])*(c[8]-c[2])+(c[1]-c[4])*(c[1]-c[4]));0!=a?(f.x=(c[6]-c[9])/a,f.y=(c[8]-c[2])/a,f.z=(c[1]-c[4])/a):f.x=f.y=f.z=0;break;case Ai:a=c[0]+c[5]+c[10];0<a?(f.w=Math.sqrt(1+a)/2,f.x=(c[6]-c[9])/(4*f.w),f.y=(c[8]-c[2])/(4*f.w),f.z=(c[1]-c[4])/(4*f.w)):c[0]>c[5]&&c[0]>c[10]?(f.x=Math.sqrt(1+c[0]-c[5]-c[10])/2,f.w=(c[6]-c[9])/(4*f.x),f.y=(c[1]+c[4])/(4*f.x),f.z=(c[8]+c[2])/(4*f.x)):c[5]>c[10]?(f.y=Math.sqrt(1+c[5]-c[0]-c[10])/2,
f.x=(c[1]+c[4])/(4*f.y),f.w=(c[8]-c[2])/(4*f.y),f.z=(c[6]+c[9])/(4*f.y)):(f.z=Math.sqrt(1+c[10]-c[0]-c[5])/2,f.x=(c[8]+c[2])/(4*f.z),f.y=(c[6]+c[9])/(4*f.z),f.w=(c[1]-c[4])/(4*f.z));break;case ze:f.y=Math.asin(-c[2]),1!=c[2]&&-1!=c[2]?(f.x=Math.atan2(c[6],c[10]),f.z=Math.atan2(c[1],c[0])):(f.z=0,f.x=Math.atan2(c[4],c[5]))}b.push(d);b.push(f);b.push(e);return b};I.prototype.decompose=I.prototype.we;
I.prototype.yh=function(a){var b=a.x,c=a.y;a=a.z;return new H(b*this.rawData[0]+c*this.rawData[4]+a*this.rawData[8]+this.rawData[3],b*this.rawData[1]+c*this.rawData[5]+a*this.rawData[9]+this.rawData[7],b*this.rawData[2]+c*this.rawData[6]+a*this.rawData[10]+this.rawData[11],0)};I.prototype.deltaTransformVector=I.prototype.yh;
I.prototype.Wb=function(){this.rawData[0]=1;this.rawData[1]=0;this.rawData[2]=0;this.rawData[3]=0;this.rawData[4]=0;this.rawData[5]=1;this.rawData[6]=0;this.rawData[7]=0;this.rawData[8]=0;this.rawData[9]=0;this.rawData[10]=1;this.rawData[11]=0;this.rawData[12]=0;this.rawData[13]=0;this.rawData[14]=0;this.rawData[15]=1};I.prototype.identity=I.prototype.Wb;I.prototype.Th=function(a,b){for(var c=0;16>c;){var d=c++;this.rawData[d]+=(a.rawData[d]-this.rawData[d])*b}};I.prototype.interpolateTo=I.prototype.Th;
I.prototype.Ta=function(){var a=this.determinant,b=1E-11<Math.abs(a);if(b){var a=1/a,c=this.rawData[0],d=this.rawData[4],e=this.rawData[8],f=this.rawData[12],g=this.rawData[1],l=this.rawData[5],n=this.rawData[9],t=this.rawData[13],u=this.rawData[2],v=this.rawData[6],G=this.rawData[10],E=this.rawData[14],A=this.rawData[3],K=this.rawData[7],J=this.rawData[11],O=this.rawData[15];this.rawData[0]=a*(l*(G*O-E*J)-n*(v*O-E*K)+t*(v*J-G*K));this.rawData[1]=-a*(g*(G*O-E*J)-n*(u*O-E*A)+t*(u*J-G*A));this.rawData[2]=
a*(g*(v*O-E*K)-l*(u*O-E*A)+t*(u*K-v*A));this.rawData[3]=-a*(g*(v*J-G*K)-l*(u*J-G*A)+n*(u*K-v*A));this.rawData[4]=-a*(d*(G*O-E*J)-e*(v*O-E*K)+f*(v*J-G*K));this.rawData[5]=a*(c*(G*O-E*J)-e*(u*O-E*A)+f*(u*J-G*A));this.rawData[6]=-a*(c*(v*O-E*K)-d*(u*O-E*A)+f*(u*K-v*A));this.rawData[7]=a*(c*(v*J-G*K)-d*(u*J-G*A)+e*(u*K-v*A));this.rawData[8]=a*(d*(n*O-t*J)-e*(l*O-t*K)+f*(l*J-n*K));this.rawData[9]=-a*(c*(n*O-t*J)-e*(g*O-t*A)+f*(g*J-n*A));this.rawData[10]=a*(c*(l*O-t*K)-d*(g*O-t*A)+f*(g*K-l*A));this.rawData[11]=
-a*(c*(l*J-n*K)-d*(g*J-n*A)+e*(g*K-l*A));this.rawData[12]=-a*(d*(n*E-t*G)-e*(l*E-t*v)+f*(l*G-n*v));this.rawData[13]=a*(c*(n*E-t*G)-e*(g*E-t*u)+f*(g*G-n*u));this.rawData[14]=-a*(c*(l*E-t*v)-d*(g*E-t*u)+f*(g*v-l*u));this.rawData[15]=a*(c*(l*G-n*v)-d*(g*G-n*u)+e*(g*v-l*u))}return b};I.prototype.invert=I.prototype.Ta;
I.prototype.hi=function(a,b,c){b='undefined'!==typeof b?b:null;c='undefined'!==typeof c?c:null;null==b&&(b=new H(0,0,-1));null==c&&(c=new H(0,-1,0));b=b.bb(a);c=c.clone();var d;b.normalize();c.normalize();d=b.clone();d.wa(c.Qa(b));c=c.bb(d);0<c.length?c.normalize():c=0!=b.x?new H(-b.y,b.x,0):new H(1,0,0);d=c.Sb(b);d.normalize();this.rawData[0]=d.x;this.rawData[4]=d.y;this.rawData[8]=d.z;this.rawData[12]=0;this.rawData[1]=c.x;this.rawData[5]=c.y;this.rawData[9]=c.z;this.rawData[13]=0;this.rawData[2]=
b.x;this.rawData[6]=b.y;this.rawData[10]=b.z;this.rawData[14]=0;this.rawData[3]=a.x;this.rawData[7]=a.y;this.rawData[11]=a.z;this.rawData[15]=1};I.prototype.pointAt=I.prototype.hi;
I.prototype.jf=function(a){var b=a.rawData[0],c=a.rawData[4],d=a.rawData[8],e=a.rawData[12],f=a.rawData[1],g=a.rawData[5],l=a.rawData[9],n=a.rawData[13],t=a.rawData[2],u=a.rawData[6],v=a.rawData[10],G=a.rawData[14],E=a.rawData[3],A=a.rawData[7],K=a.rawData[11];a=a.rawData[15];var J=this.rawData[0],O=this.rawData[4],W=this.rawData[8],ka=this.rawData[12],pa=this.rawData[1],ua=this.rawData[5],Aa=this.rawData[9],sa=this.rawData[13],Da=this.rawData[2],Ea=this.rawData[6],kb=this.rawData[10],da=this.rawData[14],
Ha=this.rawData[3],Oa=this.rawData[7],qb=this.rawData[11],Tb=this.rawData[15];this.rawData[0]=b*J+f*O+t*W+E*ka;this.rawData[1]=b*pa+f*ua+t*Aa+E*sa;this.rawData[2]=b*Da+f*Ea+t*kb+E*da;this.rawData[3]=b*Ha+f*Oa+t*qb+E*Tb;this.rawData[4]=c*J+g*O+u*W+A*ka;this.rawData[5]=c*pa+g*ua+u*Aa+A*sa;this.rawData[6]=c*Da+g*Ea+u*kb+A*da;this.rawData[7]=c*Ha+g*Oa+u*qb+A*Tb;this.rawData[8]=d*J+l*O+v*W+K*ka;this.rawData[9]=d*pa+l*ua+v*Aa+K*sa;this.rawData[10]=d*Da+l*Ea+v*kb+K*da;this.rawData[11]=d*Ha+l*Oa+v*qb+K*Tb;
this.rawData[12]=e*J+n*O+G*W+a*ka;this.rawData[13]=e*pa+n*ua+G*Aa+a*sa;this.rawData[14]=e*Da+n*Ea+G*kb+a*da;this.rawData[15]=e*Ha+n*Oa+G*qb+a*Tb};I.prototype.prepend=I.prototype.jf;I.prototype.Ml=function(a,b,c){c='undefined'!==typeof c?c:null;a=Yl(b.x,b.y,b.z,a);null!=c&&a.ld(c.x,c.y,c.z);this.jf(a)};I.prototype.prependRotation=I.prototype.Ml;
I.prototype.kf=function(a,b,c){this.rawData[0]*=a;this.rawData[1]*=b;this.rawData[2]*=c;this.rawData[4]*=a;this.rawData[5]*=b;this.rawData[6]*=c;this.rawData[8]*=a;this.rawData[9]*=b;this.rawData[10]*=c;this.rawData[12]*=a;this.rawData[13]*=b;this.rawData[14]*=c};I.prototype.prependScale=I.prototype.kf;I.prototype.ji=function(a,b,c){Xl.Wb();Xl.position=new H(a,b,c);this.jf(Xl)};I.prototype.prependTranslation=I.prototype.ji;
I.prototype.ri=function(a,b){b='undefined'!==typeof b?b:null;if(3>a.length||0==a[2].x||0==a[2].y||0==a[2].z)return!1;null==b&&(b=ze);this.Wb();var c=[];c[0]=c[1]=c[2]=a[2].x;c[4]=c[5]=c[6]=a[2].y;c[8]=c[9]=c[10]=a[2].z;switch(b){case ze:var d=Math.cos(a[1].x),e=Math.cos(a[1].y),f=Math.cos(a[1].z),g=Math.sin(a[1].x),l=Math.sin(a[1].y),n=Math.sin(a[1].z);this.rawData[0]=e*f*c[0];this.rawData[1]=e*n*c[1];this.rawData[2]=-l*c[2];this.rawData[3]=0;this.rawData[4]=(g*l*f-d*n)*c[4];this.rawData[5]=(g*l*
n+d*f)*c[5];this.rawData[6]=g*e*c[6];this.rawData[7]=0;this.rawData[8]=(d*l*f+g*n)*c[8];this.rawData[9]=(d*l*n-g*f)*c[9];this.rawData[10]=d*e*c[10];this.rawData[11]=0;this.rawData[12]=a[0].x;this.rawData[13]=a[0].y;this.rawData[14]=a[0].z;this.rawData[15]=1;break;default:d=a[1].x,e=a[1].y,f=a[1].z,g=a[1].w,b==zc&&(d*=Math.sin(g/2),e*=Math.sin(g/2),f*=Math.sin(g/2),g=Math.cos(g/2)),this.rawData[0]=(1-2*e*e-2*f*f)*c[0],this.rawData[1]=(2*d*e+2*g*f)*c[1],this.rawData[2]=(2*d*f-2*g*e)*c[2],this.rawData[3]=
0,this.rawData[4]=(2*d*e-2*g*f)*c[4],this.rawData[5]=(1-2*d*d-2*f*f)*c[5],this.rawData[6]=(2*e*f+2*g*d)*c[6],this.rawData[7]=0,this.rawData[8]=(2*d*f+2*g*e)*c[8],this.rawData[9]=(2*e*f-2*g*d)*c[9],this.rawData[10]=(1-2*d*d-2*e*e)*c[10],this.rawData[11]=0,this.rawData[12]=a[0].x,this.rawData[13]=a[0].y,this.rawData[14]=a[0].z,this.rawData[15]=1}0===a[2].x&&(this.rawData[0]=1E-15);0===a[2].y&&(this.rawData[5]=1E-15);0===a[2].z&&(this.rawData[10]=1E-15);return!(0===a[2].x||0===a[2].y||0===a[2].y)};
I.prototype.recompose=I.prototype.ri;I.prototype.Ef=function(a){var b=a.x,c=a.y;a=a.z;return new H(b*this.rawData[0]+c*this.rawData[4]+a*this.rawData[8]+this.rawData[12],b*this.rawData[1]+c*this.rawData[5]+a*this.rawData[9]+this.rawData[13],b*this.rawData[2]+c*this.rawData[6]+a*this.rawData[10]+this.rawData[14],b*this.rawData[3]+c*this.rawData[7]+a*this.rawData[11]+this.rawData[15])};I.prototype.transformVector=I.prototype.Ef;
I.prototype.xm=function(a,b){for(var c=0;c+3<=a.length;){var d=a[c],e=a[c+1],f=a[c+2];b[c]=d*this.rawData[0]+e*this.rawData[4]+f*this.rawData[8]+this.rawData[12];b[c+1]=d*this.rawData[1]+e*this.rawData[5]+f*this.rawData[9]+this.rawData[13];b[c+2]=d*this.rawData[2]+e*this.rawData[6]+f*this.rawData[10]+this.rawData[14];c+=3}};I.prototype.transformVectors=I.prototype.xm;
I.prototype.Gb=function(){var a=this.rawData.concat();this.rawData[1]=a[4];this.rawData[2]=a[8];this.rawData[3]=a[12];this.rawData[4]=a[1];this.rawData[6]=a[9];this.rawData[7]=a[13];this.rawData[8]=a[2];this.rawData[9]=a[6];this.rawData[11]=a[14];this.rawData[12]=a[3];this.rawData[13]=a[7];this.rawData[14]=a[11]};I.prototype.transpose=I.prototype.Gb;r('flash.geom.Matrix3D.interpolate',function(a,b,c){for(var d=new I,e=0;16>e;){var f=e++;d.rawData[f]=a.rawData[f]+(b.rawData[f]-a.rawData[f])*c}return d});
function Yl(a,b,c,d){var e;e=('undefined'!==typeof e?e:null)||new I;d=Math.PI/180*-d;var f=Math.cos(d);d=Math.sin(d);var g=1-f;e.rawData[0]=f+a*a*g;e.rawData[5]=f+b*b*g;e.rawData[10]=f+c*c*g;var f=a*b*g,l=c*d;e.rawData[4]=f+l;e.rawData[1]=f-l;f=a*c*g;l=b*d;e.rawData[8]=f-l;e.rawData[2]=f+l;f=b*c*g;l=a*d;e.rawData[9]=f+l;e.rawData[6]=f-l;return e}
Object.defineProperties(I.prototype,{determinant:{get:function(){return(this.rawData[0]*this.rawData[5]-this.rawData[4]*this.rawData[1])*(this.rawData[10]*this.rawData[15]-this.rawData[14]*this.rawData[11])-(this.rawData[0]*this.rawData[9]-this.rawData[8]*this.rawData[1])*(this.rawData[6]*this.rawData[15]-this.rawData[14]*this.rawData[7])+(this.rawData[0]*this.rawData[13]-this.rawData[12]*this.rawData[1])*(this.rawData[6]*this.rawData[11]-this.rawData[10]*this.rawData[7])+(this.rawData[4]*this.rawData[9]-
this.rawData[8]*this.rawData[5])*(this.rawData[2]*this.rawData[15]-this.rawData[14]*this.rawData[3])-(this.rawData[4]*this.rawData[13]-this.rawData[12]*this.rawData[5])*(this.rawData[2]*this.rawData[11]-this.rawData[10]*this.rawData[3])+(this.rawData[8]*this.rawData[13]-this.rawData[12]*this.rawData[9])*(this.rawData[2]*this.rawData[7]-this.rawData[6]*this.rawData[3])}},position:{get:function(){return new H(this.rawData[12],this.rawData[13],this.rawData[14])},set:function(a){this.rawData[12]=a.x;
this.rawData[13]=a.y;this.rawData[14]=a.z}}});I.prototype.g={names:[{name:'Matrix3D',h:Lf}]};r(Lf,I);function Zl(){}r('flash.utils.Endian.BIG_ENDIAN',Hc);r('flash.utils.Endian.LITTLE_ENDIAN',rh);Zl.prototype.g={names:[{name:'Endian',h:Vf}]};r(Vf,Zl);function L(){this.bg=Hc;this.dataView=new DataView(new ArrayBuffer(0))}L.prototype.oa=!1;L.prototype.l=0;L.prototype.fg=0;L.prototype.Pl=function(a,b,c){a.position='undefined'!==typeof b?b:0;a.hj(this,this.position,'undefined'!==typeof c?c:0)};L.prototype.readBytes=L.prototype.Pl;L.prototype.hj=function(a,b,c){b='undefined'!==typeof b?b:0;c='undefined'!==typeof c?c:0;0===c&&(c=a.length-b);$l(this,c);a.position=b;for(b=0;b<c;b++)this.fa(a.ni())};L.prototype.writeBytes=L.prototype.hj;
L.prototype.Em=function(a){$l(this,1);this.dataView.setInt8(this.l,a?1:0);this.l++};L.prototype.writeBoolean=L.prototype.Em;L.prototype.fa=function(a){$l(this,1);this.dataView.setInt8(this.l,a);this.l++};L.prototype.writeByte=L.prototype.fa;L.prototype.kc=function(a){$l(this,2);this.dataView.setInt16(this.l,a,this.oa);this.l+=2};L.prototype.writeShort=L.prototype.kc;L.prototype.Hm=function(a){$l(this,4);this.dataView.setInt32(this.l,a,this.oa);this.l+=4};L.prototype.writeInt=L.prototype.Hm;
L.prototype.bd=function(a){$l(this,4);this.dataView.setUint32(this.l,a,this.oa);this.l+=4};L.prototype.writeUnsignedInt=L.prototype.bd;L.prototype.Gm=function(a){$l(this,4);this.dataView.setFloat32(this.l,a,this.oa);this.l+=4};L.prototype.writeFloat=L.prototype.Gm;L.prototype.Fm=function(a){$l(this,8);this.dataView.setFloat64(this.l,a,this.oa);this.l+=8};L.prototype.writeDouble=L.prototype.Fm;
L.prototype.ij=function(a,b){function c(a){return a.charCodeAt(0)}try{var d=(new TextEncoder(b)).encode(a)}catch(f){d=new Uint8Array(a.split(aa).map(c))}for(var e=0;e<d.length;e++)this.fa(d[e])};L.prototype.writeMultiByte=L.prototype.ij;L.prototype.Jm=function(a){var b=this.l+=2;this.pb(a);a=this.l;this.l=b-2;this.kc(b-a);this.l=a};L.prototype.writeUTF=L.prototype.Jm;L.prototype.pb=function(a){this.ij(a,Wj)};L.prototype.writeUTFBytes=L.prototype.pb;
L.prototype.Ol=function(){var a=0!=this.dataView.getInt8(this.l);this.l++;return a};L.prototype.readBoolean=L.prototype.Ol;L.prototype.ni=function(){var a=this.dataView.getInt8(this.l);this.l++;return a};L.prototype.readByte=L.prototype.ni;L.prototype.Nc=function(){var a=this.dataView.getUint8(this.l);this.l++;return a};L.prototype.readUnsignedByte=L.prototype.Nc;L.prototype.Vl=function(){var a=this.dataView.getInt16(this.l,this.oa);this.l+=2;return a};L.prototype.readShort=L.prototype.Vl;
L.prototype.pi=function(){var a=this.dataView.getUint16(this.l,this.oa);this.l+=2;return a};L.prototype.readUnsignedShort=L.prototype.pi;L.prototype.Tl=function(){var a=this.dataView.getInt32(this.l,this.oa);this.l+=4;return a};L.prototype.readInt=L.prototype.Tl;L.prototype.Xl=function(){var a=this.dataView.getUint32(this.l,this.oa);this.l+=4;return a};L.prototype.readUnsignedInt=L.prototype.Xl;L.prototype.Rl=function(){var a=this.dataView.getFloat32(this.l,this.oa);this.l+=4;return a};
L.prototype.readFloat=L.prototype.Rl;L.prototype.Ql=function(){var a=this.dataView.getFloat64(this.l,this.oa);this.l+=8;return a};L.prototype.readDouble=L.prototype.Ql;L.prototype.oi=function(a,b){var c=new Uint8Array(a);c.set(new Uint8Array(this.dataView.buffer.slice(this.l,this.l+a)));this.l+=a;try{var d=(new TextDecoder(b)).decode(c)}catch(e){d=String.fromCharCode.apply(null,c)}return d};L.prototype.readMultiByte=L.prototype.oi;L.prototype.Wl=function(){return this.bc(this.pi())};
L.prototype.readUTF=L.prototype.Wl;L.prototype.bc=function(a){return this.oi(a,Wj)};L.prototype.readUTFBytes=L.prototype.bc;function $l(a,b){a.l+b>a.length&&(a.length=a.l+b)}L.prototype.Im=h();L.prototype.writeObject=L.prototype.Im;L.prototype.Ul=p(null);L.prototype.readObject=L.prototype.Ul;L.prototype.$j=h();L.prototype.deflate=L.prototype.$j;L.prototype.Oj=h();L.prototype.compress=L.prototype.Oj;L.prototype.Se=h();L.prototype.inflate=L.prototype.Se;L.prototype.ym=h();L.prototype.uncompress=L.prototype.ym;
L.prototype.toString=function(){this.position=0;return this.bc(this.length)};L.prototype.toString=L.prototype.toString;L.prototype.clear=function(){this.length=this.position=0};L.prototype.clear=L.prototype.clear;L.prototype.Hj=p(0);L.prototype.atomicCompareAndSwapIntAt=L.prototype.Hj;L.prototype.Ij=p(0);L.prototype.atomicCompareAndSwapLength=L.prototype.Ij;
Object.defineProperties(L.prototype,{length:{get:m('fg'),set:function(a){this.fg=a;var b=new Uint8Array(a);b.set(new Uint8Array(this.dataView.buffer.byteLength>a?this.dataView.buffer.slice(0,a):this.dataView.buffer));this.dataView=new DataView(b.buffer)}},bytesAvailable:{get:function(){return this.length-this.position}},position:{get:m('l'),set:k('l')},objectEncoding:{get:p(0),set:h()},endian:{get:m('bg'),set:function(a){this.bg=a;this.oa=a===rh}},shareable:{get:p(!1),set:h()}});
Object.defineProperties(L,{defaultObjectEncoding:{get:p(0),set:h()}});L.prototype.g={names:[{name:'ByteArray',h:Tf}]};r(Tf,L);function M(a,b){this.Gi={};this.R=new I;this.O=new I;this.matr=new z;this.H=new z;this.oe=[];this.ii={};this.cj={};this.qh={};this.Sh={};this.Fa=new vl(null,null,null,WebGLRenderingContext.DYNAMIC_DRAW);this.jl='undefined'!==typeof b?b:!1;this.stage=a;this.canvas=a.canvas;this.ctx=new F;this.ctx.canvas=this.canvas;this.ctx.gl=w(this.canvas.getContext(yk,{alpha:!1,antialias:!1})||this.canvas.getContext(De,{alpha:!1,antialias:!1}),WebGLRenderingContext);this.Ei();this.ctx.ec(cj,ni);this.ctx.fc($h);
var c=new Float32Array([0,0,1,0,0,1,1,1]),d=new Uint16Array([0,2,1,2,1,3]);this.bitmapDrawable=new vl(c,c,d,this.ctx.gl.STATIC_DRAW);var e=xc,c=wi;this.hh=this.ctx.createProgram();d=new L;d.pb(e);e=new L;e.pb(c);this.hh.upload(d,e);e=yc;c=xi;this.rh=this.ctx.createProgram();d=new L;d.pb(e);e=new L;e.pb(c);this.rh.upload(d,e);a.addEventListener(Fi,y(this.Ei,this,mj))}M.prototype.globalAlpha=1;M.prototype.globalAlpha=M.prototype.globalAlpha;q=M.prototype;q.Kb=0;q.$b=0;q.Zb=0;q.Wd=!0;
q.Ei=function(){this.ctx.Mb(this.stage.stageWidth,this.stage.stageHeight,0,!1)};q.arc=function(a,b,c,d,e){this.currentPath.path.arc(a,b,c,d,e);return null};M.prototype.arc=M.prototype.arc;M.prototype.arcTo=p(null);M.prototype.arcTo=M.prototype.arcTo;M.prototype.beginPath=function(){this.currentPath=new wl;this.currentPath.path=pl.qb();this.currentPath.matr=this.matr;return null};M.prototype.beginPath=M.prototype.beginPath;
M.prototype.bezierCurveTo=function(a,b,c,d,e,f){this.currentPath.path.va(a,b,c,d,e,f);return null};M.prototype.bezierCurveTo=M.prototype.bezierCurveTo;M.prototype.clearRect=function(){this.ctx.clear(1,1,1);this.Kb=0;return null};M.prototype.clearRect=M.prototype.clearRect;M.prototype.clip=p(null);M.prototype.clip=M.prototype.clip;M.prototype.closePath=p(null);M.prototype.closePath=M.prototype.closePath;M.prototype.createImageData=p(null);M.prototype.createImageData=M.prototype.createImageData;
M.prototype.createLinearGradient=p(null);M.prototype.createLinearGradient=M.prototype.createLinearGradient;M.prototype.createPattern=function(a,b){return new sl(a,b)};M.prototype.createPattern=M.prototype.createPattern;M.prototype.createRadialGradient=p(null);M.prototype.createRadialGradient=M.prototype.createRadialGradient;M.prototype.drawImage=function(a){this.sb(a,this.bitmapDrawable,this.matr,null,!0,this.colorTransform.cb,!0,!0);return null};M.prototype.drawImage=M.prototype.drawImage;
M.prototype.Ac=function(a){this.currentPath=a.glpath2d;null==a.glpath2d&&(this.currentPath=a.glpath2d=new wl);this.currentPath.path=a;this.currentPath.matr=this.matr;return null};M.prototype.drawPath=M.prototype.Ac;
M.prototype.sb=function(a,b,c,d,e,f,g,l){if(this.jl){if(l||this.Ua)if(null==a||this.Cd!=a){if(0<this.$b){var n=am(this.$b),t=am(this.Zb),u=this.ii[n],v=this.cj[n],G=this.qh[n],E=this.Sh[t];null==u&&(u=this.ii[n]=new ul(new Float32Array(2*n),2,this.ctx.gl.DYNAMIC_DRAW),Zk(Fc,n,this.$b));null==v&&this.Ua&&(v=this.cj[n]=new ul(new Float32Array(2*n),2,this.ctx.gl.DYNAMIC_DRAW));null==G&&this.Wd&&(G=this.qh[n]=new ul(new Uint32Array(n),4,this.ctx.gl.DYNAMIC_DRAW));null==E&&(E=this.Sh[t]=new tl(new Uint16Array(3*
t),this.ctx.gl.DYNAMIC_DRAW),Zk(Ec,t,this.Zb));n=u.data;if(this.Ua)var A=v.data;if(this.Wd)var K=G.data;t=E.data;this.Fa.index=E;this.Fa.pos=u;this.Fa.uv=v;this.Fa.color=G;this.Fa.ac=this.Zb;v=u=0;if(this.Ua)var J=this.Cd.width,O=this.Cd.height;G=this.Kb;for(E=0;E<G;E++){var W=this.oe[E],ka=W[1],pa=W[2],ua=W[4],Aa=W[6],sa=W[5];if(this.Ua){var Da=W[3];Da&&(this.H.J(pa),this.H.Ta(),this.H.concat(Da),this.H.b*=-1,this.H.c*=-1,this.H.tx*=-1,this.H.ty*=-1)}var Ea=ka.pos.data;if(this.Ua)var kb=ka.uv.data;
for(var W=Ea.length/2,da=0;da<W;da++){var Ha=Ea[2*da],Oa=Ea[2*da+1];ua&&(Ha*=J,Oa*=O);var qb=pa.a*Ha+pa.c*Oa+pa.tx,Ha=pa.d*Oa+pa.b*Ha+pa.ty;n[2*(u+da)]=qb;n[2*(u+da)+1]=Ha;this.Ua&&(Ha=kb[2*da],Oa=kb[2*da+1],Aa&&(Ha*=J,Oa*=O),Da?(qb=this.H.a*Ha+this.H.c*Oa+this.H.tx,Ha=this.H.d*Oa+this.H.b*Ha+this.H.ty,A[2*(u+da)]=qb,A[2*(u+da)+1]=Ha):(A[2*(u+da)]=Ha,A[2*(u+da)+1]=Oa));this.Wd&&(K[u+da]=sa)}ka=ka.index.data;pa=ka.length;for(da=0;da<pa;da++)t[v+da]=ka[da]+u;u+=W;v+=pa}this.Fa.index.N=!0;this.Fa.pos.N=
!0;this.Ua&&(this.Fa.uv.N=!0);this.Wd&&(this.Fa.color.N=!0);this.lb(this.Cd,this.Fa,null,null,!1,!1,this.Ua);this.Kb=0}this.Zb=this.$b=0;this.Cd=a;this.Ua=l}b&&(this.$b+=b.pos.data.length/2,this.Zb+=b.index.data.length/3);A=this.oe[this.Kb];null==A&&(A=this.oe[this.Kb]=[]);this.Kb++;A[0]=a;A[1]=b;A[2]=c;A[3]=d;A[4]=e;A[5]=f;A[6]=g;A[7]=l}else if(a){A=b.color;A.N=!0;A=A.data;K=A.length;for(J=0;J<K;J++)A[J]=f;this.lb(a,b,c,d,e,g,l)}};M.prototype.drawImageInternal=M.prototype.sb;
M.prototype.lb=function(a,b,c,d,e,f,g){nl++;if(g){var l,n=a.Aj;if(null==n){l=am(a.width);var t=am(a.height),n=new D(l,t,!0,0);n.He(a);var u=this.ctx.createTexture(l,t,Gc,!1);u.Ia(n,1);n=new rl;n.img=a;n.texture=u;n.width=l;n.height=t;a.Aj=n}l=n;this.ctx.Db(this.hh);this.ctx.hc(0,l.texture);this.ctx.mb(2,b.uv.wb(this.ctx),0,Yf)}else this.ctx.Db(this.rh);this.ctx.mb(0,b.pos.wb(this.ctx),0,Yf);this.ctx.mb(1,b.color.wb(this.ctx),0,Bd);c?(this.R.rawData[0]=2*c.a/this.stage.stageWidth,this.R.rawData[1]=
2*-c.b/this.stage.stageHeight,this.R.rawData[4]=2*c.c/this.stage.stageWidth,this.R.rawData[5]=2*-c.d/this.stage.stageHeight,this.R.rawData[12]=2*c.tx/this.stage.stageWidth-1,this.R.rawData[13]=1-2*c.ty/this.stage.stageHeight):(this.R.rawData[0]=2/this.stage.stageWidth,this.R.rawData[1]=0,this.R.rawData[4]=0,this.R.rawData[5]=-2/this.stage.stageHeight,this.R.rawData[12]=-1,this.R.rawData[13]=1);e&&(this.R.rawData[0]*=a.width,this.R.rawData[1]*=a.width,this.R.rawData[4]*=a.height,this.R.rawData[5]*=
a.height);this.ctx.pa(kk,0,this.R);g&&(d?(c?(this.H.J(c),this.H.Ta(),this.H.concat(d)):this.H.J(d),this.O.rawData[0]=this.H.a/l.width,this.O.rawData[1]=-this.H.b/l.width,this.O.rawData[4]=-this.H.c/l.height,this.O.rawData[5]=this.H.d/l.height,this.O.rawData[12]=-this.H.tx/l.width,this.O.rawData[13]=-this.H.ty/l.height,f&&(this.O.rawData[0]*=a.width,this.O.rawData[1]*=a.width,this.O.rawData[4]*=a.height,this.O.rawData[5]*=a.height)):(this.O.rawData[0]=1/l.width,this.O.rawData[1]=0,this.O.rawData[4]=
0,this.O.rawData[5]=1/l.height,this.O.rawData[12]=0,this.O.rawData[13]=0,f&&(this.O.rawData[0]*=a.width,this.O.rawData[5]*=a.height)),this.ctx.pa(kk,4,this.O));this.ctx.na(b.index.wb(this.ctx),0,b.ac)};
M.prototype.fill=function(){this.fillStyleIsImage?this.sb(this.fillStyle.image,this.currentPath.drawable,this.currentPath.matr,this.matr,!1,this.colorTransform.cb,0<this.currentPath.path.tris.length,!0):this.currentPath&&this.sb(this.fillStyle,this.currentPath.drawable,this.currentPath.matr,null,!1,this.fillStyle,!1,!1);return null};M.prototype.fill=M.prototype.fill;M.prototype.fillRect=p(null);M.prototype.fillRect=M.prototype.fillRect;
M.prototype.fillText=function(a,b,c){var d=this.Gi[a];if(null==d){var d=this.Gi[a]=w(document.createElement(Ed),HTMLCanvasElement),e=w(d.getContext(tb),CanvasRenderingContext2D);e.font=this.font;var f=e.measureText(a);d.width=f.width;d.height=this.font.substr(0,this.font.indexOf(zi))>>0;e.font=this.font;e.textBaseline=yj;e.fillStyle=this.fillStyle;e.fillText(a,0,0)}this.H.J(this.matr);this.H.translate(b,c);this.sb(d,this.bitmapDrawable,this.H.clone(),null,!0,this.colorTransform.cb,!0,!0);return null};
M.prototype.fillText=M.prototype.fillText;M.prototype.getImageData=p(null);M.prototype.getImageData=M.prototype.getImageData;M.prototype.isPointInPath=p(!1);M.prototype.isPointInPath=M.prototype.isPointInPath;M.prototype.lineTo=function(a,b){this.currentPath.path.lineTo(a,b);return null};M.prototype.lineTo=M.prototype.lineTo;M.prototype.measureText=p(null);M.prototype.measureText=M.prototype.measureText;M.prototype.moveTo=function(a,b){this.currentPath.path.moveTo(a,b);return null};
M.prototype.moveTo=M.prototype.moveTo;M.prototype.putImageData=p(null);M.prototype.putImageData=M.prototype.putImageData;M.prototype.quadraticCurveTo=function(a,b,c,d){this.currentPath.path.ea(a,b,c,d);return null};M.prototype.quadraticCurveTo=M.prototype.quadraticCurveTo;M.prototype.rect=function(a,b,c,d){this.currentPath.path.moveTo(a,b);this.currentPath.path.lineTo(a+c,b);this.currentPath.path.lineTo(a+c,b+d);this.currentPath.path.lineTo(a,b+d);this.currentPath.path.closePath();return null};
M.prototype.rect=M.prototype.rect;M.prototype.setTransform=p(null);M.prototype.setTransform=M.prototype.setTransform;M.prototype.uf=function(a){this.matr=a;return null};M.prototype.setTransform2=M.prototype.uf;M.prototype.stroke=p(null);M.prototype.stroke=M.prototype.stroke;M.prototype.strokeRect=p(null);M.prototype.strokeRect=M.prototype.strokeRect;M.prototype.strokeText=p(null);M.prototype.strokeText=M.prototype.strokeText;
M.prototype.Hi=function(a){var b=this.matr.a/a.a,c=0,d=0,e=this.matr.d/a.d,f=this.matr.tx/a.a+a.tx/a.a,g=this.matr.ty/a.d+a.ty/a.d;if(0!=this.matr.b||0!=this.matr.c||0!=a.b||0!=a.c)b+=this.matr.b*a.c,e+=this.matr.c*a.b,c+=this.matr.a*a.b+this.matr.b*a.d,d+=this.matr.c*a.a+this.matr.d*a.c,f+=this.matr.ty*a.c,g+=this.matr.tx*a.b;a.a=b;a.b=c;a.c=d;a.d=e;a.tx=f;a.ty=g;this.matr=a;return null};M.prototype.transform2=M.prototype.Hi;function am(a){for(var b=1;b<a;)b*=2;return b}
M.prototype.g={names:[{name:'GLCanvasRenderingContext2D',h:Je}]};r(Je,M);function bm(){this.array=[]}bm.prototype.length=0;bm.prototype.length=bm.prototype.length;bm.prototype.push=function(a){this.array[this.length++]=a};bm.prototype.push=bm.prototype.push;bm.prototype.g={names:[{name:'MemArray',h:Qe}]};r(Qe,bm);function cm(){B.call(this);this.polys=new bm}Pk(cm,B);cm.prototype.clear=function(){for(var a=this.polys.array.length,b=0;b<a;b++)this.polys.array[b].length=0;this.polys.length=0;this.tris.length=0};cm.prototype.clear=cm.prototype.clear;cm.prototype.moveTo=function(a,b){dm(this);this.W.push(a);this.W.push(b)};cm.prototype.moveTo=cm.prototype.moveTo;cm.prototype.lineTo=function(a,b){null==this.W&&dm(this);this.W.push(a);this.W.push(b)};cm.prototype.lineTo=cm.prototype.lineTo;
cm.prototype.ea=function(a,b,c,d){null==this.W&&dm(this);this.W.push(a);this.W.push(b);this.W.push(c);this.W.push(d)};cm.prototype.curveTo=cm.prototype.ea;cm.prototype.va=function(a,b,c,d,e,f){null==this.W&&dm(this);this.W.push(a);this.W.push(b);this.W.push(c);this.W.push(d);this.W.push(e);this.W.push(f)};cm.prototype.cubicCurveTo=cm.prototype.va;cm.prototype.Qf=function(a,b){this.lineTo(a,b)};cm.prototype.wideLineTo=cm.prototype.Qf;cm.prototype.Rf=function(a,b){this.moveTo(a,b)};
cm.prototype.wideMoveTo=cm.prototype.Rf;cm.prototype.arc=function(a,b,c,d,e){var f=Math.PI/4,g=0,l=Math.sin(f),n=Math.cos(f);for(this.moveTo(c+a,g+b);d<e;d+=f){var t=c;c=c*n-g*l;g=t*l+g*n;this.lineTo(c+a,g+b)}};cm.prototype.arc=cm.prototype.arc;cm.prototype.rect=function(a,b,c,d){this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d)};function dm(a){a.W=a.polys.array[a.polys.length];null==a.W&&(a.W=a.polys.array[a.polys.length]=new bm);a.polys.length++}
cm.prototype.g={names:[{name:'GLGraphicsPath',h:Le}]};r(Le,cm);function em(){this.Ub=new hl}Pk(em,kl);em.prototype.qb=function(){return new cm};em.prototype.createPath=em.prototype.qb;em.prototype.Sa=function(a,b,c){return((a>>16&255)*c.redMultiplier+c.redOffset<<0|(a>>8&255)*c.greenMultiplier+c.greenOffset<<8|(a&255)*c.greenMultiplier+c.greenOffset<<16|255*(b*c.alphaMultiplier+c.alphaOffset)<<24)>>>0};em.prototype.getCssColor=em.prototype.Sa;em.prototype.lb=function(a,b,c,d,e){a.sb(b.image,a.bitmapDrawable,c,null,!0,e.cb,!0,!0)};em.prototype.renderImage=em.prototype.lb;
em.prototype.dc=function(a,b,c,d,e){a.uf(c);a.globalCompositeOperation=d;a.colorTransform=e;c=b.graphicsData.length;for(d=0;d<c;d++)b.graphicsData[d].aa(a,e);b.lastFill&&(this.Ub.fill=b.lastFill,this.Ub._worldMatrix=b._worldMatrix,this.Ub.aa(a,e));b.lastStroke&&a.stroke();a.fillStyle=null;a.strokeStyle=null};em.prototype.renderGraphics=em.prototype.dc;
em.prototype.Oc=function(a,b,c,d,e,f,g,l){a.colorTransform=f;a.globalCompositeOperation=e;a.uf(d);a.font=c.Xj;a.fillStyle=c.Yj;a.textBaseline=yj;a.fillText(b,g,l)};em.prototype.renderText=em.prototype.Oc;em.prototype.finish=function(a){a.sb(null,null,null,null,!0,null,!0,!0)};em.prototype.finish=em.prototype.finish;em.prototype.g={names:[{name:'WebGLRenderer',h:Re}]};r(Re,em);function fm(){Kl.call(this)}Pk(fm,Kl);r('flash.display.LoaderInfo.getLoaderInfoByDefinition',p(null));
Object.defineProperties(fm.prototype,{loaderURL:{get:p(null)},url:{get:p(null)},isURLInaccessible:{get:p(!1)},bytesLoaded:{get:p(0)},bytesTotal:{get:p(0)},swfVersion:{get:p(0)},actionScriptVersion:{get:p(0)},frameRate:{get:p(0)},parameters:{get:function(){var a=null,b={};for(a in null)b[a]=null[a];return b}},width:{get:p(0)},height:{get:p(0)},contentType:{get:p(null)},sharedEvents:{get:p(null)},parentSandboxBridge:{get:p(null),set:h()},childSandboxBridge:{get:p(null),set:h()},sameDomain:{get:p(!1)},
childAllowsParent:{get:p(!1)},parentAllowsChild:{get:p(!1)},loader:{get:p(null)},content:{get:m('rj'),set:k('rj')},bytes:{get:p(null)}});fm.prototype.g={names:[{name:'LoaderInfo',h:gf}]};r(gf,fm);function gm(){Kl.call(this)}Pk(gm,Kl);gm.prototype.of=function(){this.$d=new F;var a=w(document.createElement(Ed),HTMLCanvasElement);this.$d.canvas=a;a.style.position=dc;a.style.left=0;a.style.top=0;a.style.zIndex=0;document.body.appendChild(a);this.$d.gl=w(a.getContext(yk,{alpha:!1,antialias:!1})||a.getContext(De,{alpha:!1,antialias:!1}),WebGLRenderingContext);this.dispatchEvent(new Sl(Sd))};gm.prototype.requestContext3D=gm.prototype.of;gm.prototype.si=function(){this.of()};
gm.prototype.requestContext3DMatchingProfiles=gm.prototype.si;Object.defineProperties(gm.prototype,{context3D:{get:m('$d')},x:{get:p(0),set:h()},y:{get:p(0),set:h()},visible:{get:p(!1),set:h()}});gm.prototype.g={names:[{name:'Stage3D',h:kf}]};r(kf,gm);function hm(a,b,c,d,e,f,g,l,n){d='undefined'!==typeof d?d:0;e='undefined'!==typeof e?e:0;f='undefined'!==typeof f?f:0;g='undefined'!==typeof g?g:!1;l='undefined'!==typeof l?l:!1;n='undefined'!==typeof n?n:!1;Sl.call(this,a,'undefined'!==typeof b?b:!0,'undefined'!==typeof c?c:!1);this.charCode=d;this.keyCode=e;this.keyLocation=f;this.ctrlKey=g;this.altKey=l;this.shiftKey=n}Pk(hm,Sl);r('flash.events.KeyboardEvent.KEY_DOWN',gh);r('flash.events.KeyboardEvent.KEY_UP',hh);
hm.prototype.clone=function(){return new hm(this.type,this.bubbles,this.cancelable,this.charCode,this.keyCode,this.keyLocation,this.ctrlKey,this.altKey,this.shiftKey)};hm.prototype.clone=hm.prototype.clone;hm.prototype.toString=function(){return this.vb()};hm.prototype.toString=hm.prototype.toString;hm.prototype.Zc=h();hm.prototype.updateAfterEvent=hm.prototype.Zc;
Object.defineProperties(hm.prototype,{charCode:{get:p(0),set:h()},keyCode:{get:m('rl'),set:k('rl')},keyLocation:{get:m('sl'),set:k('sl')},ctrlKey:{get:m('Ya'),set:k('Ya')},altKey:{get:m('Xa'),set:k('Xa')},shiftKey:{get:m('Za'),set:k('Za')}});hm.prototype.g={names:[{name:'KeyboardEvent',h:Ff}]};r(Ff,hm);function im(a,b,c,d,e,f,g,l,n,t,u){d='undefined'!==typeof d?d:void 0;e='undefined'!==typeof e?e:void 0;f='undefined'!==typeof f?f:null;g='undefined'!==typeof g?g:!1;l='undefined'!==typeof l?l:!1;n='undefined'!==typeof n?n:!1;t='undefined'!==typeof t?t:!1;u='undefined'!==typeof u?u:0;Sl.call(this,a,'undefined'!==typeof b?b:!0,'undefined'!==typeof c?c:!1);this.ce=d;this.de=e;this.yb=f;this.Ya=g;this.Xa=l;this.Za=n;this.We=t;this.Xe=u}Pk(im,Sl);r('flash.events.MouseEvent.CLICK',Md);
r('flash.events.MouseEvent.DOUBLE_CLICK',fe);r('flash.events.MouseEvent.MOUSE_DOWN',Ch);r('flash.events.MouseEvent.MOUSE_MOVE',Dh);r('flash.events.MouseEvent.MOUSE_OUT',Eh);r('flash.events.MouseEvent.MOUSE_OVER',Fh);r('flash.events.MouseEvent.MOUSE_UP',Gh);r('flash.events.MouseEvent.RELEASE_OUTSIDE','releaseOutside');r('flash.events.MouseEvent.MOUSE_WHEEL',Hh);r('flash.events.MouseEvent.ROLL_OUT','rollOut');r('flash.events.MouseEvent.ROLL_OVER',Ki);r('flash.events.MouseEvent.MIDDLE_CLICK','middleClick');
r('flash.events.MouseEvent.MIDDLE_MOUSE_DOWN','middleMouseDown');r('flash.events.MouseEvent.MIDDLE_MOUSE_UP','middleMouseUp');r('flash.events.MouseEvent.RIGHT_CLICK','rightClick');r('flash.events.MouseEvent.RIGHT_MOUSE_DOWN','rightMouseDown');r('flash.events.MouseEvent.RIGHT_MOUSE_UP','rightMouseUp');r('flash.events.MouseEvent.CONTEXT_MENU',Td);im.prototype.ce=0;im.prototype.de=0;
im.prototype.clone=function(){return new im(this.type,this.bubbles,this.cancelable,this.localX,this.localY,this.yb,this.Ya,this.Xa,this.Za,this.We,this.Xe)};im.prototype.clone=im.prototype.clone;im.prototype.toString=function(){return this.vb()};im.prototype.toString=im.prototype.toString;im.prototype.Zc=h();im.prototype.updateAfterEvent=im.prototype.Zc;
Object.defineProperties(im.prototype,{localX:{get:m('ce'),set:k('ce')},localY:{get:m('de'),set:k('de')},relatedObject:{get:m('yb'),set:k('yb')},ctrlKey:{get:m('Ya'),set:k('Ya')},altKey:{get:m('Xa'),set:k('Xa')},shiftKey:{get:m('Za'),set:k('Za')},buttonDown:{get:m('We'),set:k('We')},delta:{get:m('Xe'),set:k('Xe')},stageX:{get:function(){return isNaN(this.localX)||isNaN(this.localY)?Number.NaN:0}},stageY:{get:function(){return isNaN(this.localX)||isNaN(this.localY)?Number.NaN:0}},isRelatedObjectInaccessible:{get:m('Ze'),
set:k('Ze')},movementX:{get:p(0),set:h()},movementY:{get:p(0),set:h()}});im.prototype.g={names:[{name:'MouseEvent',h:Gf}]};r(Gf,im);function jm(a,b,c,d,e,f,g,l,n,t,u,v,G,E){d='undefined'!==typeof d?d:0;e='undefined'!==typeof e?e:!1;f='undefined'!==typeof f?f:NaN;g='undefined'!==typeof g?g:NaN;l='undefined'!==typeof l?l:NaN;n='undefined'!==typeof n?n:NaN;t='undefined'!==typeof t?t:NaN;u='undefined'!==typeof u?u:null;v='undefined'!==typeof v?v:!1;G='undefined'!==typeof G?G:!1;E='undefined'!==typeof E?E:!1;Sl.call(this,a,'undefined'!==typeof b?b:!0,'undefined'!==typeof c?c:!1);this.df=d;this.Ye=e;this.localX=f;this.localY=g;this.af=
l;this.bf=n;this.$e=t;this.yb=u;this.Ya=v;this.Xa=G;this.Za=E}Pk(jm,Sl);r('flash.events.TouchEvent.TOUCH_BEGIN',zj);r('flash.events.TouchEvent.TOUCH_END',Aj);r('flash.events.TouchEvent.TOUCH_MOVE',Bj);r('flash.events.TouchEvent.TOUCH_OVER','touchOver');r('flash.events.TouchEvent.TOUCH_OUT','touchOut');r('flash.events.TouchEvent.TOUCH_ROLL_OVER','touchRollOver');r('flash.events.TouchEvent.TOUCH_ROLL_OUT','touchRollOut');r('flash.events.TouchEvent.TOUCH_TAP','touchTap');
r('flash.events.TouchEvent.PROXIMITY_BEGIN','proximityBegin');r('flash.events.TouchEvent.PROXIMITY_END','proximityEnd');r('flash.events.TouchEvent.PROXIMITY_MOVE','proximityMove');r('flash.events.TouchEvent.PROXIMITY_OUT','proximityOut');r('flash.events.TouchEvent.PROXIMITY_OVER','proximityOver');r('flash.events.TouchEvent.PROXIMITY_ROLL_OUT','proximityRollOut');r('flash.events.TouchEvent.PROXIMITY_ROLL_OVER','proximityRollOver');
jm.prototype.clone=function(){return new jm(this.type,this.bubbles,this.cancelable,this.df,this.Ye,this.localX,this.localY,this.af,this.bf,this.$e,this.yb,this.Ya,this.Xa,this.Za)};jm.prototype.clone=jm.prototype.clone;jm.prototype.toString=function(){return this.vb()};jm.prototype.toString=jm.prototype.toString;jm.prototype.Zc=h();jm.prototype.updateAfterEvent=jm.prototype.Zc;
Object.defineProperties(jm.prototype,{localX:{get:p(0),set:h()},localY:{get:p(0),set:h()},touchPointID:{get:m('df'),set:k('df')},isPrimaryTouchPoint:{get:m('Ye'),set:k('Ye')},sizeX:{get:m('af'),set:k('af')},sizeY:{get:m('bf'),set:k('bf')},pressure:{get:m('$e'),set:k('$e')},relatedObject:{get:m('yb'),set:k('yb')},ctrlKey:{get:m('Ya'),set:k('Ya')},altKey:{get:m('Xa'),set:k('Xa')},shiftKey:{get:m('Za'),set:k('Za')},stageX:{get:function(){return isNaN(this.localX)||isNaN(this.localY)?Number.NaN:0}},stageY:{get:function(){return isNaN(this.localX)||
isNaN(this.localY)?Number.NaN:0}},isRelatedObjectInaccessible:{get:m('Ze'),set:k('Ze')}});jm.prototype.g={names:[{name:'TouchEvent',h:If}]};r(If,jm);function km(){Kl.call(this);this.gj();this.vj=new fm;0===ol&&(ol=Date.now());this.frameRate=60;this.sa();this.yj=[new gm,new gm,new gm,new gm].slice();window.addEventListener(Fi,y(this.gj,this,Bk),!1)}Pk(km,Kl);q=km.prototype;q.La=0;q.Ma=0;q.Dd=!1;q.ff=!1;q.gj=function(){this.ie=window.innerWidth;this.he=window.innerHeight;this.canvas.width=this.ie;this.canvas.height=this.he;this.canvas.style.width=this.ie+zi;this.canvas.style.height=this.he+zi;this.dispatchEvent(new Sl(Fi))};
q.sa=function(){ql.call(window,y(this.sa,this,ac));this.Dd&&(this.dispatchEvent(new im(Dh,!0,!1,this.La,this.Ma)),this.Dd=!1);this.ff&&(this.dispatchEvent(new jm(Bj,!0,!1,0,!0,this.La,this.Ma)),this.ff=!1);this.dispatchEvent(new Sl(ne))};q.il=h();km.prototype.invalidate=km.prototype.il;km.prototype.ll=p(!1);km.prototype.isFocusInaccessible=km.prototype.ll;
km.prototype.nd=function(a){var b,c;switch(a.type){case Cj:b=Aj;c=Gh;break;case Dj:b=Aj;c=Gh;break;case Ej:b=Bj;c=Dh;break;case Fj:b=zj,c=Ch,a.preventDefault()}b&&(a.targetTouches.length&&(this.La=a.targetTouches[0].pageX-this.canvas.offsetLeft,this.Ma=a.targetTouches[0].pageY-this.canvas.offsetTop),this.Ea(b)&&(b!=Bj?this.dispatchEvent(new jm(b,!0,!1,0,!0,this.La,this.Ma)):this.ff=!0),this.Ea(c)&&(c!=Dh?this.dispatchEvent(new im(c,!0,!1,this.La,this.Ma)):this.Dd=!0),b===Aj&&this.Ea(Md)&&this.dispatchEvent(new im(Md,
!0,!1,this.La,this.Ma)))};km.prototype.oh=function(a){var b;switch(a.type){case ih:b=gh;break;case kh:b=hh}this.Ea(b)&&this.dispatchEvent(new hm(b,!0,!1,a.charCode,a.keyCode,a.location,a.ctrlKey,a.altKey,a.shiftKey))};
km.prototype.ta=function(a){var b;switch(a.type){case Md:b=Md;break;case Ud:b=Td;break;case Zd:b=fe;break;case Ih:b=Ch;break;case Jh:b=Ki;break;case Kh:b=Eh;break;case Lh:b=Dh;break;case Nh:b=Fh;break;case Mh:b=Eh;break;case Oh:b=Gh;break;case Ph:b=Hh}b&&(this.La=a.pageX-this.canvas.offsetLeft,this.Ma=a.pageY-this.canvas.offsetTop,this.Ea(b)&&(b!=Dh?this.dispatchEvent(new im(b,!0,!1,this.La,this.Ma,null,a.ctrlKey,a.altKey,a.shiftKey,0<a.button,a.wheelDelta)):this.Dd=!0))};
Object.defineProperties(km.prototype,{frameRate:{get:m('tj'),set:k('tj')},loaderInfo:{get:m('vj')},scaleMode:{get:p(null),set:h()},align:{get:p(null),set:h()},stageWidth:{get:m('ie'),set:h()},stageHeight:{get:m('he'),set:h()},showDefaultContextMenu:{get:p(!1),set:h()},colorCorrection:{get:p(null),set:h()},colorCorrectionSupport:{get:p(null)},stageFocusRect:{get:p(!1),set:h()},quality:{get:p(null),set:h()},displayState:{get:function(){return document.fullscreen||document.webkitIsFullScreen||document.mozFullScreen?
lg:bi},set:function(a){-1!=a.indexOf(lg)?(this.K.requestFullscreen||this.K.webkitRequestFullScreen||this.K.mozRequestFullScreen||this.K.msRequestFullscreen).call(this.K):(document.exitFullscreen||document.webkitExitFullScreen||document.mozCancelFullScreen||document.msExitFullscreen).call(document)}},fullScreenSourceRect:{get:p(null),set:h()},mouseLock:{get:p(!1),set:h()},stage3Ds:{get:m('yj')},color:{get:p(0),set:h()},fullScreenWidth:{get:p(0)},fullScreenHeight:{get:p(0)},wmodeGPU:{get:p(!1)},softKeyboardRect:{get:p(null)},
allowsFullScreen:{get:p(!1)},allowsFullScreenInteractive:{get:p(!1)},contentsScaleFactor:{get:p(0)},browserZoomFactor:{get:p(0)},canvas:{get:function(){this.K||(this.K=w(document.createElement(Ed),HTMLCanvasElement),this.K.addEventListener(Md,y(this.ta,this,Gd),!1),this.K.addEventListener(Ud,y(this.ta,this,Gd),!1),this.K.addEventListener(Zd,y(this.ta,this,Gd),!1),this.K.addEventListener(Ih,y(this.ta,this,Gd),!1),this.K.addEventListener(Jh,y(this.ta,this,Gd),!1),this.K.addEventListener(Kh,y(this.ta,
this,Gd),!1),this.K.addEventListener(Lh,y(this.ta,this,Gd),!1),this.K.addEventListener(Nh,y(this.ta,this,Gd),!1),this.K.addEventListener(Mh,y(this.ta,this,Gd),!1),this.K.addEventListener(Oh,y(this.ta,this,Gd),!1),this.K.addEventListener(Ph,y(this.ta,this,Gd),!1),this.K.addEventListener(Cj,y(this.nd,this,Hd),!1),this.K.addEventListener(Dj,y(this.nd,this,Hd),!1),this.K.addEventListener(Ej,y(this.nd,this,Hd),!1),this.K.addEventListener(Fj,y(this.nd,this,Hd),!1),document.addEventListener(ih,y(this.oh,
this,Fd),!1),document.addEventListener(kh,y(this.oh,this,Fd),!1),this.K.style.position=dc,this.K.style.left=0,this.K.style.top=0,this.K.style.zIndex=1,document.body.appendChild(w(this.K,HTMLCanvasElement)));return this.K}},ctx:{get:function(){this.Yf||(this.Yf=this.canvas.getContext(tb));return this.Yf}},ctx2d:{get:function(){if(!this.Zf){var a=w(document.createElement(Ed),HTMLCanvasElement);this.Zf=w(a.getContext(tb),CanvasRenderingContext2D)}return this.Zf}},displayContextInfo:{get:p(null)},mouseX:{get:m('La')},
mouseY:{get:m('Ma')}});km.prototype.g={names:[{name:'Stage',h:jf}]};r(jf,km);function lm(a,b,c,d,e,f,g,l){this.redMultiplier='undefined'!==typeof a?a:1;this.greenMultiplier='undefined'!==typeof b?b:1;this.blueMultiplier='undefined'!==typeof c?c:1;this.alphaMultiplier='undefined'!==typeof d?d:1;this.redOffset='undefined'!==typeof e?e:0;this.greenOffset='undefined'!==typeof f?f:0;this.blueOffset='undefined'!==typeof g?g:0;this.alphaOffset='undefined'!==typeof l?l:0}lm.prototype.cb=4294967295;lm.prototype.tint=lm.prototype.cb;
lm.prototype.concat=function(a){this.alphaOffset+=this.alphaMultiplier*a.alphaOffset;this.alphaMultiplier*=a.alphaMultiplier;this.redOffset+=this.redMultiplier*a.redOffset;this.redMultiplier*=a.redMultiplier;this.greenOffset+=this.greenMultiplier*a.greenOffset;this.greenMultiplier*=a.greenMultiplier;this.blueOffset+=this.blueMultiplier*a.blueOffset;this.blueMultiplier*=a.blueMultiplier};lm.prototype.concat=lm.prototype.concat;
lm.prototype.toString=function(){return Ca+this.redMultiplier+bb+this.greenMultiplier+Wa+this.blueMultiplier+Ta+this.alphaMultiplier+fb+this.redOffset+cb+this.greenOffset+Xa+this.blueOffset+Ua+this.alphaOffset+Ga};lm.prototype.toString=lm.prototype.toString;
Object.defineProperties(lm.prototype,{color:{get:function(){return this.redOffset<<16|this.greenOffset<<8|this.blueOffset},set:function(a){this.redMultiplier=this.greenMultiplier=this.blueMultiplier=0;this.redOffset=a>>16&255;this.greenOffset=a>>8&255;this.blueOffset=a&255}},redMultiplier:{get:m('tc'),set:function(a){this.tc=a;this.cb=255*this.tc<<0|255*this.rc<<8|255*this.nc<<16|255*this.mc<<24}},greenMultiplier:{get:m('rc'),set:function(a){this.rc=a;this.cb=255*this.tc<<0|255*this.rc<<8|255*this.nc<<
16|255*this.mc<<24}},blueMultiplier:{get:m('nc'),set:function(a){this.nc=a;this.cb=255*this.tc<<0|255*this.rc<<8|255*this.nc<<16|255*this.mc<<24}},alphaMultiplier:{get:m('mc'),set:function(a){this.mc=a;this.cb=255*this.tc<<0|255*this.rc<<8|255*this.nc<<16|255*this.mc<<24}}});lm.prototype.g={names:[{name:'ColorTransform',h:Jf}]};r(Jf,lm);function mm(a){this.L=new z;this.Aa=new lm;this.Ba=new lm;this.Zd=new z;this.be=new z;this.rb(a)}q=mm.prototype;q.ue=!0;q.N=!0;q.Te=!0;q.rb=k('rd');q.sk=p(null);mm.prototype.getRelativeMatrix3D=mm.prototype.sk;mm.prototype.I=function(){this.Te=this.N=!0};mm.prototype.updateTransforms=mm.prototype.I;mm.prototype.Mf=function(){this.ue=!0};mm.prototype.updateColorTransforms=mm.prototype.Mf;
Object.defineProperties(mm.prototype,{matrix:{get:m('L'),set:function(a){this.L=a;this.I()}},colorTransform:{get:m('Aa'),set:function(a){this.Aa=a;this.Mf()}},concatenatedMatrix:{get:function(){this.N&&(this.Zd.J(this.matrix),this.rd.parent&&this.Zd.concat(this.rd.parent.transform.concatenatedMatrix),this.N=!1);return this.Zd}},concatenatedColorTransform:{get:function(){this.ue&&(this.Ba.alphaOffset=this.Aa.alphaOffset,this.Ba.alphaMultiplier=this.Aa.alphaMultiplier,this.Ba.redOffset=this.Aa.redOffset,
this.Ba.redMultiplier=this.Aa.redMultiplier,this.Ba.greenOffset=this.Aa.greenOffset,this.Ba.greenMultiplier=this.Aa.greenMultiplier,this.Ba.blueOffset=this.Aa.blueOffset,this.Ba.blueMultiplier=this.Aa.blueMultiplier,this.rd.parent&&this.Ba.concat(this.rd.parent.transform.concatenatedColorTransform),this.ue=!1);return this.Ba}},pixelBounds:{get:p(null)},matrix3D:{get:p(null),set:h()},perspectiveProjection:{get:p(null),set:h()},invMatrix:{get:function(){this.Te&&(this.be.J(this.concatenatedMatrix),
this.be.Ta(),this.Te=!1);return this.be}}});mm.prototype.g={names:[{name:'Transform',h:Pf}]};r(Pf,mm);r('flash.utils.getTimer',function(){return Date.now()-ol});function N(){Kl.call(this);this.transform=new mm(this);this.innerID=nm++;this.name=dh+this.innerID;0===this.innerID&&(this.ca=new km,this.ca.addEventListener(ne,y(this.nj,this,Zb)),this.ca.addEventListener(Md,y(this.Ib,this,$b)),this.ca.addEventListener(Td,y(this.Ib,this,$b)),this.ca.addEventListener(fe,y(this.Ib,this,$b)),this.ca.addEventListener(Ch,y(this.Ib,this,$b)),this.ca.addEventListener(Dh,y(this.Ib,this,$b)),this.ca.addEventListener(Gh,y(this.Ib,this,$b)))}Pk(N,Kl);var nm=0;q=N.prototype;
q.lg=0;q.Pc=0;q.Lc=1;q.uc=!0;q.I=function(){this.transform.I()};N.prototype.updateTransforms=N.prototype.I;N.prototype.Ih=function(a){return this.transform.invMatrix.Uc(a)};N.prototype.globalToLocal=N.prototype.Ih;N.prototype.ol=function(a){return this.transform.concatenatedMatrix.Uc(a)};N.prototype.localToGlobal=N.prototype.ol;N.prototype.lk=function(a){return this.gb(a)};N.prototype.getBounds=N.prototype.lk;N.prototype.gb=function(a){var b=this.Hb();return!b||null!=a&&a!=this?this.Hb():b};
N.prototype.getRect=N.prototype.gb;N.prototype.Hb=p(null);N.prototype.__getRect=N.prototype.Hb;N.prototype.yk=p(!1);N.prototype.hitTestObject=N.prototype.yk;N.prototype.Kh=function(a,b){var c=this.Hb();return c?c.th(this.Ih(new gl(a,b))):!1};N.prototype.hitTestPoint=N.prototype.Kh;N.prototype.vk=p(null);N.prototype.globalToLocal3D=N.prototype.vk;N.prototype.nl=p(null);N.prototype.local3DToGlobal=N.prototype.nl;N.prototype.sa=h();N.prototype.__update=N.prototype.sa;
N.prototype.nj=function(){var a=this.stage.ctx;a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,this.stage.stageWidth,this.stage.stageHeight);ml=0;pl.start(a);this.sa(a);pl.finish(a)};
N.prototype.Ib=function(a){var b=this.lc(a);if(a.type===Dh){for(var c=this.ml;c&&c!=b;)c.dispatchEvent(new im(Eh,!1,!1,a.localX,a.localY)),c.dispatchEvent(new im(Ki,!1,!1,a.localX,a.localY)),c=c.parent;var d=new im(Fh,!0,!1,a.localX,a.localY),e=new im(Ki,!0,!1,a.localX,a.localY);b&&b!=c&&(b.dispatchEvent(d),b.dispatchEvent(e));this.ml=b}b&&b.dispatchEvent(a)};N.prototype.lc=p(null);
N.prototype.dispatchEvent=function(a){var b=N.Z.dispatchEvent.call(this,a);a.bubbles&&this.parent&&this.parent.dispatchEvent(a);return b};N.prototype.dispatchEvent=N.prototype.dispatchEvent;
Object.defineProperties(N.prototype,{stage:{get:m('ca'),set:function(a){this.ca!=a&&((this.ca=a)?this.dispatchEvent(new Sl(fc)):this.dispatchEvent(new Sl(Ci)))}},root:{get:p(null)},name:{get:m('Ca'),set:k('Ca')},parent:{get:m('_parent')},mask:{get:p(null),set:h()},visible:{get:m('uc'),set:k('uc')},x:{get:function(){return this.transform.matrix.tx},set:function(a){this.transform.matrix.tx=a;this.I()}},y:{get:function(){return this.transform.matrix.ty},set:function(a){this.transform.matrix.ty=a;this.I()}},
z:{get:p(0),set:h()},scaleX:{get:function(){var a=this.transform.matrix;return 0===a.b?a.a:Math.sqrt(a.a*a.a+a.b*a.b)},set:function(a){var b=this.transform.matrix;0===b.c?b.a=a:(b.a=this.Lc*a,b.b=this.Pc*a);this.I()}},scaleY:{get:function(){var a=this.transform.matrix;return 0===a.c?a.d:Math.sqrt(a.c*a.c+a.d*a.d)},set:function(a){var b=this.transform.matrix;0===b.c?b.d=a:(b.c=-this.Pc*a,b.d=this.Lc*a);this.I()}},scaleZ:{get:p(1),set:h()},mouseX:{get:function(){return this.stage?this.transform.invMatrix.Uc(new gl(this.stage.mouseX,
this.stage.mouseY)).x:0}},mouseY:{get:function(){return this.stage?this.transform.invMatrix.Uc(new gl(this.stage.mouseX,this.stage.mouseY)).y:0}},rotation:{get:m('lg'),set:function(a){this.lg=a;var b=this.transform.matrix;a=a*Math.PI/180;this.Pc=Math.sin(a);this.Lc=Math.cos(a);a=0===b.b?b.a:Math.sqrt(b.a*b.a+b.b*b.b);var c=0===b.c?b.d:Math.sqrt(b.c*b.c+b.d*b.d);b.a=this.Lc*a;b.b=this.Pc*a;b.c=-this.Pc*c;b.d=this.Lc*c;this.I()}},rotationX:{get:p(0),set:h()},rotationY:{get:p(0),set:h()},rotationZ:{get:p(0),
set:h()},alpha:{get:function(){return this.transform.colorTransform.alphaMultiplier},set:function(a){this.transform.colorTransform.alphaMultiplier=a;this.transform.Mf()}},width:{get:function(){var a=this.gb(this.parent);return a?a.width:0},set:h()},height:{get:function(){var a=this.gb(this.parent);return a?a.height:0},set:h()},cacheAsBitmap:{get:p(!1),set:h()},opaqueBackground:{get:p(null),set:h()},scrollRect:{get:p(null),set:h()},filters:{get:p(null),set:h()},blendMode:{get:m('oj'),set:k('oj')},
scale9Grid:{get:p(null),set:h()},metaData:{get:p(null),set:h()}});N.prototype.g={names:[{name:'DisplayObject',h:Ue}],ja:[xl]};r(Ue,N);function om(){N.call(this)}Pk(om,N);om.prototype.ig=!0;om.prototype.ag=!1;om.prototype.Zl=p(!1);om.prototype.requestSoftKeyboard=om.prototype.Zl;Object.defineProperties(om.prototype,{tabEnabled:{get:p(!0),set:h()},tabIndex:{get:p(0),set:h()},focusRect:{get:p(null),set:h()},mouseEnabled:{get:m('ig'),set:k('ig')},doubleClickEnabled:{get:m('ag'),set:k('ag')},softKeyboardInputAreaOfInterest:{get:p(null),set:h()},needsSoftKeyboard:{get:p(!1),set:h()}});
om.prototype.g={names:[{name:'InteractiveObject',h:ff}]};r(ff,om);function P(){this.children=[];N.call(this)}Pk(P,om);P.prototype.hg=!0;P.prototype.fb=function(a){return this.me(a,this.children.length)};P.prototype.addChild=P.prototype.fb;P.prototype.me=function(a,b){var c=this.children.indexOf(a);-1!=c&&this.children.splice(c,1);this.children.splice(b,0,a);a.stage=this.stage;a._parent=this;return a};P.prototype.addChildAt=P.prototype.me;P.prototype.removeChild=function(a){var b=this.children.indexOf(a);return-1!=b?this.nf(b):a};P.prototype.removeChild=P.prototype.removeChild;
P.prototype.nf=function(a){var b=this.children[a];b&&(b._parent=null,b.stage=null);this.children.splice(a,1);return b};P.prototype.removeChildAt=P.prototype.nf;P.prototype.Je=function(a){return this.children.indexOf(a)};P.prototype.getChildIndex=P.prototype.Je;P.prototype.bm=function(a,b){this.removeChild(a);this.me(a,b)};P.prototype.setChildIndex=P.prototype.bm;P.prototype.mk=function(a){return this.children[a]};P.prototype.getChildAt=P.prototype.mk;
P.prototype.nk=function(a){for(var b=this.children.length,c=0;c<b;c++){var d=this.children[c];if(d.name===a)return d}return null};P.prototype.getChildByName=P.prototype.nk;P.prototype.qk=p(null);P.prototype.getObjectsUnderPoint=P.prototype.qk;P.prototype.Fj=p(!1);P.prototype.areInaccessibleObjectsUnderPoint=P.prototype.Fj;P.prototype.contains=function(a){return-1!=this.children.indexOf(a)};P.prototype.contains=P.prototype.contains;
P.prototype.Fi=function(a,b){var c=this.children[a];this.children[a]=this.children[b];this.children[b]=c};P.prototype.swapChildrenAt=P.prototype.Fi;P.prototype.vm=function(a,b){this.Fi(this.Je(a),this.Je(b))};P.prototype.swapChildren=P.prototype.vm;P.prototype.Yl=function(a,b){a='undefined'!==typeof a?a:0;for(var c=Math.min(this.numChildren-1,a+('undefined'!==typeof b?b:2147483647)-1);c>=a;c--)this.nf(c)};P.prototype.removeChildren=P.prototype.Yl;P.prototype.rm=h();P.prototype.stopAllMovieClips=P.prototype.rm;
P.prototype.sa=function(a){if(this.visible)for(var b=this.children.length,c=0;c<b;c++)this.children[c].sa(a)};P.prototype.__update=P.prototype.sa;P.prototype.I=function(){P.Z.I.call(this);for(var a=this.children.length,b=0;b<a;b++)this.children[b].I()};P.prototype.updateTransforms=P.prototype.I;P.prototype.lc=function(a){if(this.mouseEnabled&&this.mouseChildren&&this.visible)for(var b=this.children.length-1;0<=b;b--){var c=this.children[b].lc(a);if(c)return c}return null};
P.prototype.gb=function(a){for(var b=P.Z.gb.call(this,a),c=this.children.length,d=0;d<c;d++){var e=this.children[d].gb(a);null==b?b=e:e&&b.Vi(e)}return b};P.prototype.getRect=P.prototype.gb;
Object.defineProperties(P.prototype,{numChildren:{get:function(){return this.children.length}},stage:{get:m('ca'),set:function(a){this.ca!=a&&((this.ca=a)?this.dispatchEvent(new Sl(fc)):this.dispatchEvent(new Sl(Ci)));for(var b=this.children.length,c=0;c<b;c++)this.children[c].stage=a}},tabChildren:{get:p(!1),set:h()},mouseChildren:{get:m('hg'),set:k('hg')}});P.prototype.g={names:[{name:'DisplayObjectContainer',h:Ve}]};r(Ve,P);function pm(){}r('flash.display.GradientType.LINEAR',qh);r('flash.display.GradientType.RADIAL','radial');pm.prototype.g={names:[{name:'GradientType',h:We}]};r(We,pm);function qm(a,b,c,d,e,f,g,l){this.hd='undefined'!==typeof a?a:qh;this.colors='undefined'!==typeof b?b:null;this.alphas='undefined'!==typeof c?c:null;this.ratios='undefined'!==typeof d?d:null;this.matrix='undefined'!==typeof e?e:null;this.ng='undefined'!==typeof f?f:ti;this.dg='undefined'!==typeof g?g:Gi;this.focalPointRatio='undefined'!==typeof l?l:0}qm.prototype.G=function(a){null==this.Ec&&(this.Ec=this.type===qh?a.createLinearGradient(0,0,1,1):a.createRadialGradient(0,0,1,0,0,1));a.fillStyle=this.Ec};
qm.prototype.draw=qm.prototype.G;qm.prototype.aa=function(a){null==this.Ec&&(this.Ec=this.type==qh?a.createLinearGradient(0,0,1,1):a.createRadialGradient(0,0,1,0,0,1));a.fillStyle=w(this.Ec,String);a.fillStyleIsImage=!1};qm.prototype.gldraw=qm.prototype.aa;Object.defineProperties(qm.prototype,{type:{get:m('hd'),set:k('hd')},spreadMethod:{get:m('ng'),set:k('ng')},interpolationMethod:{get:m('dg'),set:k('dg')}});qm.prototype.g={names:[{name:'GraphicsGradientFill',h:$e}],ja:[el,dl]};r($e,qm);function rm(a,b){this._glcolor=[];this.color='undefined'!==typeof a?a:0;this.alpha='undefined'!==typeof b?b:1}rm.prototype.color=0;rm.prototype.color=rm.prototype.color;rm.prototype.alpha=1;rm.prototype.alpha=rm.prototype.alpha;rm.prototype.G=function(a,b){a.fillStyle=pl.Sa(this.color,this.alpha,b,null)};rm.prototype.draw=rm.prototype.G;rm.prototype.aa=function(a,b){a.fillStyle=pl.Sa(this.color,this.alpha,b,this._glcolor);a.fillStyleIsImage=!1};rm.prototype.gldraw=rm.prototype.aa;
rm.prototype.g={names:[{name:'GraphicsSolidFill',h:cf}],ja:[el,dl]};r(cf,rm);function sm(){}sm.prototype.g={names:[{name:'IGraphicsStroke',h:'flash.display.IGraphicsStroke'}]};function tm(a,b,c,d,e,f,g){this.thickness=a='undefined'!==typeof a?a:NaN;this.pixelHinting='undefined'!==typeof b?b:!1;this.Xf='undefined'!==typeof d?d:$h;this.eg='undefined'!==typeof e?e:Li;this.miterLimit='undefined'!==typeof f?f:3;this.mg='undefined'!==typeof c?c:bi;this.fill='undefined'!==typeof g?g:null}tm.prototype.G=function(a,b){if(isNaN(this.thickness))a.stroke();else if(a.lineWidth=this.thickness,x(this.fill,rm)){var c=w(this.fill,rm);a.strokeStyle=pl.Sa(c.color,c.alpha,b,null)}};
tm.prototype.draw=tm.prototype.G;tm.prototype.aa=function(a,b){if(isNaN(this.thickness))a.stroke();else if(a.lineWidth=this.thickness,x(this.fill,rm)){var c=this.fill;pl.Sa(c.color,c.alpha,b,c._glcolor);a.strokeStyle=c._glcolor}};tm.prototype.gldraw=tm.prototype.aa;Object.defineProperties(tm.prototype,{caps:{get:m('Xf'),set:k('Xf')},joints:{get:m('eg'),set:k('eg')},scaleMode:{get:m('mg'),set:k('mg')}});tm.prototype.g={names:[{name:'GraphicsStroke',h:df}],ja:[sm,dl]};r(df,tm);function um(a,b,c,d){this.vertices='undefined'!==typeof a?a:null;this.indices='undefined'!==typeof b?b:null;this.uvtData='undefined'!==typeof c?c:null;this.$f='undefined'!==typeof d?d:$h}um.prototype.G=function(){Zk(Gj)};um.prototype.draw=um.prototype.G;um.prototype.aa=h();um.prototype.gldraw=um.prototype.aa;Object.defineProperties(um.prototype,{culling:{get:m('$f'),set:k('$f')}});um.prototype.g={names:[{name:'GraphicsTrianglePath',h:ef}],ja:[jl,dl]};r(ef,um);function Q(){this.graphicsData=[];this.fi=[];this._worldMatrix=new z}Q.prototype.Hd=0;Q.prototype.Wa=!1;r('flash.display.Graphics.debug',!1);Q.prototype.clear=function(){this.U=this.lastStroke=null;this.Hd=0;this.graphicsData=[];this.bound=null};Q.prototype.clear=Q.prototype.clear;Q.prototype.wg=function(a,b){b='undefined'!==typeof b?b:1;this.Vb();this.lastFill=new rm(a,b);this.graphicsData.push(this.lastFill)};Q.prototype.beginFill=Q.prototype.wg;
Q.prototype.xg=function(a,b,c,d,e,f,g,l){e='undefined'!==typeof e?e:null;f='undefined'!==typeof f?f:ti;g='undefined'!==typeof g?g:Gi;l='undefined'!==typeof l?l:0;this.Vb();this.lastFill=new qm(a,b,c,d,e,f,g,l);this.graphicsData.push(this.lastFill)};Q.prototype.beginGradientFill=Q.prototype.xg;Q.prototype.vg=function(a,b,c,d){b='undefined'!==typeof b?b:null;c='undefined'!==typeof c?c:!0;d='undefined'!==typeof d?d:!1;this.Vb();this.lastFill=new fl(a,b,c,d);this.graphicsData.push(this.lastFill)};
Q.prototype.beginBitmapFill=Q.prototype.vg;Q.prototype.Vb=function(){if(this.U){if(this.lastFill){var a=new hl;a.fill=this.lastFill;this.graphicsData.push(a);this.lastFill=null}this.lastStroke&&!isNaN(this.lastStroke.thickness)&&(this.lastStroke=new tm(NaN),this.graphicsData.push(this.lastStroke));this.U=null}};Q.prototype.endStrokAndFill=Q.prototype.Vb;
Q.prototype.$h=function(a,b,c,d,e,f,g,l){this.lastStroke&&(this.lastStroke.fill=new qm(a,b,c,d,'undefined'!==typeof e?e:null,'undefined'!==typeof f?f:ti,'undefined'!==typeof g?g:Gi,'undefined'!==typeof l?l:0))};Q.prototype.lineGradientStyle=Q.prototype.$h;
Q.prototype.Fc=function(a,b,c,d,e,f,g,l){a='undefined'!==typeof a?a:NaN;b='undefined'!==typeof b?b:0;c='undefined'!==typeof c?c:1;d='undefined'!==typeof d?d:!1;e='undefined'!==typeof e?e:bi;f='undefined'!==typeof f?f:null;g='undefined'!==typeof g?g:null;l='undefined'!==typeof l?l:3;this.Vb();isNaN(a)||(this.lastStroke=new tm(0===a?1:a,d,e,f,g,l,new rm(b,c)),this.graphicsData.push(this.lastStroke))};Q.prototype.lineStyle=Q.prototype.Fc;
Q.prototype.fk=function(a,b,c,d){this.Wa=!0;this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d);this.U.closePath();this.Wa=!1;vm(this,a,b);vm(this,a+c,b+d)};Q.prototype.drawRect=Q.prototype.fk;
Q.prototype.gk=function(a,b,c,d,e,f){f='undefined'!==typeof f?f:NaN;this.Wa=!0;isNaN(f)&&(f=e);this.moveTo(a+e,b);this.lineTo(a+c-e,b);this.ea(a+c,b,a+c,b+f);this.lineTo(a+c,b+d-f);this.ea(a+c,b+d,a+c-e,b+d);this.lineTo(a+e,b+d);this.ea(a,b+d,a,b+d-f);this.lineTo(a,b+f);this.ea(a,b,a+e,b);this.Wa=!1;vm(this,a,b);vm(this,a+c,b+d)};Q.prototype.drawRoundRect=Q.prototype.gk;
Q.prototype.hk=function(a,b,c,d,e,f,g,l){this.Wa=!0;this.moveTo(a+e,b);this.lineTo(a+c-f,b);this.ea(a+c,b,a+c,b+f);this.lineTo(a+c,b+d-l);this.ea(a+c,b+d,a+c-l,b+d);this.lineTo(a+g,b+d);this.ea(a,b+d,a,b+d-g);this.lineTo(a,b+e);this.ea(a,b,a+e,b);this.Wa=!1;vm(this,a,b);vm(this,a+c,b+d)};Q.prototype.drawRoundRectComplex=Q.prototype.hk;Q.prototype.ck=function(a,b,c){wm(this);this.U.moveTo(a+c,b);this.U.arc(a,b,c,0,2*Math.PI);vm(this,a-c,b-c);vm(this,a+c,b+c)};Q.prototype.drawCircle=Q.prototype.ck;
Q.prototype.dk=function(a,b,c,d){this.Wa=!0;var e=c/2*.5522848,f=d/2*.5522848,g=a+c,l=b+d,n=a+c/2,t=b+d/2;this.moveTo(a,t);this.va(a,t-f,n-e,b,n,b);this.va(n+e,b,g,t-f,g,t);this.va(g,t+f,n+e,l,n,l);this.va(n-e,l,a,t+f,a,t);this.Wa=!1;vm(this,a,b);vm(this,a+c,b+d)};Q.prototype.drawEllipse=Q.prototype.dk;Q.prototype.moveTo=function(a,b){wm(this);this.U.moveTo(a,b);vm(this,a,b)};Q.prototype.moveTo=Q.prototype.moveTo;Q.prototype.lineTo=function(a,b){wm(this);this.U.lineTo(a,b);vm(this,a,b)};
Q.prototype.lineTo=Q.prototype.lineTo;Q.prototype.ea=function(a,b,c,d){wm(this);this.U.ea(a,b,c,d);vm(this,a,b);vm(this,c,d)};Q.prototype.curveTo=Q.prototype.ea;Q.prototype.va=function(a,b,c,d,e,f){wm(this);this.U.va(a,b,c,d,e,f);vm(this,a,b);vm(this,c,d);vm(this,e,f)};Q.prototype.cubicCurveTo=Q.prototype.va;
function vm(a,b,c){a.Wa||(null==a.bound&&(a.bound=new C(Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE)),a.bound.left>b&&(a.bound.left=b),a.bound.right<b&&(a.bound.right=b),a.bound.top>c&&(a.bound.top=c),a.bound.bottom<c&&(a.bound.bottom=c))}function wm(a){null==a.U&&(a.U=a.fi[a.Hd],null==a.U&&(a.U=a.fi[a.Hd]=pl.qb()),a.U.clear(),a.U.xd=!0,a.Hd++,a.graphicsData.push(a.U))}Q.prototype.Ge=function(){this.Vb()};Q.prototype.endFill=Q.prototype.Ge;
Q.prototype.J=function(a){this.graphicsData=a.graphicsData.slice()};Q.prototype.copyFrom=Q.prototype.J;Q.prototype.Zh=function(a,b,c,d){b='undefined'!==typeof b?b:null;c='undefined'!==typeof c?c:!0;d='undefined'!==typeof d?d:!1;this.lastStroke&&x(this.lastStroke,tm)&&(w(this.lastStroke,tm).fill=new fl(a,b,c,d))};Q.prototype.lineBitmapStyle=Q.prototype.Zh;Q.prototype.Ac=function(a,b){wm(this);this.U.commands.push.apply(null,a);this.U.data.push.apply(null,b)};Q.prototype.drawPath=Q.prototype.Ac;
Q.prototype.na=function(a,b,c){b='undefined'!==typeof b?b:null;c='undefined'!==typeof c?c:null;wm(this);this.U.na(a,b,c)};Q.prototype.drawTriangles=Q.prototype.na;
Q.prototype.ek=function(a){var b=null,b=b=b=null;if(null!=a)for(var c=0;c<a.length;c++)if(b=a[c],x(b,jl)){var b=w(b,jl,!0),d=null,d=null;x(b,B)?(d=w(b,B,!0),this.Ac(d.commands,d.data,d.winding)):x(b,um)&&(d=w(b,um,!0),this.na(d.vertices,d.indices,d.uvtData,d.culling))}else if(x(b,el))b=w(b,el,!0),d=d=d=null,null==b?this.Ge():x(b,hl)?this.Ge():x(b,rm)?(d=w(b,rm,!0),this.wg(d.color,d.alpha)):x(b,qm)?(d=w(b,qm,!0),this.xg(d.type,d.colors,d.alphas,d.ratios,d.matrix,d.spreadMethod,d.interpolationMethod,
d.focalPointRatio)):x(b,fl)&&(d=w(b,fl,!0),this.vg(d.bitmapData,d.matrix,d.repeat,d.smooth));else if(x(b,sm)){var b=w(b,sm,!0),e=null,e=d=e=e=null;null!=b&&x(b,tm)&&(d=w(b,tm));d&&d.fill&&x(d.fill,el)&&(e=d.fill);null==d||null==e?this.Fc():x(e,rm)?(e=w(e,rm,!0),this.Fc(d.thickness,e.color,e.alpha,d.pixelHinting,d.scaleMode,d.caps,d.joints,d.miterLimit)):x(e,qm)?(e=w(e,qm,!0),this.Fc(d.thickness,0,1,d.pixelHinting,d.scaleMode,d.caps,d.joints,d.miterLimit),this.$h(e.type,e.colors,e.alphas,e.ratios,
e.matrix,e.spreadMethod,e.interpolationMethod,e.focalPointRatio)):x(e,fl)&&(e=w(e,fl,!0),this.Fc(d.thickness,0,1,d.pixelHinting,d.scaleMode,d.caps,d.joints,d.miterLimit),this.Zh(e.bitmapData,e.matrix,e.repeat,e.smooth))}};Q.prototype.drawGraphicsData=Q.prototype.ek;Q.prototype.Sl=function(){return this.graphicsData.slice()};Q.prototype.readGraphicsData=Q.prototype.Sl;Q.prototype.G=function(a,b,c,d){this.graphicsData.length&&(pl.dc(a,this,b,c,d),ml++)};Q.prototype.draw=Q.prototype.G;
Q.prototype.g={names:[{name:'Graphics',h:Xe}]};r(Xe,Q);function xm(){P.call(this);this.graphics=new Q}Pk(xm,P);xm.prototype.pm=h();xm.prototype.startDrag=xm.prototype.pm;xm.prototype.sm=h();xm.prototype.stopDrag=xm.prototype.sm;xm.prototype.qm=h();xm.prototype.startTouchDrag=xm.prototype.qm;xm.prototype.tm=h();xm.prototype.stopTouchDrag=xm.prototype.tm;xm.prototype.Hb=function(){return this.graphics.bound};xm.prototype.__getRect=xm.prototype.Hb;
xm.prototype.sa=function(a){this.visible&&this.graphics.graphicsData.length&&this.graphics.G(a,this.transform.concatenatedMatrix,this.blendMode,this.transform.concatenatedColorTransform);this.Ea(ne)&&this.dispatchEvent(new Sl(ne));xm.Z.sa.call(this,a)};xm.prototype.__update=xm.prototype.sa;xm.prototype.lc=function(a){if(this.mouseEnabled&&this.visible){if(a=xm.Z.lc.call(this,a))return a;if(this.Kh(this.stage.mouseX,this.stage.mouseY))return this}return null};
Object.defineProperties(xm.prototype,{buttonMode:{get:p(!1),set:h()},dropTarget:{get:p(null)},hitArea:{get:p(null),set:h()},useHandCursor:{get:p(!1),set:h()}});xm.prototype.g={names:[{name:'Sprite',h:hf}]};r(hf,xm);function ym(){}r('flash.display.BlendMode.NORMAL',bi);r('flash.display.BlendMode.LAYER',mh);r('flash.display.BlendMode.MULTIPLY',Sh);r('flash.display.BlendMode.SCREEN','screen');r('flash.display.BlendMode.LIGHTEN','lighten');r('flash.display.BlendMode.DARKEN','darken');r('flash.display.BlendMode.ADD',ec);r('flash.display.BlendMode.SUBTRACT','subtract');r('flash.display.BlendMode.DIFFERENCE','difference');r('flash.display.BlendMode.INVERT','invert');r('flash.display.BlendMode.OVERLAY','overlay');
r('flash.display.BlendMode.HARDLIGHT','hard-light');r('flash.display.BlendMode.ALPHA',gc);r('flash.display.BlendMode.ERASE','erase');r('flash.display.BlendMode.SHADER','shader');ym.prototype.g={names:[{name:'BlendMode',h:Te}]};r(Te,ym);function R(){this.ambient=new H(.1,.1,.1,.1);this.terrainTextureSets=[];this.color=new H(1,1,1,1);this.wireframeColor=new H(.5,0,.5,0);this.sourceFactor=ki;this.destinationFactor=Gk;this.passCompareMode=nh;this.culling=hg;this.borderColor=new H(1,0,0,1)}R.prototype.ph=!0;R.prototype.castShadow=R.prototype.ph;R.prototype.yd=!1;R.prototype.gpuSkin=R.prototype.yd;R.prototype.Va=!0;R.prototype.lightAble=R.prototype.Va;R.prototype.ud=!0;R.prototype.fogAble=R.prototype.ud;R.prototype.sg=!1;
R.prototype.Dj=!0;R.prototype.ambientAble=R.prototype.Dj;R.prototype.Vd=!0;R.prototype.specularAble=R.prototype.Vd;R.prototype.Di=50;R.prototype.specularPower=R.prototype.Di;R.prototype.og=!1;R.prototype.Df=2;R.prototype.toonStep=R.prototype.Df;R.prototype.mf=!0;R.prototype.receiveShadows=R.prototype.mf;R.prototype.ne=0;R.prototype.alphaThreshold=R.prototype.ne;R.prototype.Jh=!1;R.prototype.gray=R.prototype.Jh;R.prototype.rg=!1;R.prototype.Wh=!1;R.prototype.isDistanceField=R.prototype.Wh;
R.prototype.m=!0;R.prototype.invalid=R.prototype.m;R.prototype.depthMask=!0;R.prototype.depthMask=R.prototype.depthMask;R.prototype.border=!1;R.prototype.border=R.prototype.border;R.prototype.G=h();R.prototype.draw=R.prototype.G;
Object.defineProperties(R.prototype,{normalMapAble:{get:m('xj'),set:k('xj')},wireframeAble:{get:m('rg'),set:function(a){this.rg=a;this.m=!0}},blendModel:{set:function(a){switch(a){case bi:this.sourceFactor=ki;this.destinationFactor=Gk;break;case mh:this.sourceFactor=cj;this.destinationFactor=ni;break;case Sh:this.sourceFactor=Gk;this.destinationFactor=dj;break;case ec:this.sourceFactor=cj;this.destinationFactor=ki;break;case gc:this.sourceFactor=Gk,this.destinationFactor=cj}}},toonAble:{get:m('og'),
set:function(a){this.og=a;this.m=!0}},alpha:{get:function(){return this.color.w},set:function(a){this.color.w=a}},writeDepth:{get:m('sg'),set:function(a){if(this.sg=a)this.ud=this.Va=!1}}});R.prototype.g={names:[{name:'MaterialBase',h:sg}]};r(sg,R);function zm(){}zm.prototype.Pa=h();zm.prototype.creat=zm.prototype.Pa;zm.prototype.g={names:[{name:'Creator',h:tc}]};r(tc,zm);function Am(){Kl.call(this);this.ya={}}Pk(Am,Kl);Am.prototype.Me=function(a){return this.ya[a]};Am.prototype.getProperty=Am.prototype.Me;Am.prototype.setProperty=function(a,b){this.ya[a]=b};Am.prototype.setProperty=Am.prototype.setProperty;Am.prototype.Ne=function(a){return this.ya.hasOwnProperty(a)};Am.prototype.hasProperty=Am.prototype.Ne;Am.prototype.xe=function(a){delete this.ya[a]};Am.prototype.deleteProperty=Am.prototype.xe;Am.prototype.Ee=function(){var a=[],b;for(b in this.ya)a.push(b);return a};
Am.prototype.elementNames=Am.prototype.Ee;Am.prototype.g={names:[{name:'Proxy',h:Wf}]};r(Wf,Am);function Bm(a,b){Am.call(this);this.type=a;this.index='undefined'!==typeof b?b:0}Pk(Bm,Am);r('as3Shader.Var.TYPE_C',1);r('as3Shader.Var.TYPE_T',2);r('as3Shader.Var.TYPE_VA',3);r('as3Shader.Var.TYPE_V',4);r('as3Shader.Var.TYPE_FS',5);r('as3Shader.Var.TYPE_OC',6);r('as3Shader.Var.TYPE_OP',7);Bm.prototype.Na=1;Bm.prototype.constLenght=Bm.prototype.Na;Bm.prototype.o=!1;Bm.prototype.used=Bm.prototype.o;
Bm.prototype.c=function(a,b){b='undefined'!==typeof b?b:0;var c=new Bm(this.type,this.index);c.parent=this;if(this.component)if(x(this.component,String)&&x(a,String)){for(var d=w(a,String),e=w(this.component,String),f=aa,g=0;g<d.length;g++)var l=this.charCodeAt(d,g)-this.charCodeAt(Dk,0),f=l<e.length?f+e.charAt(l):f+d.charAt(g);a=f}else throw pe;c.component=a;c.componentOffset=b;c.Na=this.Na;return c};Bm.prototype.c=Bm.prototype.c;Bm.prototype.charCodeAt=function(a,b){return a.charAt(b)==wk?123:a.charCodeAt(b)};
Bm.prototype.toString=function(){return[this.type,this.index]+aa};Bm.prototype.toString=Bm.prototype.toString;Object.defineProperties(Bm.prototype,{root:{get:function(){return null==this.parent?this:this.parent.root}}});Bm.prototype.g={names:[{name:'Var',h:'as3Shader.Var'}]};r('as3Shader.Var',Bm);function Cm(){}Cm.prototype.addEventListener=h();Cm.prototype.removeEventListener=h();Cm.prototype.dispatchEvent=h();Cm.prototype.g={names:[{name:Gb,h:'org.apache.flex.events.IEventDispatcher'}]};function Dm(){}Pk(Dm,zm);Dm.prototype.Pa=function(a){var b=a.lines,c=a.logs;this.$a=a.programType==kk?dk:Ee;a=aa;for(var d=0;d<b.length;d++){var e=c[d];if(e){var f=e,g;for(g in f)e=f[g],a+=rb+e+ea}e=b[d];a+=e[0];for(f=1;f<e.length;f++)a+=fa+this.jc(e[f]);e.flag&&(a+=mb+e.flag+Bb);a+=ea}if(e=c[d]){var b=e,l;for(l in b)e=b[l],a+=rb+e+ea}this.data=a};Dm.prototype.creat=Dm.prototype.Pa;
Dm.prototype.Nf=function(a){var b;switch(a.type){case 1:b=this.$a+Cd;break;case 5:b=this.$a+Ni;break;case 6:b=ii;break;case 7:b=pi;break;case 2:b=this.$a+tj;break;case 4:b=dk;break;case 3:b=this.$a+bc}return b};Dm.prototype.jc=function(a){var b=this.Nf(a);if(!a.component||!x(a.component,Bm))switch(a.type){case 1:case 5:case 2:case 4:case 3:b+=a.index}if(a.component)if(x(a.component,Bm))var c=w(a.component,Bm),b=b+(Pb+this.jc(c)+Qa+(a.index+a.componentOffset)+Xb);else b+=ob+a.component;return b};
Dm.prototype.g={names:[{name:'AGALCodeCreator',h:rc}]};r(rc,Dm);function Em(){this.Ad={};null==Fm&&(Fm={mul:Pa,m44:Pa,m33:Pa,m34:Pa,add:Qa,sub:nb,div:pb},Gm={mov:[aa,aa],neg:[nb,aa],rcp:[sb,aa],sat:[Kd,lb]},Hm={frc:bg,sqt:gj,rsq:eh,nrm:ci,crs:Wd,dp3:ee,dp4:ee})}var Fm,Gm,Hm;Pk(Em,zm);
Em.prototype.Pa=function(a){var b=a.lines,c=a.logs;this.$a=a.programType==kk?dk:Ee;for(var d=aa,e=aa,f=aa,g=tk,l=0;l<b.length;l++){var n=c[l];if(n){var t=n,u;for(u in t)n=t[u],g+=ca+n+ea}var n=b[l],t=n[0],v=w(n[1],Bm),G=this.jc(v);null==this.Ad[G]&&(this.Ad[G]=!0,2==v.type?G=Im(v)+fa+G:4==v.type&&(e+=hk+Im(v)+fa+G+yb));for(var v=[],E=2;E<n.length;E++){var A=n[E],K=this.jc(A.root,!1),J=Im(A);v.push(K);null==this.Ad[K]&&(this.Ad[K]=!0,5==A.type||1==A.type?d+=Rj+J+fa+K+yb:4==A.type?e+=hk+J+fa+K+yb:3==
A.type&&(f+=wc+J+fa+K+yb))}Fm[t]?(g+=ba+G+na+v.join(fa+Fm[t]+fa),n.flag&&(g+=mb+n.flag+Bb),g+=xb):Gm[t]?g+=ba+G+na+Gm[t][0]+v+Gm[t][1]+xb:(g+=ba+G+na+(Hm[t]||t)+za+v,n.flag&&(g+=mb+n.flag+Bb),g+=Na);g+=ea}if(n=c[l]){var b=n,O;for(O in b)n=b[O],g+=rb+n+ea}this.data=d+e+f+g+Hk;a.programType==cg&&(this.data=yi+this.data)};Em.prototype.creat=Em.prototype.Pa;function Im(a){return 5==a.type?Oi:1==a.Na?jk:wh+a.Na}
Em.prototype.Nf=function(a){var b;switch(a.type){case 1:b=this.$a+Cd;break;case 5:b=this.$a+Ni;break;case 6:b=Ng;break;case 7:b=Og;break;case 2:b=this.$a+tj;break;case 4:b=dk;break;case 3:b=this.$a+bc}return b};
Em.prototype.jc=function(a,b){var c=this.Nf(a);if(!a.component||!x(a.component,Bm))switch(a.type){case 1:case 5:case 2:case 4:case 3:c+=a.index}if(('undefined'!==typeof b?b:1)&&a.component)if(x(a.component,Bm))var d=w(a.component,Bm),c=c+(Pb+this.jc(d)+Qa+(a.index+a.componentOffset)+Xb);else c+=ob+a.component;return c};Em.prototype.g={names:[{name:'GLCodeCreator',h:uc}]};r(uc,Em);function Jm(){}r('flash.system.Capabilities.hasMultiChannelAudio',p(!1));
Object.defineProperties(Jm,{isEmbeddedInAcrobat:{get:p(!1)},hasEmbeddedVideo:{get:p(!1)},hasAudio:{get:p(!1)},avHardwareDisable:{get:p(!1)},hasAccessibility:{get:p(!1)},hasAudioEncoder:{get:p(!1)},hasMP3:{get:p(!1)},hasPrinting:{get:p(!1)},hasScreenBroadcast:{get:p(!1)},hasScreenPlayback:{get:p(!1)},hasStreamingAudio:{get:p(!1)},hasStreamingVideo:{get:p(!1)},hasVideoEncoder:{get:p(!1)},isDebugger:{get:p(!1)},localFileReadDisable:{get:p(!1)},language:{get:p(null)},manufacturer:{get:p(null)},os:{get:p(null)},
cpuArchitecture:{get:p(null)},playerType:{get:p(fj)},serverString:{get:p(null)},version:{get:p(null)},screenColor:{get:p(null)},pixelAspectRatio:{get:p(0)},screenDPI:{get:p(0)},screenResolutionX:{get:p(0)},screenResolutionY:{get:p(0)},touchscreenType:{get:p(null)},hasIME:{get:p(!1)},hasTLS:{get:p(!1)},maxLevelIDC:{get:p(null)},supports32BitProcesses:{get:p(!1)},supports64BitProcesses:{get:p(!1)}});Jm.prototype.g={names:[{name:'Capabilities',h:Sf}]};r(Sf,Jm);function Km(a,b){this.fcode=b;this.vcode=a}Km.prototype.m=!0;Km.prototype.update=function(a){if(this.m||this.context!=a){this.program=a.createProgram();if(x(this.vcode,String)){var b=new L;b.pb(this.vcode);var c=new L;c.pb(this.fcode)}else b=this.vcode,c=this.fcode;this.program.upload(b,c);this.m=!1;this.context=a}};Km.prototype.update=Km.prototype.update;Km.prototype.g={names:[{name:'ProgramSet',h:ug}]};r(ug,Km);function Lm(){this.mode=0;this.fogColor=[1,1,1]}r('gl3d.core.Fog.FOG_NONE',0);r('gl3d.core.Fog.FOG_EXP',1);r('gl3d.core.Fog.FOG_EXP2',2);r('gl3d.core.Fog.FOG_LINEAR',3);Lm.prototype.ye=.03;Lm.prototype.density=Lm.prototype.ye;Lm.prototype.start=10;Lm.prototype.start=Lm.prototype.start;Lm.prototype.end=100;Lm.prototype.end=Lm.prototype.end;Lm.prototype.g={names:[{name:'Fog',h:'gl3d.core.Fog'}]};r('gl3d.core.Fog',Lm);function Mm(a){this.ga=new H;this.Da=new H;this.$=new H;this.da=new H;I.call(this,'undefined'!==typeof a?a:null)}Pk(Mm,I);Mm.prototype.pl=function(a,b,c){this.$.J(b);this.$.bb(a);this.$.normalize();this.$.w=0;this.ga.J(c);Nm(this,this.ga,this.$);this.ga.normalize();this.ga.w=0;this.Da.J(this.$);Nm(this,this.Da,this.ga);this.Da.w=0;this.da.x=this.ga.Qa(a);this.da.y=this.Da.Qa(a);this.da.z=this.$.Qa(a);this.da.w=1;this.ua(0,this.ga);this.ua(1,this.Da);this.ua(2,this.$);this.ua(3,this.da)};
Mm.prototype.lookAtLH=Mm.prototype.pl;Mm.prototype.ql=function(a,b,c){this.$.J(a);this.$.bb(b);this.$.normalize();this.$.w=0;this.ga.J(c);Nm(this,this.ga,this.$);this.ga.normalize();this.ga.w=0;this.Da.J(this.$);Nm(this,this.Da,this.ga);this.Da.w=0;this.da.x=this.ga.Qa(a);this.da.y=this.Da.Qa(a);this.da.z=this.$.Qa(a);this.da.w=1;this.ua(0,this.ga);this.ua(1,this.Da);this.ua(2,this.$);this.ua(3,this.da)};Mm.prototype.lookAtRH=Mm.prototype.ql;
Mm.prototype.Hl=function(a,b,c,d){this.ha([2*c/a,0,0,0,0,2*c/b,0,0,0,0,d/(d-c),1,0,0,c*d/(c-d),0].slice())};Mm.prototype.perspectiveLH=Mm.prototype.Hl;Mm.prototype.Kl=function(a,b,c,d){this.ha([2*c/a,0,0,0,0,2*c/b,0,0,0,0,d/(c-d),-1,0,0,c*d/(c-d),0].slice())};Mm.prototype.perspectiveRH=Mm.prototype.Kl;Mm.prototype.gi=function(a,b,c,d){a=1/Math.tan(a/2);this.ha([a/b,0,0,0,0,a,0,0,0,0,d/(d-c),1,0,0,c*d/(c-d),0].slice())};Mm.prototype.perspectiveFieldOfViewLH=Mm.prototype.gi;
Mm.prototype.Gl=function(a,b,c,d){a=1/Math.tan(a/2);this.ha([a/b,0,0,0,0,a,0,0,0,0,d/(c-d),-1,0,0,c*d/(c-d),0].slice())};Mm.prototype.perspectiveFieldOfViewRH=Mm.prototype.Gl;Mm.prototype.Il=function(a,b,c,d,e,f){this.ha([2*e/(b-a),0,0,0,0,-2*e/(c-d),0,0,-1-2*a/(b-a),1+2*d/(c-d),-f/(e-f),1,0,0,e*f/(e-f),0].slice())};Mm.prototype.perspectiveOffCenterLH=Mm.prototype.Il;Mm.prototype.Jl=function(a,b,c,d,e,f){this.ha([2*e/(b-a),0,0,0,0,-2*e/(c-d),0,0,1+2*a/(b-a),-1-2*d/(c-d),f/(e-f),-1,0,0,e*f/(e-f),0].slice())};
Mm.prototype.perspectiveOffCenterRH=Mm.prototype.Jl;Mm.prototype.ei=function(a,b,c,d){this.ha([2/a,0,0,0,0,2/b,0,0,0,0,1/(d-c),0,0,0,c/(c-d),1].slice())};Mm.prototype.orthoLH=Mm.prototype.ei;Mm.prototype.El=function(a,b,c,d){this.ha([2/a,0,0,0,0,2/b,0,0,0,0,1/(c-d),0,0,0,c/(c-d),1].slice())};Mm.prototype.orthoRH=Mm.prototype.El;Mm.prototype.Cl=function(a,b,c,d,e,f){this.ha([2/(b-a),0,0,0,0,2/(d-c),0,0,0,0,1/(f-e),0,(a+b)/(a-b),(d+c)/(c-d),e/(e-f),1].slice())};Mm.prototype.orthoOffCenterLH=Mm.prototype.Cl;
Mm.prototype.Dl=function(a,b,c,d,e,f){this.ha([2/(b-a),0,0,0,0,2/(d-c),0,0,0,0,1/(e-f),0,(a+b)/(a-b),(d+c)/(c-d),e/(e-f),1].slice())};Mm.prototype.orthoOffCenterRH=Mm.prototype.Dl;function Nm(a,b,c){a.da.x=b.y*c.z-b.z*c.y;a.da.y=b.z*c.x-b.x*c.z;a.da.z=b.x*c.y-b.y*c.x;a.da.w=1;b.J(a.da)}Mm.prototype.g={names:[{name:'PerspectiveMatrix3D',h:Nd}]};r(Nd,Mm);function Om(){}Om.prototype.Id=p(!1);Om.prototype.pick=Om.prototype.Id;Om.prototype.g={names:[{name:'Picking',h:Hg}]};r(Hg,Om);function Pm(){}Pk(Pm,Om);
Pm.prototype.Id=function(a,b,c,d){d='undefined'!==typeof d?d:null;if(a.drawable){this.Uh=a.world2local;var e=this.Uh.Ef(b),f=this.Uh.yh(c),g=e.x,l=e.y,e=e.z,n=f.x,t=f.y,f=f.z,u=a.drawable.index.data;for(a=a.drawable.pos.data;i<len;i+=3){var v=3*u[i],G=3*u[i+1],E=3*u[i+2],A=a[v],K=a[v+1],J=a[v+2],O=a[G]-A,W=a[G+1]-K,ka=a[G+2]-J,G=a[E]-A,v=a[E+1]-K,pa=a[E+2]-J,ua=t*pa-f*v,Aa=f*G-n*pa,sa=n*v-t*G,E=O*ua+W*Aa+ka*sa;0<E?(A=g-A,K=l-K,J=e-J):(A-=g,K-=l,J-=e,E=-E);if(!(1E-4>E||(ua=A*ua+K*Aa+J*sa,0>ua||ua>
E||(Aa=K*ka-J*W,ka=J*O-A*ka,O=A*W-K*O,W=n*Aa+t*ka+f*O,0>W||ua+W>E))))return g=G*Aa+v*ka+pa*O,g*=1/E,d&&(d.x=b.x+g*c.x,d.y=b.y+g*c.y,d.z=b.z+g*c.z),!0}}return!1};Pm.prototype.pick=Pm.prototype.Id;Pm.prototype.g={names:[{name:'AS3Picking',h:Gg}]};r(Gg,Pm);function Qm(){}var Rm,Sm,Tm,S=[16,!0],Um=Math.PI/180,Vm=180/Math.PI,Wm=new H,Xm=new H,Ym=new H,Zm=new H,$m=new H,T=new H;function an(a,b){(b='undefined'!==typeof b?b:null)||(b=new H);a.A(0,b);return b}r('gl3d.util.Matrix3DUtils.getRight',an);function bn(a,b){(b='undefined'!==typeof b?b:null)||(b=new H);a.A(1,b);return b}r('gl3d.util.Matrix3DUtils.getUp',bn);function cn(a,b){(b='undefined'!==typeof b?b:null)||(b=new H);a.A(2,b);return b}r('gl3d.util.Matrix3DUtils.getDir',cn);
r('gl3d.util.Matrix3DUtils.getLeft',function(a,b){(b='undefined'!==typeof b?b:null)||(b=new H);a.A(0,b);b.Ed();return b});r('gl3d.util.Matrix3DUtils.getDown',function(a,b){(b='undefined'!==typeof b?b:null)||(b=new H);a.A(1,b);b.Ed();return b});r('gl3d.util.Matrix3DUtils.getBackward',function(a,b){(b='undefined'!==typeof b?b:null)||(b=new H);a.A(2,b);b.Ed();return b});r('gl3d.util.Matrix3DUtils.getPosition',function(a,b){(b='undefined'!==typeof b?b:null)||(b=new H);a.A(3,b);return b});
function dn(a,b){(b='undefined'!==typeof b?b:null)||(b=new H);a.A(0,Xm);a.A(1,Ym);a.A(2,Zm);b.x=Xm.length;b.y=Ym.length;b.z=Zm.length;return b}r('gl3d.util.Matrix3DUtils.getScale',dn);function en(a,b,c,d,e){e='undefined'!==typeof e?e:1;1==e?(Wm.qa(b,c,d),Wm.w=1,a.Y(3,Wm)):(a.A(3,T),T.x+=(b-T.x)*e,T.y+=(c-T.y)*e,T.z+=(d-T.z)*e,a.Y(3,T))}r('gl3d.util.Matrix3DUtils.setPosition',en);
function fn(a,b,c,d){c='undefined'!==typeof c?c:null;d='undefined'!==typeof d?d:1;dn(a,$m);null==c&&(c=0==b.x&&1==Math.abs(b.y)&&0==b.z?Wl:Vl);1!=d&&(cn(a,Zm),Zm.x+=(b.x-Zm.x)*d,Zm.y+=(b.y-Zm.y)*d,Zm.z+=(b.z-Zm.z)*d,b=Zm,bn(a,Ym),Ym.x+=(c.x-Ym.x)*d,Ym.y+=(c.y-Ym.y)*d,Ym.z+=(c.z-Ym.z)*d,c=Ym);b.normalize();c=c.Sb(b);c.normalize();d=b.Sb(c);c.wa($m.x);d.wa($m.y);b.wa($m.z);gn(a,c,d,b)}r('gl3d.util.Matrix3DUtils.setOrientation',fn);
r('gl3d.util.Matrix3DUtils.setNormalOrientation',function(a,b,c){c='undefined'!==typeof c?c:1;if(0!=b.x||0!=b.y||0!=b.z){dn(a,$m);cn(a,Zm);1!=c&&(bn(a,Ym),Ym.x+=(b.x-Ym.x)*c,Ym.y+=(b.y-Ym.y)*c,Ym.z+=(b.z-Ym.z)*c,b=Ym);b.normalize();c=1==Math.abs(Zm.Qa(b))?an(a,Xm):Zm;c=b.Sb(c);c.normalize();var d=c.Sb(b);c.wa($m.x);b.wa($m.y);d.wa($m.z);gn(a,c,b,d)}});function gn(a,b,c,d){b.w=0;c.w=0;d.w=0;a.Y(0,b);a.Y(1,c);a.Y(2,d)}
r('gl3d.util.Matrix3DUtils.lookAt',function(a,b,c,d,e,f){e='undefined'!==typeof e?e:null;f='undefined'!==typeof f?f:1;a.A(3,T);Wm.x=b-T.x;Wm.y=c-T.y;Wm.z=d-T.z;fn(a,Wm,e,f)});r('gl3d.util.Matrix3DUtils.setTranslation',function(a,b,c,d,e){b='undefined'!==typeof b?b:0;c='undefined'!==typeof c?c:0;d='undefined'!==typeof d?d:0;('undefined'!==typeof e?e:1)?a.ji(b,c,d):a.ld(b,c,d)});
r('gl3d.util.Matrix3DUtils.translateX',function(a,b,c){c='undefined'!==typeof c?c:!0;a.A(3,T);a.A(0,Xm);c?(T.x+=b*Xm.x,T.y+=b*Xm.y,T.z+=b*Xm.z):T.x+=b;a.Y(3,T)});r('gl3d.util.Matrix3DUtils.translateY',function(a,b,c){c='undefined'!==typeof c?c:!0;a.A(3,T);a.A(1,Ym);c?(T.x+=b*Ym.x,T.y+=b*Ym.y,T.z+=b*Ym.z):T.y+=b;a.Y(3,T)});r('gl3d.util.Matrix3DUtils.translateZ',function(a,b,c){c='undefined'!==typeof c?c:!0;a.A(3,T);a.A(2,Zm);c?(T.x+=b*Zm.x,T.y+=b*Zm.y,T.z+=b*Zm.z):T.z+=b;a.Y(3,T)});
r('gl3d.util.Matrix3DUtils.translateAxis',function(a,b,c){a.A(3,T);T.x+=b*c.x;T.y+=b*c.y;T.z+=b*c.z;a.Y(3,T)});function hn(a,b,c,d,e){e='undefined'!==typeof e?e:1;dn(a,$m);Rm=$m.x;Sm=$m.y;Tm=$m.z;$m.x+=(b-$m.x)*e;$m.y+=(c-$m.y)*e;$m.z+=(d-$m.z)*e;Xm.wa($m.x/Rm);Ym.wa($m.y/Sm);Zm.wa($m.z/Tm);gn(a,Xm,Ym,Zm)}r('gl3d.util.Matrix3DUtils.setScale',hn);function jn(a,b){a.A(0,Xm);Xm.normalize();Xm.x*=b;Xm.y*=b;Xm.z*=b;a.Y(0,Xm)}r('gl3d.util.Matrix3DUtils.scaleX',jn);
function kn(a,b){a.A(1,Ym);Ym.normalize();Ym.x*=b;Ym.y*=b;Ym.z*=b;a.Y(1,Ym)}r('gl3d.util.Matrix3DUtils.scaleY',kn);function ln(a,b){a.A(2,Zm);Zm.normalize();Zm.x*=b;Zm.y*=b;Zm.z*=b;a.Y(2,Zm)}r('gl3d.util.Matrix3DUtils.scaleZ',ln);function mn(a,b){b=('undefined'!==typeof b?b:null)||new H;Wm=a.we(ze)[1];b.x=Wm.x*Vm;b.y=Wm.y*Vm;b.z=Wm.z*Vm;return b}r('gl3d.util.Matrix3DUtils.getRotation',mn);function nn(a,b,c,d){var e=a.we(ze);e[1].x=b*Um;e[1].y=c*Um;e[1].z=d*Um;a.ri(e,ze)}
r('gl3d.util.Matrix3DUtils.setRotation',nn);r('gl3d.util.Matrix3DUtils.rotateX',function(a,b,c,d){d='undefined'!==typeof d?d:null;on(a,b,('undefined'!==typeof c?c:1)?an(a,Wm):Ul,d)});r('gl3d.util.Matrix3DUtils.rotateY',function(a,b,c,d){d='undefined'!==typeof d?d:null;on(a,b,('undefined'!==typeof c?c:1)?bn(a,Wm):Vl,d)});r('gl3d.util.Matrix3DUtils.rotateZ',function(a,b,c,d){d='undefined'!==typeof d?d:null;on(a,b,('undefined'!==typeof c?c:1)?cn(a,Wm):Wl,d)});
function on(a,b,c,d){d='undefined'!==typeof d?d:null;Wm.x=c.x;Wm.y=c.y;Wm.z=c.z;Wm.normalize();a.A(3,T);a.kd(b,Wm,d||T)}r('gl3d.util.Matrix3DUtils.rotateAxis',on);r('gl3d.util.Matrix3DUtils.transformVector',function(a,b,c){(c='undefined'!==typeof c?c:null)||(c=new H);var d=b.x,e=b.y;b=b.z;a.Nb(S);c.x=d*S[0]+e*S[4]+b*S[8]+S[12];c.y=d*S[1]+e*S[5]+b*S[9]+S[13];c.z=d*S[2]+e*S[6]+b*S[10]+S[14];return c});
r('gl3d.util.Matrix3DUtils.deltaTransformVector',function(a,b,c){(c='undefined'!==typeof c?c:null)||(c=new H);var d=b.x,e=b.y;b=b.z;a.Nb(S);c.x=d*S[0]+e*S[4]+b*S[8];c.y=d*S[1]+e*S[5]+b*S[9];c.z=d*S[2]+e*S[6]+b*S[10];return c});r('gl3d.util.Matrix3DUtils.invert',function(a,b){(b='undefined'!==typeof b?b:null)||(b=new I);b.J(a);b.Ta();return b});r('gl3d.util.Matrix3DUtils.equal',function(a,b){for(var c=a.rawData,d=b.rawData,e=0;16>e;){if(c[e]!=d[e])return!1;e++}return!0});var pn=new H,qn=new H;
r('gl3d.util.Matrix3DUtils.interpolateTo',function(a,b,c){a.Nb(S);Xm.x=S[0];Xm.y=S[1];Xm.z=S[2];Ym.x=S[4];Ym.y=S[5];Ym.z=S[6];Zm.x=S[8];Zm.y=S[9];Zm.z=S[10];pn.x=Xm.length;pn.y=Ym.length;pn.z=Zm.length;var d=1/pn.x,e=1/pn.y,f=1/pn.z;S[0]*=d;S[1]*=d;S[2]*=d;S[4]*=e;S[5]*=e;S[6]*=e;S[8]*=f;S[9]*=f;S[10]*=f;a.ha(S);b.Nb(S);Xm.x=S[0];Xm.y=S[1];Xm.z=S[2];Ym.x=S[4];Ym.y=S[5];Ym.z=S[6];Zm.x=S[8];Zm.y=S[9];Zm.z=S[10];qn.x=Xm.length;qn.y=Ym.length;qn.z=Zm.length;d=1/qn.x;e=1/qn.y;f=1/qn.z;S[0]*=d;S[1]*=d;
S[2]*=d;S[4]*=e;S[5]*=e;S[6]*=e;S[8]*=f;S[9]*=f;S[10]*=f;b.ha(S);a.Th(b,c);pn.x+=(qn.x-pn.x)*c;pn.y+=(qn.y-pn.y)*c;pn.z+=(qn.z-pn.z)*c;a.kf(pn.x,pn.y,pn.z);b.kf(qn.x,qn.y,qn.z)});r('gl3d.util.Matrix3DUtils.resetPosition',function(a){en(a,0,0,0)});r('gl3d.util.Matrix3DUtils.resetRotation',function(a){nn(a,0,0,0)});r('gl3d.util.Matrix3DUtils.resetScale',function(a){hn(a,1,1,1)});
r('gl3d.util.Matrix3DUtils.buildOrthoProjection',function(a,b,c,d,e,f,g){g='undefined'!==typeof g?g:null;var l=NaN,n=NaN,t=NaN;null==g&&(g=new I);l=2/(b-a);n=2/(d-c);t=1/(f-e);S[0]=l;S[5]=n;S[10]=t;S[12]=-.5*(b+a)*l;S[13]=-.5*(d+c)*n;S[14]=-e*t;S[1]=S[2]=S[4]=S[6]=S[8]=S[9]=S[3]=S[7]=S[11]=0;S[15]=1;g.ha(S);return g});
r('gl3d.util.Matrix3DUtils.decompose',function(a,b,c){b='undefined'!==typeof b?b:null;c='undefined'!==typeof c?c:null;null==b&&(b=ze);null==c&&(c=[new H,new H,new H].slice());a.Nb(S);c[0].qa(S[12],S[13],S[14]);a=c[2];a.x=Math.sqrt(S[0]*S[0]+S[1]*S[1]+S[2]*S[2]);a.y=Math.sqrt(S[4]*S[4]+S[5]*S[5]+S[6]*S[6]);a.z=Math.sqrt(S[8]*S[8]+S[9]*S[9]+S[10]*S[10]);0>S[0]*(S[5]*S[10]-S[6]*S[9])-S[1]*(S[4]*S[10]-S[6]*S[8])+S[2]*(S[4]*S[9]-S[5]*S[8])&&(a.z=-a.z);S[0]/=a.x;S[1]/=a.x;S[2]/=a.x;S[4]/=a.y;S[5]/=a.y;
S[6]/=a.y;S[8]/=a.z;S[9]/=a.z;S[10]/=a.z;a=c[1];switch(b){case zc:a.w=Math.acos((S[0]+S[5]+S[10]-1)/2);b=Math.sqrt((S[6]-S[9])*(S[6]-S[9])+(S[8]-S[2])*(S[8]-S[2])+(S[1]-S[4])*(S[1]-S[4]));0!=b?(a.x=(S[6]-S[9])/b,a.y=(S[8]-S[2])/b,a.z=(S[1]-S[4])/b):a.x=a.y=a.z=0;break;case Ai:b=S[0]+S[5]+S[10];0<b?(a.w=Math.sqrt(1+b)/2,a.x=(S[6]-S[9])/(4*a.w),a.y=(S[8]-S[2])/(4*a.w),a.z=(S[1]-S[4])/(4*a.w)):S[0]>S[5]&&S[0]>S[10]?(a.x=Math.sqrt(1+S[0]-S[5]-S[10])/2,a.w=(S[6]-S[9])/(4*a.x),a.y=(S[1]+S[4])/(4*a.x),a.z=
(S[8]+S[2])/(4*a.x)):S[5]>S[10]?(a.y=Math.sqrt(1+S[5]-S[0]-S[10])/2,a.x=(S[1]+S[4])/(4*a.y),a.w=(S[8]-S[2])/(4*a.y),a.z=(S[6]+S[9])/(4*a.y)):(a.z=Math.sqrt(1+S[10]-S[0]-S[5])/2,a.x=(S[8]+S[2])/(4*a.z),a.y=(S[6]+S[9])/(4*a.z),a.w=(S[1]-S[4])/(4*a.z));break;case ze:a.y=Math.asin(-S[2]),1!=S[2]&&-1!=S[2]?(a.x=Math.atan2(S[6],S[10]),a.z=Math.atan2(S[1],S[0])):(a.z=0,a.x=Math.atan2(S[4],S[5]))}return c});Qm.prototype.g={names:[{name:'Matrix3DUtils',h:Mg}]};r(Mg,Qm);function rn(a){this._world=new I;this._world2local=new I;this.L=new I;this.children=[];this.renderChildren=[];this.picking=new Pm;this.name='undefined'!==typeof a?a:null}rn.prototype.N=!0;rn.prototype.ze=!0;rn.prototype.visible=!0;rn.prototype.visible=rn.prototype.visible;var sn=new H;rn.prototype.fb=function(a){a.parent&&a.parent.removeChild(a);this.children.push(a);a.parent=this;if(a==this)throw pe;a.I(!0)};rn.prototype.addChild=rn.prototype.fb;
rn.prototype.removeChild=function(a){var b=this.children.indexOf(a);-1!=b&&this.children.splice(b,1);a.parent=null;a.I(!0)};rn.prototype.removeChild=rn.prototype.removeChild;rn.prototype.update=function(a,b){b='undefined'!==typeof b?b:null;if(this.controllers){var c=this.controllers,d;for(d in c){var e=c[d];e&&e.update(a.time)}}(b||this.material)&&(b||this.material).G(this,a);var c=this.renderChildren,f;for(f in c)c[f].update(a,b)};rn.prototype.update=rn.prototype.update;
rn.prototype.lm=function(a,b,c){nn(this.L,a,b,c);this.I(!0)};rn.prototype.setRotation=rn.prototype.lm;rn.prototype.tk=function(a,b){b='undefined'!==typeof b?b:null;null==b&&(b=new H);return b=mn(('undefined'!==typeof a?a:1)?this.L:this.world,b)};rn.prototype.getRotation=rn.prototype.tk;rn.prototype.I=function(a){if('undefined'!==typeof a&&a){a=this.children;for(var b in a)a[b].I(!0)}this.N=!0};rn.prototype.updateTransforms=rn.prototype.I;
rn.prototype.Nl=function(a,b,c){return this.picking?this.picking.Id(this,a,b,'undefined'!==typeof c?c:null):!1};rn.prototype.rayMeshTest=rn.prototype.Nl;rn.prototype.clone=function(a){a='undefined'!==typeof a?a:!1;var b=new rn;b.copyfrom=this;b.drawable=this.drawable;b.material=this.material;b.matrix=this.matrix.clone();b.skin=this.skin;var c=this.children,d;for(d in c){var e=c[d];e.type!=Ib&&b.fb(e.clone(a))}a&&this.drawable&&this.renderChildren.push(b);return b};rn.prototype.clone=rn.prototype.clone;
rn.prototype.D=h();rn.prototype.dispose=rn.prototype.D;
Object.defineProperties(rn.prototype,{x:{get:function(){this.L.A(3,sn);return sn.x},set:function(a){this.L.A(3,sn);sn.x=a;this.L.Y(3,sn);this.I(!0)}},y:{get:function(){this.L.A(3,sn);return sn.y},set:function(a){this.L.A(3,sn);sn.y=a;this.L.Y(3,sn);this.I(!0)}},z:{get:function(){this.L.A(3,sn);return sn.z},set:function(a){this.L.A(3,sn);sn.z=a;this.L.Y(3,sn);this.I(!0)}},scaleX:{get:function(){return an(this.L,sn).length},set:function(a){jn(this.L,a);this.I(!0)}},scaleY:{get:function(){return bn(this.L,
sn).length},set:function(a){kn(this.L,a);this.I(!0)}},scaleZ:{get:function(){return cn(this.L,sn).length},set:function(a){ln(this.L,a);this.I(!0)}},world:{get:function(){this.N&&(this.L.uh(this._world),this.parent&&this.parent.parent&&this._world.append(this.parent.world),this.N=!1,this.ze=!0);return this._world},set:function(a){this.L.J(a);this.parent&&this.L.append(this.parent.world2local);this.matrix=this.L}},world2local:{get:function(){if(this.N||this.ze)this._world2local.J(this.world),this._world2local.Ta(),
this.ze=!1;return this._world2local}},matrix:{get:m('L'),set:function(a){this.L=a;this.I(!0)}}});rn.prototype.g={names:[{name:'Node3D',h:tg}]};r(tg,rn);function tn(a){this.perspective=new Mm;rn.call(this,'undefined'!==typeof a?a:null)}Pk(tn,rn);tn.prototype.Pj=function(a,b,c,d,e,f,g){return this.sh((a-.5*c)/c*2,-(b-.5*d)/d*2,e,f,'undefined'!==typeof g?g:null)};tn.prototype.computePickRayDirectionMouse=tn.prototype.Pj;
tn.prototype.sh=function(a,b,c,d,e){e='undefined'!==typeof e?e:null;a=new H(a,b,0);b=this.perspective.clone();b.Ta();b.append(this.world);a=b.Ef(a);a.ki();null!=e&&e.qa(a.x,a.y,a.z);c.qa(this.x,this.y,this.z);d.qa(a.x-this.x,a.y-this.y,a.z-this.z);d.normalize()};tn.prototype.computePickRayDirection=tn.prototype.sh;tn.prototype.g={names:[{name:'Camera3D',h:ng}]};r(ng,tn);function un(){Kl.call(this)}Pk(un,Kl);r('flash.media.Camera.getCamera',p(null));un.prototype.cm=h();un.prototype.setCursor=un.prototype.cm;un.prototype.dm=h();un.prototype.setKeyFrameInterval=un.prototype.dm;un.prototype.em=h();un.prototype.setLoopback=un.prototype.em;un.prototype.fm=h();un.prototype.setMode=un.prototype.fm;un.prototype.gm=h();un.prototype.setMotionLevel=un.prototype.gm;un.prototype.km=h();un.prototype.setQuality=un.prototype.km;un.prototype.tb=h();un.prototype.drawToBitmapData=un.prototype.tb;
un.prototype.Uj=h();un.prototype.copyToByteArray=un.prototype.Uj;un.prototype.Vj=h();un.prototype.copyToVector=un.prototype.Vj;Object.defineProperties(un.prototype,{activityLevel:{get:p(0)},bandwidth:{get:p(0)},currentFPS:{get:p(0)},fps:{get:p(0)},height:{get:p(0)},index:{get:p(0)},keyFrameInterval:{get:p(0)},loopback:{get:p(!1)},motionLevel:{get:p(0)},motionTimeout:{get:p(0)},muted:{get:p(!1)},name:{get:p(null)},position:{get:p(null)},quality:{get:p(0)},width:{get:p(0)}});
Object.defineProperties(un,{names:{get:p(null)},isSupported:{get:p(!1)}});un.prototype.g={names:[{name:'Camera',h:Rf}]};r(Rf,un);function vn(){}function wn(a){for(var b=1;b<a;)b*=2;return b}r('gl3d.util.MathUtil.getNextPow2',wn);vn.prototype.g={names:[{name:'MathUtil',h:Lg}]};r(Lg,vn);function xn(a,b,c,d,e,f,g){a='undefined'!==typeof a?a:null;this.repeat='undefined'!==typeof c?c:!0;this.filter='undefined'!==typeof g?g:qh;this.async='undefined'!==typeof f?f:!0;this.mipmap='undefined'!==typeof e?e:!0;this.Ic='undefined'!==typeof d?d:!1;this.ib=x(a,Array);this.isRect='undefined'!==typeof b?b:!1;this.data=a;this.Kf(null,!1);x(a,String)&&(this.ready=!1);x(a,un)&&(this.Bd=!0,this.ready=!1)}xn.prototype.m=!0;xn.prototype.invalid=xn.prototype.m;xn.prototype.S=!0;
xn.prototype.dataInvalid=xn.prototype.S;xn.prototype.ib=!1;xn.prototype.isCube=xn.prototype.ib;xn.prototype.Bd=!1;xn.prototype.isCamera=xn.prototype.Bd;xn.prototype.ready=!0;xn.prototype.ready=xn.prototype.ready;xn.prototype.Yi=function(a){var b=w(this.data,D);b&&(null==this.texture&&(this.texture=a.Qb(b.width,b.height,Gc,this.Ic)),this.S&&(this.Ia(this.texture,b,0),this.S=!1))};xn.prototype.updateRect=xn.prototype.Yi;
xn.prototype.Lf=function(a,b,c,d,e){e='undefined'!==typeof e?e:0;this.width=a;this.height=b;var f,g=0;if(a!=c.width||b!=c.height)f=c,c=new D(a,b,f.transparent,0),c.G(f,new z(a/f.width,0,0,b/f.height),null,null,null,!0);for(;0<a||0<b;){if(0==g){if(this.Ia(d,c,e,g),!this.mipmap)break}else f=new D(Math.max(a,1),Math.max(b,1),c.transparent,0),f.G(c,new z(f.width/c.width,0,0,f.height/c.height)),this.Ia(d,f,e,g),f.D();g++;a/=2;b/=2}};xn.prototype.updateBMDTexture=xn.prototype.Lf;
xn.prototype.Ia=function(a,b,c,d){d='undefined'!==typeof d?d:0;b=new L;b.endian=rh;x(a,Pl)?w(a,Pl).ra(b,0,d):x(a,Nl)?w(a,Nl).ra(b,0,c,d):x(a,Ol)&&w(a,Ol).ra(b,0)};xn.prototype.Wi=function(a){var b=w(this.data,D);if(this.data){if(null==this.texture){var c=wn(b.width),d=wn(b.height);this.texture=a.createTexture(c,d,Gc,this.Ic)}this.S&&(this.Lf(c,d,b,this.texture),this.S=!1)}};xn.prototype.updateBMD=xn.prototype.Wi;
xn.prototype.Xi=function(a){var b=w(this.data,Array);if(b&&(w(this.texture,Nl),this.S)){for(var c=0;6>c;c++){var d=b[c],e=wn(Math.max(d.width,d.height));null==this.texture&&(this.texture=a.Ob(e,Gc,this.Ic));this.Lf(e,e,d,this.texture,c)}this.S=!1}};xn.prototype.updateBMDs=xn.prototype.Xi;xn.prototype.Zi=function(a){w(this.data,un)&&F.supportsVideoTexture&&null==this.texture&&(this.texture=w(a.wc(),Ml),this.texture.addEventListener(xj,y(this.Dm,this,vk)))};xn.prototype.updateVideo=xn.prototype.Zi;
xn.prototype.Dm=function(){this.ready=!0};
xn.prototype.Kf=function(a,b){function c(){d.ready=!0}var d=this;b='undefined'!==typeof b?b:!0;var e=w(this.data,L);if(e){e.position=0;var f=e.bc(3);if(f!=Cb)throw'ATF parsing error, unknown format '+f;e.position=255==e[6]?12:6;var f=e.Nc(),g=null;switch(f&127){case 0:case 1:g=Gc;break;case 2:case 3:case 12:g=Od;this.isDXT1=!0;break;case 4:case 5:case 13:g=Pd;this.isDXT5=!0;break;default:throw'Invalid ATF format';}switch(f>>7){case 0:this.ib=!1;break;case 1:this.ib=!0}this.width=Vk(Math.pow(2,this.data.Nc()));
this.height=Vk(Math.pow(2,this.data.Nc()));this.data.Nc();b&&(null==this.texture&&(this.texture=this.ib?a.Ob(this.width,g,this.Ic,0):a.createTexture(this.width,this.height,g,this.Ic,0)),this.S&&(this.ib?w(this.texture,Nl).$c(e,0,this.async):w(this.texture,Pl).$c(e,0,this.async),this.ready=!this.async,this.async&&w(this.texture,Pl).addEventListener(xj,c),this.S=!1))}};xn.prototype.updateATF=xn.prototype.Kf;
xn.prototype.update=function(a){a=a.renderer.gl3d;if(this.m||this.context!=a)null!=this.texture&&this.texture.D(),this.texture=null,this.S=!0,this.m=!1,this.context=a;this.isRect?this.Yi(a):x(this.data,Array)?this.Xi(a):x(this.data,D)?this.Wi(a):x(this.data,L)?this.Kf(a):x(this.data,un)&&this.Zi(a)};xn.prototype.update=xn.prototype.update;xn.prototype.bind=function(a,b){a.hc(b,this.texture)};xn.prototype.bind=xn.prototype.bind;
Object.defineProperties(xn.prototype,{flags:{get:function(){var a=[];this.mipmap&&!this.Bd&&a.push(zh);this.ib&&a.push(Yd);!this.repeat||this.ib||this.isRect||this.Bd||a.push(Di);this.isDXT1?a.push(ie):this.isDXT5&&a.push(je);this.filter&&a.push(this.filter);return a}}});xn.prototype.g={names:[{name:'TextureSet',h:vg}]};r(vg,xn);function yn(a,b){a='undefined'!==typeof a?a:DISTANT;b='undefined'!==typeof b?b:ph;this.color=new H(1,1,1,1);this.shadowMap=new xn;this.gd=new tn;this.innerConeAngle=Math.PI/6;this.outerConeAngle=Math.PI/3;this.lightType=a;rn.call(this,b)}Pk(yn,rn);r('gl3d.core.Light.AMBIENT',0);r('gl3d.core.Light.DISTANT',1);r('gl3d.core.Light.POINT',2);r('gl3d.core.Light.SPOT',3);yn.prototype.Rd=!1;yn.prototype.shadowMapEnabled=yn.prototype.Rd;yn.prototype.xf=512;yn.prototype.shadowMapSize=yn.prototype.xf;
yn.prototype.zc=10;yn.prototype.distance=yn.prototype.zc;yn.prototype.D=function(){yn.Z.D.call(this);this.shadowMap&&this.shadowMap.texture&&this.shadowMap.texture.D()};yn.prototype.dispose=yn.prototype.D;Object.defineProperties(yn.prototype,{shadowCamera:{get:function(){this.gd.matrix.hi(new H(this.x,this.y,this.z),Wl,new H(0,-1,0));this.gd.I();this.gd.perspective.ei(10,10,-5,5);return this.gd}}});yn.prototype.g={names:[{name:'Light',h:qg}]};r(qg,yn);function U(a){this.shader=a}U.prototype.zh=function(a,b,c){a=w(this[a],Function);return null!=a?a(b,c):null};U.prototype.doop=U.prototype.zh;U.prototype.hb=function(a,b,c){for(var d=[],e=Math.max(a.data.length,b.data.length),f=0;f<e;f++)d[f]=c(a.data[f%a.data.length],b.data[f%b.data.length]);return this.shader.Fd(d)};U.prototype.i_doop1=U.prototype.hb;U.prototype.B=function(){throw Xh;};U.prototype.mov=U.prototype.B;U.prototype.add=function(a,b){return this.hb(a,b,y(this.Lh,this,Rg))};
U.prototype.add=U.prototype.add;U.prototype.sub=function(a,b){return this.hb(a,b,y(this.Rh,this,Xg))};U.prototype.sub=U.prototype.sub;U.prototype.v=function(a,b){return this.hb(a,b,y(this.Ph,this,Vg))};U.prototype.mul=U.prototype.v;U.prototype.ia=function(a,b){return this.hb(a,b,y(this.Mh,this,Sg))};U.prototype.div=U.prototype.ia;U.prototype.Mc=function(){throw Xh;};U.prototype.rcp=U.prototype.Mc;U.prototype.min=function(a,b){return this.hb(a,b,y(this.Oh,this,Ug))};U.prototype.min=U.prototype.min;
U.prototype.max=function(a,b){return this.hb(a,b,y(this.Nh,this,Tg))};U.prototype.max=U.prototype.max;U.prototype.Dc=function(){throw Xh;};U.prototype.frc=U.prototype.Dc;U.prototype.Tc=function(){throw Xh;};U.prototype.sqt=U.prototype.Tc;U.prototype.pf=function(){throw Xh;};U.prototype.rsq=U.prototype.pf;U.prototype.pow=function(a,b){return this.hb(a,b,y(this.Qh,this,Wg))};U.prototype.pow=U.prototype.pow;U.prototype.log=function(){throw Xh;};U.prototype.log=U.prototype.log;
U.prototype.exp=function(){throw Xh;};U.prototype.exp=U.prototype.exp;U.prototype.ba=function(){throw Xh;};U.prototype.nrm=U.prototype.ba;U.prototype.sin=function(){throw Xh;};U.prototype.sin=U.prototype.sin;U.prototype.cos=function(){throw Xh;};U.prototype.cos=U.prototype.cos;U.prototype.Tb=function(){throw Xh;};U.prototype.crs=U.prototype.Tb;U.prototype.ma=function(){throw Xh;};U.prototype.dp3=U.prototype.ma;U.prototype.Ce=function(){throw Xh;};U.prototype.dp4=U.prototype.Ce;
U.prototype.abs=function(){throw Xh;};U.prototype.abs=U.prototype.abs;U.prototype.Hc=function(){throw Xh;};U.prototype.neg=U.prototype.Hc;U.prototype.Ga=function(){throw Xh;};U.prototype.sat=U.prototype.Ga;U.prototype.m33=function(){throw Xh;};U.prototype.m33=U.prototype.m33;U.prototype.m44=function(){throw Xh;};U.prototype.m44=U.prototype.m44;U.prototype.m34=function(){throw Xh;};U.prototype.m34=U.prototype.m34;U.prototype.Oe=function(){throw Xh;};U.prototype.ife=U.prototype.Oe;
U.prototype.Re=function(){throw Xh;};U.prototype.ine=U.prototype.Re;U.prototype.Pe=function(){throw Xh;};U.prototype.ifg=U.prototype.Pe;U.prototype.Qe=function(){throw Xh;};U.prototype.ifl=U.prototype.Qe;U.prototype.Fe=function(){throw Xh;};U.prototype.els=U.prototype.Fe;U.prototype.De=function(){throw Xh;};U.prototype.eif=U.prototype.De;U.prototype.Bf=function(){throw Xh;};U.prototype.ted=U.prototype.Bf;U.prototype.vf=function(){throw Xh;};U.prototype.sge=U.prototype.vf;
U.prototype.Sd=function(){throw Xh;};U.prototype.slt=U.prototype.Sd;U.prototype.wf=function(){throw Xh;};U.prototype.sgn=U.prototype.wf;U.prototype.Kd=function(){throw Xh;};U.prototype.seq=U.prototype.Kd;U.prototype.Ud=function(){throw Xh;};U.prototype.sne=U.prototype.Ud;U.prototype.Qk=p(0);U.prototype.i_mov=U.prototype.Qk;U.prototype.Lh=function(a,b){return a+b};U.prototype.i_add=U.prototype.Lh;U.prototype.Rh=function(a,b){return a-b};U.prototype.i_sub=U.prototype.Rh;
U.prototype.Ph=function(a,b){return a*b};U.prototype.i_mul=U.prototype.Ph;U.prototype.Mh=function(a,b){return a/b};U.prototype.i_div=U.prototype.Mh;U.prototype.Tk=function(a){return 1/a};U.prototype.i_rcp=U.prototype.Tk;U.prototype.Oh=function(a,b){return Math.min(a,b)};U.prototype.i_min=U.prototype.Oh;U.prototype.Nh=function(a,b){return Math.max(a,b)};U.prototype.i_max=U.prototype.Nh;U.prototype.Hk=p(0);U.prototype.i_frc=U.prototype.Hk;U.prototype.bl=p(0);U.prototype.i_sqt=U.prototype.bl;
U.prototype.Uk=p(0);U.prototype.i_rsq=U.prototype.Uk;U.prototype.Qh=function(a,b){return Math.pow(a,b)};U.prototype.i_pow=U.prototype.Qh;U.prototype.Mk=p(0);U.prototype.i_log=U.prototype.Mk;U.prototype.Gk=p(0);U.prototype.i_exp=U.prototype.Gk;U.prototype.Sk=p(0);U.prototype.i_nrm=U.prototype.Sk;U.prototype.Zk=p(0);U.prototype.i_sin=U.prototype.Zk;U.prototype.Ak=p(0);U.prototype.i_cos=U.prototype.Ak;U.prototype.Bk=p(0);U.prototype.i_crs=U.prototype.Bk;U.prototype.Ck=p(0);U.prototype.i_dp3=U.prototype.Ck;
U.prototype.Dk=p(0);U.prototype.i_dp4=U.prototype.Dk;U.prototype.zk=p(0);U.prototype.i_abs=U.prototype.zk;U.prototype.Rk=p(0);U.prototype.i_neg=U.prototype.Rk;U.prototype.Vk=p(0);U.prototype.i_sat=U.prototype.Vk;U.prototype.Nk=p(0);U.prototype.i_m33=U.prototype.Nk;U.prototype.Pk=p(0);U.prototype.i_m44=U.prototype.Pk;U.prototype.Ok=p(0);U.prototype.i_m34=U.prototype.Ok;U.prototype.Ik=p(0);U.prototype.i_ife=U.prototype.Ik;U.prototype.Lk=p(0);U.prototype.i_ine=U.prototype.Lk;U.prototype.Jk=p(0);
U.prototype.i_ifg=U.prototype.Jk;U.prototype.Kk=p(0);U.prototype.i_ifl=U.prototype.Kk;U.prototype.Fk=p(0);U.prototype.i_els=U.prototype.Fk;U.prototype.Ek=p(0);U.prototype.i_eif=U.prototype.Ek;U.prototype.cl=p(0);U.prototype.i_ted=U.prototype.cl;U.prototype.Xk=p(0);U.prototype.i_sge=U.prototype.Xk;U.prototype.$k=p(0);U.prototype.i_slt=U.prototype.$k;U.prototype.Yk=p(0);U.prototype.i_sgn=U.prototype.Yk;U.prototype.Wk=p(0);U.prototype.i_seq=U.prototype.Wk;U.prototype.al=p(0);U.prototype.i_sne=U.prototype.al;
U.prototype.g={names:[{name:'NativeOp',h:vc}]};r(vc,U);function V(a,b){a='undefined'!==typeof a?a:Context3DProgramType.mj;this.lines=[];this.logs={};this.creator=('undefined'!==typeof b?b:null)||new Dm;this.programType=a;this.Al=new U(this)}q=V.prototype;q.Cf=0;q.Gf=0;q.qf=0;q.qe=0;q.Of=0;q.Oa=0;V.prototype.constMemLen=V.prototype.Oa;V.prototype.m=!0;V.prototype.invalid=V.prototype.m;V.prototype.clear=function(){this.lines=[];this.Oa=this.Of=this.qe=this.qf=this.Gf=this.Cf=0};V.prototype.clear=V.prototype.clear;V.prototype.Lb=h();V.prototype.build=V.prototype.Lb;
V.prototype.di=function(){var a=[],b=[],c=[],d=[];this.uniforms=[];this.samplers=[];this.buffs=[];this.varyings=[];for(var e=0;e<this.lines.length;e++)for(var f=this.lines[e],g=f.length,l=1;l<g;l++){var n=f[l];zn(this,n,e,a,b,c);x(n.component,Bm)&&zn(this,w(n.component,Bm),e,a,b,c)}this.Gf&&(this.uniforms=this.Jc(this.uniforms,this.Jf));var e=this.uniforms,t;for(t in e)n=e[t],n=n.index+n.Na,n>this.Oa&&(this.Oa=n);this.programType==cg&&this.qf&&(this.samplers=this.Jc(this.samplers,this.rf));this.programType==
kk&&this.qe&&(this.buffs=this.Jc(this.buffs,this.se));this.programType==kk&&this.Of&&(this.varyings=this.Jc(this.varyings,this.Pf));g=a.length;for(e=1;e<g;e++)if(t=a[e])for(n=t[0],l=0;l<e;l++)if((f=a[l])&&n>f[1]){var u=b[e],v;for(v in u)n=u[v],n.index=l;f[1]=t[1];t[0]=0;t[1]=0;break}for(var G in c){n=c[G];a=w(n.data,Array);v=b=a.length;g=!1;if(4>=b)for(e=0;e<d.length;e+=4){for(l=0;l<=4-b;l++){for(var g=!0,E=0;E<b;E++)if(a[E]!=d[e+l+E]){g=!1;break}if(g)break}if(g)break}if(g){if(n.index=(e/4>>0)+this.Oa,
0<e%4||4!=v)n.component='xyzw'.substr((e+l+E-b)%4,b)}else{4<v&&(v=4);for(g=d.length;;){t=g%4;if(4>=t+v)break;g++}for(E=0;E<b;E++)d[E+g]=a[E];n.index=(g/4>>0)+this.Oa;if(0<t||4!=v)n.component='xyzw'.substr(t,b)}}for(;0!=d.length%4;)d.push(0);this.constPoolVec=d.slice()};V.prototype.optimize=V.prototype.di;
function zn(a,b,c,d,e,f){2==b.type?(a=d[b.index],null==a&&(a=d[b.index]=[c,c]),a[1]=c,c=e[b.index],null==c&&(c=e[b.index]=[]),c.push(b)):1==b.type?-1!=b.index?a.uniforms.push(b):f.push(b):5==b.type?a.samplers.push(b):3==b.type?a.buffs.push(b):4==b.type&&a.varyings.push(b)}
V.prototype.Jc=function(a,b){var c={},d=[],e={},f=0,g;for(g in a){var l=a[g];null==c[l.index]&&(c[l.index]=[],d.push(l),e[l.index]=f,f+=l.Na);c[l.index].push(l)}for(var n in b)l=b[n],c[l.index]&&c[l.index].push(l);for(var t in c){f=e[t];g=c[t];for(var u in g)l=g[u],l.index=f,l.o=!0}return d};V.prototype.optimizeVar=V.prototype.Jc;V.prototype.od=function(){var a=new Bm(2,this.Cf);this.Cf++;return a};V.prototype.createTempVar=V.prototype.od;
function An(a,b,c){c='undefined'!==typeof c?c:1;a=a.Yd(-1);a.data=b;a.Na=c;4>b.length&&(a.component='xyzw'.substr(0,b.length));return a}function Bn(a,b){var c=a.Yd(a.Gf++,'undefined'!==typeof b?b:1);a.Jf=a.Jf||[];a.Jf.push(c);return c}V.prototype.ka=function(){return Bn(this)};V.prototype.uniform=V.prototype.ka;V.prototype.matrix=function(){return Bn(this,4)};V.prototype.matrix=V.prototype.matrix;V.prototype.tl=function(){return Bn(this,3)};V.prototype.matrix34=V.prototype.tl;
V.prototype.Bh=function(a){return Bn(this,a)};V.prototype.floatArray=V.prototype.Bh;V.prototype.bi=function(a){return Bn(this,4*a)};V.prototype.matrixArray=V.prototype.bi;V.prototype.ul=function(a){return Bn(this,3*a)};V.prototype.matrix34Array=V.prototype.ul;V.prototype.buff=function(){var a=this.Vf(this.qe++);this.se=this.se||[];this.se.push(a);return a};V.prototype.buff=V.prototype.buff;V.prototype.Cb=function(){var a=this.Tf(this.qf++);this.rf=this.rf||[];this.rf.push(a);return a};
V.prototype.sampler=V.prototype.Cb;V.prototype.za=function(){var a=this.Uf(this.Of++);this.Pf=this.Pf||[];this.Pf.push(a);return a};V.prototype.varying=V.prototype.za;V.prototype.debug=function(a){this.logs[this.lines.length]=this.logs[this.lines.length]||[];this.logs[this.lines.length].push(a)};V.prototype.debug=V.prototype.debug;
V.prototype.f=function(a,b,c,d,e,f,g){b='undefined'!==typeof b?b:null;c='undefined'!==typeof c?c:null;d='undefined'!==typeof d?d:null;e='undefined'!==typeof e?e:null;f='undefined'!==typeof f?f:3;g='undefined'!==typeof g?g:null;var l=[a];if(null!=b){var n=this.Fd(b);l.push(n)}if(null!=c){var t=this.Fd(c);l.push(t)}if(n&&t&&1==n.type&&1==t.type)return this.Al.zh(a,n,t);if(1<f)var u=d||this.od();g&&(u=u.c(g));u&&l.splice(1,0,u);l.flag=e;this.lines.push(l);return u};V.prototype.f=V.prototype.f;
V.prototype.Fd=function(a){return x(a,Bm)?w(a,Bm):this.Sf(a)};V.prototype.object2Var=V.prototype.Fd;V.prototype.ub=function(a,b,c){c='undefined'!==typeof c?c:null;if(0==b.length)return c;if(1==b.length)return this.B(b[0],c);for(var d=b[0],e=1;e<b.length-1;e++)d=this.f(a,d,b[e]);return this.f(a,d,b[b.length-1],c)};V.prototype.f2=V.prototype.ub;V.prototype.zc=function(a,b,c,d){c='undefined'!==typeof c?c:2;d='undefined'!==typeof d?d:null;return this.length(this.sub(a,b),c,d)};V.prototype.distance=V.prototype.zc;
V.prototype.length=function(a,b,c){b='undefined'!==typeof b?b:2;c='undefined'!==typeof c?c:null;a=this.v(a,a);var d=[a.x,a.y];2<b&&d.push(a.z);3<b&&d.push(a.w);return this.Tc(this.le(d),c)};V.prototype.length=V.prototype.length;V.prototype.atan=function(a,b){b='undefined'!==typeof b?b:null;return this.ia(this.v(Math.PI/2,a),this.add(1,this.abs(a)),b)};V.prototype.atan=V.prototype.atan;
V.prototype.atan2=function(a,b,c){c='undefined'!==typeof c?c:null;return this.v(2,this.atan(this.ia(a,this.add(this.Tc(this.add(this.v(b,b),this.v(a,a))),b))),c)};V.prototype.atan2=V.prototype.atan2;V.prototype.yf=function(a,b,c,d){d='undefined'!==typeof d?d:null;a=this.Ga(this.ia(this.sub(c,a),this.sub(b,a)));return this.Yb([a,a,this.sub(3,this.v(2,a))],d)};V.prototype.smoothstep=V.prototype.yf;
V.prototype.ef=function(a,b,c,d){d='undefined'!==typeof d?d:null;return this.add(a,this.v(c,this.sub(b,a)),d)};V.prototype.mix=V.prototype.ef;V.prototype.yl=function(a,b,c){c='undefined'!==typeof c?c:null;a=this.ia(a,b);return this.v(this.Dc(a),b,c)};V.prototype.mod=V.prototype.yl;V.prototype.Ie=function(a,b){b='undefined'!==typeof b?b:null;return this.add(this.abs(this.wh(a)),this.abs(this.xh(a)),b)};V.prototype.fwidth=V.prototype.Ie;
V.prototype.dj=function(a,b,c){c=('undefined'!==typeof c?c:null)||this.od();this.B(a,c.x);this.B(b,c.y);return c};V.prototype.vec2=V.prototype.dj;V.prototype.ej=function(a,b,c,d){d=this.dj(a,b,'undefined'!==typeof d?d:null);this.B(c,d.z);return d};V.prototype.vec3=V.prototype.ej;V.prototype.Cm=function(a,b,c,d,e){e=this.ej(a,b,c,'undefined'!==typeof e?e:null);this.B(d,e.w);return e};V.prototype.vec4=V.prototype.Cm;V.prototype.Yb=function(a,b){return this.ub(Rh,a,'undefined'!==typeof b?b:null)};
V.prototype.mul2=V.prototype.Yb;V.prototype.le=function(a,b){return this.ub(ec,a,'undefined'!==typeof b?b:null)};V.prototype.add2=V.prototype.le;V.prototype.um=function(a,b){return this.ub(sj,a,'undefined'!==typeof b?b:null)};V.prototype.sub2=V.prototype.um;V.prototype.bk=function(a,b){return this.ub(de,a,'undefined'!==typeof b?b:null)};V.prototype.div2=V.prototype.bk;V.prototype.vl=function(a,b){return this.ub(xh,a,'undefined'!==typeof b?b:null)};V.prototype.max2=V.prototype.vl;
V.prototype.xl=function(a,b){return this.ub(yh,a,'undefined'!==typeof b?b:null)};V.prototype.min2=V.prototype.xl;V.prototype.Nj=function(a,b,c,d){d='undefined'!==typeof d?d:null;return this.min(c,this.max(a,b),d)};V.prototype.clamp=V.prototype.Nj;V.prototype.floor=function(a,b){b='undefined'!==typeof b?b:null;return this.sub(a,this.Dc(a),b)};V.prototype.floor=V.prototype.floor;
V.prototype.Sf=function(a,b){b='undefined'!==typeof b?b:1;return x(a,Number)||x(a,Number)||x(a,Number)?An(this,[a],b):x(a,Array)&&4<=a.length?An(this,[a[0],a[1],a[2],a[3]],b):An(this,a,b)};V.prototype.F=V.prototype.Sf;V.prototype.kj=function(a){return An(this,a,4)};V.prototype.M=V.prototype.kj;V.prototype.Yd=function(a,b){b='undefined'!==typeof b?b:1;var c=new Bm(1,'undefined'!==typeof a?a:0);c.Na=b;return c};V.prototype.C=V.prototype.Yd;
V.prototype.lj=function(a){return new Bm(2,'undefined'!==typeof a?a:0)};V.prototype.T=V.prototype.lj;V.prototype.Vf=function(a){return new Bm(3,'undefined'!==typeof a?a:0)};V.prototype.VA=V.prototype.Vf;V.prototype.Uf=function(a){return new Bm(4,'undefined'!==typeof a?a:0)};V.prototype.V=V.prototype.Uf;V.prototype.Tf=function(a){return new Bm(5,'undefined'!==typeof a?a:0)};V.prototype.FS=V.prototype.Tf;V.prototype.B=function(a,b){return this.f(Qh,a,null,'undefined'!==typeof b?b:null)};
V.prototype.mov=V.prototype.B;V.prototype.add=function(a,b,c){return this.f(ec,a,b,'undefined'!==typeof c?c:null)};V.prototype.add=V.prototype.add;V.prototype.sub=function(a,b,c){return this.f(sj,a,b,'undefined'!==typeof c?c:null)};V.prototype.sub=V.prototype.sub;V.prototype.v=function(a,b,c){return this.f(Rh,a,b,'undefined'!==typeof c?c:null)};V.prototype.mul=V.prototype.v;V.prototype.ia=function(a,b,c){return this.f(de,a,b,'undefined'!==typeof c?c:null)};V.prototype.div=V.prototype.ia;
V.prototype.Mc=function(a,b){return this.f(Bi,a,null,'undefined'!==typeof b?b:null)};V.prototype.rcp=V.prototype.Mc;V.prototype.min=function(a,b,c){return this.f(yh,a,b,'undefined'!==typeof c?c:null)};V.prototype.min=V.prototype.min;V.prototype.max=function(a,b,c){return this.f(xh,a,b,'undefined'!==typeof c?c:null)};V.prototype.max=V.prototype.max;V.prototype.Dc=function(a,b){return this.f(gg,a,null,'undefined'!==typeof b?b:null)};V.prototype.frc=V.prototype.Dc;
V.prototype.Tc=function(a,b){return this.f(hj,a,null,'undefined'!==typeof b?b:null)};V.prototype.sqt=V.prototype.Tc;V.prototype.pf=function(a,b){return this.f(Mi,a,null,'undefined'!==typeof b?b:null)};V.prototype.rsq=V.prototype.pf;V.prototype.pow=function(a,b,c){return this.f(vi,a,b,'undefined'!==typeof c?c:null)};V.prototype.pow=V.prototype.pow;V.prototype.log=function(a,b){return this.f(sh,a,null,'undefined'!==typeof b?b:null)};V.prototype.log=V.prototype.log;
V.prototype.exp=function(a,b){return this.f(Ce,a,null,'undefined'!==typeof b?b:null)};V.prototype.exp=V.prototype.exp;V.prototype.ba=function(a,b,c){return this.f(ei,a,null,'undefined'!==typeof b?b:null,null,3,('undefined'!==typeof c?c:null)||Ek)};V.prototype.nrm=V.prototype.ba;V.prototype.sin=function(a,b){return this.f(Xi,a,null,'undefined'!==typeof b?b:null)};V.prototype.sin=V.prototype.sin;V.prototype.cos=function(a,b){return this.f(Vd,a,null,'undefined'!==typeof b?b:null)};V.prototype.cos=V.prototype.cos;
V.prototype.Tb=function(a,b,c,d){return this.f(Xd,a,b,'undefined'!==typeof c?c:null,null,3,('undefined'!==typeof d?d:null)||Ek)};V.prototype.crs=V.prototype.Tb;V.prototype.ma=function(a,b,c){return this.f(ge,a,b,'undefined'!==typeof c?c:null)};V.prototype.dp3=V.prototype.ma;V.prototype.Ce=function(a,b,c){return this.f(he,a,b,'undefined'!==typeof c?c:null)};V.prototype.dp4=V.prototype.Ce;V.prototype.abs=function(a,b){return this.f(cc,a,null,'undefined'!==typeof b?b:null)};V.prototype.abs=V.prototype.abs;
V.prototype.Hc=function(a,b){return this.f(Vh,a,null,'undefined'!==typeof b?b:null)};V.prototype.neg=V.prototype.Hc;V.prototype.Ga=function(a,b){return this.f(Pi,a,null,'undefined'!==typeof b?b:null)};V.prototype.sat=V.prototype.Ga;V.prototype.m33=function(a,b,c,d){return this.f(th,a,b,'undefined'!==typeof c?c:null,null,3,('undefined'!==typeof d?d:null)||Ek)};V.prototype.m33=V.prototype.m33;V.prototype.m44=function(a,b,c){return this.f(vh,a,b,'undefined'!==typeof c?c:null)};V.prototype.m44=V.prototype.m44;
V.prototype.m34=function(a,b,c,d){return this.f(uh,a,b,'undefined'!==typeof c?c:null,null,3,('undefined'!==typeof d?d:null)||Ek)};V.prototype.m34=V.prototype.m34;V.prototype.wh=function(a,b){return this.f($d,a,null,'undefined'!==typeof b?b:null)};V.prototype.ddx=V.prototype.wh;V.prototype.xh=function(a,b){return this.f(ae,a,null,'undefined'!==typeof b?b:null)};V.prototype.ddy=V.prototype.xh;V.prototype.Oe=function(a,b,c){return this.f(Yg,a,b,'undefined'!==typeof c?c:null)};V.prototype.ife=V.prototype.Oe;
V.prototype.Re=function(a,b,c){return this.f(bh,a,b,'undefined'!==typeof c?c:null)};V.prototype.ine=V.prototype.Re;V.prototype.Pe=function(a,b,c){return this.f(Zg,a,b,'undefined'!==typeof c?c:null)};V.prototype.ifg=V.prototype.Pe;V.prototype.Qe=function(a,b,c){return this.f($g,a,b,'undefined'!==typeof c?c:null)};V.prototype.ifl=V.prototype.Qe;V.prototype.Fe=function(a,b,c){return this.f(le,a,b,'undefined'!==typeof c?c:null)};V.prototype.els=V.prototype.Fe;
V.prototype.De=function(a,b,c){return this.f(ke,a,b,'undefined'!==typeof c?c:null)};V.prototype.eif=V.prototype.De;V.prototype.Bf=function(a,b,c){return this.f(uj,a,b,'undefined'!==typeof c?c:null)};V.prototype.ted=V.prototype.Bf;V.prototype.Xh=function(a){return this.f(lh,a,null,null,null,1)};V.prototype.kil=V.prototype.Xh;V.prototype.ob=function(a,b,c,d){return this.f(vj,'undefined'!==typeof a?a:null,'undefined'!==typeof b?b:null,'undefined'!==typeof c?c:null,'undefined'!==typeof d?d:null)};
V.prototype.tex=V.prototype.ob;V.prototype.vf=function(a,b,c){return this.f(Ti,a,b,'undefined'!==typeof c?c:null)};V.prototype.sge=V.prototype.vf;V.prototype.Sd=function(a,b,c){return this.f($i,a,b,'undefined'!==typeof c?c:null)};V.prototype.slt=V.prototype.Sd;V.prototype.wf=function(a,b,c){return this.f(Ui,a,b,'undefined'!==typeof c?c:null)};V.prototype.sgn=V.prototype.wf;V.prototype.Kd=function(a,b,c){return this.f(Si,a,b,'undefined'!==typeof c?c:null)};V.prototype.seq=V.prototype.Kd;
V.prototype.Ud=function(a,b,c){return this.f(aj,a,b,'undefined'!==typeof c?c:null)};V.prototype.sne=V.prototype.Ud;Object.defineProperties(V.prototype,{code:{get:function(){this.m&&(this.m=!1,this.Lb(),this.di(),this.creator.Pa(this));null==this.creator.data&&this.creator.Pa(this);return this.creator.data}},op:{get:function(){return new Bm(7)},set:function(a){this.B(a,this.op)}},oc:{get:function(){return new Bm(6)},set:function(a){this.B(a,this.oc)}}});V.prototype.g={names:[{name:'AS3Shader',h:sc}]};
r(sc,V);function X(a,b,c){this.X=a;this.index='undefined'!==typeof c?c:0;this.j=b}X.prototype.Kg=function(a,b){this.j.o&&b.view.renderer.gl3d.pa(this.X.programType,this.j.index,b.node.world,!0)};X.prototype.bindModelUniform=X.prototype.Kg;X.prototype.dh=function(a,b){this.j.o&&b.view.renderer.gl3d.pa(this.X.programType,this.j.index,b.camera.world2local,!0)};X.prototype.bindViewUniform=X.prototype.dh;
X.prototype.Ng=function(a,b){this.j.o&&b.view.renderer.gl3d.pa(this.X.programType,this.j.index,b.camera.perspective,!0)};X.prototype.bindPerspectiveUniform=X.prototype.Ng;X.prototype.gh=function(a,b){this.j.o&&b.view.renderer.gl3d.pa(this.X.programType,this.j.index,b.node.world2local,!0)};X.prototype.bindWorld2localUniform=X.prototype.gh;X.prototype.Gg=function(a,b){if(this.j.o){var c=b.view.lights[this.index].world.position;c.w=1;b.view.renderer.gl3d.Eb(this.X.programType,this.j.index,c)}};
X.prototype.bindLightPosUniform=X.prototype.Gg;X.prototype.Hg=function(a,b){this.j.o&&b.view.renderer.gl3d.pa(this.X.programType,this.j.index,b.view.lights[this.index].shadowCamera.world,!0)};X.prototype.bindLightShadowCameraWorld=X.prototype.Hg;X.prototype.zg=function(a,b){this.j.o&&b.view.renderer.gl3d.Eb(this.X.programType,this.j.index,b.camera.world.position)};X.prototype.bindCameraPosUniform=X.prototype.zg;
X.prototype.Zg=function(a,b){this.j.o&&b.view.renderer.gl3d.Fb(this.X.programType,this.j.index,b.view.time,b.view.time,b.view.time,b.view.time)};X.prototype.bindTimeUniform=X.prototype.Zg;X.prototype.Og=function(a,b){this.j.o&&b.view.renderer.gl3d.Fb(this.X.programType,this.j.index,b.view.nb,b.view.nb,1/b.view.nb,1/b.view.ic)};X.prototype.bindPixelSizeUniform=X.prototype.Og;X.prototype.Yg=function(a,b){this.j.o&&b.view.renderer.gl3d.Fb(this.X.programType,this.j.index,b.diffTexture.width,b.diffTexture.height)};
X.prototype.bindTextureSizeUniform=X.prototype.Yg;X.prototype.bh=function(a,b){this.j.o&&b.view.renderer.gl3d.Fb(this.X.programType,this.j.index,b.uvMuler?b.uvMuler[0]:1,b.uvMuler?b.uvMuler[1]:1,b.uvAdder?b.uvAdder[0]:0,b.uvAdder?b.uvAdder[1]:0)};X.prototype.bindUVMulAddUniform=X.prototype.bh;X.prototype.Dg=function(a,b){this.j.o&&b.view.renderer.gl3d.ab(this.X.programType,this.j.index,b.node.skin.Ci.Om)};X.prototype.bindJointsQuatUniform=X.prototype.Dg;
X.prototype.Cg=function(a,b){if(this.j.o)for(var c=b.node.skin.Ci.Mm,d=this.j.index,e=0;e<c.length;e++)b.view.renderer.gl3d.pa(kk,d+4*e,c[e],!0)};X.prototype.bindJointsMatrixUniform=X.prototype.Cg;X.prototype.Jg=function(a,b){this.j.o&&b.view.renderer.gl3d.Eb(this.X.programType,this.j.index,b.color)};X.prototype.bindMaterialColorUniform=X.prototype.Jg;X.prototype.Eg=function(a,b){this.j.o&&b.view.renderer.gl3d.Eb(this.X.programType,this.j.index,b.view.lights[this.index].color)};
X.prototype.bindLightColorUniform=X.prototype.Eg;X.prototype.Fg=function(a,b){var c=b.view.lights[this.index],d=1/(Math.cos(c.innerConeAngle/2)-Math.cos(c.outerConeAngle/2)),e=1-Math.cos(c.innerConeAngle/2)*d;this.j.o&&b.view.renderer.gl3d.Fb(this.X.programType,this.j.index,c.zc,d,e)};X.prototype.bindLightColorVar=X.prototype.Fg;X.prototype.yg=function(a,b){this.j.o&&b.view.renderer.gl3d.Eb(this.X.programType,this.j.index,b.ambient)};X.prototype.bindAmbientUniform=X.prototype.yg;
X.prototype.Tg=function(a,b){this.j.o&&b.view.renderer.gl3d.Fb(this.X.programType,this.j.index,b.Di)};X.prototype.bindSpecularUniform=X.prototype.Tg;X.prototype.fh=function(a,b){this.j.o&&b.view.renderer.gl3d.Eb(this.X.programType,this.j.index,b.wireframeColor)};X.prototype.bindWireframeColorUniform=X.prototype.fh;X.prototype.Ag=function(a,b){this.j.o&&(a.textureSets[this.j.index]=b.diffTexture)};X.prototype.bindDiffSampler=X.prototype.Ag;
X.prototype.Mg=function(a,b){this.j.o&&(a.textureSets[this.j.index]=b.normalmapTexture)};X.prototype.bindNormalmapSampler=X.prototype.Mg;X.prototype.Ig=function(a,b){this.j.o&&(a.textureSets[this.j.index]=b.lightmapTexture)};X.prototype.bindLightmapSampler=X.prototype.Ig;X.prototype.Rg=function(a,b){this.j.o&&(a.textureSets[this.j.index]=b.reflectTexture)};X.prototype.bindReflectSampler=X.prototype.Rg;X.prototype.Xg=function(a,b){this.j.o&&(a.textureSets[this.j.index]=b.terrainTextureSets[this.index])};
X.prototype.bindTerrainsSampler=X.prototype.Xg;X.prototype.Sg=function(a,b){this.j.o&&(a.textureSets[this.j.index]=b.view.lights[this.index].shadowMap)};X.prototype.bindShadowmapsSampler=X.prototype.Sg;X.prototype.Pg=function(a,b){this.j.o&&(a.buffSets[this.j.index]=b.node.skin&&b.node.skin.aj&&b.node.drawable.pos.cpuSkin?b.node.drawable.pos.cpuSkin:b.node.drawable.pos)};X.prototype.bindPosBuff=X.prototype.Pg;
X.prototype.Lg=function(a,b){this.j.o&&(a.buffSets[this.j.index]=b.node.skin&&b.node.skin.aj&&b.node.drawable.norm.cpuSkin?b.node.drawable.norm.cpuSkin:b.node.drawable.norm)};X.prototype.bindNormBuff=X.prototype.Lg;X.prototype.Vg=function(a,b){this.j.o&&(a.buffSets[this.j.index]=b.node.drawable.tangent)};X.prototype.bindTangentBuff=X.prototype.Vg;X.prototype.ah=function(a,b){this.j.o&&(a.buffSets[this.j.index]=b.node.drawable.uv)};X.prototype.bindUVBuff=X.prototype.ah;
X.prototype.Qg=function(a,b){this.j.o&&(a.buffSets[this.j.index]=b.node.drawable.random)};X.prototype.bindRandomBuff=X.prototype.Qg;X.prototype.Ug=function(a,b){this.j.o&&(a.buffSets[this.j.index]=b.node.drawable.sphereRandom)};X.prototype.bindSphereRandomBuff=X.prototype.Ug;X.prototype.Wg=function(a,b){this.j.o&&(a.buffSets[this.j.index]=b.node.drawable.targetPosition)};X.prototype.bindTargetPositionBuff=X.prototype.Wg;X.prototype.$g=function(a,b){this.j.o&&(a.buffSets[this.j.index]=b.node.drawable.uv2)};
X.prototype.bindUV2Buff=X.prototype.$g;X.prototype.Bg=function(a,b){this.j.o&&(a.buffSets[this.j.index]=b.node.drawable.joint)};X.prototype.bindJointsBuff=X.prototype.Bg;X.prototype.eh=function(a,b){this.j.o&&(a.buffSets[this.j.index]=b.node.drawable.weight)};X.prototype.bindWeightsBuff=X.prototype.eh;X.prototype.g={names:[{name:'GLBinder',h:Cg}]};r(Cg,X);function Y(a,b){a='undefined'!==typeof a?a:Context3DProgramType.mj;this.namedVars={};this.s=[];V.call(this,a,'undefined'!==typeof b?b:null)}Pk(Y,V);Y.prototype.bind=function(a,b){var c=this.s,d;for(d in c)(0,c[d])(a,b)};Y.prototype.bind=Y.prototype.bind;Y.prototype.Oi=function(){if(this.i(Qj))return this.i(Qj);var a=this.matrix();this.u(Qj,a);var b=new X(this,a);this.s.push(y(b.Kg,b,Uc));return a};Y.prototype.uniformModel=Y.prototype.Oi;
Y.prototype.Si=function(){if(this.i(Zj))return this.i(Zj);var a=this.matrix();this.u(Zj,a);var b=new X(this,a);this.s.push(y(b.dh,b,md));return a};Y.prototype.uniformView=Y.prototype.Si;Y.prototype.Pi=function(){if(this.i(Sj))return this.i(Sj);var a=this.matrix();this.u(Sj,a);var b=new X(this,a);this.s.push(y(b.Ng,b,Xc));return a};Y.prototype.uniformPerspective=Y.prototype.Pi;
Y.prototype.Ui=function(){if(this.i(ck))return this.i(ck);var a=this.matrix();this.u(ck,a);var b=new X(this,a);this.s.push(y(b.gh,b,pd));return a};Y.prototype.uniformWorld2Local=Y.prototype.Ui;Y.prototype.Wc=function(a){var b=Nj+a;if(this.i(b))return this.i(b);var c=this.ka();this.u(b,c);a=new X(this,c,a);this.s.push(y(a.Gg,a,Qc));return c};Y.prototype.uniformLightPos=Y.prototype.Wc;
Y.prototype.Li=function(a){var b=Lj+a;if(this.i(b))return this.i(b);var c=this.ka();this.u(b,c);a=new X(this,c,a);this.s.push(y(a.Hg,a,Rc));return c};Y.prototype.uniformLightShadowCameraWorld=Y.prototype.Li;Y.prototype.Ff=function(){if(this.i(Ij))return this.i(Ij);var a=this.ka();this.u(Ij,a);var b=new X(this,a);this.s.push(y(b.zg,b,Jc));return a};Y.prototype.uniformCameraPos=Y.prototype.Ff;
Y.prototype.Am=function(){if(this.i(Xj))return this.i(Xj);var a=this.ka();this.u(Xj,a);var b=new X(this,a);this.s.push(y(b.Zg,b,id));return a};Y.prototype.uniformTime=Y.prototype.Am;Y.prototype.zm=function(){if(this.i(Tj))return this.i(Tj);var a=this.ka();this.u(Tj,a);var b=new X(this,a);this.s.push(y(b.Og,b,Yc));return a};Y.prototype.uniformPixelSize=Y.prototype.zm;
Y.prototype.Ri=function(){if(this.i(Vj))return this.i(Vj);var a=this.ka();this.u(Vj,a);var b=new X(this,a);this.s.push(y(b.Yg,b,hd));return a};Y.prototype.uniformTextureSize=Y.prototype.Ri;Y.prototype.If=function(){if(this.i(ak))return this.i(ak);var a=this.ka();this.u(ak,a);var b=new X(this,a);this.s.push(y(b.bh,b,ld));return a};Y.prototype.uniformUVMulAdder=Y.prototype.If;
Y.prototype.Ki=function(a){if(this.i(Kj))return this.i(Kj);a=this.Bh(2*a);this.u(Kj,a);var b=new X(this,a);this.s.push(y(b.Dg,b,Nc));return a};Y.prototype.uniformJointsQuat=Y.prototype.Ki;Y.prototype.Ji=function(a){if(this.i(Jj))return this.i(Jj);a=this.bi(a);this.u(Jj,a);var b=new X(this,a);this.s.push(y(b.Cg,b,Mc));return a};Y.prototype.uniformJointsMatrix=Y.prototype.Ji;
Y.prototype.Ni=function(){if(this.i(Pj))return this.i(Pj);var a=this.ka();this.u(Pj,a);var b=new X(this,a);this.s.push(y(b.Jg,b,Tc));return a};Y.prototype.uniformMaterialColor=Y.prototype.Ni;Y.prototype.Hf=function(a){var b=Mj+a;if(this.i(b))return this.i(b);var c=this.ka();this.u(b,c);a=new X(this,c,a);this.s.push(y(a.Eg,a,Oc));return c};Y.prototype.uniformLightColor=Y.prototype.Hf;
Y.prototype.Xc=function(a){var b=Oj+a;if(this.i(b))return this.i(b);var c=this.ka();this.u(b,c);a=new X(this,c,a);this.s.push(y(a.Fg,a,Pc));return c};Y.prototype.uniformLightVar=Y.prototype.Xc;Y.prototype.Ii=function(){if(this.i(Hj))return this.i(Hj);var a=this.ka();this.u(Hj,a);var b=new X(this,a);this.s.push(y(b.yg,b,Ic));return a};Y.prototype.uniformAmbient=Y.prototype.Ii;
Y.prototype.Qi=function(){if(this.i(Uj))return this.i(Uj);var a=this.ka();this.u(Uj,a);var b=new X(this,a);this.s.push(y(b.Tg,b,cd));return a};Y.prototype.uniformSpecular=Y.prototype.Qi;Y.prototype.Ti=function(){if(this.i(bk))return this.i(bk);var a=this.ka();this.u(bk,a);var b=new X(this,a);this.s.push(y(b.fh,b,od));return a};Y.prototype.uniformWireframeColor=Y.prototype.Ti;
Y.prototype.ui=function(){if(this.i(Ri))return this.i(Ri);var a=this.Cb();this.u(Ri,a);var b=new X(this,a);this.s.push(y(b.Ag,b,Kc));return a};Y.prototype.samplerDiff=Y.prototype.ui;Y.prototype.vi=function(){if(this.i(bj))return this.i(bj);var a=this.Cb();this.u(bj,a);var b=new X(this,a);this.s.push(y(b.Mg,b,Wc));return a};Y.prototype.samplerNormalmap=Y.prototype.vi;
Y.prototype.$l=function(){if(this.i(Zi))return this.i(Zi);var a=this.Cb();this.u(Zi,a);var b=new X(this,a);this.s.push(y(b.Ig,b,Sc));return a};Y.prototype.samplerLightmap=Y.prototype.$l;Y.prototype.wi=function(){if(this.i(ij))return this.i(ij);var a=this.Cb();this.u(ij,a);var b=new X(this,a);this.s.push(y(b.Rg,b,ad));return a};Y.prototype.samplerReflect=Y.prototype.wi;
Y.prototype.am=function(a){var b=pj+a;if(this.i(b))return this.i(b);var c=this.Cb();this.u(b,c);a=new X(this,c,a);this.s.push(y(a.Xg,a,gd));return c};Y.prototype.samplerTerrains=Y.prototype.am;Y.prototype.xi=function(a){var b=jj+a;if(this.i(b))return this.i(b);var c=this.Cb();this.u(b,c);a=new X(this,c,a);this.s.push(y(a.Sg,a,bd));return c};Y.prototype.samplerShadowmaps=Y.prototype.xi;
Y.prototype.jh=function(){var a=this.i(td);if(a)return a;a=this.buff();this.u(td,a);var b=new X(this,a);this.s.push(y(b.Pg,b,Zc));return a};Y.prototype.buffPos=Y.prototype.jh;Y.prototype.ih=function(){if(this.i(rd))return this.i(rd);var a=this.buff();this.u(rd,a);var b=new X(this,a);this.s.push(y(b.Lg,b,Vc));return a};Y.prototype.buffNorm=Y.prototype.ih;Y.prototype.kh=function(){if(this.i(wd))return this.i(wd);var a=this.buff();this.u(wd,a);var b=new X(this,a);this.s.push(y(b.Vg,b,ed));return a};
Y.prototype.buffTangent=Y.prototype.kh;Y.prototype.mh=function(){if(this.i(yd))return this.i(yd);var a=this.buff();this.u(yd,a);var b=new X(this,a);this.s.push(y(b.ah,b,kd));return a};Y.prototype.buffUV=Y.prototype.mh;Y.prototype.Kj=function(){if(this.i(ud))return this.i(ud);var a=this.buff();this.u(ud,a);var b=new X(this,a);this.s.push(y(b.Qg,b,$c));return a};Y.prototype.buffRandom=Y.prototype.Kj;
Y.prototype.Lj=function(){if(this.i(vd))return this.i(vd);var a=this.buff();this.u(vd,a);var b=new X(this,a);this.s.push(y(b.Ug,b,dd));return a};Y.prototype.buffSphereRandom=Y.prototype.Lj;Y.prototype.lh=function(){if(this.i(xd))return this.i(xd);var a=this.buff();this.u(xd,a);var b=new X(this,a);this.s.push(y(b.Wg,b,fd));return a};Y.prototype.buffTargetPosition=Y.prototype.lh;
Y.prototype.Mj=function(){if(this.i(zd))return this.i(zd);var a=this.buff();this.u(zd,a);var b=new X(this,a);this.s.push(y(b.$g,b,jd));return a};Y.prototype.buffUV2=Y.prototype.Mj;Y.prototype.re=function(){if(this.i(qd))return this.i(qd);var a=this.buff();this.u(qd,a);var b=new X(this,a);this.s.push(y(b.Bg,b,Lc));return a};Y.prototype.buffJoints=Y.prototype.re;Y.prototype.nh=function(){if(this.i(Ad))return this.i(Ad);var a=this.buff();this.u(Ad,a);var b=new X(this,a);this.s.push(y(b.eh,b,nd));return a};
Y.prototype.buffWeights=Y.prototype.nh;Y.prototype.i=function(a){return this.namedVars[a]};Y.prototype.getNamedVar=Y.prototype.i;Y.prototype.u=function(a,b){this.namedVars[a]=b};Y.prototype.setNamedVar=Y.prototype.u;Y.prototype.g={names:[{name:'GLAS3Shader',h:Bg}]};r(Bg,Y);function Cn(a,b){Y.call(this,cg);this.vs=b;this.material=a;this.diffSampler=this.ui();this.normalmapSampler=this.vi();this.reflectSampler=this.wi();this.wireframeColor=this.Ti();this.diffColor=this.Ni();this.specular=this.Qi();this.ambientColor=this.Ii()}Pk(Cn,Y);
Cn.prototype.Lb=function(){if(this.material.writeDepth)this.oc=this.ia(this.vs.opVarying.z,this.vs.opVarying.w);else{if(this.material.wireframeAble)var a=this.B(this.vs.targetPositionVarying),a=this.yf(0,this.Ie(a),a),b=this.v(this.sub(1,this.min(this.min(a.x,a.y),a.z).Pm),this.wireframeColor);a=this.Ch();if(this.material.Va&&this.material.view.lights.length){for(var c=0;c<this.material.view.lights.length;c++){var d=this.material.view.lights[c],e;if(0==d.lightType)e=this.Hf(c);else{e=this.Eh(c);if(2==
d.lightType||3==d.lightType)e=this.v(e,this.Dh(c));3==d.lightType&&(e=this.v(e,this.Hh(c)))}if(d.Rd&&this.material.mf){this.debug(Wi);var d=this.vs.shadowLightPoss[c],f=this.add(this.v(this.ia(d.Km,d.w),[.5,-.5]),.5),f=this.ob(f,this.xi(c)),d=this.ia(d.z,d.w);e=this.v(e,this.Sd(d,f));this.debug(Vi)}var g=null==g?e:this.add(g,e)}this.material.toonAble&&(g=this.ia(this.floor(this.add(.5,this.v(this.material.Df,g))),this.material.Df));this.B(a.w,g.w);b?this.add(b,this.v(g,a),a):this.v(g,a,a)}else b&&
this.add(a,b,a);this.material.reflectTexture&&(g=this.ob(this.vs.reflected,this.reflectSampler,null,this.material.reflectTexture.flags),this.v(a.Xd,g.Xd,a.Xd));if(this.material.ud&&(g=this.material.view.fog,0!=g.mode)){b=this.zc(this.Ff(),this.vs.modelPosVarying,3);if(1==g.mode)var l=this.Mc(this.exp(this.v(b,g.ye)));else 2==g.mode?l=this.Mc(this.exp(this.pow(this.v(b,g.ye),2))):3==g.mode&&(l=this.Ga(this.ia(this.sub(g.end,b),this.sub(g.end,g.start))));this.ef(this.material.view.fog.fogColor,a.Xd,
l,a.Xd)}if(this.material.border){var n,l=[[1,0],[-1,0],[0,1],[0,-1]],t;for(t in l)g=this.ob(this.add(this.ia(l[t],this.B(this.Ri())),this.vs.uvVarying),this.diffSampler,null,this.material.diffTexture.flags).w,n=null==n?g:this.add(n,g);this.ob(this.add([1/256,0],this.vs.uvVarying),this.diffSampler,null,this.material.diffTexture.flags);this.ef(a.jj,[1,0,0,.5],this.v(this.Kd(a.w,0),this.Ud(n,0)),a.jj)}this.oc=a}};Cn.prototype.build=Cn.prototype.Lb;
Cn.prototype.Ch=function(){if(null==this.material.diffTexture)var a=this.B(this.diffColor);else if(this.material.Wh)var a=this.ob(this.vs.uvVarying,this.diffSampler,null,this.material.diffTexture.flags).w,b=this.Ie(a),a=this.Ga(this.yf(this.sub(.5,b),this.add(.5,b),a)),a=this.sub(1,a);else a=this.ob(this.vs.uvVarying,this.diffSampler,null,this.material.diffTexture.flags),0<this.material.ne&&this.Xh(this.sub(a.w,this.material.ne).x);return this.material.Jh?a.Qm:a};Cn.prototype.getDiffColor=Cn.prototype.Ch;
function Dn(a,b,c,d,e){var f=a.od();a.ma(b,e,f.x);a.ma(c,e,f.y);a.ma(d,e,f.z);return a.ba(f)}
Cn.prototype.Eh=function(a){var b=this.Hf(a),c=b.w,d=this.specular.x,e=this.vs.normVarying;if(this.material.normalMapAble)var f=this.vs.tangentVarying,g=this.Tb(e,f),l=this.sub(this.v(this.ob(this.vs.uvVarying,this.normalmapSampler,null,this.material.normalmapTexture.flags),2),1);a=this.vs.posLightVaryings[a];this.material.normalMapAble?(this.n=l,a=Dn(this,f,g,e,a)):this.n=e;l=this.Ga(this.ma(this.n,a));if(this.material.Vd||this.material.reflectTexture){this.e=this.vs.eyeDirectionVarying;this.material.normalMapAble&&
(this.e=Dn(this,f,g,e,this.e));var e=this.ba(this.sub(this.Yb([2,this.ma(a,this.n),this.n]),a)),n=this.Ga(this.ma(this.e,e))}return this.material.Vd?this.add(this.ambientColor,this.Yb([b,this.add(l,this.pow(n,d)),c])):this.add(this.ambientColor,this.Yb([b,l,c]))};Cn.prototype.getPhongColor=Cn.prototype.Eh;Cn.prototype.Dh=function(a){var b=this.sub(this.Wc(a),this.vs.modelPosVarying);return this.Ga(this.sub(1,this.ia(this.ma(b,b),this.v(this.B(this.Xc(a).x),this.Xc(a).x))))};
Cn.prototype.getDistanceColor=Cn.prototype.Dh;Cn.prototype.Hh=function(a){var b=this.Xc(a).y,c=this.Xc(a).z,d=this.sub(this.vs.modelPosVarying,this.Wc(a));a=this.ma(this.ba(this.B(this.Wc(a))),this.ba(d));return this.Ga(this.add(this.v(b,a),c))};Cn.prototype.getSmoothColor=Cn.prototype.Hh;Cn.prototype.g={names:[{name:'PhongFragmentShader',h:Ig}]};r(Ig,Cn);function En(a){this.eyeDirectionVarying=this.za();this.posLightVaryings=[];this.shadowLightPoss=[];this.normVarying=this.za();this.tangentVarying=this.za();this.uvVarying=this.za();this.targetPositionVarying=this.za();this.reflected=this.za();this.modelPosVarying=this.za();this.opVarying=this.za();Y.call(this,kk);this.material=a;this.pos=this.jh();this.norm=this.ih();this.uv=this.mh();this.tangent=this.kh();this.targetPosition=this.lh();this.weight=this.nh();this.model=this.Oi();this.world2local=
this.Ui();this.view=this.Si();this.perspective=this.Pi()}Pk(En,Y);
En.prototype.Lb=function(){var a=this.norm,b=this.pos;if(this.material.yd){this.material.node.skin.bj?(this.joint=this.v(2,this.re()),this.joints=this.Ki(this.material.node.skin.joints.length)):(this.joint=this.v(4,this.re()),this.joints=this.Ji(this.material.node.skin.joints.length));for(var c=0;c<this.material.node.skin.Nm;c++){var d='xyzw'.charAt(c%4);if(this.material.node.skin.bj){this.joint=this.joint.c(d);var e=this.v(this.weight.c(d),this.li(b,this.joints.c(this.joint),this.joints.c(this.joint,
1)))}else this.joint=this.joint.c(d),e=this.v(this.weight.c(d),this.m44(b,this.joints.c(this.joint)));var f=0==c?e:this.add(f,e);if(this.material.Va)var d=this.v(this.weight.c(d),this.material.node.skin.bj?this.lf(a,this.B(this.joints.c(this.joint))):this.m33(a,this.joints.c(this.joint))),g=0==c?d:this.add(g,d)}b=f;this.material.Va&&(a=this.ba(g))}b=this.m44(b,this.model);g=this.m44(b,this.view);this.op=f=this.m44(g,this.perspective);if(this.material.Va||this.material.reflectTexture){a=this.ba(this.m33(a,
this.model));if(this.material.Vd||this.material.reflectTexture)c=this.material.normalMapAble?this.ba(this.m33(this.Hc(g),this.world2local)):this.ba(this.Hc(g)),this.B(c,this.eyeDirectionVarying);this.shadowLightPoss.length=this.material.view.lights.length;for(c=0;c<this.material.view.lights.length;c++){var d=this.material.view.lights[c],e=this.Wc(c),e=this.material.normalMapAble?this.ba(this.m33(this.sub(this.m44(this.B(e),this.view),g),this.world2local)):this.ba(this.sub(this.m44(this.B(e),this.view),
g)),l=this.za();this.posLightVaryings.push(l);this.B(e,l);d.Rd&&this.material.mf&&(d=this.za(),this.shadowLightPoss[c]=d,this.B(this.m44(b,this.Li(c)),d))}this.material.normalMapAble?this.B(this.ba(this.m33(this.m33(a,this.view),this.world2local)),this.normVarying):(c=this.ba(this.m33(a,this.view)),this.B(c,this.normVarying));this.material.normalMapAble&&this.B(this.tangent,this.tangentVarying);this.material.reflectTexture&&(c=this.ba(this.sub(b,this.Ff())),this.B(this.sub(c,this.Yb([2,a,this.ma(a,
c)])),this.reflected))}if(this.material.diffTexture||this.material.normalMapAble)c=this.uv,this.material.uvMuler&&(c=this.v(this.If().Km,c)),this.material.uvAdder&&(c=this.add(this.If().Rm,c)),this.B(c,this.uvVarying);this.material.wireframeAble&&this.B(this.targetPosition,this.targetPositionVarying);c=!1;if(this.material.Va){var a=this.material.view.lights,n;for(n in a)if(d=a[n],2==d.lightType||3==d.lightType)c=!0}this.material.ud&&(0!=this.material.view.fog.mode||c)&&this.B(b,this.modelPosVarying);
this.material.writeDepth&&this.B(f,this.opVarying)};En.prototype.build=En.prototype.Lb;En.prototype.li=function(a,b,c){a=this.add(this.lf(a,this.B(b)),c);this.B(1,a.w);return a.jj};En.prototype.q44=En.prototype.li;En.prototype.lf=function(a,b){var c=this.v(2,this.Tb(b,a));return this.le([a,this.v(b.w,c),this.Tb(b,c)])};En.prototype.q33=En.prototype.lf;En.prototype.g={names:[{name:'PhongVertexShader',h:Kg}]};r(Kg,En);function Fn(){}r('flash.display3D.Context3DProfile.BASELINE',Bc);r('flash.display3D.Context3DProfile.BASELINE_CONSTRAINED',Cc);r('flash.display3D.Context3DProfile.BASELINE_EXTENDED',Dc);r('flash.display3D.Context3DProfile.STANDARD',nj);r('flash.display3D.Context3DProfile.STANDARD_CONSTRAINED',oj);r('flash.display3D.Context3DProfile.STANDARD_EXTENDED','standardExtended');Fn.prototype.g={names:[{name:'Context3DProfile',h:of}]};r(of,Fn);function Gn(){}r('flash.display3D.Context3DRenderMode.AUTO','auto');r('flash.display3D.Context3DRenderMode.SOFTWARE','software');Gn.prototype.g={names:[{name:'Context3DRenderMode',h:qf}]};r(qf,Gn);function Hn(a,b,c,d){d='undefined'!==typeof d?d:aa;Sl.call(this,a,'undefined'!==typeof b?b:!1,'undefined'!==typeof c?c:!1);this.cf=d}Pk(Hn,Sl);r('flash.events.TextEvent.LINK','link');r('flash.events.TextEvent.TEXT_INPUT','textInput');Hn.prototype.clone=function(){return new Hn(this.type,this.bubbles,this.cancelable,this.cf)};Hn.prototype.clone=Hn.prototype.clone;Hn.prototype.toString=function(){return this.vb()};Hn.prototype.toString=Hn.prototype.toString;
Object.defineProperties(Hn.prototype,{text:{get:m('cf'),set:k('cf')}});Hn.prototype.g={names:[{name:'TextEvent',h:Hf}]};r(Hf,Hn);function In(a,b,c,d,e){e='undefined'!==typeof e?e:0;Hn.call(this,a,'undefined'!==typeof b?b:!1,'undefined'!==typeof c?c:!1,'undefined'!==typeof d?d:aa);this.ai=e}Pk(In,Hn);r('flash.events.ErrorEvent.ERROR',pe);In.prototype.clone=function(){return new In(this.type,this.bubbles,this.cancelable,this.text,this.ai)};In.prototype.clone=In.prototype.clone;In.prototype.toString=function(){return this.vb()};In.prototype.toString=In.prototype.toString;Object.defineProperties(In.prototype,{errorID:{get:m('ai')}});
In.prototype.g={names:[{name:'ErrorEvent',h:Cf}]};r(Cf,In);function Z(a){this.Ha=Array(4);this.xc={};this.yc={};this.context=a}Z.prototype.Ue=0;Z.prototype.lastBuffMaxIndex=Z.prototype.Ue;Z.prototype.zb=0;Z.prototype.nowBuffMaxIndex=Z.prototype.zb;Z.prototype.Ve=0;Z.prototype.lastTexMaxIndex=Z.prototype.Ve;Z.prototype.Ab=0;Z.prototype.nowTexMaxIndex=Z.prototype.Ab;Z.prototype.td=0;Z.prototype.drawTriangleCounter=Z.prototype.td;Z.prototype.drawCounter=0;Z.prototype.drawCounter=Z.prototype.drawCounter;
Z.prototype.clear=function(a,b,c,d,e,f,g){this.context.clear('undefined'!==typeof a?a:0,'undefined'!==typeof b?b:0,'undefined'!==typeof c?c:0,'undefined'!==typeof d?d:1,'undefined'!==typeof e?e:1,'undefined'!==typeof f?f:0,'undefined'!==typeof g?g:4294967295)};Z.prototype.clear=Z.prototype.clear;Z.prototype.Mb=function(a,b,c,d){this.context.Mb(a,b,c,'undefined'!==typeof d?d:!0)};Z.prototype.configureBackBuffer=Z.prototype.Mb;Z.prototype.Ob=function(a,b,c){return this.context.Ob(a,b,c)};
Z.prototype.createCubeTexture=Z.prototype.Ob;Z.prototype.Pb=function(a){return this.context.Pb(a)};Z.prototype.createIndexBuffer=Z.prototype.Pb;Z.prototype.createProgram=function(){return this.context.createProgram()};Z.prototype.createProgram=Z.prototype.createProgram;Z.prototype.Qb=function(a,b,c,d){return this.context.Qb(a,b,c,d)};Z.prototype.createRectangleTexture=Z.prototype.Qb;Z.prototype.createTexture=function(a,b,c,d){return this.context.createTexture(a,b,c,d)};Z.prototype.createTexture=Z.prototype.createTexture;
Z.prototype.wc=function(){return this.context.wc()};Z.prototype.createVideoTexture=Z.prototype.wc;Z.prototype.Rb=function(a,b){return this.context.Rb(a,b)};Z.prototype.createVertexBuffer=Z.prototype.Rb;Z.prototype.D=function(a){this.context.D('undefined'!==typeof a?a:!0)};Z.prototype.dispose=Z.prototype.D;Z.prototype.tb=function(a){this.pe();this.context.tb(a)};Z.prototype.drawToBitmapData=Z.prototype.tb;
Z.prototype.na=function(a,b,c,d){b='undefined'!==typeof b?b:0;c='undefined'!==typeof c?c:-1;('undefined'!==typeof d?d:1)&&this.pe();a.update(this);this.td+=a.data.length/3;this.drawCounter++;this.context.na(a.buff,b,c)};Z.prototype.drawTriangles=Z.prototype.na;Z.prototype.ik=function(a){this.context.tb(a)};Z.prototype.drawToBitmapDataInstance=Z.prototype.ik;
Z.prototype.pe=function(){for(;this.zb<this.Ue;)Jn(this,++this.zb,null);for(;this.Ab<this.Ve;)this.Sc(++this.Ab,null);this.Ue=this.zb;this.Ve=this.Ab;this.zb=this.Ab=-1};Z.prototype.beginDraw=Z.prototype.pe;Z.prototype.Kc=function(){this.context.Kc()};Z.prototype.present=Z.prototype.Kc;Z.prototype.ec=function(a,b){this.context.ec(a,b)};Z.prototype.setBlendFactors=Z.prototype.ec;Z.prototype.Ld=function(a,b,c,d){this.context.Ld(a,b,c,d)};Z.prototype.setColorMask=Z.prototype.Ld;Z.prototype.fc=function(a){this.context.fc(a)};
Z.prototype.setCulling=Z.prototype.fc;Z.prototype.Qc=function(a,b){this.context.Qc(a,b)};Z.prototype.setDepthTest=Z.prototype.Qc;Z.prototype.Db=function(a){this.context.Db(a)};Z.prototype.setProgram=Z.prototype.Db;Z.prototype.Nd=function(a,b,c,d,e){this.context.Nd(a,b,c,d,e)};Z.prototype.setProgramConstantsFromByteArray=Z.prototype.Nd;Z.prototype.pa=function(a,b,c,d){this.context.pa(a,b,c,'undefined'!==typeof d?d:!1)};Z.prototype.setProgramConstantsFromMatrix=Z.prototype.pa;
Z.prototype.ab=function(a,b,c,d){this.context.ab(a,b,c,'undefined'!==typeof d?d:-1)};Z.prototype.setProgramConstantsFromVector=Z.prototype.ab;Z.prototype.Eb=function(a,b,c){this.Ha[0]=c.x;this.Ha[1]=c.y;this.Ha[2]=c.z;this.Ha[3]=c.w;this.context.ab(a,b,this.Ha)};Z.prototype.setProgramConstantsFromVector3D=Z.prototype.Eb;
Z.prototype.Fb=function(a,b,c,d,e,f){this.Ha[0]='undefined'!==typeof c?c:0;this.Ha[1]='undefined'!==typeof d?d:0;this.Ha[2]='undefined'!==typeof e?e:0;this.Ha[3]='undefined'!==typeof f?f:0;this.context.ab(a,b,this.Ha)};Z.prototype.setProgramConstantsFromXYZW=Z.prototype.Fb;Z.prototype.Rc=function(){this.context.Rc()};Z.prototype.setRenderToBackBuffer=Z.prototype.Rc;Z.prototype.gc=function(a,b,c,d){this.context.gc(a,'undefined'!==typeof b?b:!1,'undefined'!==typeof c?c:0,'undefined'!==typeof d?d:0)};
Z.prototype.setRenderToTexture=Z.prototype.gc;Z.prototype.tf=h();Z.prototype.setSamplerStateAt=Z.prototype.tf;Z.prototype.Od=function(a){this.context.Od(a)};Z.prototype.setScissorRectangle=Z.prototype.Od;Z.prototype.Pd=function(a,b,c,d,e){this.context.Pd(a,b,c,d,e)};Z.prototype.setStencilActions=Z.prototype.Pd;Z.prototype.Qd=function(a,b,c){this.context.Qd(a,'undefined'!==typeof b?b:255,'undefined'!==typeof c?c:255)};Z.prototype.setStencilReferenceValue=Z.prototype.Qd;
Z.prototype.hc=function(a,b){this.Sc(a,b);this.Ab<a&&(this.Ab=a)};Z.prototype.setTextureAt=Z.prototype.hc;Z.prototype.Sc=function(a,b){this.xc[a]!=b&&(this.xc[a]=b,this.context.hc(a,b))};Z.prototype.mb=function(a,b,c,d){Jn(this,a,b,'undefined'!==typeof c?c:0,'undefined'!==typeof d?d:$f);this.zb<a&&(this.zb=a)};Z.prototype.setVertexBufferAt=Z.prototype.mb;function Jn(a,b,c,d,e){a.yc[b]!=c&&(a.yc[b]=c,a.context.mb(b,c,'undefined'!==typeof d?d:0,'undefined'!==typeof e?e:null))}
Object.defineProperties(Z.prototype,{driverInfo:{get:function(){return this.context.driverInfo}},enableErrorChecking:{get:function(){return this.context.enableErrorChecking},set:function(a){this.context.enableErrorChecking=a}}});Z.prototype.g={names:[{name:'GL',h:yg}]};r(yg,Z);function Kn(a){this.collects=[];this.view=a}Kn.prototype.uc=!0;Kn.prototype.la=h();Kn.prototype.init=Kn.prototype.la;Kn.prototype.kb=h();Kn.prototype.render=Kn.prototype.kb;Kn.prototype.te=function(a){if(a.visible){this.collects.push(a);x(a,yn)&&this.view.lights.push(a);a=a.children;for(var b in a)this.te(a[b])}};Kn.prototype.collect=Kn.prototype.te;Kn.prototype.sort=h();Kn.prototype.sort=Kn.prototype.sort;Object.defineProperties(Kn.prototype,{visible:{get:m('uc'),set:k('uc')}});
Kn.prototype.g={names:[{name:'Render',h:zg}]};r(zg,Kn);function Ln(a){Kn.call(this,a)}Pk(Ln,Kn);Ln.prototype.la=function(){Ln.Z.la.call(this);this.stage3d=this.view.stage.stage3Ds[this.view.id];this.stage3d.visible=this.visible;this.stage3d.addEventListener(Sd,y(this.om,this,lj));this.stage3d.addEventListener(pe,y(this.nm,this,kj));for(var a=[nj,oj,Dc,Bc,Cc],b=a.length-1;0<=b;b--)null==a[b]&&a.splice(b,1);this.stage3d.si()};Ln.prototype.init=Ln.prototype.la;Ln.prototype.nm=function(){this.stage3d.of()};
Ln.prototype.om=function(){this.gl3d=new Z(this.stage3d.context3D);this.gl3d.enableErrorChecking=this.view.enableErrorChecking;this.view.profile=this.stage3d.context3D.profile;this.view.driverInfo=this.gl3d.driverInfo;this.agalVersion=this.view.profile==nj||this.view.profile==oj?2:1};
Ln.prototype.kb=function(a,b){if(this.visible&&(Ln.Z.kb.call(this,a,b),this.gl3d))if(this.gl3d.driverInfo==Db)this.view.m=!0;else{this.view.m&&(this.stage3d.x=this.view.x,this.stage3d.y=this.view.y,this.gl3d.Mb(this.view.nb,this.view.ic,this.view.antiAlias));this.view.m=!1;this.collects.length=0;this.view.lights.length=0;this.gl3d.td=0;this.gl3d.drawCounter=0;this.te(b);this.sort();var c=this.view.lights,d;for(d in c){var e=c[d];if(e.Rd){e.shadowMap.update(this.view);null==e.shadowMap.texture&&(e.shadowMap.texture=
this.gl3d.createTexture(e.xf,e.xf,Ji,!0));this.gl3d.gc(e.shadowMap.texture,!0);this.gl3d.clear(1,1,1);null==this.qd&&(this.qd=new Mn,this.qd.writeDepth=!0);this.qd.materialCamera=e.shadowCamera;var f=this.collects,g;for(g in f)e=f[g],e.material&&e.material.ph&&e.update(this.view,this.qd)}}if(this.view.posts.length){for(var l=1<this.view.posts.length?2:1,c=0;c<l;c++)this.view.postRTTs[c].update(this.view),null==this.view.postRTTs[c].texture&&(this.view.postRTTs[c].texture=this.gl3d.Qb(this.view.nb,
this.view.ic,Gc,!0));this.renderTarget=this.view.postRTTs[0]}else this.renderTarget=null;this.renderTarget?this.gl3d.gc(this.renderTarget.texture,!0,this.view.antiAlias):this.gl3d.Rc();this.gl3d.clear((this.view.background>>16&255)/255,(this.view.background>>8&255)/255,(this.view.background&255)/255);var c=this.collects,n;for(n in c)e=c[n],e.update(this.view);if(this.view.posts.length)for(c=0;c<this.view.posts.length;c++)this.view.posts[c].update(this.view,c==this.view.posts.length-1),2==l&&(n=this.view.postRTTs[0],
this.view.postRTTs[0]=this.view.postRTTs[1],this.view.postRTTs[1]=n);this.gl3d.Kc()}};Ln.prototype.render=Ln.prototype.kb;Object.defineProperties(Ln.prototype,{visible:{get:function(){return Xk(Ln,this,rk)},set:function(a){Yk(Ln,this,rk,a);this.stage3d&&(this.stage3d.visible=a)}}});Ln.prototype.g={names:[{name:'Stage3DRender',h:Ag}]};r(Ag,Ln);function Nn(a){xm.call(this);a='undefined'!==typeof a?a:0;this.scene=new rn(Qi);this.camera=new tn;this.lights=[];this.fog=new Lm;this.ctrls=[];this.posts=[];this.postRTTs=[new xn(null,!0,!1,!1),new xn(null,!0,!1,!1)].slice();this.id=a;this.scene.fb(this.camera);this.renderer=new Ln(this);this.stage?this.la():this.addEventListener(fc,y(this.la,this,ch))}Pk(Nn,xm);Nn.prototype.ae=!1;Nn.prototype._enableErrorChecking=Nn.prototype.ae;Nn.prototype.Wf=2;Nn.prototype.nb=200;Nn.prototype.stage3dWidth=Nn.prototype.nb;
Nn.prototype.ic=200;Nn.prototype.stage3dHeight=Nn.prototype.ic;Nn.prototype.time=0;Nn.prototype.time=Nn.prototype.time;Nn.prototype.background=0;Nn.prototype.background=Nn.prototype.background;Nn.prototype.m=!0;Nn.prototype.invalid=Nn.prototype.m;Nn.prototype.la=function(){this.removeEventListener(fc,y(this.la,this,ch));this.renderer.la()};Nn.prototype.Bm=function(){var a=this.ctrls,b;for(b in a)a[b].update(this.time)};Nn.prototype.updateCtrl=Nn.prototype.Bm;
Nn.prototype.kb=function(a){this.time='undefined'!==typeof a?a:0;this.renderer.kb(this.camera,this.scene)};Nn.prototype.render=Nn.prototype.kb;
Object.defineProperties(Nn.prototype,{antiAlias:{get:m('Wf'),set:function(a){this.Wf=a;this.m=!0}},x:{get:function(){return Xk(Nn,this,Dk)},set:function(a){Yk(Nn,this,Dk,a);this.m=!0}},y:{get:function(){return Xk(Nn,this,Fk)},set:function(a){Yk(Nn,this,Fk,a);this.m=!0}},enableErrorChecking:{get:m('ae'),set:function(a){this.ae=a;this.renderer.gl3d&&(this.renderer.gl3d.enableErrorChecking=a)}}});Nn.prototype.g={names:[{name:'View3D',h:xg}]};r(xg,Nn);function On(a){this.data=a}On.prototype.m=!0;On.prototype.S=!0;On.prototype.dataInvalid=On.prototype.S;On.prototype.ac=-1;On.prototype.numTriangles=On.prototype.ac;On.prototype.update=function(a){if(this.m||this.context!=a)this.buff=a.Pb(this.data.length),this.m=!1,this.S=!0,this.context=a;this.S&&(this.S=!1,this.buff.ad(this.data,0,this.data.length))};On.prototype.update=On.prototype.update;On.prototype.D=function(){this.buff&&this.buff.D()};On.prototype.dispose=On.prototype.D;
On.prototype.g={names:[{name:'IndexBufferSet',h:pg}]};r(pg,On);function Pn(a,b){this.data=a;this.data32PerVertex=b;if(4<b)throw pe;}Pn.prototype.m=!0;Pn.prototype.invalid=Pn.prototype.m;Pn.prototype.S=!0;Pn.prototype.dataInvalid=Pn.prototype.S;var Qn=[null,Xf,Yf,Zf,$f];r('gl3d.core.VertexBufferSet.FORMATS',Qn);
Pn.prototype.update=function(a){if(this.m||this.context!=a)this.data&&(this.buff=a.Rb(this.data.length/this.data32PerVertex,this.data32PerVertex),this.m=!1,this.context=a),this.S=!0;this.data&&this.S&&(this.S=!1,this.buff.ad(this.data,0,this.data.length/this.data32PerVertex))};Pn.prototype.update=Pn.prototype.update;Pn.prototype.bind=function(a,b,c,d){a.mb(b,this.buff,'undefined'!==typeof c?c:0,('undefined'!==typeof d?d:null)||Qn[this.data32PerVertex])};Pn.prototype.bind=Pn.prototype.bind;
Pn.prototype.D=function(){this.buff&&this.buff.D()};Pn.prototype.dispose=Pn.prototype.D;Pn.prototype.g={names:[{name:'VertexBufferSet',h:wg}]};r(wg,Pn);function Rn(){}Rn.prototype.mi=4;Rn.prototype.randomStep=Rn.prototype.mi;Rn.prototype.Td=!0;Rn.prototype.smooting=Rn.prototype.Td;r('gl3d.core.Drawable.optimizeSource',function(a){Sn(a,!1);a.Ja&&Sn(a,!0)});
function Sn(a,b){var c=b?a.Ja:a.index,d={},e=[];if(b){if(a.uv){var f=a.uv,g=[];a.uv=g}if(a.uv2){var l=[];a.uv2=l}a.Ja=e}else{if(a.pos){var n=a.pos,t=[];a.pos=t}if(a.joint){var u=3*a.joint.length/n.length;0==u&&Zk(a.joint.length,n.length);var v=a.joint,G=[];a.joint=G}if(a.weight){var E=a.weight,A=[];a.weight=A}if(a.color){var K=a.color,J=[];a.color=J}if(a.alpha){var O=a.alpha,W=[];a.alpha=W}null==a.Ja&&(a.uv&&(f=a.uv,g=[],a.uv=g),a.uv2&&(l=[],a.uv2=l));a.index=e}var l=0,ka;for(ka in c){var pa=c[ka],
ua=[];e.push(ua);for(var Aa in pa){var sa=pa[Aa],Da=d[sa];if(null==Da&&(Da=l++,d[sa]=Da,t&&t.push(n[3*sa],n[3*sa+1],n[3*sa+2]),f&&g.push(f[2*sa],f[2*sa+1]),J&&J.push(K[3*sa],K[3*sa+1],K[3*sa+2]),W&&W.push(O[sa]),G&&A))for(var Ea=0;Ea<u;Ea++)G.push(v[u*sa+Ea]),A.push(E[u*sa+Ea]);ua.push(Da)}}}
Object.defineProperties(Rn.prototype,{pos:{get:function(){null==this.fd&&this.source&&this.source.pos&&(this.source.index&&this.source.Ja?this.index:this.fd=new Pn(this.source.pos.slice(),3));return this.fd},set:k('fd')},norm:{get:function(){null==this.ee&&(this.ee=Tn(this));return this.ee},set:k('ee')},tangent:{get:function(){null==this.je&&(this.je=Un(this));return this.je},set:k('je')},uv:{get:function(){null==this.Jb&&this.source&&this.source.uv&&(this.source.index&&this.source.Ja?this.index:
this.Jb=new Pn(this.source.uv.slice(),2));null==this.Jb&&(this.Jb=Vn(this));return this.Jb},set:k('Jb')},random:{get:function(){null==this.fe&&(this.fe=Wn(this,this.mi));return this.fe},set:k('fe')},sphereRandom:{get:function(){null==this.ge&&(this.ge=Xn(this));return this.ge},set:k('ge')},targetPosition:{get:function(){null==this.ke&&(this.ke=Yn(this));return this.ke},set:k('ke')},index:{get:function(){if(null==this.sc&&this.source&&this.source.index){if(null!=this.source.Ja){var a=0;this.oldi2newis=
{};var b={},c=[],d=null,e=[];if(this.source.joint)var f=[],g=3*this.source.joint.length/this.source.pos.length;if(this.source.weight)var l=[];for(var n=[],t=this.source.index.length,u=0;u<t;u++)for(d=null;j<len2;j++){null==d&&(d=[],c.push(d));var v=this.source.index[u][j],G=this.source.Ja[u][j];if(this.Td)var E=v+fa+G,A=b[E];else A=null;if(null==A){A=a++;e.push(this.source.pos[3*v],this.source.pos[3*v+1],this.source.pos[3*v+2]);if(f&&l)for(var K=0;K<g;K++)f.push(this.source.joint[v*g+K]),l.push(this.source.weight[v*
g+K]);n.push(this.source.uv[2*G],this.source.uv[2*G+1]);this.Td&&(b[E]=A,G=this.oldi2newis[v],null==G&&(this.oldi2newis[v]=G=[]),G.push(A))}d.push(A)}this.fd=new Pn(e.slice(),3);f&&(this.dd=new Pn(f.slice(),g));l&&(this.jd=new Pn(l.slice(),g));this.Jb=new Pn(n.slice(),2)}var a=[],c=c||this.source.index,J;for(J in c)for(d=c[J],t=d.length,u=2;u<t;u++)a.push(d[0],d[u-1],d[u]);this.sc=new On(a.slice())}null==this.sc&&(this.sc=Zn(this));return this.sc},set:k('sc')},unpackedDrawable:{get:function(){null==
this.pg&&(this.pg=$n(this));return this.pg}},joint:{get:function(){null==this.dd&&this.source&&this.source.joint&&(this.source.index&&this.source.Ja?this.index:this.dd=new Pn(this.source.joint.slice(),this.source.joint.length/(this.source.pos.length/3)));return this.dd},set:k('dd')},weight:{get:function(){null==this.jd&&this.source&&this.source.weight&&(this.source.index&&this.source.Ja?this.index:this.jd=new Pn(this.source.weight.slice(),this.source.weight.length/(this.source.pos.length/3)));return this.jd},
set:k('jd')}});Rn.prototype.g={names:[{name:'Drawable',h:og}]};r(og,Rn);function ao(){}r('gl3d.meshs.Meshs.billboard',function(){return bo([0,1,2,1,3,2].slice(),Array(12),[0,0,1,0,0,1,1,1].slice(),null)});r('gl3d.meshs.Meshs.plane',function(a){a='undefined'!==typeof a?a:1;return bo([0,1,2,1,3,2].slice(),[-a,-a,0,a,-a,0,-a,a,0,a,a,0].slice(),[0,1,1,1,0,0,1,0].slice(),null)});
r('gl3d.meshs.Meshs.sphere',function(a,b,c){a='undefined'!==typeof a?a:20;b='undefined'!==typeof b?b:20;c='undefined'!==typeof c?c:.5;for(var d=[],e=[],f=[],g=0;g<=b;g++)for(var l=Math.PI/b*g-Math.PI/2,n=0;n<=a;n++){var t=2*Math.PI/a*n;e.push(Math.cos(t)*Math.cos(l)*c,Math.sin(l)*c,Math.sin(t)*Math.cos(l)*c);f.push(n/a,g/b);t=e.length/3-1;0<g&&0<n&&d.push(t,t-1,t-a-1,t-1,t-a-2,t-a-1)}return bo(d,e,f,e)});
r('gl3d.meshs.Meshs.test',function(){return bo([1,0,2].slice(),[1,1,0,1,0,0,0,1,0].slice(),null,null)});
r('gl3d.meshs.Meshs.cube',function(a,b,c){a=('undefined'!==typeof a?a:1)/2;b=('undefined'!==typeof b?b:1)/2;c=('undefined'!==typeof c?c:1)/2;return bo([0,1,2,0,2,3,4,6,5,4,7,6,8,10,9,8,11,10,12,13,14,12,14,15,16,17,18,16,18,19,20,22,21,20,23,22].slice(),[a,b,c,a,-b,c,-a,-b,c,-a,b,c,a,b,-c,a,-b,-c,-a,-b,-c,-a,b,-c,a,b,c,a,b,-c,-a,b,-c,-a,b,c,a,-b,c,a,-b,-c,-a,-b,-c,-a,-b,c,a,b,c,a,b,-c,a,-b,-c,a,-b,c,-a,b,c,-a,b,-c,-a,-b,-c,-a,-b,c].slice(),[1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,
0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0].slice(),[0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0].slice())});
r('gl3d.meshs.Meshs.terrainData',function(a,b,c,d){a='undefined'!==typeof a?a:64;b='undefined'!==typeof b?b:null;c='undefined'!==typeof c?c:null;d='undefined'!==typeof d?d:null;var e=[],f=d||new D(a,a,!0,0);null==c?f.hf():f.G(c,new z(a/c.width,0,0,a/c.height),null,null,null,!0);f.Gc();for(c=0;c<a;c++)for(var g=0;g<a;g++){var l=g/(a-1)-.5,n=.1*((255&f.Le(g,c))/255-.5),t=c/(a-1)-.5;b&&(l*=b.x,n*=b.y,t*=b.z);e.push(l,n,t)}f.Yc();null==d&&f.D();return e});
r('gl3d.meshs.Meshs.terrain',function(a,b,c,d){a='undefined'!==typeof a?a:64;b='undefined'!==typeof b?b:null;c='undefined'!==typeof c?c:null;d='undefined'!==typeof d?d:null;var e=[],f=[],g=[],l=d||new D(a,a,!0,0);null==c?l.hf():l.G(c,new z(a/c.width,0,0,a/c.height),null,null,null,!0);for(c=0;c<a;c++)for(var n=0;n<a;n++){var t=n/(a-1)-.5,u=.1*((255&l.Le(n,c))/255-.5),v=c/(a-1)-.5;b&&(t*=b.x,u*=b.y,v*=b.z);f.push(t,u,v);g.push(n/(a-1),c/(a-1));n!=a-1&&c!=a-1&&(e.push(c*a+n,c*a+n+1,(c+1)*a+n),e.push(c*
a+n+1,(c+1)*a+1+n,(c+1)*a+n))}a=bo(e,f,g,null);null==d&&l.D();return a});function bo(a,b,c,d,e){c='undefined'!==typeof c?c:null;d='undefined'!==typeof d?d:null;e='undefined'!==typeof e?e:null;var f=new Rn;a&&(f.index=new On(a));b&&(f.pos=new Pn(b,3));c&&(f.uv=new Pn(c,2));d&&(f.norm=new Pn(d,3));e&&(f.tangent=new Pn(e,3));return f}r('gl3d.meshs.Meshs.createDrawable',bo);
function $n(a){var b=new Rn,c=a.index.data;b.index=new On([]);for(var d=[ui,Yj,ai,fh,zk],e=0;e<c.length;e+=3){b.index.data.push(e,e+1,e+2);var f=d,g;for(g in f){var l=f[g],n=a[l];if(n){var t=b[l];null==t&&(t=b[l]=new Pn(Array(c.length*n.data32PerVertex),n.data32PerVertex));for(var l=n.data32PerVertex,u=0;u<l;u++)t.data[e*l+u]=n.data[c[e]*l+u],t.data[(e+1)*l+u]=n.data[c[e+1]*l+u],t.data[(e+2)*l+u]=n.data[c[e+2]*l+u]}}}return b}r('gl3d.meshs.Meshs.unpack',$n);
function co(a){for(var b=a.pos.data,c={},d=[],e=0,f=0,g=0;g<b.length/3;g++){var l=b[3*g]+Ra+b[3*g+1]+Ra+b[3*g+2],f=c[l];null==f?(f=e++,c[l]=f,f!=g&&(b[3*f]=b[3*g],b[3*f+1]=b[3*g+1],b[3*f+2]=b[3*g+2])):f>>>=0;d[g]=f}b.length=3*e;a=a.index.data;for(g=0;g<a.length;g++)a[g]=d[a[g]]}r('gl3d.meshs.Meshs.removeDuplicatedVertices',co);
function Vn(a){a=a.pos.data;for(var b=[];i<len;i++){var c=a[3*i],d=a[3*i+1],e=a[3*i+2],f=Math.sqrt(c*c+d*d+e*e);0!=f&&(c/=f,d/=f,e/=f);b.push(Math.atan2(e,c)/Math.PI/2+.5,Math.asin(d)/Math.PI+.5)}return new Pn(b,2)}r('gl3d.meshs.Meshs.computeUV',Vn);
function Tn(a){if(a.source&&a.source.Ja&&a.Td){var b=a.source.pos,c=Array(a.pos.data.length),d=a.oldi2newis;a=a.source.index;for(var e in a)for(var f=a[e],g=3*f[0],l=3*f[1],n=3*f[2],t=b[g],u=b[g+1],v=b[g+2],g=b[l],G=b[l+1],E=b[l+2],l=b[n],A=b[n+1],K=b[n+2],n=(u-A)*(v-E)-(v-K)*(u-G),v=(v-K)*(t-g)-(t-l)*(v-E),t=(t-l)*(u-G)-(u-A)*(t-g);i<len;i++){var u=d[f[i]],J;for(J in u)g=u[J],c[3*g]+=n,c[3*g+1]+=v,c[3*g+2]+=t}for(i=0;i<c.length;i+=3)n=c[i],v=c[i+1],t=c[i+2],b=Math.sqrt(n*n+v*v+t*t),c[i]/=b,c[i+1]/=
b,c[i+2]/=b;return new Pn(c,3)}c=Array(a.pos.data.length);b=a.pos.data;e=a.index.data;for(d=0;d<e.length;d+=3)J=3*e[d],a=3*e[d+1],f=3*e[d+2],u=b[J],n=b[J+1],A=b[J+2],g=b[a],G=b[a+1],E=b[a+2],v=b[f],l=b[f+1],K=b[f+2],t=(n-l)*(A-E)-(A-K)*(n-G),A=(A-K)*(u-g)-(u-v)*(A-E),u=(u-v)*(n-G)-(n-l)*(u-g),c[J]+=t,c[a]+=t,c[f]+=t,c[J+1]+=A,c[a+1]+=A,c[f+1]+=A,c[J+2]+=u,c[a+2]+=u,c[f+2]+=u;for(d=0;d<c.length;d+=3)t=c[d],A=c[d+1],u=c[d+2],b=Math.sqrt(t*t+A*A+u*u),c[d]/=b,c[d+1]/=b,c[d+2]/=b;return new Pn(c,3)}
r('gl3d.meshs.Meshs.computeNormal',Tn);
function Un(a){var b=Array(a.pos.data.length),c=a.pos.data,d=a.uv.data,e=a.index.data;for(a=0;a<e.length;a+=3){var f=3*e[a],g=3*e[a+1],l=3*e[a+2],n=c[f],t=c[f+1],u=c[f+2],v=c[g],G=c[g+1],E=c[g+2],A=c[l],K=c[l+1],J=c[l+2],O=2*e[a],W=2*e[a+1],ka=2*e[a+2],pa=d[ka],ua=d[ka+1],ka=d[O+1]-ua,ua=d[W+1]-ua,O=(d[O]-pa)*ua-(d[W]-pa)*ka,O=0==O?1:1/O,n=O*(ua*(n-A)-ka*(v-A)),t=O*(ua*(t-K)-ka*(G-K)),u=O*(ua*(u-J)-ka*(E-J));b[f]+=n;b[g]+=n;b[l]+=n;b[f+1]+=t;b[g+1]+=t;b[l+1]+=t;b[f+2]+=u;b[g+2]+=u;b[l+2]+=u}for(a=
0;a<b.length;a+=3)n=b[a],t=b[a+1],u=b[a+2],c=Math.sqrt(n*n+t*t+u*u),0!=c&&(n/=c,t/=c,u/=c),b[a]=n,b[a+1]=t,b[a+2]=u;return new Pn(b,3)}r('gl3d.meshs.Meshs.computeTangent',Un);function Wn(a,b){b='undefined'!==typeof b?b:4;for(var c=Array(a.pos.data.length/3*4),d=0;d<c.length/4;)for(var e=Math.random(),f=Math.random(),g=Math.random(),l=Math.random(),n=0;n<b;n++,d++)c[4*d]=e,c[4*d+1]=f,c[4*d+2]=g,c[4*d+3]=l;return new Pn(c,4)}r('gl3d.meshs.Meshs.computeRandom',Wn);
function Xn(a){return new Pn(Array(a.pos.data.length/3*4),4)}r('gl3d.meshs.Meshs.computeSphereRandom',Xn);function Yn(a){var b=Array(a.pos.data.length);a=a.index.data;for(var c=0;c<a.length;c+=3){var d=3*a[c];b[d++]=0;b[d++]=0;b[d]=1;d=3*a[c+1];b[d++]=0;b[d++]=1;b[d]=0;d=3*a[c+2];b[d++]=1;b[d++]=0;b[d]=0}return new Pn(b,3)}r('gl3d.meshs.Meshs.computeTargetPosition',Yn);function Zn(a){var b=[];a=a.pos.data.length/3/3;for(var c=0;c<a;c++)b.push(3*c,3*c+1,3*c+2);return new On(b)}
r('gl3d.meshs.Meshs.computeIndex',Zn);r('gl3d.meshs.Meshs.mul',function(a,b){b='undefined'!==typeof b?b:1;for(var c=a.index.data,d=a.pos.data,e=a.uv.data,f=[],g=[],l=[],n=c.length,t=d.length/3,u=0;u<b;u++){for(var v=0;v<n;v++)f.push(c[v]+u*t);var G,v=0;for(G=d.length;v<G;v++)g.push(d[v]);v=0;for(G=e.length;v<G;v++)l.push(e[v])}return bo(f,g,l,null)});ao.prototype.g={names:[{name:'Meshs',h:Eg}]};r(Eg,ao);function eo(){}
var fo=[[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],[4,17,18,19,8,20,21,22,12,23,24,25,16,26,27,28],[19,29,30,31,22,32,33,34,25,35,36,37,28,38,39,40],[31,41,42,1,34,43,44,5,37,45,46,9,40,47,48,13],[13,14,15,16,49,50,51,52,53,54,55,56,57,58,59,60],[16,26,27,28,52,61,62,63,56,64,65,66,60,67,68,69],[28,38,39,40,63,70,71,72,66,73,74,75,69,76,77,78],[40,47,48,13,72,79,80,49,75,81,82,53,78,83,84,57],[57,58,59,60,85,86,87,88,89,90,91,92,93,94,95,96],[60,67,68,69,88,97,98,99,92,100,101,102,96,103,104,105],[69,
76,77,78,99,106,107,108,102,109,110,111,105,112,113,114],[78,83,84,57,108,115,116,85,111,117,118,89,114,119,120,93],[121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136],[124,137,138,121,128,139,140,125,132,141,142,129,136,143,144,133],[133,134,135,136,145,146,147,148,149,150,151,152,69,153,154,155],[136,143,144,133,148,156,157,145,152,158,159,149,155,160,161,69],[162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177],[165,178,179,162,169,180,181,166,173,182,183,170,177,184,
185,174],[174,175,176,177,186,187,188,189,190,191,192,193,194,195,196,197],[177,184,185,174,189,198,199,186,193,200,201,190,197,202,203,194],[204,204,204,204,207,208,209,210,211,211,211,211,212,213,214,215],[204,204,204,204,210,217,218,219,211,211,211,211,215,220,221,222],[204,204,204,204,219,224,225,226,211,211,211,211,222,227,228,229],[204,204,204,204,226,230,231,207,211,211,211,211,229,232,233,212],[212,213,214,215,234,235,236,237,238,239,240,241,242,243,244,245],[215,220,221,222,237,246,247,248,
241,249,250,251,245,252,253,254],[222,227,228,229,248,255,256,257,251,258,259,260,254,261,262,263],[229,232,233,212,257,264,265,234,260,266,267,238,263,268,269,242],[270,270,270,270,279,280,281,282,275,276,277,278,271,272,273,274],[270,270,270,270,282,289,290,291,278,286,287,288,274,283,284,285],[270,270,270,270,291,298,299,300,288,295,296,297,285,292,293,294],[270,270,270,270,300,305,306,279,297,303,304,275,294,301,302,271]],go=[new H(1.4,0,2.4),new H(1.4,-.784,2.4),new H(.784,-1.4,2.4),new H(0,
-1.4,2.4),new H(1.3375,0,2.53125),new H(1.3375,-.749,2.53125),new H(.749,-1.3375,2.53125),new H(0,-1.3375,2.53125),new H(1.4375,0,2.53125),new H(1.4375,-.805,2.53125),new H(.805,-1.4375,2.53125),new H(0,-1.4375,2.53125),new H(1.5,0,2.4),new H(1.5,-.84,2.4),new H(.84,-1.5,2.4),new H(0,-1.5,2.4),new H(-.784,-1.4,2.4),new H(-1.4,-.784,2.4),new H(-1.4,0,2.4),new H(-.749,-1.3375,2.53125),new H(-1.3375,-.749,2.53125),new H(-1.3375,0,2.53125),new H(-.805,-1.4375,2.53125),new H(-1.4375,-.805,2.53125),new H(-1.4375,
0,2.53125),new H(-.84,-1.5,2.4),new H(-1.5,-.84,2.4),new H(-1.5,0,2.4),new H(-1.4,.784,2.4),new H(-.784,1.4,2.4),new H(0,1.4,2.4),new H(-1.3375,.749,2.53125),new H(-.749,1.3375,2.53125),new H(0,1.3375,2.53125),new H(-1.4375,.805,2.53125),new H(-.805,1.4375,2.53125),new H(0,1.4375,2.53125),new H(-1.5,.84,2.4),new H(-.84,1.5,2.4),new H(0,1.5,2.4),new H(.784,1.4,2.4),new H(1.4,.784,2.4),new H(.749,1.3375,2.53125),new H(1.3375,.749,2.53125),new H(.805,1.4375,2.53125),new H(1.4375,.805,2.53125),new H(.84,
1.5,2.4),new H(1.5,.84,2.4),new H(1.75,0,1.875),new H(1.75,-.98,1.875),new H(.98,-1.75,1.875),new H(0,-1.75,1.875),new H(2,0,1.35),new H(2,-1.12,1.35),new H(1.12,-2,1.35),new H(0,-2,1.35),new H(2,0,.9),new H(2,-1.12,.9),new H(1.12,-2,.9),new H(0,-2,.9),new H(-.98,-1.75,1.875),new H(-1.75,-.98,1.875),new H(-1.75,0,1.875),new H(-1.12,-2,1.35),new H(-2,-1.12,1.35),new H(-2,0,1.35),new H(-1.12,-2,.9),new H(-2,-1.12,.9),new H(-2,0,.9),new H(-1.75,.98,1.875),new H(-.98,1.75,1.875),new H(0,1.75,1.875),new H(-2,
1.12,1.35),new H(-1.12,2,1.35),new H(0,2,1.35),new H(-2,1.12,.9),new H(-1.12,2,.9),new H(0,2,.9),new H(.98,1.75,1.875),new H(1.75,.98,1.875),new H(1.12,2,1.35),new H(2,1.12,1.35),new H(1.12,2,.9),new H(2,1.12,.9),new H(2,0,.45),new H(2,-1.12,.45),new H(1.12,-2,.45),new H(0,-2,.45),new H(1.5,0,.225),new H(1.5,-.84,.225),new H(.84,-1.5,.225),new H(0,-1.5,.225),new H(1.5,0,.15),new H(1.5,-.84,.15),new H(.84,-1.5,.15),new H(0,-1.5,.15),new H(-1.12,-2,.45),new H(-2,-1.12,.45),new H(-2,0,.45),new H(-.84,
-1.5,.225),new H(-1.5,-.84,.225),new H(-1.5,0,.225),new H(-.84,-1.5,.15),new H(-1.5,-.84,.15),new H(-1.5,0,.15),new H(-2,1.12,.45),new H(-1.12,2,.45),new H(0,2,.45),new H(-1.5,.84,.225),new H(-.84,1.5,.225),new H(0,1.5,.225),new H(-1.5,.84,.15),new H(-.84,1.5,.15),new H(0,1.5,.15),new H(1.12,2,.45),new H(2,1.12,.45),new H(.84,1.5,.225),new H(1.5,.84,.225),new H(.84,1.5,.15),new H(1.5,.84,.15),new H(-1.6,0,2.025),new H(-1.6,-.3,2.025),new H(-1.5,-.3,2.25),new H(-1.5,0,2.25),new H(-2.3,0,2.025),new H(-2.3,
-.3,2.025),new H(-2.5,-.3,2.25),new H(-2.5,0,2.25),new H(-2.7,0,2.025),new H(-2.7,-.3,2.025),new H(-3,-.3,2.25),new H(-3,0,2.25),new H(-2.7,0,1.8),new H(-2.7,-.3,1.8),new H(-3,-.3,1.8),new H(-3,0,1.8),new H(-1.5,.3,2.25),new H(-1.6,.3,2.025),new H(-2.5,.3,2.25),new H(-2.3,.3,2.025),new H(-3,.3,2.25),new H(-2.7,.3,2.025),new H(-3,.3,1.8),new H(-2.7,.3,1.8),new H(-2.7,0,1.575),new H(-2.7,-.3,1.575),new H(-3,-.3,1.35),new H(-3,0,1.35),new H(-2.5,0,1.125),new H(-2.5,-.3,1.125),new H(-2.65,-.3,.9375),
new H(-2.65,0,.9375),new H(-2,-.3,.9),new H(-1.9,-.3,.6),new H(-1.9,0,.6),new H(-3,.3,1.35),new H(-2.7,.3,1.575),new H(-2.65,.3,.9375),new H(-2.5,.3,1.125),new H(-1.9,.3,.6),new H(-2,.3,.9),new H(1.7,0,1.425),new H(1.7,-.66,1.425),new H(1.7,-.66,.6),new H(1.7,0,.6),new H(2.6,0,1.425),new H(2.6,-.66,1.425),new H(3.1,-.66,.825),new H(3.1,0,.825),new H(2.3,0,2.1),new H(2.3,-.25,2.1),new H(2.4,-.25,2.025),new H(2.4,0,2.025),new H(2.7,0,2.4),new H(2.7,-.25,2.4),new H(3.3,-.25,2.4),new H(3.3,0,2.4),new H(1.7,
.66,.6),new H(1.7,.66,1.425),new H(3.1,.66,.825),new H(2.6,.66,1.425),new H(2.4,.25,2.025),new H(2.3,.25,2.1),new H(3.3,.25,2.4),new H(2.7,.25,2.4),new H(2.8,0,2.475),new H(2.8,-.25,2.475),new H(3.525,-.25,2.49375),new H(3.525,0,2.49375),new H(2.9,0,2.475),new H(2.9,-.15,2.475),new H(3.45,-.15,2.5125),new H(3.45,0,2.5125),new H(2.8,0,2.4),new H(2.8,-.15,2.4),new H(3.2,-.15,2.4),new H(3.2,0,2.4),new H(3.525,.25,2.49375),new H(2.8,.25,2.475),new H(3.45,.15,2.5125),new H(2.9,.15,2.475),new H(3.2,.15,
2.4),new H(2.8,.15,2.4),new H(0,0,3.15),new H(0,-.002,3.15),new H(.002,0,3.15),new H(.8,0,3.15),new H(.8,-.45,3.15),new H(.45,-.8,3.15),new H(0,-.8,3.15),new H(0,0,2.85),new H(.2,0,2.7),new H(.2,-.112,2.7),new H(.112,-.2,2.7),new H(0,-.2,2.7),new H(-.002,0,3.15),new H(-.45,-.8,3.15),new H(-.8,-.45,3.15),new H(-.8,0,3.15),new H(-.112,-.2,2.7),new H(-.2,-.112,2.7),new H(-.2,0,2.7),new H(0,.002,3.15),new H(-.8,.45,3.15),new H(-.45,.8,3.15),new H(0,.8,3.15),new H(-.2,.112,2.7),new H(-.112,.2,2.7),new H(0,
.2,2.7),new H(.45,.8,3.15),new H(.8,.45,3.15),new H(.112,.2,2.7),new H(.2,.112,2.7),new H(.4,0,2.55),new H(.4,-.224,2.55),new H(.224,-.4,2.55),new H(0,-.4,2.55),new H(1.3,0,2.55),new H(1.3,-.728,2.55),new H(.728,-1.3,2.55),new H(0,-1.3,2.55),new H(1.3,0,2.4),new H(1.3,-.728,2.4),new H(.728,-1.3,2.4),new H(0,-1.3,2.4),new H(-.224,-.4,2.55),new H(-.4,-.224,2.55),new H(-.4,0,2.55),new H(-.728,-1.3,2.55),new H(-1.3,-.728,2.55),new H(-1.3,0,2.55),new H(-.728,-1.3,2.4),new H(-1.3,-.728,2.4),new H(-1.3,
0,2.4),new H(-.4,.224,2.55),new H(-.224,.4,2.55),new H(0,.4,2.55),new H(-1.3,.728,2.55),new H(-.728,1.3,2.55),new H(0,1.3,2.55),new H(-1.3,.728,2.4),new H(-.728,1.3,2.4),new H(0,1.3,2.4),new H(.224,.4,2.55),new H(.4,.224,2.55),new H(.728,1.3,2.55),new H(1.3,.728,2.55),new H(.728,1.3,2.4),new H(1.3,.728,2.4),new H(0,0,0),new H(1.5,0,.15),new H(1.5,.84,.15),new H(.84,1.5,.15),new H(0,1.5,.15),new H(1.5,0,.075),new H(1.5,.84,.075),new H(.84,1.5,.075),new H(0,1.5,.075),new H(1.425,0,0),new H(1.425,.798,
0),new H(.798,1.425,0),new H(0,1.425,0),new H(-.84,1.5,.15),new H(-1.5,.84,.15),new H(-1.5,0,.15),new H(-.84,1.5,.075),new H(-1.5,.84,.075),new H(-1.5,0,.075),new H(-.798,1.425,0),new H(-1.425,.798,0),new H(-1.425,0,0),new H(-1.5,-.84,.15),new H(-.84,-1.5,.15),new H(0,-1.5,.15),new H(-1.5,-.84,.075),new H(-.84,-1.5,.075),new H(0,-1.5,.075),new H(-1.425,-.798,0),new H(-.798,-1.425,0),new H(0,-1.425,0),new H(.84,-1.5,.15),new H(1.5,-.84,.15),new H(.84,-1.5,.075),new H(1.5,-.84,.075),new H(.798,-1.425,
0),new H(1.425,-.798,0)];
function ho(a){a='undefined'!==typeof a?a:10;var b=[],c=[],d=[16,!0],e=0,f;for(f in fo){for(var g=fo[f],l=0;16>l;++l)d[l]=go[g[l]-1];for(var g=d,l=a,n=c,t=[l+1,!0],u=[4,!0],v=0;v<=l;++v)t[v]=new H;for(v=0;4>v;++v)u[v]=new H;for(var G=0;G<=l;++G){v=G/l;io(v,g[0],g[1],g[2],g[3],u[0]);io(v,g[4],g[5],g[6],g[7],u[1]);io(v,g[8],g[9],g[10],g[11],u[2]);io(v,g[12],g[13],g[14],g[15],u[3]);for(var v=0;v<=l;++v)io(v/l,u[0],u[1],u[2],u[3],t[v]),n.push(t[v].x),n.push(t[v].z),n.push(t[v].y)}g=e;l=a;n=b;for(t=0;t<
l;++t)for(u=0;u<l;++u)n.push(g+t*(l+1)+u),n.push(g+(t+1)*(l+1)+u),n.push(g+t*(l+1)+u+1),n.push(g+t*(l+1)+u+1),n.push(g+(t+1)*(l+1)+u),n.push(g+(t+1)*(l+1)+u+1);e+=(a+1)*(a+1)}a=bo(b,c,null,null);co(a);return a}r('gl3d.meshs.Teapot.teapot',ho);function io(a,b,c,d,e,f){f=('undefined'!==typeof f?f:null)||new H;var g=1-a,l=g*g,n=a*a,t=a*n,n=3*n*g;a=3*a*l;g*=l;f.x=t*b.x+n*c.x+a*d.x+g*e.x;f.y=t*b.y+n*c.y+a*d.y+g*e.y;f.z=t*b.z+n*c.z+a*d.z+g*e.z}eo.prototype.g={names:[{name:'Teapot',h:Fg}]};r(Fg,eo);function jo(){0!=ko&&(lo[this[Kk]||(this[Kk]=++Lk)]=this);this.sd=this.sd;this.Gd=this.Gd}var ko=0,lo={};jo.prototype.sd=!1;jo.prototype.D=function(){if(!this.sd&&(this.sd=!0,this.Ae(),0!=ko)){var a=this[Kk]||(this[Kk]=++Lk);delete lo[a]}};jo.prototype.Ae=function(){if(this.Gd)for(;this.Gd.length;)this.Gd.shift()()};function mo(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Bb=!1;this.ti=!0}mo.prototype.stopPropagation=function(){this.Bb=!0};mo.prototype.preventDefault=function(){this.defaultPrevented=!0;this.ti=!1};var no='closure_listenable_'+(1E6*Math.random()|0),oo=0;function po(a,b,c,d,e){this.listener=a;this.Jd=null;this.src=b;this.type=c;this.vc=!!d;this.zd=e;this.key=++oo;this.cc=this.md=!1}function qo(a){a.cc=!0;a.listener=null;a.Jd=null;a.src=null;a.zd=null};function ro(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}var so='constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf'.split(' ');function to(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<so.length;f++)c=so[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function uo(a){uo[fa](a);return a}uo[fa]=h();var vo=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,aa)};function wo(a,b){return a<b?-1:a>b?1:0};var xo=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(typeof a==rj)return typeof b==rj&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};function yo(a){this.src=a;this.P={};this.Vc=0}yo.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.P[f];a||(a=this.P[f]=[],this.Vc++);var g=zo(a,b,d,e);-1<g?(b=a[g],c||(b.md=!1)):(b=new po(b,this.src,f,!!d,e),b.md=c,a.push(b));return b};yo.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.P))return!1;var e=this.P[a];b=zo(e,b,c,d);return-1<b?(qo(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.P[a],this.Vc--),!0):!1};
function Ao(a,b){var c=b.type;if(c in a.P){var d=a.P[c],e=xo(d,b),f;(f=0<=e)&&Array.prototype.splice.call(d,e,1);f&&(qo(b),0==a.P[c].length&&(delete a.P[c],a.Vc--))}}yo.prototype.Ke=function(a,b,c,d){a=this.P[a.toString()];var e=-1;a&&(e=zo(a,b,c,d));return-1<e?a[e]:null};yo.prototype.hasListener=function(a,b){var c=void 0!==a,d=c?a.toString():aa,e=void 0!==b;return ro(this.P,function(a){for(var g=0;g<a.length;++g)if(!(c&&a[g].type!=d||e&&a[g].vc!=b))return!0;return!1})};
function zo(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.cc&&f.listener==b&&f.vc==!!c&&f.zd==d)return e}return-1};var Bo;a:{var Co=Ik.navigator;if(Co){var Do=Co.userAgent;if(Do){Bo=Do;break a}}Bo=aa};var Eo=-1!=Bo.indexOf('Opera'),Fo=-1!=Bo.indexOf('Trident')||-1!=Bo.indexOf('MSIE'),Go=-1!=Bo.indexOf('Edge'),Ho=-1!=Bo.indexOf('Gecko')&&!(-1!=Bo.toLowerCase().indexOf('webkit')&&-1==Bo.indexOf('Edge'))&&!(-1!=Bo.indexOf('Trident')||-1!=Bo.indexOf('MSIE'))&&-1==Bo.indexOf('Edge'),Io=-1!=Bo.toLowerCase().indexOf('webkit')&&-1==Bo.indexOf('Edge');function Jo(){var a=Ik.document;return a?a.documentMode:void 0}var Ko;
a:{var Lo=aa,Mo=function(){var a=Bo;if(Ho)return/rv\:([^\);]+)(\)|;)/.exec(a);if(Go)return/Edge\/([\d\.]+)/.exec(a);if(Fo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Io)return/WebKit\/(\S+)/.exec(a);if(Eo)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Mo&&(Lo=Mo?Mo[1]:aa);if(Fo){var No=Jo();if(null!=No&&No>parseFloat(Lo)){Ko=String(No);break a}}Ko=Lo}var Oo={};
function Po(a){var b;if(!(b=Oo[a])){b=0;for(var c=vo(String(Ko)).split(ob),d=vo(String(a)).split(ob),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||aa,l=d[f]||aa,n=/(\d*)(\D*)/g,t=/(\d*)(\D*)/g;do{var u=n.exec(g)||[aa,aa,aa],v=t.exec(l)||[aa,aa,aa];if(0==u[0].length&&0==v[0].length)break;b=wo(0==u[1].length?0:parseInt(u[1],10),0==v[1].length?0:parseInt(v[1],10))||wo(0==u[2].length,0==v[2].length)||wo(u[2],v[2])}while(0==b)}b=Oo[a]=0<=b}return b}
var Qo=Ik.document,Ro=Qo&&Fo?Jo()||('CSS1Compat'==Qo.compatMode?parseInt(Ko,10):5):void 0;var So;(So=!Fo)||(So=9<=Number(Ro));var To=So,Uo=Fo&&!Po('9');!Io||Po('528');Ho&&Po('1.9b')||Fo&&Po('8')||Eo&&Po('9.5')||Io&&Po('528');Ho&&!Po('8')||Fo&&Po('9');function Vo(a,b){mo.call(this,a?a.type:aa);this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.Cc=this.state=null;a&&this.la(a,b)}Pk(Vo,mo);
Vo.prototype.la=function(a,b){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;var e=a.relatedTarget;if(e){if(Ho){var f;a:{try{uo(e.nodeName);f=!0;break a}catch(g){}f=!1}f||(e=null)}}else c==Nh?e=a.fromElement:c==Mh&&(e=a.toElement);this.relatedTarget=e;null===d?(this.offsetX=Io||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=Io||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=
void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c==jh?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.Cc=a;a.defaultPrevented&&this.preventDefault()};
Vo.prototype.stopPropagation=function(){Vo.Z.stopPropagation.call(this);this.Cc.stopPropagation?this.Cc.stopPropagation():this.Cc.cancelBubble=!0};Vo.prototype.preventDefault=function(){Vo.Z.preventDefault.call(this);var a=this.Cc;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Uo)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Wo='closure_lm_'+(1E6*Math.random()|0),Xo={},Yo=0;
function Zo(a,b,c,d,e){if(Jk(b)==mc)for(var f=0;f<b.length;f++)Zo(a,b[f],c,d,e);else if(c=$o(c),a&&a[no])a.Ra.add(String(b),c,!1,d,e);else{if(!b)throw Error('Invalid event type');var f=!!d,g=ap(a);g||(a[Wo]=g=new yo(a));c=g.add(b,c,!1,d,e);if(!c.Jd){d=bp();c.Jd=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,f);else if(a.attachEvent)a.attachEvent(cp(b.toString()),d);else throw Error('addEventListener and attachEvent are unavailable.');Yo++}}}
function bp(){var a=dp,b=To?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function ep(a,b,c,d,e){if(Jk(b)==mc)for(var f=0;f<b.length;f++)ep(a,b[f],c,d,e);else c=$o(c),a&&a[no]?a.Ra.remove(String(b),c,d,e):a&&(a=ap(a))&&(b=a.Ke(b,c,!!d,e))&&fp(b)}
function fp(a){if(typeof a!=gi&&a&&!a.cc){var b=a.src;if(b&&b[no])Ao(b.Ra,a);else{var c=a.type,d=a.Jd;b.removeEventListener?b.removeEventListener(c,d,a.vc):b.detachEvent&&b.detachEvent(cp(c),d);Yo--;(c=ap(b))?(Ao(c,a),0==c.Vc&&(c.src=null,b[Wo]=null)):qo(a)}}}function cp(a){return a in Xo?Xo[a]:Xo[a]=ji+a}function gp(a,b,c,d){var e=!0;if(a=ap(a))if(b=a.P[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.vc==c&&!f.cc&&(f=hp(f,d),e=e&&!1!==f)}return e}
function hp(a,b){var c=a.listener,d=a.zd||a.src;a.md&&fp(a);return c.call(d,b)}
function dp(a,b){if(a.cc)return!0;if(!To){var c;if(!(c=b))a:{c=[Ak,Be];for(var d=Ik,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new Vo(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(n){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,g=e.length-1;!c.Bb&&0<=g;g--){c.currentTarget=e[g];var l=gp(e[g],f,!0,c),d=d&&l}for(g=0;!c.Bb&&g<e.length;g++)c.currentTarget=
e[g],l=gp(e[g],f,!1,c),d=d&&l}return d}return hp(a,new Vo(b,this))}function ap(a){a=a[Wo];return a instanceof yo?a:null}var ip='__closure_events_fn_'+(1E9*Math.random()>>>0);function $o(a){if(Jk(a)==mg)return a;a[ip]||(a[ip]=function(b){return a.handleEvent(b)});return a[ip]};function jp(){jo.call(this);this.Ra=new yo(this);this.tg=this;this.gf=null}Pk(jp,jo);jp.prototype[no]=!0;q=jp.prototype;q.addEventListener=function(a,b,c,d){Zo(this,a,b,c,d)};q.removeEventListener=function(a,b,c,d){ep(this,a,b,c,d)};
q.dispatchEvent=function(a){var b,c=this.gf;if(c)for(b=[];c;c=c.gf)b.push(c);var c=this.tg,d=a.type||a;if(typeof a==rj)a=new mo(a,c);else if(a instanceof mo)a.target=a.target||c;else{var e=a;a=new mo(d,c);to(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.Bb&&0<=g;g--)f=a.currentTarget=b[g],e=kp(f,d,!0,a)&&e;a.Bb||(f=a.currentTarget=c,e=kp(f,d,!0,a)&&e,a.Bb||(e=kp(f,d,!1,a)&&e));if(b)for(g=0;!a.Bb&&g<b.length;g++)f=a.currentTarget=b[g],e=kp(f,d,!1,a)&&e;return e};
q.Ae=function(){jp.Z.Ae.call(this);if(this.Ra){var a=this.Ra,b=0,c;for(c in a.P){for(var d=a.P[c],e=0;e<d.length;e++)++b,qo(d[e]);delete a.P[c];a.Vc--}}this.gf=null};function kp(a,b,c,d){b=a.Ra.P[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.cc&&g.vc==c){var l=g.listener,n=g.zd||g.src;g.md&&Ao(a.Ra,g);e=!1!==l.call(n,d)&&e}}return e&&0!=d.ti}q.Ke=function(a,b,c,d){return this.Ra.Ke(String(a),b,c,d)};
q.hasListener=function(a,b){return this.Ra.hasListener(void 0!==a?String(a):void 0,b)};function lp(a){jp.call(this);a='undefined'!==typeof a?a:null;null!=a&&(this.tg=a)}Pk(lp,jp);lp.prototype.Ea=function(a){if(this&&this[no])a=this.hasListener(a,void 0);else{var b=ap(this);a=!!b&&b.hasListener(a,void 0)}return a};lp.prototype.hasEventListener=lp.prototype.Ea;lp.prototype.dispatchEvent=function(a){try{return lp.Z.dispatchEvent.call(this,a)}catch(b){if(b.name!=qj)throw b;}return!1};lp.prototype.dispatchEvent=lp.prototype.dispatchEvent;lp.prototype.g={names:[{name:Fb,h:qi}],ja:[Cm]};
r(qi,lp);function mp(){lp.call(this);this.ya={}}Pk(mp,lp);mp.prototype.Me=function(a){return this.ya[a]};mp.prototype.getProperty=mp.prototype.Me;mp.prototype.setProperty=function(a,b){this.ya[a]=b};mp.prototype.setProperty=mp.prototype.setProperty;mp.prototype.Ne=function(a){return this.ya.hasOwnProperty(a)};mp.prototype.hasProperty=mp.prototype.Ne;mp.prototype.xe=function(a){delete this.ya[a]};mp.prototype.deleteProperty=mp.prototype.xe;mp.prototype.Ee=function(){var a=[],b;for(b in this.ya)a.push(b);return a};
mp.prototype.elementNames=mp.prototype.Ee;mp.prototype.g={names:[{name:'Proxy',h:si}]};r(si,mp);function np(a){a='undefined'!==typeof a?a:!1;mp.call(this);this.la(a)}Pk(np,mp);np.prototype.la=h();np.prototype.g={names:[{name:'Dictionary',h:Uf}]};r(Uf,np);function op(a){this.version='undefined'!==typeof a?a:1}Pk(op,zm);var pp=!1;op.prototype.eb=!1;op.prototype.verbose=op.prototype.eb;
op.prototype.Pa=function(a){pp||(pp=!0,qp.mov=new rp(Qh,2,0,0),qp.add=new rp(ec,3,1,0),qp.sub=new rp(sj,3,2,0),qp.mul=new rp(Rh,3,3,0),qp.div=new rp(de,3,4,0),qp.rcp=new rp(Bi,2,5,0),qp.min=new rp(yh,3,6,0),qp.max=new rp(xh,3,7,0),qp.frc=new rp(gg,2,8,0),qp.sqt=new rp(hj,2,9,0),qp.rsq=new rp(Mi,2,10,0),qp.pow=new rp(vi,3,11,0),qp.log=new rp(sh,2,12,0),qp.exp=new rp(Ce,2,13,0),qp.nrm=new rp(ei,2,14,0),qp.sin=new rp(Xi,2,15,0),qp.cos=new rp(Vd,2,16,0),qp.crs=new rp(Xd,3,17,0),qp.dp3=new rp(ge,3,18,
0),qp.dp4=new rp(he,3,19,0),qp.abs=new rp(cc,2,20,0),qp.neg=new rp(Vh,2,21,0),qp.sat=new rp(Pi,2,22,0),qp.m33=new rp(th,3,23,16),qp.m44=new rp(vh,3,24,16),qp.m34=new rp(uh,3,25,16),qp.ddx=new rp($d,2,26,288),qp.ddy=new rp(ae,2,27,288),qp.ife=new rp(Yg,2,28,897),qp.ine=new rp(bh,2,29,897),qp.ifg=new rp(Zg,2,30,897),qp.ifl=new rp($g,2,31,897),qp.els=new rp(le,0,32,1921),qp.eif=new rp(ke,0,33,1409),qp.kil=new rp(lh,1,39,160),qp.tex=new rp(vj,3,40,40),qp.sge=new rp(Ti,3,41,0),qp.slt=new rp($i,3,42,0),
qp.sgn=new rp(Ui,2,43,0),qp.seq=new rp(Si,3,44,0),qp.sne=new rp(aj,3,45,0),sp.rgba=new tp(Hi,8,0),sp.dxt1=new tp(ie,8,1),sp.dxt5=new tp(je,8,2),sp.video=new tp(qk,8,3),sp[tb]=new tp(tb,12,0),sp[ub]=new tp(ub,12,2),sp.cube=new tp(Yd,12,1),sp.mipnearest=new tp(Ah,24,1),sp.miplinear=new tp(zh,24,2),sp.mipnone=new tp(Bh,24,0),sp.nomip=new tp(Zh,24,0),sp.nearest=new tp(Uh,28,0),sp.linear=new tp(qh,28,1),sp.anisotropic2x=new tp(jc,28,2),sp.anisotropic4x=new tp(kc,28,3),sp.anisotropic8x=new tp(lc,28,4),
sp.anisotropic16x=new tp(ic,28,5),sp.centroid=new tp(Id,16,1),sp.single=new tp(Yi,16,2),sp.ignoresampler=new tp(ah,16,4),sp.repeat=new tp(Di,20,1),sp.wrap=new tp(Ck,20,1),sp.clamp=new tp(Jd,20,0),sp.clamp_u_repeat_v=new tp(Ld,20,2),sp.repeat_u_clamp_v=new tp(Ei,20,3),up(1),up(2));var b=1==this.version?vp:wp,c=a.programType==cg,d;d=a.programType==kk?dk:Ee;var e=new L;this.data=e;e.endian=rh;e.fa(160);e.bd(this.version);e.fa(161);e.fa(c?1:0);a=a.lines;for(var f=0,g=0;g<a.length;g++){var l=a[g],n=l[0];
1!=this.version||n!=$d&&n!=ae||(n=Qh);var n=qp[n],t=l.flag;if(null==n)3<=l.length&&Zk(xk+g+wb+a[g]);else{if(n.flags&256&&2>this.version){this._error=ve;break}if(n.flags&64&&c){this._error=ue;break}if(n.flags&32&&!c){this._error=te;break}this.eb&&Zk(me+n);e.bd(n.emitCode);f++;if(2048<f){this._error=ye;break}for(var u=!1,v=160,G=l.length-1,E=0;E<G;E++){var A=l[E+1],K=A.index,J=x(A.component,Bm);this.eb&&J&&Zk(Hb);var O=b[d+A.type];if(null==O){this._error=re+E+ma+A.type+Ma;u=!0;break}if(c){if(!(O.flags&
32)){this._error=we+E+ma+A.type+Ka;u=!0;break}if(J){this._error=we+E+ma+A.type+La;u=!0;break}}else if(!(O.flags&64)){this._error=we+E+ma+A.type+Ja;u=!0;break}if(O.range<K){this._error=we+E+ma+A.type+Ia+(O.range+1)+ob;u=!0;break}var W=0,ka=null;x(A.component,String)&&(ka=w(A.component,String));var pa=0==E&&!(n.flags&128),ua=2==E&&n.flags&8,Aa=0,sa=0,Da=0;if(pa&&J){this._error=xe;u=!0;break}if(ka){for(var W=0,Ea,kb=ka.length,da=1;da<=kb;da++)Ea=ka.charCodeAt(da-1)-120,2<Ea&&(Ea=3),W=pa?W|1<<Ea:W|Ea<<
(da-1<<1);if(!pa)for(;4>=da;da++)W|=Ea<<(da-1<<1)}else W=pa?15:228;if(J){da=w(A.component,Bm);K=da.index;Aa=b[d+da.type];if(null==Aa){this._error=qe;u=!0;break}Aa=Aa.emitCode;sa=w(da.component,String).charCodeAt(0)-120;2<sa&&(sa=3);Da=A.index+A.componentOffset;if(0>Da||255<Da){this._error=se+Da+ra;u=!0;break}this.eb&&Zk(Jb+Aa+Ab+sa+zb+K+oa+Da)}this.eb&&Zk(ja+O+Pb+K+Yb+W+Xb);if(pa)e.kc(K),e.fa(W),e.fa(O.emitCode),v-=32;else{if(ua){this.eb&&Zk(la);A=5;J=null==t?0:t.length;for(da=O=0;da<J;da++)this.eb&&
Zk(ia+t[da]),W=sp[t[da]],null==W?(O=Number(t[da]),this.eb&&Zk(ga+O)):(16!=W.flag&&(A&=~(15<<W.flag)),A|=W.mask>>>0<<(W.flag>>>0));e.kc(K);e.fa(8*O>>0);e.fa(0);e.bd(A);this.eb&&Zk(ha+(A-5))}else 0==E&&(e.bd(0),v-=32),e.kc(K),e.fa(Da),e.fa(W),e.fa(O.emitCode),e.fa(Aa),e.kc(J?sa|32768:0);v-=64}}for(E=0;E<v;E+=8)e.fa(0);if(u)break}}};op.prototype.creat=op.prototype.Pa;
function up(a){var b=1==a?vp:wp;b.v3=new xp(ek,lk,0,7,66);b.v1=new xp(ik,mk,1,1==a?127:249,66);b.v2=new xp(uk,ok,2,1==a?7:25,67);b.v7=new xp(sk,nk,3,0,65);b.v4=b.f4=new xp(pk,gk,4,1==a?7:9,99);b.f1=new xp(Fe,dg,1,1==a?27:63,34);b.f2=new xp(kg,fg,2,1==a?7:25,35);b.f5=new xp(jg,wj,5,7,34);b.f6=new xp(ag,eg,3,1==a?0:3,33)}var qp=new np,vp=new np,wp=new np,sp=new np;op.prototype.g={names:[{name:'AGALByteCreator',h:nc}]};r(nc,op);function rp(a,b,c,d){this.Ca=a;this.jg=b;this.pc=c;this.qc=d}
rp.prototype.toString=function(){return Qb+this.Ca+ya+this.jg+$a+this.pc+ab+this.qc+Xb};rp.prototype.toString=rp.prototype.toString;Object.defineProperties(rp.prototype,{emitCode:{get:m('pc')},flags:{get:m('qc')},name:{get:m('Ca')},numRegister:{get:m('jg')}});rp.prototype.g={names:[{name:'OpCode',h:oc}]};r(oc,rp);function xp(a,b,c,d,e){this.Ca=a;this.gg=b;this.pc=c;this.kg=d;this.qc=e}xp.prototype.toString=function(){return Rb+this.Ca+wa+this.gg+ta+this.pc+eb+this.kg+ab+this.qc+Xb};
xp.prototype.toString=xp.prototype.toString;Object.defineProperties(xp.prototype,{emitCode:{get:m('pc')},longName:{get:m('gg')},name:{get:m('Ca')},flags:{get:m('qc')},range:{get:m('kg')}});xp.prototype.g={names:[{name:'Register',h:pc}]};r(pc,xp);function tp(a,b,c){this.Ca=a;this.cg=b;this.wj=c}tp.prototype.toString=function(){return Sb+this.Ca+va+this.cg+xa+this.mask+Xb};tp.prototype.toString=tp.prototype.toString;Object.defineProperties(tp.prototype,{flag:{get:m('cg')},mask:{get:m('wj')},name:{get:m('Ca')}});
tp.prototype.g={names:[{name:'Sampler',h:qc}]};r(qc,tp);function yp(){this.textureSets=[];this.textureSets=[];this.buffSets=[]}yp.prototype.m=!0;yp.prototype.invalid=yp.prototype.m;yp.prototype.debug=!0;yp.prototype.debug=yp.prototype.debug;var zp={};r('gl3d.core.shaders.GLShader.PROGRAM_POOL',zp);
yp.prototype.Gh=function(a){this.vs=this.wd(a);this.fs=this.vd(a);if(this.vs&&this.fs){Jm.playerType==fj?(this.vs.creator=new Em,this.fs.creator=new Em):(this.vs.creator=new op(a.view.renderer.agalVersion),this.fs.creator=new op(a.view.renderer.agalVersion));var b;a:{b=this.vs.code;var c=this.fs.code;a=this+vb+a.view.id;var d=zp[a];if(d)var e=w(d,Array);if(e){a=e;for(var f in a)if(d=a[f],x(d.vcode,String)){if(d.vcode==b&&d.fcode==c){b=d;break a}}else if(d.vcode.length==b.length&&d.fcode.length==c.length){for(var g=
!1,l=d.vcode.length-1;0<=l;l--)if(d.vcode[l]!=b[l]){g=!0;break}if(!g){g=!1;for(l=d.fcode.length-1;0<=l;l--)if(d.fcode[l]!=c[l]){g=!0;break}if(!g){b=d;break a}}}}else e=zp[a]=[];e.push(new Km(b,c));this.debug&&this.vs&&this.fs&&(Zk(this),this.Be(this.vs),this.Be(this.fs),Zk());b=e[e.length-1]}this.programSet=b}return this.programSet};yp.prototype.getProgram=yp.prototype.Gh;
yp.prototype.Be=function(a){a.creator=new Dm;var b=w(a.code,String);Zk(b);Zk(Rd,a.Oa);Zk(Qd,a.constPoolVec);for(var c in a.namedVars)b=a.namedVars[c],b.o&&Zk(b.index,c);a.creator=new Em;Zk(a.code);Zk()};yp.prototype.doDebug=yp.prototype.Be;yp.prototype.wd=p(null);yp.prototype.getVertexShader=yp.prototype.wd;yp.prototype.vd=p(null);yp.prototype.getFragmentShader=yp.prototype.vd;
yp.prototype.update=function(a){this.m&&(this.programSet=this.Gh(a),this.m=!1);this.programSet&&(this.programSet.update(a.view.renderer.gl3d),a.view.renderer.gl3d.Db(this.programSet.program),a.view.renderer.gl3d.Qc(a.depthMask,a.passCompareMode),a.view.renderer.gl3d.ec(a.sourceFactor,a.destinationFactor),a.view.renderer.gl3d.fc(a.culling));this.vs&&this.fs&&(this.vs.bind(this,a),this.fs.bind(this,a),a.view.renderer.gl3d.ab(kk,this.vs.Oa,this.vs.constPoolVec),a.view.renderer.gl3d.ab(cg,this.fs.Oa,
this.fs.constPoolVec));var b=!0;if(this.textureSets)for(var c=0;c<this.textureSets.length;c++){var d=this.textureSets[c];d&&(d.update(a.view),d.ready||(b=!1))}if(b){if(this.textureSets)for(c=0;c<this.textureSets.length;c++)(d=this.textureSets[c])&&d.bind(a.view.renderer.gl3d,c);if(this.buffSets)for(c=0;c<this.buffSets.length;c++)if(b=this.buffSets[c])b.update(a.view.renderer.gl3d),b.bind(a.view.renderer.gl3d,c);this.programSet&&a.view.renderer.gl3d.na(a.node.drawable.index,0,a.node.drawable.index.ac)}};
yp.prototype.update=yp.prototype.update;yp.prototype.g={names:[{name:'GLShader',h:Dg}]};r(Dg,yp);function Ap(){yp.call(this)}Pk(Ap,yp);Ap.prototype.wd=function(a){return new En(a)};Ap.prototype.getVertexShader=Ap.prototype.wd;Ap.prototype.vd=function(a){return new Cn(a,w(this.vs,En))};Ap.prototype.getFragmentShader=Ap.prototype.vd;Ap.prototype.g={names:[{name:'PhongGLShader',h:Jg}]};r(Jg,Ap);function Mn(a){R.call(this);this.shader=('undefined'!==typeof a?a:null)||new Ap}Pk(Mn,R);Mn.prototype.Yh=-1;Mn.prototype.G=function(a,b){this.view=b;this.camera=this.materialCamera||b.camera;this.node=a;if(a.drawable&&this.shader){var c=a.skin&&a.skin.Ci&&!a.skin.aj;this.yd!=c&&(this.m=!0,this.yd=c);this.Va&&this.Yh!=b.lights.length&&(this.m=!0,this.Yh=b.lights.length);this.m&&(this.shader.m=!0,this.m=!1);this.shader.update(this)}};Mn.prototype.draw=Mn.prototype.G;
Mn.prototype.g={names:[{name:'Material',h:rg}]};r(rg,Mn);function Bp(){xm.call(this);this.Ka=new Nn(0);this.Ka.nb=this.Ka.ic=400;this.fb(this.Ka);this.addEventListener(ne,y(this.jk,this,ne));this.jb=new rn;this.jb.drawable=ho();this.jb.material=new Mn;this.jb.material.Va=!1;this.Ka.scene.fb(this.jb);this.Ka.camera.perspective.gi(Math.PI/4,this.Ka.nb/this.Ka.ic,.1,4E3);this.Ka.camera.z=-10;this.Ka.scene.fb(this.jb)}Pk(Bp,xm);Bp.prototype.jk=function(){this.jb.matrix.kd(1,Ul);this.jb.matrix.kd(2,Vl);this.jb.I();this.Ka.kb()};
Bp.prototype.g={names:[{name:Mb,h:Mb}]};r(Mb,Bp);
//# sourceMappingURL=./TestEngine3D.js.map